"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[8287],{140554:(e,t,a)=>{a.d(t,{B:()=>w});var i=a(696832),s=a(453576),o=a(511494),n=a(483296),r=a(762863),l=a(190481),d=a(3741),h=a(616274),m=a(854029),c=a(418402),p=a.n(c),u=a(987364),y=a(75032);function w(e){const{renderForm:t,kwType:a,iconType:c,type:w}=e;return class extends i.Component{constructor(...e){super(...e),this.form=(0,i.createRef)(),this.isFormValid=()=>Boolean(this.form.current?.isFormValid()),this.getFormValues=()=>this.form.current?.getValues(),this.state={hasDataBeenModified:!1},this.componentDidMount=()=>{const e={[s.DataModelType.KWAddress]:o.PageView.ItemAddressCreate,[s.DataModelType.KWCompany]:o.PageView.ItemCompanyCreate,[s.DataModelType.KWEmail]:o.PageView.ItemEmailCreate,[s.DataModelType.KWIdentity]:o.PageView.ItemIdentityCreate,[s.DataModelType.KWPhone]:o.PageView.ItemPhoneCreate,[s.DataModelType.KWPersonalWebsite]:o.PageView.ItemWebsiteCreate};(0,u.N)(e[a])},this.showListView=()=>{(0,u.N)(o.PageView.ItemPersonalInfoList),(0,l.uX)(this.props.lee.routes.userPersonalInfo)},this.handleEditedForm=()=>this.setState({hasDataBeenModified:!0}),this.showListViewWithLog=()=>{this.showListView()},this.savePersonalInfo=()=>{const e=this.getFormValues(),t={kwType:a,origin:s.SaveOrigin.MANUAL,content:e};return h.C.savePersonalDataItem(t)},this.submit=async()=>{if(this.isFormValid())try{await this.savePersonalInfo(),(0,y.au)(),this.showListView()}catch(e){}}}render(){const e=this.props.lee.translate.namespace("webapp_personal_info_edition_"),{lee:a}=this.props,{hasDataBeenModified:s}=this.state,o=i.createElement(n.ZP,{iconSize:n.Jh.headerEditPanelIcon,iconType:c}),l=(0,d.gV)(e,w),h=(0,m.B)(a.globalState);return i.createElement(r.zI,{isViewingExistingItem:!1,itemHasBeenEdited:s,onNavigateOut:this.showListViewWithLog,onSubmit:this.submit,formId:"add_personalinfo_panel",header:i.createElement(r.V9,{icon:o,iconBackgroundColor:p()["--dash-green-00"],title:l})},t(a,this.form,this.handleEditedForm,h))}}}},854721:(e,t,a)=>{a.r(t),a.d(t,{IdentityAddPanel:()=>d});var i=a(696832),s=a(307973),o=a(453576),n=a(926458),r=a(140554),l=a(483296);const d=(0,r.B)({iconType:l.Tu.identity,kwType:"KWIdentity",renderForm:(e,t,a,r)=>{const l=o.Country[e.globalState.locale.country]||o.Country.US,d={birthDate:(0,s.Z)(new Date,"yyyy-MM-dd"),birthPlace:"",firstName:"",lastName2:"",lastName:"",localeFormat:l,middleName:"",pseudo:"",spaceId:r,title:"MR"};return i.createElement(n.P,{lee:e,currentValues:d,signalEditedValues:a,ref:t})},type:"identity"})}}]);