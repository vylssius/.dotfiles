"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[1751],{162886:(e,t,i)=>{i.d(t,{Z:()=>d,h:()=>l});var n=i(708608),o=i(696832),a=i(765505),r=i(630886),s=i(174071);const l=({closeConfirmDeleteDialog:e,onDeleteConfirm:t,translations:i})=>{const{confirmDeleteSubtitle:a,confirmDeleteTitle:s,confirmDeleteDismiss:l,confirmDeleteConfirm:d}=i;return o.createElement(r.o,{isOpen:!0,disableBackgroundPanelClose:!0,footer:o.createElement(n.cNS,{primaryButtonTitle:d,primaryButtonOnClick:t,primaryButtonProps:{id:"deletion-dialog-confirm-button"},secondaryButtonTitle:l,secondaryButtonOnClick:e,secondaryButtonProps:{autoFocus:!0,id:"deletion-dialog-dismiss-button"},intent:"danger"}),onRequestClose:e,title:s},a)},d=({reason:e,translations:t,goToSharingAccess:i,closeCantDeleteDialog:l})=>{const d=((e,t)=>{const{groupSharingTitle:i,lastAdminTitle:n,genericErrorTitle:o}=e;switch(t){case a.J.LastAdmin:return n;case a.J.GroupSharing:return i;case a.J.Generic:return o;default:return(0,s.U)(t)}})(t,e),c=((e,t)=>{const{groupSharingSubtitle:i,lastAdminSubtitle:n,genericErrorSubtitle:o}=e;switch(t){case a.J.LastAdmin:return n;case a.J.GroupSharing:return i;case a.J.Generic:return o;default:return(0,s.U)(t)}})(t,e);return o.createElement(r.o,{isOpen:!0,showCloseIcon:!0,disableBackgroundPanelClose:!0,onRequestClose:l,title:d,footer:e===a.J.LastAdmin?o.createElement(n.cNS,{primaryButtonTitle:t.lastAdminActionLabel,primaryButtonOnClick:i,intent:"danger"}):null},c)}},765505:(e,t,i)=>{let n;i.d(t,{J:()=>n}),function(e){e[e.LastAdmin=0]="LastAdmin",e[e.GroupSharing=1]="GroupSharing",e[e.Generic=2]="Generic"}(n||(n={}))},130806:(e,t,i)=>{i.d(t,{Y:()=>g});var n=i(696832),o=i(453576),a=i(511494),r=i(762863),s=i(483296),l=i(190481),d=i(162886),c=i(616274),m=i(418402),u=i.n(m),h=i(987364),p=i(75032);const D={DELETE_CONFIRM:"webapp_personal_info_edition_delete_confirm",DELETE_DISMISS:"webapp_personal_info_edition_delete_dismiss",DELETE_SUBTITLE:"webapp_personal_info_edition_delete_subtitle"};function g(e){const{getItemTypeDescription:t,getDeleteTitle:i,getTitle:m,iconType:g,kwType:f,renderForm:E}=e;return class extends n.Component{constructor(...e){super(...e),this.form=(0,n.createRef)(),this.getFormValues=()=>{var e;return null!=(e=this.form.current?.getValues())?e:null},this.isFormValid=()=>{var e;return null!=(e=this.form.current?.isFormValid())&&e},this.state={hasDataBeenModified:!1,displayConfirmDeleteDialog:!1},this.componentDidMount=()=>{const e={[o.DataModelType.KWAddress]:a.PageView.ItemAddressDetails,[o.DataModelType.KWCompany]:a.PageView.ItemCompanyDetails,[o.DataModelType.KWEmail]:a.PageView.ItemEmailDetails,[o.DataModelType.KWIdentity]:a.PageView.ItemIdentityDetails,[o.DataModelType.KWPhone]:a.PageView.ItemPhoneDetails,[o.DataModelType.KWPersonalWebsite]:a.PageView.ItemWebsiteDetails};(0,h.N)(e[f])},this.showListView=()=>{(0,h.N)(a.PageView.ItemPersonalInfoList),(0,l.uX)(this.props.lee.routes.userPersonalInfo)},this.handleEditedForm=()=>this.setState({hasDataBeenModified:!0}),this.handleNavigateOut=()=>{this.showListView()},this.handleClickDelete=()=>this.setState({displayConfirmDeleteDialog:!0}),this.closeConfirmDeleteDialog=()=>this.setState({displayConfirmDeleteDialog:!1}),this.handleDeleteConfirm=()=>{const{item:e}=this.props;e?.id&&(c.C.removePersonalDataItem({id:e.id}),this.showListView())},this.handleSubmit=async()=>{const{item:e}=this.props;if(!e?.id)return;if(!this.isFormValid())return;const t=this.getFormValues(),i={kwType:f,origin:o.SaveOrigin.MANUAL,content:{...t,id:e.id}};await c.C.savePersonalDataItem(i),(0,p.au)(),this.showListView()},this.render=()=>{const{item:e,lee:{translate:o}}=this.props,{displayConfirmDeleteDialog:a,hasDataBeenModified:l}=this.state,c=Boolean(this.props.match.params?.uuid),h=e?m(e,o):"",p=i(o),f=t(o),C=n.createElement(s.ZP,{iconSize:s.Jh.headerEditPanelIcon,iconType:g}),T={confirmDeleteConfirm:o(D.DELETE_CONFIRM),confirmDeleteDismiss:o(D.DELETE_DISMISS),confirmDeleteSubtitle:o(D.DELETE_SUBTITLE),confirmDeleteTitle:p};return n.createElement(r.zI,{isViewingExistingItem:c,itemHasBeenEdited:l,onNavigateOut:this.handleNavigateOut,onSubmit:this.handleSubmit,onClickDelete:this.handleClickDelete,ignoreCloseOnEscape:a,formId:"edit_personalinfo_panel",header:n.createElement(r.V9,{icon:C,iconBackgroundColor:u()["--dash-green-00"],title:h,titleDescription:f})},e?E(this.props.lee,e,this.form,this.handleEditedForm):"",a?n.createElement(d.h,{closeConfirmDeleteDialog:this.closeConfirmDeleteDialog,onDeleteConfirm:this.handleDeleteConfirm,translations:T}):null)}}}}},824476:(e,t,i)=>{i.r(t),i.d(t,{Connected:()=>f});var n=i(616274),o=i(704841),a=i(611792),r=i(696832),s=i(453576),l=i(526849),d=i(648401),c=i(130806),m=i(483296),u=i(3741);const h=(0,c.Y)({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_phone"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_phone_description"),getTitle:u.o3,iconType:m.Tu.phone,kwType:"KWPhone",renderForm:(e,t,i,n)=>{const o=s.Country[e.globalState.locale.country]||s.Country.US,a={...(0,l.pick)(["localeFormat","number","type","spaceId"],t),phoneName:t.name,localeFormat:t.localeFormat||o,type:t.type||s.PhoneType.PHONE_TYPE_MOBILE};return r.createElement(d.b,{lee:e,currentValues:a,signalEditedValues:n,ref:i})}}),p=e=>`{${e.match.params.uuid}}`,D={item:{live:n.C.livePhone,liveParam:p,query:n.C.getPhone,queryParam:p}},g={strategies:D},f=(0,o.$)((0,a.i)(h,g),D)}}]);