(()=>{var e,t,a,n,i,s,r,o={145398:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(696832),i=a(190481),s=a(714910);function r({path:e}){return n.createElement(i.GB,{exact:!0,path:[e,`${e}/create`,`${e}/create/confirm`]},n.createElement(i.rs,null,n.createElement(i.l_,{exact:!0,from:`${e}/`,to:`${e}/create`}),n.createElement(s.Z,{path:`${e}/create`,options:{flowIndicator:"memberAccount"}})))}},820326:(e,t,a)=>{"use strict";a.d(t,{t:()=>r});var n=a(696832),i=a(446389);const s=({title:e,description:t,example:a})=>n.createElement("section",null,n.createElement("h3",{className:"tipTitle--E1xwuwFYGQ"},e),n.createElement("div",{className:"tipDescription--F8jzGudxgL"},t),a?n.createElement("p",{className:"tipExample--OSKD8mHhgv"},a):null),r=()=>{const{translate:e}=(0,i.Z)();return n.createElement(n.Fragment,null,n.createElement(s,{title:e("webapp_account_security_settings_passwordtips_general_rules_title"),description:n.createElement("ul",null,n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_1")),n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_2")),n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_3")))}),n.createElement(s,{title:e("webapp_account_security_settings_passwordtips_story_method_title"),description:e("webapp_account_security_settings_passwordtips_story_method_description"),example:e("webapp_account_security_settings_passwordtips_story_method_example")}),n.createElement(s,{title:e("webapp_account_security_settings_passwordtips_series_words_title"),description:e("webapp_account_security_settings_passwordtips_series_words_description"),example:e("webapp_account_security_settings_passwordtips_series_words_example")}),n.createElement(s,{title:e("webapp_account_security_settings_passwordtips_letters_numbers_title"),description:e("webapp_account_security_settings_passwordtips_letters_numbers_description"),example:e("webapp_account_security_settings_passwordtips_letters_numbers_example")}))}},421123:(e,t,a)=>{"use strict";var n=a(806662),i=a(676025),s=a(149492),r=a(696832),o=a(281190),l=a(566158),c=a(139378),d=a(562751),u=a(140),m=a.n(u),p=a(798601);const _=(0,p.Z)("PERSISTENCE",{}),g=_.registerAction("RESTORE_DATA",((e,t)=>m()({},e,t))),{apply:h}=_,b=h;var y=a(80286);a(135758);const C=[],w="@Storage.App";function E({saveDelay:e,store:t,storage:a,whiteList:n}){e=e||1e3,function(e){if(C.includes(e))throw new Error("User storage used more than once !");C.push(e)}(a);let i=!1;return function(e){return new Promise((t=>{const a=e.getItem(w);t(a&&JSON.parse(a))}))}(a).then((e=>{e&&Object.keys(e).length&&t.dispatch(g(e))})).then((()=>{t.subscribe((0,c.debounce)((()=>{i||function(e,t){t.setItem(w,JSON.stringify(e))}(function(e,t){const a=t.map((e=>e.split("/")));return d.pickDeep(e,...a)}(t.getState(),n),a)}),e))})).catch((e=>{t.dispatch((0,y.Z)("Load data from storage failed",e))})).then((()=>({clear:()=>function(e){return e.removeItem(w),Promise.resolve()}(a),stop:()=>{i=!0}})))}var v=a(616437),N=a(551816),S=a(809409),I=a(694800),f=(a(502073),a(241901)),x=a(403092);const M=(0,p.Z)("STATE_IN_URL",{}),T=(e,t)=>{if(t.length>0){const a=t[0];return a in e||(e[a]={}),T(e[a],t.slice(1))}return e},D=M.registerAction("RESTORE_DATA",((e,t)=>{const a={};return Object.keys(t).forEach((e=>{const n=e.split(".");T(a,n.slice(0,n.length-1))[n[n.length-1]]=t[e]})),m()({},e,a)})),{apply:Z}=M,A=Z,k=function(e,t){const a=(0,x.parse)(e);return Object.keys(t).filter((e=>e in a)).map((e=>({urlValue:a[e],userValue:t[e]}))).map((({urlValue:e,userValue:t})=>"string"==typeof t?{[t]:e}:t(e)||{})).reduce(((e,t)=>(Object.keys(t).forEach((t=>{if(t in e)throw new Error("Some URL options conflict")})),Object.assign(e,t))),{})};var O=a(190481),L=a(616274),z=a(607832),j=a(932839),P=a(127966),R=a(530263),U=a(964611),B=a(182422),F=a(176644),G=a(527398),W=a(766482),V=a(657208),H=a(23054),q=a(917194),Y=a(175016),Q=a(342534),$=a(970238),K=a(428694),X=a(945419),J=a(158432),ee=a(524179);let te;function ae(){return te||(te=function(e){const t=[];s.bq&&t.push((0,ee.createLogger)({timestamp:!1,collapsed:!0,diff:!0}));const a=(0,B.compose)((0,B.applyMiddleware)(...t),(window.devToolsExtension,e=>e))(B.createStore)(function(e){const t=(0,J.RC)(e);return function(e,a){return e=(0,B.combineReducers)({initialSyncProgress:X.Z.apply,notifications:G.Z.apply,carbon:F.ZP.apply,directorySyncKey:$.ZP.apply,cursor:(e={})=>e,locale:V.ZP.apply,logs:W.Z.apply,user:H.ZP.apply,webapp:q.ZP.apply,dialog:Y.Z.apply,afterLogin:Q.Z.apply,ieNotifications:K.Z.apply})(e,a),e=t(e,a),e=b(e,a),A(e,a)}}(e));return a}(U.Z)),te}var ne,ie=a(160399);const se=a(851285),re=document.getElementById("app"),oe=window.location.host,le=null!=(ne=re?.getAttribute("data-base"))?ne:"",ce=(re?.getAttribute("data-build-type"),(0,f.q_)({basename:"/",hashType:"slash"}));let de;(0,O.JB)(ce);const ue="graphene-background-port";async function me(e,t){const a=await async function(e){return await async function(e){await function(e){return Promise.all([E({store:e,storage:localStorage,whiteList:["locale/language","locale/country"]})])}(e),(0,l.Z)(e),(0,N.CA)(e),function(e,t,a,n){const i=Object.assign(k("",n),k(t,n));Object.keys(i).length>0&&a.dispatch(D(i))}(0,(0,O.NW)(),e,{login:e=>"dummy"===e?{"user.session.login":"dummy-login@example.com","user.session.uki":"dummy-uki","user.password":null}:{"user.session.login":e},password:"user.session.password",showBillingAdmin:"cursor.app.team.account.billing.admin._.showConfirm",uki:"user.session.uki"})}(e),await(0,I.yd)(e),new R.BrowserPortConnector(ue)}(e),n=(0,j.createApplicationClient)({appDefinition:P.R,channels:{background:new j.AcknowledgedChannel(a)},channelsListener:j.NoDynamicChannels}),i=n["carbon-legacy"].queries.carbonState({path:"userSession.sync.status"});return await(0,ie.z)(i),n}var pe=a(74227);((e,t)=>{a(928058),a(744946),a(794383),(0,s.ZP)();const n=(0,pe.r)(e);(async(e,t)=>{const a=ae();!function(e,t){e.addEventListener("error",(e=>{e.preventDefault(),"ResizeObserver loop limit exceeded"!==e.message?t.dispatch((0,y.Z)(e.message,e.error)):e.stopPropagation()})),e.onunhandledrejection=e=>{e.preventDefault&&e.preventDefault();const a=e.reason,n=a instanceof Error?a:new Error('Promise rejection reason is not an error, but is "'+JSON.stringify(a)+'" instead');t.dispatch((0,y.Z)(`Unhandled promise rejection: ${n}`,n))}}(window,a);const n=await(0,v.eG)(a);if(de||(de=await me(a),(0,S.Q)(de),L.C.liveAccountCreated.on((()=>{try{(0,z.t)(5e3)}catch(e){a.dispatch((0,y.Z)("Error - liveAccountCreated event cb: ",e))}}))),!de)throw new Error;se.render(r.createElement(o.Z,{host:oe,basePath:le,history:ce,store:a,translate:n,namedRoutes:t,routes:e,coreClient:de}),re)})(t(n,e),n),(()=>{const e=document.querySelectorAll("link.light-scheme-favicon"),t=document.querySelectorAll("link.dark-scheme-favicon"),a=window.matchMedia("(prefers-color-scheme: dark)");function n(){a.matches?(e.forEach((e=>e.remove())),t.forEach((e=>document.head.append(e)))):(t.forEach((e=>e.remove())),e.forEach((e=>document.head.append(e))))}a.addEventListener?a.addEventListener("change",n):a.addListener(n),n()})()})(i.vX.CLIENT,n.t)},149492:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>r,bq:()=>s,sY:()=>i});var n=a(403092);let i=!1,s=!1;function r(){const e="kw_verbose";"verbose"in(0,n.parseLocationParams)(window.location)&&sessionStorage.setItem(e,"true");const t="true"===sessionStorage.getItem(e);t&&console.info("~~~ Logs activated ~~~"),i=t,s=t,window.KW_LOG=i}},347483:(e,t,a)=>{"use strict";a.d(t,{j:()=>m});var n=a(696832),i=a(708608),s=a(277786),r=a(190481),o=a(446389),l=a(694435);const c="activateSSOText--uGZ1mGdPI0";var d,u;const m=({activateLink:e,onClose:t,localSsoRedirect:a,isNitroSSO:m,nitroLoginCommand:p})=>{const{translate:_}=(0,o.Z)(),[g,h]=n.useState(!0);return n.createElement(i.VqE,{closeIconName:_("_common_dialog_dismiss_button"),isOpen:g,onClose:()=>{h(!1),t()},disableOutsideClickClose:!0},n.createElement("div",{className:"dialogContainer--R1vvi6YG8s"},n.createElement(i.$N8,null,d||(d=n.createElement(i.HeP,{size:90})),n.createElement("h2",{className:"activateSSOTitle--TSG6RZuM4T"},_("activate_sso_popup_title"))),n.createElement(i.a7O,null,n.createElement("p",{className:c},_("activate_sso_popup_body")),n.createElement("p",{className:c},_("activate_sso_popup_body_secondary"))),n.createElement(i.cNS,{primaryButtonOnClick:async()=>{if(a)return(0,r.uX)(e);m?p():(0,s.nL)(e)},primaryButtonTitle:_("activate_sso_popup_primary_button"),secondaryButtonOnClick:()=>(0,s.Yo)(l.n0),secondaryButtonTitle:n.createElement(n.Fragment,null,u||(u=n.createElement(i.RTC,{size:20})),n.createElement("p",{className:"activateSSOTextWithIcon--p3VZNI9NKb"},_("activate_sso_popup_secondary_button")))})))}},248309:(e,t,a)=>{"use strict";a.d(t,{S:()=>F});var n=a(696832),i=a(387327),s=(a(9370),a(373245)),r=a(148038),o=a(238250),l=a(421548),c=a(73526),d=a(676025),u=a(446389),m=a(616274),p=a(277786),_=a(906978),g=a(190481),h=a(311613),b=a(694435);var y=a(823468);let C;!function(e){e.ASK_FOR_MP="ASK_FOR_MP",e.ACCOUNT_CREATION="ACCOUNT_CREATION",e.D_SPINNER="D_SPINNER",e.CHANGE_MP_PROGRESS="CHANGE_MP_PROGRESS"}(C||(C={}));var w=a(429988),E=a(856096);var v;const N=({dispatchGlobal:e,onSubmit:t})=>n.createElement("div",{className:"panelsContainer--jB02U43E37"},v||(v=n.createElement(w.w,null)),n.createElement(E.R,{dispatchGlobal:e,onSubmit:t}));var S=a(708608);const I=({animation:e,shouldLoopAnimation:t=!1,progressValue:a=0})=>{const{translate:i}=(0,u.Z)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"logo--zwQR6n8P2E"},n.createElement(S.D1W,{color:S.vei.DashGreen,size:S.r1z.Size39,title:i("_common_dashlane_logo_title")})),n.createElement("div",{className:"progressContainer--uN3zEbYKRy"},n.createElement("div",{className:"content--g692RTJxEb"},n.createElement(s.Z,{height:96,width:96,animationParams:{renderer:"svg",animationData:e,loop:t,autoplay:!0}}),n.createElement("p",{className:"progressValue--EWZwTNi5yM"},i("_common_generic_percentage",{number:a})),n.createElement("h2",{className:"description--urcB98N4_F"},i("webapp_sso_changemp_loading_desc")),n.createElement("p",{className:"subDescription--dtFN1rQZIb"},i("webapp_sso_changemp_loading_warning")))))};var f=a(865163),x=a(383849),M=a.n(x),T=a(710839),D=a(395437),Z=a(494770),A=a(241332);const k="disclaimerCheckboxWrapper--H9bH4mWFEN",O="visible--tgv48_Tn6M",L="disclaimerCheckbox--I9w4KoQzGz";var z;const j=e=>{const{memberEmail:t,onSubmit:a,error:i}=e,{isEu:s}=e.lee.carbon.currentLocation,r=null===s,o=n.useCallback((()=>Boolean(!!r||s)),[s,r]),{translate:l}=(0,u.Z)(),[c,d]=(0,n.useState)(!o()),[m,p]=(0,n.useState)(!1),[_,g]=(0,n.useState)(!1),h=n.createRef();(0,n.useEffect)((()=>{d(!o())}),[d,o]);const b=o()?l("member_account_creation_info_tips_and_offers_label"):l("member_account_creation_i_want_to_receive_spam_and_ads");return n.createElement("div",{className:"inner--PRBfrJ8ztr"},n.createElement("h1",{className:M()("heading--xkXNXFnweh _headingBase--w98gFdP6ar","acceptHeading--bN5eLgP37u")},l("member_account_creation_accept_content_heading")),r?z||(z=n.createElement(A.Z,{size:40})):n.createElement("form",{className:"form--mbE1UdEyiO"},n.createElement(T.n,{isDisabled:!0,placeholder:l("member_account_creation_email_hint_text"),labelText:l("member_account_creation_email_floating_label"),ref:h,defaultValue:t}),i?n.createElement("div",{className:"errorText--kkUVthMMSK"},i):null,n.createElement("div",{className:M()(k,O,"consentCheckbox--OxdBTmWrRI")},n.createElement(D.Z,{label:b,labelClass:L,name:"emailsTipsAndOffers",onCheck:()=>{d(!c)},checked:c})),o()&&n.createElement("div",{className:M()(k,O)},n.createElement(D.Z,{label:n.createElement(n.Fragment,null,l.markup("account_creation_confirm_terms_of_service_markup")),labelClass:L,name:"termsAndConditions",onCheck:()=>{p(!m)},checked:m})),n.createElement("div",{className:"formAction--_jE50Dey_6"},n.createElement(Z.Z,{size:"large",label:l("member_account_creation_accept_next"),disabled:Boolean(o()&&!m),onClick:()=>{const e={privacyPolicyAndToS:m,subscribed:c,isEu:o(),setIsLoading:g};a(e)},loading:_,classNames:["nextButton--v8loMwl8E9"]})),o()?null:n.createElement("p",{className:"disclaimer--HdF8Agopgb"},l.markup("member_account_creation_accept_tos_markup",{},{linkTarget:"_blank"}))))},P=e=>{const{lee:t,...a}=e,i={standardHeader:"standardHeader--mQMlxYDQNk",logoContainer:"logoContainer--U1og3U_Xxu",logo:"logo--I6WuRV58HI"},s=n.createElement("div",{onClick:()=>(0,g.uX)(d.SF)});return n.createElement("div",{className:"wrapper--wU7M482wCS"},n.createElement(f.A,{lee:t,classes:i,logoComponent:s}),n.createElement("div",{className:"content--HXxzOJoWsC"},n.createElement(j,{lee:t,...a})))};var R=a(466404);const U="webapp_login_form_regsiter_fallback_browser_name",B=e=>{const{login:t,ssoToken:a,key:i,exists:w,currentAuths:E,expectedAuths:v,inStore:S}=(0,y.Ae)(e),{lee:f}=e,x="true"===w,[M,T]=(0,n.useState)(x?C.D_SPINNER:C.ACCOUNT_CREATION),{translate:D}=(0,u.Z)(),[Z,A]=(0,n.useState)(""),[k,O]=(0,n.useState)(0),L=(0,_.vV)(t)?t:"",z=(0,r.K_)({live:m.C.liveChangeMasterPasswordStatus},[]);(0,n.useEffect)((()=>{S||L.length&&i.length&&a.length||(0,g.uX)(d.TT)}),[S,L,i,a]),(0,n.useEffect)((()=>{x&&(async()=>{E===o.SsoMigrationServerMethod.MP&&v===o.SsoMigrationServerMethod.SSO&&T(C.CHANGE_MP_PROGRESS);const n=e.lee.carbon.localAccounts?.find((e=>e.login===t&&"sso"===e.rememberMeType)),s=!n&&"true"===localStorage.getItem(c.MG),r={deviceName:(0,h.M)(D(U)),exist:!0,ssoServiceProviderKey:i,login:L,ssoToken:a,currentAuths:E,expectedAuths:v,inStore:S,requiredPermissions:(0,y.ox)(),shouldRememberMeForSSO:s};(await m.C.loginViaSSO(r)).success?v===o.SsoMigrationServerMethod.MP&&T(C.ASK_FOR_MP):(0,g.uX)(d.TT)})()}),[x]),(0,n.useEffect)((()=>{if(z.status!==r.iD.Received||!z.data)return;const{value:e}=z.data;O(e)}),[z]);const j=async({password:e})=>{const t={newPassword:e,flow:o.ChangeMPFlowPath.SSO_TO_MP};await(async e=>{if(T(C.CHANGE_MP_PROGRESS),!(await m.C.changeMasterPassword(e)).success)return(0,g.uX)(d.TT)})(t)},B=async({isEu:e,privacyPolicyAndToS:t,setIsLoading:n,subscribed:s})=>{var r;if(e&&!t){const e=new Error("termsOfService set to false on accept submit");f.reportError(e),(0,g.uX)(d.rM)}n(!0);const l=[];if(e){const e={consentType:"privacyPolicyAndToS",status:t};l.push(e)}const u={consentType:"emailsOffersAndTips",status:s};l.push(u);const _={consents:l,deviceName:(0,h.M)(D(U)),exist:!1,ssoServiceProviderKey:i,login:L,ssoToken:a,currentAuths:E,expectedAuths:v,inStore:!1,requiredPermissions:(0,y.ox)(),anonymousUserId:(0,R.n5)(f.globalState),shouldRememberMeForSSO:"true"===localStorage.getItem(c.MG)};localStorage.removeItem(c.MG);const C=await m.C.loginViaSSO(_);if(n(!1),C.success){A("");let e=b.BJ;e=`${b.Mv}?email=${L}`,(0,p.nL)(e)}else{const e=L.slice(L.indexOf("@")+1);C.error.code===o.LoginViaSsoCode.SSO_VERIFICATION_FAILED?A(D("webapp_sso_page_create_account_error",{domain:e})):A(null!=(r=C.error.message)?r:"")}};switch(M){case C.ACCOUNT_CREATION:return n.createElement(P,{lee:f,onSubmit:B,memberEmail:L,error:Z});case C.ASK_FOR_MP:return n.createElement(N,{onSubmit:j,dispatchGlobal:f.dispatchGlobal});case C.CHANGE_MP_PROGRESS:return n.createElement(I,{animation:l,shouldLoopAnimation:!0,progressValue:k});case C.D_SPINNER:default:return n.createElement("div",{className:"loadingContainer--z9wx9Wo1ko"},n.createElement(s.Z,{height:150,width:150,animationParams:{renderer:"svg",animationData:l,loop:!0,autoplay:!0}}))}},F=e=>{const{loading:t}=(0,i.G)();return t?null:n.createElement(B,{...e})}},823468:(e,t,a)=>{"use strict";a.d(t,{$9:()=>r,Ae:()=>s,ox:()=>o});var n=a(342868),i=a(238250);const s=e=>{const{location:{search:t}}=e,a={login:"",ssoToken:"",key:"",exists:"",currentAuths:i.SsoMigrationServerMethod.SSO,expectedAuths:i.SsoMigrationServerMethod.SSO,inStore:!1};try{if(t?.includes("ssoToken"))return{...a,...(0,n.parse)(t)}}catch(e){return a}return a},r=()=>`/sso?${(0,n.stringify)({ssoToken:"inStore",key:"inStore",currentAuths:i.SsoMigrationServerMethod.MP,expectedAuths:i.SsoMigrationServerMethod.SSO,exists:!0,inStore:!0})}`,o=()=>window.location.host.startsWith("console")?"BILLING":null},798601:(e,t,a)=>{"use strict";function n(e,t){const a={};return{apply:function(e=t,n){return a[n.type]?a[n.type](e,n.params):e},registerAction:function(t,n){const i=`${e}/${t}`;return a[i]=n,function(e){return{type:i,params:e}}}}}a.d(t,{Z:()=>n})},204084:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(158432),i=a(375510);const s=(0,n.SP)("billing-date",{},[i.ZP])},375510:(e,t,a)=>{"use strict";a.d(t,{K7:()=>i,V$:()=>s,ZP:()=>o,gk:()=>r});const n=(0,a(158432).SP)("past-receipts-dialog",{showRecipientErrorText:!1},[]),i=n.action("submit-form-without-recipient",(()=>({showRecipientErrorText:!0}))),s=n.action("input-in-recipient-field",(()=>({showRecipientErrorText:!1}))),r=n.action("close-past-receipts-dialog",(()=>({showRecipientErrorText:!1}))),o=n},869748:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(158432),i=a(204084);const s=(0,n.SP)("billing",{},[i.Z])},441054:(e,t,a)=>{"use strict";a.d(t,{HH:()=>m,Ip:()=>u,Ti:()=>c,Ww:()=>d,ZP:()=>p});var n=a(233377),i=a(158432),s=a(453576),r=a(869748),o=a(660557);const l=(0,i.SP)("account",{billingType:n.Maybe.nothing(),creationDateUnix:n.Maybe.nothing(),creditCardLastDigits:n.Maybe.nothing(),endDate:n.Maybe.nothing(),isFreeTrial:n.Maybe.nothing(),isGracePeriod:n.Maybe.nothing(),isTeamUpgradeOpen:!1,isTeamUpgradeSuccessOpen:!1,isUpgradeSuccess:!1,lastAdditionalSeatsDetails:void 0,lastBillingDateUnix:n.Maybe.nothing(),lastBillingDetails:void 0,nextBillingDetails:n.Maybe.nothing(),planName:n.Maybe.nothing(),planTier:s.SpaceTier.Legacy,seatsNumber:n.Maybe.nothing(),usersToBeRenewedCount:n.Maybe.nothing()},[r.Z,o.ZP]),c=(l.action("credit-card-deleted",(()=>({billingType:n.Maybe.nothing(),creditCardLastDigits:n.Maybe.nothing()}))),l.action("credit-card-updated",(({param:e})=>({billingType:n.Maybe.just("stripe"),creditCardLastDigits:n.Maybe.maybe(e)}))),l.action("team-plan-details-loaded",(({param:e})=>({billingType:n.Maybe.maybe(e.billingType),creditCardLastDigits:n.Maybe.maybe(e.creditCardLastDigits),creationDateUnix:n.Maybe.maybe(e.creationDateUnix),lastBillingDateUnix:n.Maybe.maybe(e.lastBillingDateUnix),nextBillingDetails:n.Maybe.maybe(e.nextBillingDetails),isFreeTrial:n.Maybe.just(e.isFreeTrial),isGracePeriod:n.Maybe.just(e.isGracePeriod),seatsNumber:n.Maybe.just(e.seatsNumber),usersToBeRenewedCount:n.Maybe.maybe(e.usersToBeRenewedCount),planTier:e.planTier})))),d=l.action("premium-details-loaded",(({param:e})=>({endDate:n.Maybe.maybe(e.endDate),planName:n.Maybe.maybe(e.planName)}))),u=l.action("upgrade-toggled",(({param:e})=>({isTeamUpgradeOpen:e,isTeamUpgradeSuccessOpen:!1}))),m=l.action("upgrade-success-toggled",(({param:e})=>({isTeamUpgradeSuccessOpen:e.isTeamUpgradeSuccessOpen,isTeamUpgradeOpen:!1,lastAdditionalSeatsDetails:e.additionalSeatsDetails,lastBillingDetails:e.billingDetails}))),p=l},167458:(e,t,a)=>{"use strict";a.d(t,{Ao:()=>s,Bc:()=>l,ZP:()=>c,jm:()=>o,kB:()=>r});var n=a(233377);const i=(0,a(158432).SP)("premium",{additionalSeatCount:n.Maybe.nothing(),promoCodeResponse:void 0,isSeatCountAboveCap:!1,isSeatCountBelowMinimum:!1,showPriceDetails:!1}),s=i.action("seat-count-updated",(({param:e})=>({additionalSeatCount:e.seatCount,isSeatCountAboveCap:e.isSeatCountAboveCap,isSeatCountBelowMinimum:e.isSeatCountBelowMinimum}))),r=i.action("promo-code-redeemed",(({param:e})=>({promoCodeResponse:{isRedeemed:e.isRedeemed}}))),o=i.action("promo-code-cleared",(()=>({promoCodeResponse:null}))),l=i.action("show-price-details-toggled",(({state:e})=>({showPriceDetails:!e.showPriceDetails}))),c=i},660557:(e,t,a)=>{"use strict";a.d(t,{BO:()=>p,Dz:()=>r,J9:()=>_,Ve:()=>c,Yl:()=>o,ZP:()=>g,fD:()=>d,qr:()=>u,rX:()=>m,tl:()=>l});var n=a(158432),i=a(167458);const s=(0,n.SP)("upgrade",{licences:0,teamPlanId:"",planDetails:void 0,currentPlanPriceRange:void 0,isPremiumOpen:!1,isPremiumReady:!1,isBillingOpen:!1,isLoadingOpen:!1,isUpgradeSuccess:!1,isUpgradeFailure:!1,isUpgradeFailureCode:""},[i.ZP]),r=s.action("premium-toggled",(({param:e})=>({isPremiumOpen:e}))),o=s.action("billing-toggled",(({param:e})=>({isBillingOpen:e}))),l=s.action("premium-loaded-plan-details",(()=>({isPremiumReady:!0}))),c=s.action("licences-changed",(({param:e})=>({licences:e}))),d=s.action("team-plan-changed",(({param:e})=>({teamPlanId:e}))),u=s.action("loading-toggled",(({param:e})=>({isLoadingOpen:e,isUpgradeSuccess:!1,isUpgradeFailure:!1}))),m=s.action("upgrade-completed",(({param:e})=>Object.assign({isLoadingOpen:!0,isUpgradeSuccess:e.status,isUpgradeFailure:!e.status},e.code?{isUpgradeFailureCode:e.code}:{}))),p=s.action("b2boffer-updated",(({param:e})=>({planDetails:e}))),_=s.action("plan-details-updated",(({param:e})=>({currentPlanPriceRange:e}))),g=s},118003:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=(0,a(158432).SP)("master-password-reset-requests",{})},970238:(e,t,a)=>{"use strict";a.d(t,{HK:()=>_,M2:()=>u,Qz:()=>d,ZP:()=>h,b3:()=>m,er:()=>g,vg:()=>p});var n=a(526849);const i=(0,a(798601).Z)("directory-sync-key",{displayDialog:!1,checkDirectorySyncKeyRequest:null,validationPostponed:!1});function s(e){return{...e,displayDialog:!1}}function r(e){return{...e,displayDialog:!0}}function o(e){return{...e,validationPostponed:!1}}function l(e,t){return{...e,checkDirectorySyncKeyRequest:t}}function c(e){return l(e,null)}const d=i.registerAction("CHECK_DIRECTORY_SYNC_KEY_REQUEST",((e,t)=>{if(!t)return e;const a=l(e,t);return e.validationPostponed?a:r(a)})),u=i.registerAction("KEY_VALIDATION_POSTPONED",(0,n.pipe)(s,(function(e){return{...e,validationPostponed:!0}}))),m=i.registerAction("REOPEN_DIALOG",(0,n.pipe)(r,o)),p=i.registerAction("CLOSE_NOTIFICATION",o),_=(i.registerAction("KEY_VALIDATED",(0,n.pipe)(s,o,c)),i.registerAction("KEY_REJECTED",(0,n.pipe)(s,o,c)),i.registerAction("HIDE_DIALOG",s)),g=i.registerAction("TERMINATE_REQUEST",(0,n.pipe)(o,c)),h=i},428694:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s,w:()=>i});const n=(0,a(798601).Z)("ie-drop-notification",{displayIeDropNotification:!0}),i=n.registerAction("IE_DROP_NOTIFICATION",(()=>({displayIeDropNotification:!1}))),s=n},781896:(e,t,a)=>{"use strict";a.d(t,{Jo:()=>h,Rb:()=>g,S2:()=>d,VW:()=>m,Wq:()=>l,ZP:()=>y,bh:()=>c,bj:()=>u,eY:()=>b,lp:()=>_,vE:()=>p,xF:()=>o});var n=a(233377),i=a(158432),s=a(438042);const r=(0,i.SP)("members",{members:n.Maybe.nothing(),totalSeatCount:n.Maybe.nothing(),isFreeTrial:n.Maybe.nothing(),teamName:n.Maybe.nothing(),teamSecurityScore:n.Maybe.nothing()}),o=r.action("status-loaded",(({param:e})=>({isFreeTrial:n.Maybe.just(e.isFreeTrial),totalSeatCount:n.Maybe.just(e.membersNumber+e.extraFreeSlots),teamName:n.Maybe.maybe(e.teamName),teamSecurityScore:n.Maybe.maybe(e.teamSecurityScore)}))),l=r.action("members-loaded",(({param:e})=>({members:n.Maybe.just(e.members)}))),c=r.action("user-resent-invitation",(({param:e,state:t})=>({members:t.members.map((t=>t.map((t=>t.login===e.login?Object.assign({},t,{status:"pending",isChecked:!1,isTeamCaptain:!1,isGroupManager:!1}):t))))}))),d=r.action("user-resent-invitation-failed",(({param:e,state:t})=>({members:t.members.map((t=>t.map((t=>t.login===e.login?e:t))))}))),u=r.action("user-demoted-captain",(({state:e,param:t})=>({members:e.members.fmap((e=>e.map((e=>Object.assign({},e,{isTeamCaptain:e.login!==t.login&&e.isTeamCaptain})))))}))),m=r.action("user-promoted-captain",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>Object.assign({},e,{isTeamCaptain:e.login===t.login||e.isTeamCaptain})))))}))),p=r.action("user-removed-group-manager",(({state:e,param:t})=>({members:e.members.fmap((e=>e.map((e=>Object.assign({},e,{isGroupManager:e.login!==t.login&&e.isGroupManager})))))}))),_=r.action("user-added-group-manager",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>Object.assign({},e,{isGroupManager:e.login===t.login||e.isGroupManager})))))}))),g=r.action("user-revoked-single-member",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>e.login===t.login?Object.assign({},e,{revokedDateUnix:(0,s.Z)(new Date),status:"removed"}):e)).filter((e=>Boolean(e)))))}))),h=r.action("user-revoked-single-member-failed",(({state:e,param:t})=>({members:e.members.map((e=>[...e.filter((e=>e.login!==t.login)),t]))}))),b=r.action("members-proposed",(({state:e,param:t})=>({members:n.Maybe.just(e.members.valueOr([]).concat(t.map((e=>({login:e,status:"pending",isTeamCaptain:!1,isGroupManager:!1,lastUpdateDateUnix:(0,s.Z)(new Date)}))))),totalSeatCount:e.totalSeatCount.map((a=>Math.max(a,t.length+e.members.valueOr([]).filter((e=>"removed"!==e.status)).length)))}))),y=r},864824:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(158432),i=a(441054),s=a(992750),r=a(553965),o=a(267667),l=a(458403),c=a(781896),d=a(806092),u=a(118003);const m=(0,n.SP)("team",{},[i.ZP,s.ZP,r.Z,o.ZP,l.ZP,c.ZP,d.Z,u.Z])},584480:(e,t,a)=>{"use strict";a.d(t,{GQ:()=>m,Kq:()=>c,MP:()=>u,ZP:()=>_,d:()=>l,g7:()=>o,kE:()=>d,qs:()=>p});var n=a(158432),i=a(233377),s=a(233493);const r=(0,n.SP)("settings-page",{allowPersistenceForMasterPassword:i.Maybe.nothing(),allowSharing:i.Maybe.nothing(),enforce2FA:i.Maybe.nothing(),cryptoForcedPayload:i.Maybe.nothing(),disableAutoLoginDomains:i.Maybe.nothing(),enableForcedDomains:i.Maybe.nothing(),enableRemoveForcedContent:i.Maybe.nothing(),enableVPN:i.Maybe.nothing(),forceAutomaticLogout:i.Maybe.nothing(),idpCertificate:i.Maybe.nothing(),idpSecurityGroups:i.Maybe.nothing(),idpUrl:i.Maybe.nothing(),isLoading:!0,lockOnExit:i.Maybe.nothing(),collectSensitiveDataAuditLogsEnabled:i.Maybe.nothing(),teamDomain:i.Maybe.nothing(),confirmationField:null,dialogIsVisible:!1,masterPasswordFieldValue:null,isMasterPasswordInvalid:!0,ssoEnabled:i.Maybe.nothing()},[s.ZP]),o=r.action("show-confirmation-dialog",(({param:e})=>({confirmationField:e,dialogIsVisible:!0,masterPasswordFieldValue:null,isMasterPasswordInvalid:null}))),l=r.action("hide-confirmation-dialog",(()=>({confirmationField:null,dialogIsVisible:!1,masterPasswordFieldValue:null,isMasterPasswordInvalid:null}))),c=r.action("set-master-password-invalid",(({param:e})=>({isMasterPasswordInvalid:e}))),d=r.action("set-master-password-field-value",(({param:e})=>({masterPasswordFieldValue:e,isMasterPasswordInvalid:null}))),u=r.action("team-status-loaded",(({param:e})=>({allowPersistenceForMasterPassword:i.Maybe.maybe(e.allowPersistenceForMasterPassword),allowSharing:i.Maybe.maybe(e.allowSharing),enforce2FA:i.Maybe.maybe(e.enforce2FA),cryptoForcedPayload:i.Maybe.maybe(e.cryptoForcedPayload),disableAutoLoginDomains:i.Maybe.maybe(e.disableAutoLoginDomains),enableForcedDomains:i.Maybe.maybe(e.enableForcedDomains),enableRemoveForcedContent:i.Maybe.maybe(e.enableRemoveForcedContent),enableVPN:i.Maybe.maybe(e.enableVPN),forceAutomaticLogout:i.Maybe.maybe(e.forceAutomaticLogout),idpCertificate:i.Maybe.maybe(e.idpCertificate),idpSecurityGroups:i.Maybe.maybe(e.idpSecurityGroups),idpUrl:i.Maybe.maybe(e.idpUrl),isLoading:!1,lockOnExit:i.Maybe.maybe(e.lockOnExit),collectSensitiveDataAuditLogsEnabled:i.Maybe.maybe(e.collectSensitiveDataAuditLogsEnabled),ssoEnabled:i.Maybe.maybe(e.ssoEnabled),teamDomain:i.Maybe.maybe(e.teamDomain)}))),m=r.action("setting-switch-toggled",(({param:e,state:t})=>{const a={};return a[e]=t[e].map((e=>!e)),a})),p=r.action("setting-changed",(({param:e})=>({[e.feature]:i.Maybe.maybe(e.value)}))),_=r},599943:(e,t,a)=>{"use strict";a.d(t,{fV:()=>l,qc:()=>o});var n=a(696832),i=a(331e3),s=a(854029);const r=n.createContext({currentSpaceId:null,spaceDetails:null,teamId:null}),o=({lee:e,children:t})=>{var a;const o=(0,s.B)(e.globalState),l=null!=(a=(0,i.xO)(e.globalState)?.details)?a:null,c=(0,i.ev)(e.globalState);return n.createElement(r.Provider,{value:{teamId:c,currentSpaceId:o,spaceDetails:l}},t)},l=()=>n.useContext(r)},992750:(e,t,a)=>{"use strict";function n(e,t,a=!1){const n=["# dashlane-ad-sync.ps1","#","# For more information, please visit :","# https://support.dashlane.com/hc/articles/115002155485","","PROCESS","{","  #############################################################################","  ### Customize the following variables","  #############################################################################","","  # List of Organizational Units (OUs)","  #","  # The script will :","  # 1. Search each Organizational Unit","  # 2. Export all employees in a CSV file","  # 3. Synchronize the CSV export with Dashlane","","  $OUS = @(",'    "OU=FRANCE,DC=dashlane,DC=com",','    "OU=USA,DC=dashlane,DC=com"',"  )","","  #############################################################################","  ###  DO NOT CHANGE THE SCRIPT BELOW","  #############################################################################","","  # Dashlane Plugin Tokens","",`  $INSTALL_TOKEN = "${e}"`,`  $TEAM_ID = ${t}`,"",'  $DASHLANE_EXPORT_PATH = $env:TEMP + "dashlane_export.csv"',"",'  Write-Output "Running Dashlane AD synchronization"',"","  Import-Module ActiveDirectory","  # The format of the CSV should be the following:","  # Full Name, employee@company.com, 123-456-7890","","  $out = @()","  foreach($ou in $OUS) {",'    Write-Output "Exporting $ou to CSV"',"","    Try {","      $out += Get-ADUser -searchbase $ou -Properties * -Filter * | Select-Object (",'        @{Label = "Email"; Expression = {$_.EmailAddress}}',"      )","    }","    Catch {","      $ErrorMessage = $_.Exception.Message","      $FailedItem = $_.Exception.GetType().FullName",'      Write-Output "Error: $FailedItem - $ErrorMessage"','      Write-Output "Message: It seems there is no account on this OU: $ou."',"    }","  }","","  # Export CSV report","  $out | Export-Csv -Path $DASHLANE_EXPORT_PATH -NoTypeInformation","",'  Write-Output "Syncing CSV with Dashlane..."','  $url = "https://ws1.dashlane.com/1/teamPlans/syncFromAD"',"  $fileContent = Get-Content $DASHLANE_EXPORT_PATH | Out-String","  $fileContentBytes = [System.Text.Encoding]::UTF8.GetBytes($fileContent)","  $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)","","  # Clean up the temporary CSV export","  Remove-Item $DASHLANE_EXPORT_PATH","","  $request = [System.Net.WebRequest]::Create($url)",'  $request.Method = "POST"','  $request.ContentType = "application/x-www-form-urlencoded"',"","  Try {","    $requestStream = $request.GetRequestStream()","    $streamWriter = New-Object System.IO.StreamWriter($requestStream)",'    $streamWriter.Write("adLogins=$fileContentEncoded&adToken=$INSTALL_TOKEN&teamId=$TEAM_ID")',"  }","  Finally {","    if ($null -ne $streamWriter) { $streamWriter.Dispose() }","    if ($null -ne $requestStream) { $requestStream.Dispose() }","  }","","  Try {","    $webResponse = $request.GetResponse()","  }","  Catch {","    $ErrorMessage = $_.Exception.Message","    $FailedItem = $_.Exception.GetType().FullName",'    Write-Output "Failed: $FailedItem - $ErrorMessage"',"  }","","  Write-Output 'Done !'","}",""].join("\n");return a?`#################################################################################\n## dashlane-ad-sync.ps1\n##\n## For more information, please visit :\n## https://support.dashlane.com/hc/articles/115002155485\n##\n## This script will:\n## 1. Search each Group's GroupMembers\n## 2. Export all GroupMember AD User Email Address values to a temp CSV file\n## 3. Sign the data extract\n## 4. Synchronize the data with Dashlane\n#################################################################################\n\nPROCESS {\n\n##################################################################################\n## List the Group Names you'd like to extract Users from and sync with Dashlane ##\n##################################################################################\n\n$Groups = @(\n    "AGroup",\n    "AnotherGroup"\n)\n\n##################################################################################\n## Replace this with the attribute containing your employees' Dashlane logins   ##\n##################################################################################\n\n$DASHLANE_LOGIN_ATTR = "mail"\n\n#################################################################################\n##  DO NOT CHANGE THE PROCESS BELOW                                            ##\n#################################################################################\n\nImport-Module ActiveDirectory\n\nWrite-Host "Running Dashlane AD synchronization"\n\n$GroupMembers = @()\n$GroupInfos = @()\n$CSV_TEMP_PATH = $env:TEMP + "dashlane_export.csv"\n$INSTALL_TOKEN = "${e}"\n$TEAM_ID = "${t}"\n\n##################################################################################\n## Anaylzing Groups                                                                ##\n##################################################################################\n\nforeach ($Group in $Groups) {\n    Try {\n        $GroupInfo = Get-ADGroup -Identity $Group | Select Name, ObjectGUID\n        $GroupInfo | Add-Member Members @()\n\n        $Members = Get-ADGroupMember -Identity $Group | Get-ADUser -Properties Mail\n\n        # Roughly filtering out users with invalid emails.\n        # A user with an invalid email is filtered out by Dashlane servers: it will therefore not\n        # be included in the verified data, which will lead to an invalid signature check if it is\n        # included in the signed data.\n        $ValidMembers = $Members | Where-Object {($_ | Select -ExpandProperty $DASHLANE_LOGIN_ATTR) -like '*@*.*' }\n        # Lower case and trim all emails to make consistent with Dashlane servers; only need email\n        $ValidMembers = $ValidMembers | Select @{ \n            Label=$DASHLANE_LOGIN_ATTR; \n            Expression={($_ | Select -ExpandProperty $DASHLANE_LOGIN_ATTR).ToLower().Trim() } \n        }\n        # Sort the users and get rid of any potential duplicates\n        $ValidMembers = $ValidMembers | Sort-Object -Property $DASHLANE_LOGIN_ATTR | Get-Unique -AsString\n        # Get a count\n        $measure = $ValidMembers | measure\n        $count = $measure.count\n        Write-Host "Exporting $count valid members from $Group"\n\n        if ($count -gt 0) {\n            foreach ($Member in $ValidMembers) {\n                $Member | Add-Member GroupName $GroupInfo.Name\n                $Member | Add-Member GroupGUID $GroupInfo.ObjectGUID\n                $GroupMembers += $Member\n                $GroupInfo.Members += $Member\n            }\n            $GroupInfos += $GroupInfo\n        }\n    } Catch {\n        $ErrorMessage = $_.Exception.Message\n        $FailedItem = $_.Exception.GetType().FullName\n\n        Write-Host "Error: $FailedItem - $ErrorMessage"\n        Write-Host "Message: It seems there is no account on this Group: $Group."\n        Exit 2\n    }\n}\n\n##################################################################################\n## Writing temp CSV                                                             ##\n##################################################################################\n\nWrite-Host ""\nWrite-Host "Writing debug information to $CSV_TEMP_PATH"\n$GroupMembers | Export-Csv -Path $CSV_TEMP_PATH -NoTypeInformation -Encoding UTF8\n\n##################################################################################\n## Generate signature                                                           ##\n##################################################################################\n\nTry {\n    $CspParameters = New-Object -TypeName System.Security.Cryptography.CspParameters\n    $CspParameters.KeyContainerName = "DashlaneDirectorySyncKey53"\n\n    $RSA = New-Object -TypeName System.Security.Cryptography.RSACryptoServiceProvider -ArgumentList $CspParameters\n    $PublicKey = $RSA.ToXmlString($false)\n    $PublicKeyHash = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($PublicKey))\n\n    Write-Host ""\n    Write-Host "---------- Provide your Dashlane admin with this key on setup: -----------"\n    Write-Host ""\n    Write-Host $PublicKeyHash\n    Write-Host ""\n    Write-Host "--------------------------------------------------------------------------"\n    Write-Host ""\n\n    $RSAFormatter = New-Object -TypeName System.Security.Cryptography.RSAPKCS1SignatureFormatter -ArgumentList $RSA\n    $RSAFormatter.SetHashAlgorithm("SHA256")\n\n    $DataStr = $TEAM_ID\n    foreach ($GroupInfo in $GroupInfos | Sort-Object -Property ObjectGUID) {\n        $DataStr += $GroupInfo.ObjectGUID\n        $DataStr += $GroupInfo.Name\n\n        foreach ($Member in $GroupInfo.Members | Sort-Object -Property $DASHLANE_LOGIN_ATTR) {\n            $DashlaneLogin = $Member | Select -ExpandProperty $DASHLANE_LOGIN_ATTR\n            $DataStr += $DashlaneLogin\n        }\n    }\n    $DataBytes = [System.Text.Encoding]::UTF8.GetBytes($DataStr)\n    $SHA256 = New-Object -TypeName System.Security.Cryptography.SHA256CryptoServiceProvider\n    $DataHash = $SHA256.ComputeHash($DataBytes)\n\n    $SignatureBytes = $RSAFormatter.CreateSignature($DataHash)\n    $SignatureHash = [System.Convert]::ToBase64String($SignatureBytes)\n\n} Catch {\n    $ErrorMessage = $_.Exception.Message\n    $FailedItem = $_.Exception.GetType().FullName\n    Write-Host "Failed: $FailedItem - $ErrorMessage"\n    Exit 3\n}\n\n##################################################################################\n## Send data to Dashlane                                                        ##\n##################################################################################\n\n$FileContent = Get-Content $CSV_TEMP_PATH | Out-String\n$FileContentBytes = [System.Text.Encoding]::UTF8.GetBytes($FileContent)\n$FileContentEncoded = [System.Convert]::ToBase64String($FileContentBytes)\n\n[System.Net.ServicePointManager]::SecurityProtocol = [System.Net.SecurityProtocolType]::Tls12;\n\n$URL = "https://ws1.dashlane.com/1/teamPlans/syncFromDirectory"\n$Payload = @{adLogins=$FileContentEncoded;adToken=$INSTALL_TOKEN;teamId=$TEAM_ID;signature=$SignatureHash;publicKey=$PublicKeyHash}\n\nTry {\n    $Response = Invoke-WebRequest -Uri $URL -Method POST -Body $Payload\n    Write-Host "Dashlane sync responded with: $Response"\n\n} Catch {\n    $ErrorMessage = $_.Exception.Message\n    $FailedItem = $_.Exception.GetType().FullName\n    Write-Host ""\n    Write-Host "Dashlane sync error: $FailedItem - $ErrorMessage"\n}\n\n##################################################################################\n## Cleaning up temp CSV                                                         ##\n##################################################################################\n\nRemove-Item $CSV_TEMP_PATH\n\n}`:n}a.d(t,{vo:()=>s,ZP:()=>l,dV:()=>o,Kk:()=>r});const i=(0,a(158432).SP)("active-directory-settings",{activeDirectoryScript:"",activeDirectorySyncStatus:{failedSyncCount:0,lastFailedSync:null,lastSuccessfulSync:null},activeDirectorySyncType:null,isCopied:!1}),s=i.action("active-directory-settings-loaded",(({param:e})=>{var t;return{activeDirectoryScript:n(e.activeDirectoryToken,e.teamId,e.directorySyncFeatureFlipped),activeDirectorySyncStatus:e.activeDirectorySyncStatus||null,activeDirectorySyncType:null!=(t=e.activeDirectorySyncType)?t:null}})),r=i.action("script-copy-feedback-toggled",(({param:e})=>({isCopied:e}))),o=i.action("active-directory-sync-type-set",(({param:e})=>({activeDirectorySyncType:e}))),l=i},553965:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(158432),i=a(584480);const s=(0,n.SP)("authentication-settings",{},[i.ZP])},267667:(e,t,a)=>{"use strict";a.d(t,{E4:()=>o,FC:()=>s,ZP:()=>c,a2:()=>r,k0:()=>i,qf:()=>l});const n=(0,a(158432).SP)("duo-settings",{hasDuo:!1,duoIntegrationKey:"",duoSecretKey:"",duoApiHostname:""}),i=n.action("duo-settings-loaded",(({param:e})=>({hasDuo:e.duo||!1,duoIntegrationKey:e.duoIntegrationKey||"",duoSecretKey:e.duoSecretKey||"",duoApiHostname:e.duoApiHostname||""}))),s=n.action("duo-set",(({param:e})=>({hasDuo:e}))),r=n.action("duo-integration-key-set",(({param:e})=>({duoIntegrationKey:e}))),o=n.action("duo-secret-key-set",(({param:e})=>({duoSecretKey:e}))),l=n.action("duo-api-hostname-set",(({param:e})=>({duoApiHostname:e}))),c=n},181508:(e,t,a)=>{"use strict";a.d(t,{h:()=>r});var n=a(696832),i=a(46298),s=a(616274);function r(){const[e,t]=(0,n.useState)(!0),[a,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),u=(0,n.useCallback)((async(e,t)=>{try{const a=await s.C.requestInviteLinkToken({teamUuid:e,login:t});if(a.success)return a.data;d(a.error.code)}catch{d(i.UnknownError)}return null}),[]);return{inviteLinkDataLoading:e,inviteLinkError:c,inviteLinkData:a,inviteLinkDataForAdmin:o,getInviteLinkData:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.getInviteLink({teamKey:e});if(t.success)return r(t.data),t.data;d(t.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[]),requestInviteLinkToken:u,getInviteLinkDataForAdmin:(0,n.useCallback)((async()=>{t(!0);try{const e=await s.C.getInviteLinkForAdmin({});if(e.success)return l(e.data),e.data;d(e.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[]),createInviteLink:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.createInviteLink({displayName:e});if(t.success)return t.data;d(t.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[]),changeInviteLinkTeamKey:(0,n.useCallback)((async()=>{t(!0);try{const e=await s.C.changeInviteLinkTeamKey({});if(e.success)return e.data;d(e.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[]),toggleInviteLink:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.toggleInviteLink({disabled:e});if(t.success)return t.data;d(t.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[])}}},458403:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>r,Zn:()=>s,x:()=>i});const n=(0,a(158432).SP)("master-password-policies-settings",{recoveryEnabled:!1}),i=n.action("master-password-policies-settings-loaded",(({param:e})=>({recoveryEnabled:Boolean(e.recoveryEnabled)}))),s=n.action("set-recovery-enabled",(({param:e})=>({recoveryEnabled:e}))),r=n},806092:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(158432),i=a(584480);const s=(0,n.SP)("policies-settings",{},[i.ZP])},233493:(e,t,a)=>{"use strict";a.d(t,{$g:()=>o,B:()=>r,X4:()=>l,ZP:()=>c});var n=a(158432),i=a(233377);const s=(0,n.SP)("select-with-feedback",{isSavingField:!1,errorMessage:i.Maybe.nothing(),showSaveFieldFeedbackMessage:!1}),r=s.action("user-selected-value",(()=>({isSavingField:!0}))),o=s.action("save-operation-success",(({param:e})=>({isSavingField:!1,errorMessage:e?i.Maybe.just(e):i.Maybe.nothing(),showSaveFieldFeedbackMessage:!e}))),l=s.action("a-second-passed-since-save-operation-success",(()=>({showSaveFieldFeedbackMessage:!1}))),c=s},257627:(e,t,a)=>{"use strict";a.d(t,{H:()=>s,I:()=>i});var n=a(616274);async function i(){const e=await n.C.getTeamInfo();if(e.success){const{data:{teamInfo:t,planTier:a,capabilities:n,seats:i}}=e;return{teamInfo:t,planTier:a,capabilities:n,seats:i}}{const{message:t}=e;throw new Error(`getTeamInfo: failed with error: ${t}`)}}async function s(){const e=await n.C.getLastADSyncDate();if(e.success)return{lastSyncRequestForTeamUnix:e.data.lastSyncRequestForTeam,lastSuccessfulSyncRequestForTeamUnix:e.data.lastSuccessfulSyncRequestForTeam};throw new Error(`getScimLastSyncDate: failed with error ${e.error}`)}},694435:(e,t,a)=>{"use strict";a.d(t,{B7:()=>C,BJ:()=>N,Bw:()=>p,Bz:()=>x,EL:()=>c,F1:()=>n,FX:()=>u,Iw:()=>y,M:()=>A,Mv:()=>i,Pr:()=>w,VH:()=>o,Vr:()=>l,XP:()=>Z,Y8:()=>g,cI:()=>O,h0:()=>I,hc:()=>h,i1:()=>T,n0:()=>m,nC:()=>E,o2:()=>D,rh:()=>S,sz:()=>f,tB:()=>_,tU:()=>v,to:()=>d,ub:()=>r,vS:()=>M,xz:()=>s,yi:()=>b,zF:()=>k});const n="https://app.dashlane.com",i="https://app.dashlane.com#/login",s="https://app.dashlane.com#/console",r="https://www.dashlane.com/business/directbuy",o="https://www.dashlane.com/resources",l="https://support.dashlane.com/hc",c="https://support.dashlane.com/hc/en-us/categories/200958889-Admins",d="https://support.dashlane.com/hc/requests/new",u="https://support.dashlane.com/hc/categories/200958889-Dashlane-Business",m="https://support.dashlane.com/hc/en-us/articles/360015304999-Joining-a-Dashlane-Business-plan-with-SSO-enabled#title2",p="https://support.dashlane.com/hc/requests/new",_="https://support.dashlane.com/hc/en-us/requests/new?ticket_form_id=4659353761426&req_type=dashlane_for_business&topic=upgrade_to_dashlane_business&utm_medium=misc&utm_source=dashlane_admin_console",g="https://support.dashlane.com/hc/articles/6351573344786?utm_medium=misc&utm_source=dashlane_admin_console",h="https://support.dashlane.com/hc/en-us/requests/new?utm_medium=misc&utm_source=dashlane_admin_console",b="https://www.dashlane.com/download",y="https://support.dashlane.com/hc/articles/360014345059",C="https://support.dashlane.com/hc/articles/360014345059",w="https://dashlane.status.io/",E="https://support.dashlane.com/hc/articles/360013149040",v="https://support.dashlane.com/hc/articles/360000112339",N="https://www.dashlane.com/business/sso-download",S="https://support.dashlane.com/hc/articles/360017434219",I="https://support.dashlane.com/hc/requests/new",f="https://www.dashlane.com/terms",x="https://www.dashlane.com/privacy",M="https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business&ticket_form_id=4659353761426&topic=upgrade_to_dashlane_business",T="https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business&topic=add_seats",D="https://support.apple.com/HT202039",Z="https://support.apple.com/HT204088",A="https://support.google.com/googleplay/answer/7018481?co=GENIE.Platform%3DDesktop",k="https://support.google.com/store/answer/6160235",O=(e="")=>`https://app.dashlane.com/#/team/signup?team=${e}`},466404:(e,t,a)=>{"use strict";a.d(t,{MQ:()=>o,n5:()=>l,t2:()=>s,v0:()=>r}),a(233377);var n=a(331e3);const i=e=>(e=>"function"==typeof e.getState)(e)?e.getState():e,s=e=>i(e).user.session.login,r=e=>{const t=s(e),a=i(e).user.session.uki;return a?{login:t||null,uki:a||null,teamId:(0,n.ev)(i(e))}:null},o=e=>i(e).user.session.sessionId,l=e=>i(e).user.session.anonymousUserId},878058:(e,t,a)=>{"use strict";a.d(t,{V:()=>i}),a(135758);var n=a(453576);function i(e){const t=e.user.session.permissions,a=Boolean(e.carbon.loginStatus&&e.carbon.loginStatus.loggedIn),i=t.tacAccessPermissions.has("FULL"),s=t.tacAccessPermissions.has("BILLING"),r=Array.from(t.tacAccessPermissions).some((e=>n.groupPermissions.includes(e)));return{loggedIn:a,adminAccess:{hasTACAccess:i||s||r,hasFullAccess:i,hasBillingAccess:s,hasGroupAccess:r,hasPermissionLevel:e=>t.tacAccessPermissions.has(e)}}}},23054:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>u,_e:()=>d,m8:()=>l,t1:()=>c});var n=a(769183),i=a(798601);const s=()=>Math.floor(2147483647*Math.random());function r(){return{device:{externalDeviceId:(0,n.Z)()},session:{anonymousUserId:"{"+(0,n.Z)().toUpperCase()+"}",login:null,password:null,permissions:{tacAccessPermissions:new Set},sessionId:s(),uki:null}}}const o=(0,i.Z)("USER",r()),l=o.registerAction("USER_LOGGED_IN_WITH_UKI",((e,{login:t,uki:a})=>Object.assign({},e,{session:Object.assign({},e.session,{login:t,uki:a,sessionId:s()})}))),c=o.registerAction("USER_PERMISSIONS_LOADED",((e,{permissions:t})=>Object.assign({},e,{session:Object.assign({},e.session,{permissions:Object.assign({},e.session.permissions,t)})}))),d=o.registerAction("USER_LOGGED_OUT",(e=>Object.assign({},e,r()))),u=o},483085:(e,t,a)=>{"use strict";a.d(t,{N:()=>n,z:()=>i});const n=(0,a(696832).createContext)({handleClickTeamConsole:()=>{},handleOpenLogoutDialog:()=>{},hideRecoveryNotifcation:()=>{},isAccountPanelOpen:!1,isSidemenuCollapsed:!1,openAccountPanel:()=>{},canShowAccountRecoveryNotification:!1}),i=n.Provider},729972:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i.Q,z:()=>n.z});var n=a(483085),i=a(921431)},921431:(e,t,a)=>{"use strict";a.d(t,{Q:()=>s});var n=a(696832),i=a(483085);const s=()=>(0,n.useContext)(i.N)},274187:(e,t,a)=>{"use strict";a.d(t,{G:()=>s});var n=a(148038),i=a(616274);function s(){const e=(0,n.qr)({queryConfig:{query:i.C.getContactInfo},liveConfig:{live:i.C.liveContactInfo}},[]);return e.status===n.rq.Success?e.data:void 0}},919005:(e,t,a)=>{"use strict";a.d(t,{f:()=>s});var n=a(148038),i=a(616274);function s(){const e=(0,n.qr)({queryConfig:{query:i.C.getUserLogin}},[]);return e.status===n.rq.Success?e.data:void 0}},907308:(e,t,a)=>{"use strict";a.d(t,{P:()=>s});var n=a(511494),i=a(987364);const s=()=>{(0,i.K)(new n.UserLogoutEvent({}))}},860039:(e,t,a)=>{"use strict";a.d(t,{F:()=>s});var n=a(148038),i=a(616274);function s(){const e=(0,n.qr)({queryConfig:{query:i.C.getIsSSOUser}},[]);return!(e.status!==n.rq.Success||!e.data)}},77878:(e,t,a)=>{"use strict";a.d(t,{E:()=>f});var n=a(616274),i=a(704841),s=a(611792),r=a(696832),o=a(190481),l=a(708608),c=a(511494),d=a(375864),u=a(549012),m=a(383849),p=a.n(m),_=a(130188);var g,h=a(729972);const b=()=>{const{isSidemenuCollapsed:e}=(0,h.Q)(),t=p()("notificationsHub--ZkqIONgeSD",{"narrow--lxNXQ_mZF0":!e});return r.createElement("div",{className:t,tabIndex:0},g||(g=r.createElement(_.B,{fullPage:!1,triggerSync:!1})))};var y=a(987364),C=a(70396),w=a(959074);var E,v=a(49555),N=a(446389);const S={hasNotifications:{live:n.C.liveHasNotifications,query:n.C.getHasNotifications},notifications:{live:n.C.liveNotificationStatus,query:n.C.getNotificationStatus}},I={strategies:S},f=(0,i.$)((0,s.i)((({color:e,hasNotifications:t})=>{const{routes:a}=(0,w.Xo)(),{translate:n}=(0,N.Z)(),[i,s]=r.useState(!1),m=(0,o.TH)(),p=r.useRef(i);r.useEffect((()=>{p.current=i}));const _=p.current;r.useEffect((()=>{i&&!_?(0,y.N)(c.PageView.NotificationSharingList):!i&&_&&(0,C.u)(m.pathname,a)}),[i,m,a,_]);const g=r.useCallback((e=>{s(e)}),[s]),h=r.useCallback((a=>{const s=i||!t?r.createElement(l.Dkj,{color:e,style:{pointerEvents:"none"}}):r.createElement(l.Z3$,{color:e,style:{pointerEvents:"none"}});return r.createElement("div",{className:"menuItem--UiuzA2Ip6u"},r.createElement(u.Z,{iconButton:!0,onClick:a,label:s,"aria-label":n("webapp_sharing_notifications_view_notifications")}))}),[e,t,i,n]);return r.createElement(d.Lt,{alignment:d.oA.End,position:d.ir.Bottom,onToggle:g,withBackdrop:!0,renderRoot:h},E||(E=r.createElement(v.Y,{autoFocus:!0},r.createElement(b,null))))}),I),S)},144353:(e,t,a)=>{"use strict";a.d(t,{j:()=>y});var n=a(696832),i=(a(135758),a(616274)),s=a(148038),r=a(238250);let o;!function(e){e.NOT_STARTED="NOT_STARTED",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(o||(o={}));var l=a(708608),c=a(446389),d=a(373245);const u=({description:e,subdescription:t,animation:a,shouldLoopAnimation:i=!1,progressValue:s=0,children:r})=>{const{translate:o}=(0,c.Z)();return n.createElement("div",{className:"progressContainer--IDCM9zq2cU"},n.createElement(l.D1W,{color:l.vei.DashGreen,size:l.r1z.Size39,title:o("_common_dashlane_logo_title")}),n.createElement("div",{className:"content--XCE4roobSY"},n.createElement(d.Z,{height:65,width:65,animationParams:{renderer:"svg",animationData:a,loop:i,autoplay:!0}}),n.createElement("p",{className:"progressValue--_TmysucqKU"},o("_common_generic_percentage",{number:s})),n.createElement("h2",{className:"description--HqE0fzen3s"},e),t?n.createElement("p",{className:"subDescription--ekdMNGDqP0"},t):null,r))};var m=a(656810);const p=({progressValue:e,onBack:t})=>{const{translate:a}=(0,c.Z)();return n.createElement(u,{description:a("webapp_account_security_settings_changemp_error_desc"),subdescription:a("webapp_account_security_settings_changemp_error_sub_desc"),animation:m,progressValue:e},n.createElement("section",{className:"actionsSection--heRhhR1FQu"},n.createElement(l.zxk,{type:"button",nature:"primary",size:"small",onClick:t},a("webapp_account_security_settings_changemp_error_button_goback"))))};var _=a(421548);const g=({progressValue:e})=>{const{translate:t}=(0,c.Z)();return n.createElement(u,{description:t("webapp_account_security_settings_changemp_loading_desc"),subdescription:t("webapp_account_security_settings_changemp_loading_warning"),animation:_,shouldLoopAnimation:!0,progressValue:e})};var h=a(809205);const b=({progressValue:e,onDone:t})=>{const{translate:a}=(0,c.Z)();return n.createElement(u,{description:a("webapp_account_security_settings_changemp_success_desc"),animation:h,progressValue:e},n.createElement("section",{className:"actionsSection--Jqp4PbWYcZ"},n.createElement(l.zxk,{type:"button",nature:"primary",size:"small",onClick:t},a("webapp_account_security_settings_changemp_success_button_done"))),n.createElement(l.vDh,{severity:"subtle",size:"small",className:"infoboxTip--sYIEKUKVdu",title:n.createElement(n.Fragment,null,n.createElement("p",{className:"infoboxTitle--zs3ovJ4JRa"},a("webapp_account_security_settings_changemp_panel_forgotmp_infobox_title")),n.createElement("p",null,a.markup("webapp_account_security_settings_changemp_panel_forgotmp_infobox_description_markup",{utmSource:"extension",utmMedium:"account"},{linkTarget:"_blank"})))}))},y=({onOpenUserVault:e})=>{const{status:t,progressValue:a}=function(){const[e,t]=(0,n.useState)(o.NOT_STARTED),[a,l]=(0,n.useState)(0);(0,s.lU)((a=>{a!==s.ae.KILLED||[o.SUCCESS,o.NOT_STARTED].includes(e)||t(o.FAILURE)}),[e]);const c=(0,s.K_)({live:i.C.liveChangeMasterPasswordStatus},[]);return(0,n.useEffect)((()=>{if(c.status!==s.iD.Received||!c.data)return;const{type:e,value:a}=c.data;e===r.ChangeMasterPasswordStepNeeded.DONE?t(o.SUCCESS):e===r.ChangeMasterPasswordStepNeeded.ERROR?t(o.FAILURE):t(o.LOADING),l(a)}),[c]),{status:e,progressValue:a}}(),l=()=>{e()};return t===o.NOT_STARTED?null:n.createElement("div",{className:"fullPage--iVcJx8Qt4j"},t===o.LOADING?n.createElement(g,{progressValue:a}):null,t===o.FAILURE?n.createElement(p,{progressValue:a,onBack:l}):null,t===o.SUCCESS?n.createElement(b,{progressValue:a,onDone:l}):null)}},603724:(e,t,a)=>{"use strict";a.d(t,{W:()=>n});const n=768},474750:(e,t,a)=>{"use strict";a.d(t,{D:()=>$});var n=a(696832),i=a(148038),s=a(453576),r=a(24836),o=a(435105),l=a(585921),c=a(511494),d=a(708608),u=a(532704),m=a(71066),p=a(190481),_=a(202281),g=a(959074),h=a(446389),b=a(5727),y=a(729972);const C="manage_subscription_tooltip_confirmation_button",w="manage_subscription_account_recovery_activation_tooltip_description_markup",E="webapp_account_recovery_activation_sidemenu_notification_title",v=({accountButtonSx:e,color:t})=>{const{translate:a}=(0,h.Z)(),{hideRecoveryNotifcation:i}=(0,y.Q)();return(0,b.tZ)(d.ua7,{placement:"bottom",trigger:"persist",portalTarget:document.body,sx:{display:"flex",flexDirection:"column",padding:"16px"},content:(0,b.tZ)(n.Fragment,null,(0,b.tZ)(d.nvN,{color:d.O9T.white,size:"large",sx:{fontWeight:"18px",textAlign:"left"}},a(E)),(0,b.tZ)(d.nvN,{size:"x-small",color:d.O9T.white,sx:{textAlign:"left",padding:"8px 0px 16px 0px"}},a.markup(w)),(0,b.tZ)(d.zxk,{size:"small",sx:{alignSelf:"flex-end"},type:"button",onClick:i},a(C)))},(0,b.tZ)(d.zxk,{sx:{...e,color:t},nature:"ghost",onClick:i,type:"button"},(0,b.tZ)(d.Ejs,{sx:{margin:"0 12px 0 0"}},a("webapp_account_root_header")),(0,b.tZ)(d.veu,{color:t})))};var N,S,I,f,x=a(919005),M=a(907308),T=a(296908),D=a(670138),Z=a(844800),A=a(987364),k=a(913368),O=a(521893);const L="manage_subscription_account_menu_admin_console",z="webapp_account_root_item_lock",j="manage_subscription_account_menu_logout",P="manage_subscription_account_menu_settings",R="manage_subscription_page_title",U="manage_subscription_plan_name_business",B="manage_subscription_plan_name_team",F="manage_subscription_plan_name_advanced",G="manage_subscription_plan_name_essentials",W="manage_subscription_plan_name_family",V="manage_subscription_plan_name_free",H="manage_subscription_plan_name_premium",q="manage_subscription_plan_name_premium_plus",Y="manage_subscription_plan_name_premium_trial",Q={margin:"0 12px 0 0",":hover:enabled:not(:active), :focus:enabled:not(:active)":{background:"transparent",border:`1px solid ${d.O9T.dashGreen05}`}},$=({color:e=d.O9T.dashGreen00})=>{var t,a;const b=(0,_.Y)(),{routes:C,store:w}=(0,g.Xo)(),{translate:E}=(0,h.Z)(),$=(0,D.w)(Z.r),K=(0,T.Hq)(),{lockSession:X}=(0,r.u7)(o.authenticationFlowApi),J=((0,D.w)("onboarding_web_bettertacvaultnav"),null!=(t=(0,x.f)())?t:""),{handleOpenLogoutDialog:ee,openAccountPanel:te,canShowAccountRecoveryNotification:ae,handleClickTeamConsole:ne}=(0,y.Q)(),[ie,se]=(0,n.useState)(!1);if(b.status!==i.rq.Success||!b.data)return null;const re=(0,u.yf)(b.data),oe=(0,u.AF)(b.data),le=null!=(a=w.getState().user?.session?.permissions.tacAccessPermissions.size>0)&&a,ce=(0,u.b1)(b.data),de=re||ce,ue=de&&!oe,me=!de&&!oe;let pe;pe=(0,u.Fz)(b.data)&&"2022_team_starter_tier"===b.data.planName?"Starter":E((e=>{if((0,u.AF)(e)){const t=(0,u.Fz)(e);return t&&(0,u.t0)(t.tier)===s.SpaceTier.Team?B:U}return(0,u.ry)(e)?W:(0,u.LF)(e)?F:(0,u.sZ)(e)?G:(0,u.b1)(e)?Y:(0,u.Tg)(e)?q:(0,u.Sm)(e)?H:V})(b.data));const _e={dropdownElement:{backgroundColor:"ds.container.expressive.neutral.supershy.idle",border:"none",color:"ds.text.neutral.standard",fontSize:"14px",":hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"},":active":{backgroundColor:"ds.container.expressive.neutral.supershy.active"}}};return ae?(0,l.tZ)(v,{accountButtonSx:Q,color:e}):(0,l.tZ)(n.Fragment,null,(0,l.tZ)(d.h_2,{placement:"bottom-end",sx:{width:240,zIndex:99},content:[(0,l.tZ)(d.Ejs,{key:"accountItem",flexDirection:"column",sx:{padding:"16px"},onClick:()=>{}},(0,l.tZ)(m.S,{avatarSize:36,email:J,placeholderFontSize:18,placeholderTextType:"firstTwoCharacters"}),(0,l.tZ)(d.j49,{as:"header",size:"small",color:d.O9T.grey00,sx:{margin:"12px 0 4px"}},E("manage_subscription_account_menu_email")),(0,l.tZ)(d.nvN,{sx:{fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",width:"100%"}},J)),(0,l.tZ)(d.W7o,{"data-testid":"subscriptionItem",fullWidth:!0,key:"subscriptionItem",onClick:()=>{le?(0,p.uX)(C.teamAccountRoutePath):(0,p.uX)(C.userSubscriptionManagement)},sx:_e.dropdownElement},(0,l.tZ)(d.Ejs,{alignItems:"center"},(0,l.tZ)(d.k$b,{sx:{margin:"0 8px 0 0"}},E(R)),(0,l.tZ)(d.j49,{size:"small",sx:{alignItems:"center",background:d.O9T.grey06,borderRadius:"2px",color:de?d.O9T.dashGreen01:d.O9T.grey01,display:"inline-flex",padding:"2px 4px"}},ue?(0,l.tZ)(d.ebt,{size:12,sx:{margin:"0 2px 0 0"}}):null,me?(0,l.tZ)(d.I6Y,{size:12,sx:{margin:"0 2px 0 0"}}):null,pe))),le?(0,l.tZ)(d.W7o,{key:"adminItem",fullWidth:!0,onClick:()=>{(0,O.H)(J,b.data,ne)},sx:{alignItems:"flex-start",..._e.dropdownElement}},(0,l.tZ)(d.Ejs,{sx:{alignItems:"center",lineHeight:"1.25rem"}},(0,l.tZ)("p",{style:{marginRight:"50px"}},E(L)),N||(N=(0,l.tZ)(l.JO,{name:"ArrowRightOutlined",size:"small",color:"ds.text.neutral.standard"})))):null,(0,l.tZ)(d.W7o,{"data-testid":"settingsItem",fullWidth:!0,key:"settingsItem",onClick:()=>{te()},sx:_e.dropdownElement},E(P)),$?(0,l.tZ)(d.W7o,{"data-testid":"dashlane-labs-item",fullWidth:!0,key:"dashlane-labs-item",onClick:()=>{(0,p.uX)(C.dashlaneLabs)},sx:_e.dropdownElement},S||(S=(0,l.tZ)(d.Ejs,{alignItems:"center",gap:"8px"},(0,l.tZ)(d.k$b,null,"Dashlane Labs"),(0,l.tZ)(d.k$b,null,(0,l.tZ)(d.$2U,null))))):null,(0,l.tZ)("hr",{key:"horizontal-divider",sx:{border:"none",borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle",margin:"8px 16px"}}),K?(0,l.tZ)(d.W7o,{fullWidth:!0,key:"lockItem","data-testid":"lockItem",onClick:()=>{(0,A.K)(new c.UserLockAppEvent({})),X()},sx:_e.dropdownElement},(0,l.tZ)(d.Ejs,{sx:{alignItems:"center",lineHeight:"1.25rem"}},I||(I=(0,l.tZ)(l.JO,{name:"LockOutlined",size:"small",color:"ds.text.neutral.standard"})),(0,l.tZ)("p",{style:{marginLeft:"8px"}},E(z)))):null,(0,l.tZ)(d.W7o,{fullWidth:!0,key:"logoutItem","data-testid":"logoutItem",onClick:()=>{(0,M.P)(),ee()},sx:_e.dropdownElement},(0,l.tZ)(d.Ejs,{sx:{alignItems:"center",lineHeight:"1.25rem"}},f||(f=(0,l.tZ)(l.JO,{name:"LogOutOutlined",size:"small",color:"ds.text.neutral.standard"})),(0,l.tZ)("p",{style:{marginLeft:"8px"}},E(j))))]},(0,l.tZ)(d.zxk,{sx:{...Q,color:e},type:"button",nature:"ghost"},(0,l.tZ)(d.Ejs,{sx:{mr:"12px"}},E("webapp_account_root_header")),(0,l.tZ)(d.veu,{color:e}))),ie?(0,l.tZ)(k.i,{showAdminConsoleModal:ie,setShowAdminConsoleModal:se}):null)}},529393:(e,t,a)=>{"use strict";a.d(t,{h:()=>o});var n=a(383849),i=a.n(n),s=a(5727),r=a(708608);const o=({startWidgets:e,endWidget:t,className:a,...n})=>(0,s.tZ)("header",{className:i()("root--m59Holzdbx",a),...n},(0,s.tZ)(r.T5p,{gridAutoFlow:"column",gap:"8px",sx:{height:"100%"}},e?e():null),t?(0,s.tZ)("div",{className:"endWidget--my3Xw4JxNc"},t):null)},119457:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var n=a(696832),i=a(729972),s=a(385462),r=a.n(s);function o(e){const[t,a]=n.useState(!0),{isSidemenuCollapsed:s}=(0,i.Q)();return n.useEffect((()=>{const t=()=>{const t=s?r()["--sidemenu-collapsed-width"]:r()["--sidemenu-uncollapsed-min-width"],n=parseInt(t,10);window.innerWidth-n<e?a(!1):a(!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[e,s]),t}},673093:(e,t,a)=>{"use strict";a.d(t,{m:()=>p});var n=a(696832),i=a(708608),s=a(585921),r=a(927761),o=a(191492),l=a(326093);var c,d,u;class m extends n.Component{constructor(e){super(e),this.copyText=()=>{this.props.data&&navigator.clipboard.writeText(this.props.data).then((()=>{this._onCopyDone(!0)}),(e=>{this._onCopyDone(!1,e)}))},this.scheduleFeedback=()=>{const e=window.setTimeout((()=>{this.setState({showFeedback:!0})}),100),t=window.setTimeout((()=>{this.setState({showFeedback:!1,copySuccess:void 0})}),1300);this.setState({timeoutIds:[e,t]})},this.doCopy=()=>{this.scheduleFeedback(),this.copyText()},this.handleClick=()=>{if(this.props.checkProtected?.()){if(this.props.itemId)return this.props.openProtectedItemsUnlocker({successCallback:()=>this.doCopy(),action:o.P7.Copy,itemType:o.Ru.Password,credentialId:this.props.itemId,showNeverAskOption:!0});var e;if(this.props.itemType!==o.Ru.Password)return this.props.openProtectedItemsUnlocker({successCallback:()=>this.doCopy(),action:o.P7.Copy,itemType:null!=(e=this.props.itemType)?e:o.Ru.BankAccount})}this.doCopy()},this.state={copySuccess:void 0,showFeedback:!1,timeoutIds:[]}}componentWillUnmount(){this.state.timeoutIds.map((e=>window.clearTimeout(e)))}_onCopyDone(e,t){this.state.copySuccess||(this.props.onCopy&&this.props.onCopy(e,t),this.setState({copySuccess:e}))}render(){const e=this.props.translate.namespace("webapp_credential_edition_field_"),t=this.state.showFeedback&&void 0!==this.state.copySuccess,a=this.state.copySuccess?"positive":"danger",r=n.createElement("div",{className:"label--qQbwcp2PRT",title:e("generic_action_copy")},n.createElement("span",null,t||c||(c=n.createElement(i.TIy,null))),n.createElement("div",{className:"iconWrapper--QrynuaFkU4"},t&&(this.state.copySuccess?d||(d=n.createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDE2IDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MC4xICgzMzgwNCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+U2hhcGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFzc3dvcmRzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iV2ViQXBwX3Bhc3N3b3Jkc18xNDQweDkwMF9kZXRhaWxzLWNvcHktZmVlZGJhY2sxX21jX3YzLjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzYwLjAwMDAwMCwgLTM0NC4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPGcgaWQ9IkRldGFpbHMtVmlldyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAwLjAwMDAwMCwgNjAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iRWRpdCI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IkNvbnRlbnQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJQYXNzd29yZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDg4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImJ0bi0tLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyOC4wMDAwMDAsIDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTMyLDE2LjE4IEMzMiwxNi4wNiAzMi4wNjE1Mzg1LDE1Ljg4IDMyLjE4NDYxNTQsMTUuNzYgTDMzLjA0NjE1MzgsMTQuOTIgQzMzLjI5MjMwNzcsMTQuNjggMzMuNjYxNTM4NSwxNC42OCAzMy45MDc2OTIzLDE0LjkyIEwzMy45NjkyMzA4LDE0Ljk4IEwzNy4zNTM4NDYyLDE4LjUyIEMzNy40NzY5MjMxLDE4LjY0IDM3LjY2MTUzODUsMTguNjQgMzcuNzg0NjE1NCwxOC41MiBMNDYuMDMwNzY5MiwxMC4xOCBMNDYuMDkyMzA3NywxMC4xOCBDNDYuMzM4NDYxNSw5Ljk0IDQ2LjcwNzY5MjMsOS45NCA0Ni45NTM4NDYyLDEwLjE4IEw0Ny44MTUzODQ2LDExLjAyIEM0OC4wNjE1Mzg1LDExLjI2IDQ4LjA2MTUzODUsMTEuNjIgNDcuODE1Mzg0NiwxMS44NiBMMzcuOTY5MjMwOCwyMS44MiBDMzcuODQ2MTUzOCwyMS45NCAzNy43MjMwNzY5LDIyIDM3LjUzODQ2MTUsMjIgQzM3LjM1Mzg0NjIsMjIgMzcuMjMwNzY5MiwyMS45NCAzNy4xMDc2OTIzLDIxLjgyIEwzMi4zMDc2OTIzLDE2Ljc4IEwzMi4xODQ2MTU0LDE2LjYgQzMyLjA2MTUzODUsMTYuNDggMzIsMTYuMyAzMiwxNi4xOCBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"})):u||(u=n.createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MC4xICgzMzgwNCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+Q29tYmluZWQgU2hhcGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFzc3dvcmRzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iV2ViQXBwX3Bhc3N3b3Jkc18xNDQweDkwMF9kZXRhaWxzLWNvcHktZmVlZGJhY2syX21jX3YzLjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzYyLjAwMDAwMCwgLTM0NC4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPGcgaWQ9IkRldGFpbHMtVmlldyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAwLjAwMDAwMCwgNjAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iRWRpdCI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IkNvbnRlbnQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJQYXNzd29yZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDg4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImJ0bi0tLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyOC4wMDAwMDAsIDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQwLDE0LjI0NTU4NzcgTDM1Ljg1MzYwNzQsMTAuMDk5MTk1MSBDMzUuNzE4MTUzNSw5Ljk2Mzc0MTIyIDM1LjUwNDc1MjEsOS45Njg3NzQyNCAzNS4zNzAwMjU4LDEwLjEwMzUwMDUgTDM0LjEwMzUwMDUsMTEuMzcwMDI1OCBDMzMuOTc0NjY4OSwxMS40OTg4NTc0IDMzLjk2Njg0NjYsMTEuNzIxMjU4OSAzNC4wOTkxOTUxLDExLjg1MzYwNzQgTDM4LjI0NTU4NzcsMTYgTDM0LjA5OTE5NTEsMjAuMTQ2MzkyNiBDMzMuOTYzNzQxMiwyMC4yODE4NDY1IDMzLjk2ODc3NDIsMjAuNDk1MjQ3OSAzNC4xMDM1MDA1LDIwLjYyOTk3NDIgTDM1LjM3MDAyNTgsMjEuODk2NDk5NSBDMzUuNDk4ODU3NCwyMi4wMjUzMzExIDM1LjcyMTI1ODksMjIuMDMzMTUzNCAzNS44NTM2MDc0LDIxLjkwMDgwNDkgTDQwLDE3Ljc1NDQxMjMgTDQ0LjE0NjM5MjYsMjEuOTAwODA0OSBDNDQuMjgxODQ2NSwyMi4wMzYyNTg4IDQ0LjQ5NTI0NzksMjIuMDMxMjI1OCA0NC42Mjk5NzQyLDIxLjg5NjQ5OTUgTDQ1Ljg5NjQ5OTUsMjAuNjI5OTc0MiBDNDYuMDI1MzMxMSwyMC41MDExNDI2IDQ2LjAzMzE1MzQsMjAuMjc4NzQxMSA0NS45MDA4MDQ5LDIwLjE0NjM5MjYgTDQxLjc1NDQxMjMsMTYgTDQ1LjkwMDgwNDksMTEuODUzNjA3NCBDNDYuMDM2MjU4OCwxMS43MTgxNTM1IDQ2LjAzMTIyNTgsMTEuNTA0NzUyMSA0NS44OTY0OTk1LDExLjM3MDAyNTggTDQ0LjYyOTk3NDIsMTAuMTAzNTAwNSBDNDQuNTAxMTQyNiw5Ljk3NDY2ODkgNDQuMjc4NzQxMSw5Ljk2Njg0NjY1IDQ0LjE0NjM5MjYsMTAuMDk5MTk1MSBMNDAsMTQuMjQ1NTg3NyBMNDAsMTQuMjQ1NTg3NyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"})))),n.createElement("span",{className:"feedbackLegend--wPnY_kXuDN"},t&&this.state.copySuccess&&e("generic_action_copy_feedback_ok")));return n.createElement(i.ua7,{placement:"top",content:e("generic_action_copy")},n.createElement(s.zx,{mood:t?a:"neutral",intensity:t?"catchy":"supershy",disabled:this.props.disabled,onClick:this.handleClick,title:e("generic_action_copy")},r))}}const p=(0,r.DP)((0,l.H)(m))},379380:(e,t,a)=>{"use strict";let n;a.d(t,{Z:()=>n}),function(e){e[e.SHARED_ACCESS=0]="SHARED_ACCESS",e[e.ACCOUNT_DETAILS=1]="ACCOUNT_DETAILS",e[e.LINKED_WEBSITES=2]="LINKED_WEBSITES"}(n||(n={}))},259522:(e,t,a)=>{"use strict";a.d(t,{e:()=>y});var n=a(696832),i=a(708608),s=a(511494),r=a(277786),o=a(446389),l=a(273966),c=a(78740),d=a(959074),u=a(428390),m=a(426025),p=a(630886),_=a(987364);const g=new s.UserCallToActionEvent({callToActionList:[s.CallToAction.AllOffers,s.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:s.CallToAction.AllOffers}),h=new s.UserCallToActionEvent({callToActionList:[s.CallToAction.AllOffers,s.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:s.CallToAction.PremiumOffer}),b=new s.UserCallToActionEvent({callToActionList:[s.CallToAction.AllOffers,s.CallToAction.PremiumOffer],hasChosenNoAction:!0}),y=({isVisible:e,handleDismiss:t})=>{const a=(0,l.B)(),{routes:y}=(0,d.Xo)(),{translate:C}=(0,o.Z)();(0,n.useEffect)((()=>{e&&(0,_.N)(s.PageView.PaywallPasswordLimit)}),[e,_.N]);const w={type:m.w2.PREMIUM_PROMPT,subtype:m.X3.PASSWORD_LIMIT,action:m.nS.GO_PREMIUM};return n.createElement(p.o,{isOpen:e,onRequestClose:()=>{t(),(0,_.K)(b)},showCloseIcon:!0,disableBackgroundPanelClose:!0,title:C("webapp_paywall_password_limit_dialog_header"),footer:n.createElement(i.cNS,{primaryButtonTitle:C("webapp_paywall_upgrade_premium"),primaryButtonOnClick:()=>{var e;const t=null!=(e=a?.subscriptionCode)?e:"",n=(0,c.c)(a?.premiumStatus?.autoRenewInfo);(0,u.HE)("",t,w,!1,n),(0,_.K)(h)},secondaryButtonTitle:C("webapp_paywall_password_limit_dialog_secondary_cta"),secondaryButtonOnClick:()=>{(0,r.Yk)(y.userGoPlans,w),(0,_.K)(g)}})},n.createElement(i.nvN,{color:i.O9T.dashGreen01},C("webapp_paywall_password_limit_dialog_subtitle")))}},63414:(e,t,a)=>{"use strict";a.d(t,{A0:()=>m,dg:()=>p,wV:()=>u});var n=a(617509),i=a(292210),s=a(511494),r=a(616274),o=a(987364),l=a(379380),c=a(658273);const d=["default_category_name_business","default_category_name_email","default_category_name_entertainment","default_category_name_finance","default_category_name_games","default_category_name_media","default_category_name_other","default_category_name_shopping","default_category_name_social","default_category_name_sports","default_category_name_tech","default_category_name_travel","default_category_name_utilities"];function u(e){const t=d.map((t=>e(t)));r.C.setupDefaultCredentialsCategories({categories:t})}const m={"account-details":l.Z.ACCOUNT_DETAILS,"shared-access":l.Z.SHARED_ACCESS,"linked-websites":l.Z.LINKED_WEBSITES},p=async(e,t,a)=>{const l=await(0,c.gm)(r.C)?new i.ParsedURL(e.url).getRootDomain():(0,n.extractRootDomain)(e.url);(0,o.K)(new s.UserCopyVaultItemFieldEvent({itemType:s.ItemType.Credential,field:t,itemId:e.id,isProtected:a})),(0,o.K)(new s.AnonymousCopyVaultItemFieldEvent({itemType:s.ItemType.Credential,field:t,domain:{id:await(0,s.hashDomain)(l),type:s.DomainType.Web}}))}},250866:(e,t,a)=>{"use strict";a.d(t,{CG:()=>l,ZP:()=>c});var n=a(158432),i=a(758887),s=a(73526);const r=i._.ascending,o=(0,n.SP)("credentials",{sortingOptions:{field:"title",direction:r}},[]),l=(o.action("sorting-options-changed",(({state:e,param:t})=>((e=>{localStorage.setItem(s.bC,JSON.stringify(e.sortingOptions))})({...e,sortingOptions:t}),{sortingOptions:t}))),o.action("restore-from-storage",(()=>{const e=localStorage.getItem(s.bC);try{return e?JSON.parse(e):{}}catch(e){return{}}}))),c=o},631069:(e,t,a)=>{"use strict";a.d(t,{z:()=>s});var n=a(154539),i=a(24836);const s=e=>{const{data:t}=(0,i.k$)(n.emailMonitoringApi,"domainIcon",{domain:e});return{icon:null!=t?t:void 0}}},844800:(e,t,a)=>{"use strict";a.d(t,{q:()=>i,r:()=>n});const n="techWeek_web_displayLabs",i="https://forms.gle/SpSK8aNZQaBmMx3D6"},9138:(e,t,a)=>{"use strict";a.d(t,{r:()=>c});var n,i=a(696832),s=a(148038),r=a(46676),o=a(708608),l=a(630886);const c=({layout:e})=>{const[t,a]=i.useState(!1),c=(0,r.m)();if(c.status!==s.rq.Success)return null;if(!c.data)return null;const d="absolute"===e?{position:"absolute",bottom:0}:{};return i.createElement(o.Ejs,{justifyContent:"space-around",sx:d},i.createElement(o.zxk,{type:"button",nature:"ghost",onClick:()=>{a(!0)}},"Show Debug Data"),i.createElement(l.o,{isOpen:t,disableBackgroundPanelClose:!0,onRequestClose:()=>a(!1),"aria-labelledby":"dialogTitle","aria-describedby":"dialogBody",title:"Debug data",footer:i.createElement(o.cNS,{primaryButtonTitle:"Close",primaryButtonOnClick:()=>a(!1),intent:"secondary"})},i.createElement(o.nvN,null,n||(n=i.createElement("strong",null,"Installation ID: "))," ",c.data)))}},714494:(e,t,a)=>{"use strict";a.d(t,{r:()=>o,R:()=>l});var n=a(696832),i=a(851285);const s=({dialogId:e})=>{const t=document.getElementById(null!=e?e:"dashlane-dialog"),{isDialogVisible:a,dialogContent:s}=n.useContext(r);return t&&a&&s?i.createPortal(s,t):null},r=n.createContext({isDialogVisible:!1,dialogContent:null,openDialog:()=>{},closeDialog:()=>{}}),o=({children:e,dialogId:t})=>{const{isDialogVisible:a,dialogContent:i,openDialog:o,closeDialog:l}=(()=>{const[e,t]=n.useState(!1),[a,i]=n.useState(null);return{isDialogVisible:e,dialogContent:a,openDialog:a=>{t(!e),a&&i(a)},closeDialog:()=>{t(!1),i(null)}}})();return n.createElement(r.Provider,{value:{isDialogVisible:a,dialogContent:i,openDialog:o,closeDialog:l}},n.createElement(s,{dialogId:t}),e)},l=()=>n.useContext(r)},369672:(e,t,a)=>{"use strict";a.d(t,{H:()=>i});var n=a(5727);const i=e=>(0,n.tZ)("div",{className:"container--LRZqvAkIza"},(0,n.tZ)("div",{className:"inner--NBIsu4Vwd7"},(0,n.tZ)("div",{className:"icon--isCFEBRoRT"},e.icon),e.title?(0,n.tZ)("h1",{className:"title--f8zF0WcT5H",style:e.titleStyle},e.title):null,(0,n.tZ)("div",{className:"children--H1FjfCUGaW",style:e.childrenStyle},e.children)))},822878:(e,t,a)=>{"use strict";a.d(t,{n:()=>r});var n=a(696832),i=a(708608);var s=a(446389);const r=({id:e,severity:t,message:a,onHide:r})=>{const{translate:o}=(0,s.Z)();return(0,n.useEffect)((()=>{if(!e)return;const t=setTimeout(r,5e3);return()=>clearTimeout(t)}),[e,r]),n.createElement("div",{className:"wrapper--l8s4MddvZj"},n.createElement("div",{className:"popup--mT_Ql0k4sL"},n.createElement(i.bZj,{severity:t,showIcon:!0,closeIconName:t===i.BLW.ERROR?o("_common_alert_dismiss_button"):void 0},a)))}},684756:(e,t,a)=>{"use strict";a.d(t,{e:()=>m});var n=a(696832),i=a(5727),s=a(453576),r=a(139574);const o={EU:"eu",US:"us",UNIVERSAL:"row"},l={FR:"fr",UNIVERSAL:"row"},c={FR:"fr",GB:"uk",US:"us",UNIVERSAL:"row"},d={small:{width:"48",height:"32"},medium:{width:"96",height:"64"},large:{width:"144",height:"96"}},u={driverLicenses:(e,t)=>{var a;let n=null!=(a=o[t])?a:o.UNIVERSAL;return(0,r.S)(s.Country[t])===r.n.EUROPE&&(n=o.EU),`/driver-licenses/${n}-${e}.svg`},fiscalIds:e=>`/fiscal-ids/${e}.svg`,idCards:(e,t)=>{var a;return`/id-cards/${null!=(a=l[t])?a:l.UNIVERSAL}-${e}.svg`},passports:e=>`/passports/${e}.svg`,socialSecurityIds:(e,t)=>{var a;return`/social-security-ids/${null!=(a=c[t])?a:c.UNIVERSAL}-${e}.svg`}},m=(0,n.memo)((({country:e,size:t,type:a})=>{const n="/assets/ids/thumbnails"+u[a](t,e||s.Country.UNIVERSAL);return(0,i.tZ)("img",{src:n,sx:{flexShrink:0},alt:"",width:d[t].width,height:d[t].height})}))},640461:(e,t,a)=>{"use strict";a.d(t,{G4:()=>o,Il:()=>c,Rd:()=>l,bx:()=>s,lt:()=>r});var n=a(453576);const i={passports:{type:"webapp_sidemenu_search_results_ids_passports_fallback_type",default:"webapp_sidemenu_search_results_ids_passports_fallback"},socialSecurityIds:{type:"webapp_sidemenu_search_results_ids_social_security_ids_fallback_type",default:"webapp_sidemenu_search_results_ids_social_security_ids_fallback"},fiscalIds:{type:"webapp_sidemenu_search_results_ids_fiscal_ids_fallback_type",default:"webapp_sidemenu_search_results_ids_fiscal_ids_fallback"},driverLicenses:{type:"webapp_sidemenu_search_results_ids_driver_licences_fallback_type",default:"webapp_sidemenu_search_results_ids_driver_licences_fallback"},idCards:{type:"webapp_sidemenu_search_results_ids_id_cards_fallback_type",default:"webapp_sidemenu_search_results_ids_id_cards_fallback"}},s=(e,t,a)=>t&&t!==n.Country.UNIVERSAL&&t!==n.Country.NO_TYPE?a(i[e].default,{country:a(`country_name_${n.Country[t]}`)}):a(i[e].type),r=e=>{const t=e.country,a=n.Country.US;var i;return t&&null!=(i=n.Country[t])?i:a},o="add",l=new Set([n.Country.AU,n.Country.GB,n.Country.IE,n.Country.NZ,n.Country.CA]);function c(e,t,a){return l.has(a)&&"en"===t?e.replace("license","licence"):e}},966506:(e,t,a)=>{"use strict";a.d(t,{H:()=>s,L:()=>i});var n=a(511494);const i={idCards:n.ItemType.IdCard,driverLicenses:n.ItemType.DriverLicence,fiscalIds:n.ItemType.FiscalStatement,passports:n.ItemType.Passport,socialSecurityIds:n.ItemType.SocialSecurity},s={idCards:n.Field.Number,driverLicenses:n.Field.Number,fiscalIds:n.Field.FiscalNumber,passports:n.Field.Number,socialSecurityIds:n.Field.SocialSecurityNumber}},164671:(e,t,a)=>{"use strict";a.d(t,{V:()=>n});const n={driverLicenses:"driver-licenses",fiscalIds:"fiscal-ids",idCards:"id-cards",passports:"passports",socialSecurityIds:"social-security-ids"}},149558:(e,t,a)=>{"use strict";a.d(t,{gb:()=>i,j6:()=>s,jx:()=>n,oF:()=>o,rC:()=>r,sk:()=>l});const n=["name","idNumber","issueDate","expirationDate","country","spaceId"],i=["name","idNumber","country","spaceId"],s=["name","idNumber","issueDate","expirationDate","country","state","spaceId"],r=["idNumber","teledeclarantNumber","country","spaceId"],o=["name","idNumber","issueDate","expirationDate","country","spaceId","deliveryPlace"];let l;!function(e){e.Small="small",e.Medium="medium",e.Large="large"}(l||(l={}))},562574:(e,t,a)=>{"use strict";a.d(t,{h:()=>l});var n=a(696832),i=a(383849),s=a.n(i),r=a(758887);var o=a(9072);const l=({containerClassName:e,header:t,options:a,onSort:i})=>n.createElement("div",{className:s()(o.Z.row,"header--ILDPm2xWVq",e)},n.createElement("div",{className:o.Z.cellsWrapper},t.map((e=>(e=>{let t=null;if(a){const i=a.direction;t=e.key===a.field?n.createElement("img",{className:"icon--mKqDyELXwn",src:i===r._.descending?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjQiIHZpZXdCb3g9IjAgMCA3IDQiPgogIDxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xLjUsNCBDMS4wNTQ1NDc1Nyw0IDAuODMxNDY0MTc5LDMuNDYxNDI5MDQgMS4xNDY0NDY2MSwzLjE0NjQ0NjYxIEw0LjE0NjQ0NjYxLDAuMTQ2NDQ2NjA5IEM0LjM0MTcwODc2LC0wLjA0ODgxNTUzNjUgNC42NTgyOTEyNCwtMC4wNDg4MTU1MzY1IDQuODUzNTUzMzksMC4xNDY0NDY2MDkgTDcuODUzNTUzMzksMy4xNDY0NDY2MSBDOC4xNjg1MzU4MiwzLjQ2MTQyOTA0IDcuOTQ1NDUyNDMsNCA3LjUsNCBMMS41LDQgWiIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgLTEgNCkiLz4KPC9zdmc+Cg==":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjQiIHZpZXdCb3g9IjAgMCA3IDQiPgogIDxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xLjUsNCBDMS4wNTQ1NDc1Nyw0IDAuODMxNDY0MTc5LDMuNDYxNDI5MDQgMS4xNDY0NDY2MSwzLjE0NjQ0NjYxIEw0LjE0NjQ0NjYxLDAuMTQ2NDQ2NjA5IEM0LjM0MTcwODc2LC0wLjA0ODgxNTUzNjUgNC42NTgyOTEyNCwtMC4wNDg4MTU1MzY1IDQuODUzNTUzMzksMC4xNDY0NDY2MDkgTDcuODUzNTUzMzksMy4xNDY0NDY2MSBDOC4xNjg1MzU4MiwzLjQ2MTQyOTA0IDcuOTQ1NDUyNDMsNCA3LjUsNCBMMS41LDQgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIi8+Cjwvc3ZnPgo=",alt:""}):null}const l=s()(o.Z.cell,e.sortable?"sortableHeader--EJ3izhk8hw":{},e.className);return n.createElement("div",{key:e.key,className:l,"data-testid":e.key,onClick:()=>((e,t,n)=>{if(!a||!i||!n)return;const s={field:e,direction:a.field===e&&a.direction===r._.ascending?r._.descending:r._.ascending};t&&(s.logSubaction=`${t}${s.direction===r._.descending?"Reversed":""}`),i(s)})(e.key,e.logSubaction,e.sortable)},n.createElement("span",{className:o.Z.cellLabel},e.content),t)})(e)))))},912442:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var n=a(5727),i=a(696832),s=a(190481),r=a(383849),o=a.n(r),l=a(956306),c=a(9072);class d extends i.PureComponent{constructor(...e){super(...e),this.row=i.createRef(),this.isElementInViewport=e=>{const t=e.getBoundingClientRect(),a=e.parentNode.getBoundingClientRect();return t.top>=a.top&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)},this.getCellContent=e=>this.props.renderers?.[e.key]?this.props.renderers[e.key].apply(null,e.params):e.content,this.handleClick=e=>{this.props.onClick&&this.props.onClick(e)},this.renderRowLink=(e,t)=>{const a=o()(c.Z.cellsWrapper,c.Z.link,{[c.Z.selected]:this.props.selected});return(0,n.tZ)(s.rU,{className:a,to:t},e)},this.renderRowClick=e=>{const t=o()(c.Z.cellsWrapper,this.props.onClick?c.Z.cellOnClick:"",{[c.Z.selected]:this.props.selected});return(0,n.tZ)("div",{className:t,onClick:this.handleClick},e)}}componentDidMount(){this.ensureVisible()}componentDidUpdate(){this.ensureVisible()}ensureVisible(){this.props.selected&&this.row.current&&!this.isElementInViewport(this.row.current)&&this.row.current?.scrollIntoView(!0)}getActions(){return this.props.actions?(0,n.tZ)("div",{className:c.Z.actionsWrapper},this.props.actions):null}render(){var e;return(0,n.tZ)("li",{ref:this.row,style:this.props.style,className:o()(c.Z.row,l.jK),sx:{"&:hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"}}},null!=(e=this.props.checkable)?e:null,"link"===this.props.type?this.renderRowLink(this.props.data.map((e=>(0,n.tZ)("div",{onClick:this.handleClick,tabIndex:0,key:e.key,className:o()(c.Z.cell,e.className)},this.getCellContent(e)))),this.props.link):this.renderRowClick(this.props.data.map((e=>(0,n.tZ)("div",{tabIndex:0,key:e.key,className:o()(c.Z.cell,e.className)},this.getCellContent(e))))),this.getActions())}}},239051:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(593765),i=a.n(n);function s(e){return i()["--dashlane-secure-notes-icon-background-"+e.toLocaleLowerCase()]}},835147:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(696832),i=a(239051);var s,r=a(469152),o=a.n(r);const l=a(383849),c=({noteType:e,className:t})=>n.createElement("div",{className:l("noteIcon--VHyJK9dlYv",t),style:{backgroundColor:(0,i.Z)(e)}},s||(s=n.createElement(o(),null)))},428390:(e,t,a)=>{"use strict";a.d(t,{HE:()=>r});var n=a(342868),i=(a(238250),a(676025)),s=a(277786);const r=(e,t,a,r,o)=>{const l=`${r?i.lP:i.G9}?${(0,n.stringify)({subCode:t,coupon:e,pricing:o})}`;(0,s.Yk)(l,a)}},913368:(e,t,a)=>{"use strict";a.d(t,{i:()=>g});var n,i=a(696832),s=a(708608),r=a(446389),o=a(277786),l=a(694435),c=a(585921),d=a(521893),u=a(866237),m=a(921431),p=a(202281),_=a(148038);const g=e=>{var t;const{translate:a}=(0,r.Z)(),g=null!=(t=(0,u.f)())?t:"",{handleClickTeamConsole:h}=(0,m.Q)(),b=(0,p.Y)(),y=b.status===_.rq.Success?b.data:void 0;return(0,c.tZ)(s.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:e.showAdminConsoleModal,onClose:()=>e.setShowAdminConsoleModal(!1)},(0,c.tZ)(s.$N8,{title:(0,c.tZ)(c.X6,{color:"ds.text.neutral.catchy",as:"h1",sx:{margin:"0px 15px",fontSize:"25px",fontWeight:"800"}},a("open_admin_console_dialog_title"))}),(0,c.tZ)(s.a7O,null,(0,c.tZ)(c.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},a("open_admin_console_dialog_paragrah")),(0,c.tZ)(c.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},a("open_admin_console_dialog_paragrah_two"))),(0,c.tZ)(s.cNS,{primaryButtonTitle:(0,c.tZ)(i.Fragment,null,(0,c.tZ)("span",{sx:{marginRight:"8px"}},a("team_vault_navigation_dialog_install_cta")),n||(n=(0,c.tZ)(c.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.inverse.catchy"}))),primaryButtonOnClick:()=>{(0,o.Yo)(l.yi)},primaryButtonProps:{type:"button"},secondaryButtonTitle:a("open_admin_console_dialog_skip_btn"),secondaryButtonOnClick:()=>{y?(0,d.H)(g,y,h):(0,o.Yo)(l.xz),e.setShowAdminConsoleModal(!1)}}))}},762863:(e,t,a)=>{"use strict";a.d(t,{zI:()=>T,s_:()=>c,V9:()=>L});var n=a(383849),i=a.n(n),s=a(399651),r=a(373312),o=a(696832),l=a(524853);const c=({children:e,className:t,ignoreClickOutsideClassName:a,ignoreCloseOnEscape:n,onNavigateOut:c})=>((0,o.useEffect)((()=>{const e=setTimeout((()=>{const e=document.getElementsByTagName("aside");e&&e[0]&&e[0].focus()}),200);return()=>{clearTimeout(e)}}),[]),o.createElement(r.j,{onOutsideClick:c,ignoredClassName:a},o.createElement(s.Z,{onEscape:()=>{n||c()}},o.createElement("aside",{className:i()(l.Z.container,t),tabIndex:-1},e))));var d=a(139378),u=a(50415),m=a(782038),p=a(549967),_=a(708608),g=a(585921),h=a(560453),b=a(446389),y=a(673486),C=a(956306);const w={visibleLabel:{opacity:1,top:0,position:"absolute"},hiddenLabel:{display:"none"}},E=({labels:e,visibleLabel:t})=>o.createElement("div",{className:"container--rSu4eqW0cg"},e.map((e=>o.createElement("div",{key:`spacerH_${e}`,className:"spacerH--E42g_bb_rW _spacer--zYu3DV9ErW"},e))),o.createElement("div",{className:"spacerVContainer--dr3RE1_P52"},e.map((e=>o.createElement("div",{key:`spacerV_${e}`,className:"spacerV--EzVGr0FKjn _spacer--zYu3DV9ErW"},e)))),e.map((e=>o.createElement("div",{key:e,style:e===t?w.visibleLabel:w.hiddenLabel},e))));var v=a(385462);const N="actionsContainer--cbj0zi2pPQ";var S;const I=parseInt(a.n(v)()["--transition-duration-slow"],10),f=(0,u.Enum)("close","cancel"),x="webapp_panel_edition_generic_close",M="webapp_panel_edition_generic_cancel_changes",T=({children:e,formId:t,isViewingExistingItem:a,itemHasBeenEdited:n,deleteButtonLabel:i,isCardValid:s=!0,isEditableItem:r=!0,onClickDelete:l,onNavigateOut:u,onSubmit:w,header:v,primaryActions:T,secondaryActions:D,submitPending:Z,submitDisabled:A,ignoreCloseOnEscape:k,withoutCloseButton:O,withoutDeleteButton:L,withoutConfirmationDialog:z,isSomeDialogOpen:j=!1})=>{const{translate:P}=(0,b.Z)(),[R,U]=o.useState(!1),B=()=>r&&n&&s,F=()=>Boolean(r&&(!a||n)),G=e=>{if(!(n&&R||j)&&u){const t=B()?f.cancel:f.close;void 0===e&&"cancel"===t||n&&!z?U(!0):u(t,e)}};return(0,g.tZ)(h.br,null,(0,g.tZ)(c,{onNavigateOut:G,ignoreClickOutsideClassName:C.jK,ignoreCloseOnEscape:k},v,(0,g.tZ)("form",{className:"form--aZO9urdBdj",autoComplete:"off",noValidate:!0,onSubmit:e=>(e.preventDefault(),!w||Z||A||w(e),!1),id:t},e,(0,g.tZ)("div",{className:"alertPopup--HE4FuLRHKN",id:"alert-sidepanel-popup-portal"})),(0,g.tZ)("footer",{className:"actions--L5xv6sT6Vc"},(0,g.tZ)("div",{className:N},(()=>{const e=null!=i?i:P("webapp_panel_edition_generic_delete"),t=a&&r&&!L?[(0,g.tZ)(g.zx,{key:"delete",size:"medium",mood:"neutral",icon:S||(S=(0,g.tZ)(g.JO,{name:"ActionDeleteOutlined"})),layout:"iconLeading",intensity:"quiet",onClick:null!=l?l:d.noop},e)]:[];return D?t.concat(D):t})()),(0,g.tZ)("div",{className:N},(0,g.tZ)(p.Z,{className:"primaryActionsTransitionGroup--fZ7I5UeDxK"},(()=>{const e=null!=T?T:[];return B()?[(0,g.tZ)(m.Z,{classNames:{enter:"primaryActionsEnter--QZkb22ctyd",enterActive:"primaryActionsEnterActive--fRjwdJqxYc",exit:"primaryActionsExit--m9U0D0015_",exitActive:"primaryActionsExitActive--FQnQAkxGUf"},timeout:I,key:"save"},(0,g.tZ)(_.Ejs,null,(0,g.tZ)(g.zx,{type:"submit",size:"medium",sx:{minWidth:"80px"},disabled:Z||A,isLoading:Z,form:t},P("webapp_panel_edition_generic_save_changes")))),...e]:e})()),O?null:(0,g.tZ)(_.Ejs,null,(0,g.tZ)(g.zx,{"data-testid":"detail_panel_close_button","aria-label":F()?P(M):P(x),mood:"neutral",intensity:"quiet",size:"medium",onClick:G},(0,g.tZ)(E,{labels:[P(x),P(M)],visibleLabel:F()?P(M):P(x)}))))),R?(0,g.tZ)(y.a,{onDismissClick:()=>{U(!1)},onConfirmClick:()=>{u(f.cancel)}}):null))};var D=a(5727),Z=a(932954),A=a(283049);const k=({title:e})=>(0,D.tZ)(_.X6q,{size:"small",as:"h2",color:"ds.text.neutral.catchy",className:"title--NTVnvXkToM"},(0,D.tZ)(Z.Z,null,e)),O=({titleDescription:e})=>(0,D.tZ)(Z.Z,{tooltipText:e,sx:{color:"ds.text.neutral.quiet"},className:"titleDescription--NeHRc7qjB7"},e),L=({icon:e,iconBackgroundColor:t,titleDescription:a,title:n,tabs:i,children:s})=>(0,D.tZ)("header",{className:"header--yK2A00jbLd",sx:{backgroundColor:"ds.container.agnostic.neutral.quiet"}},(0,D.tZ)("span",{className:"icon--tAvVGXRrRJ",sx:{backgroundColor:t}},e),(0,D.tZ)("div",{className:"column--W81KAlL1hl"},(0,D.tZ)("span",{className:"headingColumn--YNZZ8JeBYX"},a&&(0,D.tZ)(O,{titleDescription:a}),(0,D.tZ)(k,{title:n}),s),i&&(0,D.tZ)("div",{className:"tabsContainer--C8FbN7UbO9"},(0,D.tZ)(A.m,{tabs:i}))))},383967:(e,t,a)=>{"use strict";a.d(t,{R:()=>h});var n=a(696832),i=a(708608),s=a(148038),r=a(616274),o=a(277786),l=a(446389),c=a(630886),d=a(282002);const u=a(465343),m="missing-url-form",p=({credential:e,onDismiss:t,onSuccess:a})=>{const{translate:s}=(0,l.Z)(),[r,o]=n.useState(!1),[p,_]=n.useState(""),{title:g,login:h,email:b,autoProtected:y,domainIcon:C,sharingStatus:{isShared:w}}=e;return n.createElement(c.o,{isOpen:!0,onRequestClose:t,disableBackgroundPanelClose:!0,footer:n.createElement(i.cNS,{primaryButtonTitle:s(r?"webapp_change_password_dialog_no_website_add_website_submit_confirm_button_label":"webapp_change_password_dialog_no_website_add_website_submit_button_label"),primaryButtonProps:{disabled:!p,form:m,type:"submit"},secondaryButtonTitle:s("webapp_change_password_dialog_no_website_add_website_cancel_button_label"),secondaryButtonOnClick:t,intent:"primary"}),title:s("webapp_change_password_dialog_no_website_title")},n.createElement(i.nvN,{className:"subtitle--nIhTFR8D20"},s("webapp_change_password_dialog_no_website_description")),n.createElement("div",{className:"container--MFY3l8uNj4"},g&&n.createElement(d.Q,{title:g,login:h,email:b,shared:w,autoProtected:y,domainIcon:C,size:d.o.SMALL,className:"credentialInfo--GTEcgmWS_C"}),n.createElement("form",{id:m,role:"form",autoComplete:"off",noValidate:!0,onSubmit:e=>{e.preventDefault(),u.isFQDN(p)||u.isURL(p)||r?a({url:p}):o(!0)}},n.createElement(i.oil,{label:s("webapp_change_password_dialog_no_website_add_website_input_name"),fullWidth:!0,autoFocus:!0,id:"missingWebsite",value:p,onChange:e=>{const t=e.target;_(t.value)},placeholder:s("webapp_change_password_dialog_no_website_add_website_input_placeholder"),"aria-describedby":r?"missingWebsiteFormatError":void 0})),r?n.createElement(i.vDh,{size:"small",severity:"warning",className:"alert--x5VP_nOlR_",title:n.createElement("p",{role:"alert",id:"missingWebsiteFormatError"},s("webapp_change_password_dialog_no_website_add_website_input_format_error"))}):null))};var _=a(982509);const g=({translation:e,domainIcon:t,hostname:a})=>{const[s,,r]=e.split("_"),o=t?.urls["46x30@2x"]||void 0,l=(0,_.d)({backgroundColor:t?.backgroundColor,mainColor:t?.mainColor,iconSource:o});return n.createElement("div",null,s,n.createElement("div",{className:"thumbnailContainer--dVvtwNr7Bf"},n.createElement(i.plG,{size:"xsmall",iconSource:o,backgroundColor:l,text:a})),n.createElement("div",{className:"title--Hm6ZsOgVqP"},a),r)},h=({credentialId:e,dismissCallback:t})=>{const{translate:a}=(0,l.Z)(),d=(e=>(0,s.qr)({queryConfig:{query:r.C.getCredential,queryParam:e},liveConfig:{live:r.C.liveCredential,liveParam:e}},[e]))(e),u=d.status===s.rq.Success&&d.data,m=n.useCallback((()=>{u&&(0,o.Yo)(u.redirectUrl),t()}),[u]);if(!u)return null;if(!u.url)return n.createElement(p,{credential:u,onSuccess:async e=>{await r.C.updateCredential({id:u.id,update:{...e,isUrlSelectedByUser:!0}})},onDismiss:t});const{hostname:_}=new URL(u.url);return n.createElement(c.o,{isOpen:!0,onRequestClose:t,disableBackgroundPanelClose:!0,footer:n.createElement(i.cNS,{primaryButtonTitle:n.createElement(n.Fragment,null,n.createElement("div",{className:"innerIcon--Ojxhkp6Ax2"},n.createElement(i.RTC,{"aria-hidden":"true",color:i.O9T.white})),a("webapp_change_password_dialog_confirm",{domain:_})),primaryButtonOnClick:m,secondaryButtonTitle:a("webapp_change_password_dialog_dismiss"),secondaryButtonOnClick:t,intent:"primary"}),title:a("webapp_change_password_dialog_title")},n.createElement(i.nvN,{color:i.O9T.dashGreen02},a("webapp_change_password_dialog_subtitle")),n.createElement("div",{className:"container--DFtwKS2j86"},n.createElement("ol",{className:"stepsList--X7QhQ3nncy"},n.createElement("li",null,n.createElement(g,{hostname:_,domainIcon:u.domainIcon,translation:a("webapp_change_password_dialog_open_website",{icon:null})})),n.createElement("li",null,a("webapp_change_password_dialog_go_to_settings")),n.createElement("li",null,a("webapp_change_password_dialog_dashlane_auto_replace")))))}},847336:(e,t,a)=>{"use strict";a.d(t,{j:()=>u,y:()=>r});var n=a(469198),i=a(740368),s=a(306661);let r;!function(e){e[e.Compromised=0]="Compromised",e[e.Reused=1]="Reused",e[e.Weak=2]="Weak",e[e.None=3]="None",e[e.NotComputed=4]="NotComputed"}(r||(r={}));const o=(e,t)=>({label:r.Compromised,level:i.r.Compromised,details:{domain:e,date:t}}),l=e=>({label:r.Reused,level:i.r.Warning,count:e}),c=e=>({label:r.Weak,level:i.r.Warning,strength:e}),d=()=>({label:r.None,level:i.r.None}),u=(e,t=s._x.All)=>{if(!(0,n.isEligible)(e))return d();if(!((0,n.isComputed)(e.value.isWeak)||(0,n.isComputed)(e.value.similarCredentialsCount)||(0,n.isComputed)(e.value.compromised)))return{label:r.NotComputed,level:i.r.None};const a=(0,n.unwrapComputedValueOr)(e.value.compromised,{isCompromised:!1}),u=(0,n.isComputedWithValue)(e.value.isWeak,!0),m=(0,n.unwrapComputedValueOr)(e.value.strength,0),p=(0,n.unwrapComputedValueOr)(e.value.similarCredentialsCount,0);switch(t){case s._x.All:return a.isCompromised?o(a.details.title,a.details.date):u?c(m):p>0?l(p):d();case s._x.Compromised:return a.isCompromised?o(a.details.title,a.details.date):d();case s._x.Weak:return u?c(m):d();case s._x.Reused:return p>0?l(p):d();default:return d()}}},89184:(e,t,a)=>{"use strict";a.d(t,{$:()=>s});var n=a(24836),i=a(154539);const s=()=>{const{updateIsCredentialExcluded:e}=(0,n.u7)(i.passwordHealthApi);return{updateIsCredentialExcluded:(t,a)=>{e({credentialId:t,excluded:a})}}}},740368:(e,t,a)=>{"use strict";let n;a.d(t,{r:()=>n}),function(e){e.Warning="warning",e.Compromised="compromised",e.None="none"}(n||(n={}))},306661:(e,t,a)=>{"use strict";a.d(t,{SQ:()=>o,Vl:()=>d,_x:()=>l}),a(461238);var n=a(696832),i=a(148038),s=a(616274),r=a(174071);const o=20;let l;function c(e){switch(e){case l.All:return[{field:"riskLevel",direction:"descend"},{field:"compromisedDate",direction:"descend"},{field:"numberReused",direction:"descend"},{field:"strength",direction:"ascend"}];case l.Compromised:return[{field:"compromisedDate",direction:"descend"}];case l.Excluded:return[];case l.Weak:return[{field:"strength",direction:"ascend"}];case l.Reused:return[{field:"numberReused",direction:"descend"}];default:(0,r.U)(e)}}!function(e){e.All="all",e.Compromised="compromised",e.Weak="weak",e.Reused="reused",e.Excluded="excluded"}(l||(l={}));const d=(e,t,a)=>{const d=n.useRef({items:[],matchingCount:0}),u=function(e){return null===e?[]:[{field:"spaceId",value:e,type:"equals"}]}(e),m={filterToken:{filterCriteria:[...function(e){switch(e){case l.All:return[{field:"isAtRisk",type:"equals",value:!0}];case l.Compromised:return[{field:"isCompromised",type:"equals",value:!0}];case l.Excluded:return[{field:"isExcluded",type:"equals",value:!0}];case l.Reused:return[{field:"isReused",type:"equals",value:!0}];case l.Weak:return[{field:"isWeak",type:"equals",value:!0}];default:(0,r.U)(e)}}(t),...u]},sortToken:{sortCriteria:[...c(t),{field:"title",direction:"ascend"}],uniqField:"id"},limit:a},p=btoa(JSON.stringify(m)),_=(0,i.qr)({queryConfig:{query:s.C.getCredentials,queryParam:m},liveConfig:{live:s.C.liveCredentials,liveParam:p}},[t,e,a]);return _.status===i.rq.Success&&(d.current=_.data),_.status===i.rq.Success||d.current&&a!==o?{status:i.rq.Success,data:d.current}:{status:i.rq.Loading}}},244846:(e,t,a)=>{"use strict";a.d(t,{l:()=>Ee,Z:()=>ve});var n=a(696832),i=a(139378),s=a(148038),r=a(238250),o=a(5727),l=a(708608),c=a(511494),d=a(616274),u=a(737541),m=a(987364),p=a(73526),_=a(145677),g=a(190481),h=a(959074),b=a(758887),y=a(259522),C=a(33658),w=a(210994),E=a(932954),v=a(362211),N=a(617509),S=a(292210),I=a(216530),f=a(282002),x=a(446389),M=a(897347),T=a(658273);const D="dateColumn--xOHe67QYup",Z="passwordColumn--ibAEmvyDWZ",A="itemNameColumn--eqIcwW5vZ3",k="primaryInfo--D1zuLwgNZb",O="credentialInfo--SSBHEt2MQX",L="webapp_password_history_item_some_url_subtitle",z=e=>{const{item:t,onCreateNewCredential:a}=e,{translate:i}=(0,x.Z)(),{routes:s}=(0,g.Xo)(),o=(0,g.k6)(),{pathname:c}=(0,g.TH)(),d=(0,T.nO)();if(t.type===r.PasswordHistoryItemType.Credential){const e=()=>{o.push(s.userVaultItem(t.credentialId,I.VaultItemType.Credential,c)),(0,M.kb)(t.credentialId)},a=t.secondaryInfo||i(L);return n.createElement("div",{className:k,onClick:e},n.createElement(f.Q,{title:t.primaryInfo,login:a,shared:t.sharingStatus.isShared,className:O,domainIcon:t.icons,lightTheme:!0}))}if(u=t.primaryInfo,d?new S.ParsedURL(u).isUrlValid():(0,N.isUrl)(u)){const e=()=>a(t.password,t.primaryInfo),s=i("webapp_password_history_item_some_url_main",{domain:t.primaryInfo}),r=i(L);return n.createElement("div",{className:k,onClick:e},n.createElement(f.Q,{title:s,login:r,className:O,nativeIcon:l.Uci.Generator,lightTheme:!0}))}var u;const m=i("webapp_password_history_item_no_url_main"),p=i("webapp_password_history_item_no_url_subtitle");return n.createElement("div",{className:k,onClick:()=>a(t.password)},n.createElement(f.Q,{title:m,login:p,className:O,nativeIcon:l.Uci.Generator,lightTheme:!0}))};var j=a(927761),P=a(191492);const R="*".repeat(20),U=({item:e,isProtected:t})=>{const[a,i]=n.useState(!1),{translate:s}=(0,x.Z)(),{areProtectedItemsUnlocked:o,openProtectedItemsUnlocker:d}=(0,j.tY)(),u=n.useCallback((a=>a&&t&&!o?(e.type,r.PasswordHistoryItemType.Credential,new Promise(((e,t)=>{d({action:P.P7.Show,itemType:P.Ru.GeneratedPassword,successCallback:e,cancelCallback:t})}))):Promise.resolve()),[o,t,e,d]);return n.createElement(l.WUg,{hidePasswordTooltipText:s("webapp_password_history_item_password_input_hide"),showPasswordTooltipText:s("webapp_password_history_item_password_input_show"),onPasswordVisibilityChanged:a=>{i(a),a&&(0,m.K)(new c.UserRevealVaultItemFieldEvent({field:c.Field.Password,isProtected:t,itemId:e.id,itemType:c.ItemType.Credential}))},onPasswordVisibilityChangeRequest:u,value:a?e.password:R,readOnly:!0})};var B=a(80286),F=a(9072);const G=(0,n.memo)((({item:e,onPasswordCopied:t,onOpenRestorePasswordDialog:a,isProtected:i})=>{const{translate:s}=(0,x.Z)(),{areProtectedItemsUnlocked:c,openProtectedItemsUnlocker:u}=(0,j.tY)(),[m,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{e.type===r.PasswordHistoryItemType.Credential?(async()=>{const t=await d.C.getCredential(e.credentialId),a=t.sharingStatus.isShared&&"limited"===t.sharingStatus.permission;p(!a)})():p(!1)}),[e]);const _=async()=>{const a=await navigator.clipboard.writeText(e.password).then((()=>!0)).catch((e=>((0,B.Z)("[quick-actions-menu]: unable to copy to clipboard",e),!1)));t({success:a,isProtected:i,itemId:e.id})};return(0,o.tZ)(l.Ejs,{alignItems:"center",justifyContent:"center",className:F.Z.cellsWrapper},m?(0,o.tZ)(l.ua7,{content:s("webapp_password_history_quick_action_restore_password_button_tooltip"),placement:"left"},(0,o.tZ)(l.zxk,{type:"button",name:"hiddenAction",nature:"ghost",className:"restoreButton--tIW6CrlT8K",onClick:()=>{a(e)}},(0,o.tZ)(l.wHS,{color:l.O9T.dashGreen00}))):null,(0,o.tZ)(l.ua7,{content:s("webapp_password_history_quick_action_copy_password_button_tooltip"),placement:"left"},(0,o.tZ)(l.zxk,{type:"button",name:"hiddenAction",nature:"ghost",className:"copyButton--DsmI_H7mvR",onClick:()=>{if(i&&!c)return u({action:P.P7.Copy,itemType:P.Ru.GeneratedPassword,successCallback:_});_()}},(0,o.tZ)(l.TIy,{color:l.O9T.dashGreen00}))))}));let W;!function(e){e.All="all",e.Saved="saved",e.Unsaved="unsaved"}(W||(W={}));const V=e=>[{key:"primaryInfo",sortable:!0,content:e("webapp_password_history_column_label_name"),className:A},{key:"password",sortable:!1,content:e("webapp_password_history_column_label_password"),className:Z},{key:"timestamp",sortable:!0,content:e("webapp_password_history_column_label_date"),className:D}],H=(e,t,a)=>{const n=[];return e!==W.All&&n.push({field:"type",value:e===W.Saved?r.PasswordHistoryItemType.Credential:r.PasswordHistoryItemType.Generated,type:"equals"}),a&&n.push({field:"credentialId",type:"equals",value:`{${a}}`}),t&&n.push({value:t,type:"matches"}),n},q=e=>[{field:e.field,direction:"ascending"===e.direction?"ascend":"descend"}],Y=(e,t)=>{if(t.status!==s.rq.Success)return e.type!==r.PasswordHistoryItemType.Credential||e.isProtected;const a=t.data;return e.type===r.PasswordHistoryItemType.Credential&&e.isProtected||a};var Q=a(418402),$=a.n(Q),K=a(369672),X=a(562574),J=a(65489),ee=a(975131),te=a(912442);const ae=({item:e,onPasswordCopied:t,onCreateNewCredential:a,onOpenRestorePasswordDialog:i})=>{const s=(0,ee.q)(),r=((e,t,a,i,s)=>{var r,o;return{renderers:{primaryInfo:()=>r||(r=n.createElement(z,{item:e,onCreateNewCredential:i})),password:()=>o||(o=n.createElement(U,{item:e,isProtected:a})),timestamp:()=>n.createElement(E.Z,null,n.createElement(v.Z,{date:(0,w.Z)(e.timestamp)}))},data:[{key:"primaryInfo",className:A},{key:"password",className:Z},{key:"timestamp",className:D}],actions:n.createElement(G,{item:e,onPasswordCopied:t,onOpenRestorePasswordDialog:s,isProtected:a})}})(e,t,Y(e,s),a,i);return n.createElement(te.Z,{...r,key:e.id})},ne=({isLoading:e,hasNext:t,loadNext:a,hasPrevious:n=!1,loadPrevious:i=(()=>{}),paginatedDataItems:s,onPasswordCopied:r,onCreateNewCredential:c,onOpenRestorePasswordDialog:d})=>(0,o.tZ)(l.Ejs,{flexDirection:"column",sx:{overflow:"hidden"}},(0,o.tZ)(J.v,{hasNext:t,hasPrevious:n,isLoading:e,loadNext:a,loadPrevious:i},s.map((e=>(0,o.tZ)(ae,{key:[e.id,e.timestamp].join(""),item:e,onPasswordCopied:r,onCreateNewCredential:c,onOpenRestorePasswordDialog:d}))))),ie={marginLeft:"auto",marginRight:"16px",paddingBottom:0},se=({activeFilter:e,onFilterChanged:t})=>{const{translate:a}=(0,x.Z)(),n=e=>{let t="";switch(e){case W.All:t="webapp_password_history_filter_all";break;case W.Saved:t="webapp_password_history_filter_saved";break;case W.Unsaved:t="webapp_password_history_filter_unsaved"}return a(t)};return(0,o.tZ)(l.G8v,{sx:ie},Object.keys(W).map((a=>(0,o.tZ)(l.OTy,{key:a,onClick:()=>{t(W[a])},selected:e===W[a],size:"small",label:n(W[a])}))))};var re;const oe=({paginatedData:e,onSort:t,sortingOptions:a,onFilterChanged:i,activeFilter:s,onPasswordCopied:r,onSearchChange:d,onClearSearchChange:u,onCreateNewCredential:p,onOpenRestorePasswordDialog:_,searchWasCleared:g,searchValue:h})=>{const b=(0,n.useRef)(null),{translate:y}=(0,x.Z)(),C=0===e.items.length&&s===W.All&&""===h&&!g,w=0===e.items.length&&""!==h;if(C)return(0,o.tZ)(K.H,{icon:(0,o.tZ)(l.NSO,{size:75,color:l.O9T.dashGreen04})},(0,o.tZ)("p",null,y("webapp_password_history_empty_state_message")));const E="kw_search_string";return(0,o.tZ)(l.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{overflow:"hidden"}},(0,o.tZ)(l.Ejs,{alignItems:"center",sx:{margin:"32px",marginBottom:"20px"}},(0,o.tZ)(l.Ejs,{as:"h2",sx:{color:l.O9T.dashGreen02,textTransform:"uppercase",fontSize:"12px"}},y("webapp_password_history_title")),(0,o.tZ)(se,{activeFilter:s,onFilterChanged:i}),(0,o.tZ)(l.G8v,null,(0,o.tZ)(l.oil,{role:"search",ref:b,value:h,onChange:()=>{d(b.current?.value||"")},placeholder:y("webapp_password_history_search_placeholder"),onClick:()=>{(0,m.K)(new c.UserClickEvent({button:c.Button.SearchBar}))},endAdornment:h.length>0?(0,o.tZ)("button",{className:"clearSearchButton--yqMc06gCgM",onClick:u},(0,o.tZ)(l.Two,{size:20,color:$()["--grey-02"],hoverColor:$()["--grey-01"]})):re||(re=(0,o.tZ)(l.W1M,null))}))),w?null:(0,o.tZ)(X.h,{header:V(y),onSort:t,options:a}),w?(0,o.tZ)(K.H,{icon:(0,o.tZ)(l.Cmj,{size:75,color:l.O9T.dashGreen04})},(0,o.tZ)("span",null,(e=>{const t=y("webapp_password_history_search_result_empty",{query:E}),[a,n]=t.split(E);return(0,o.tZ)("span",null,a,(0,o.tZ)("span",{className:"noSearchResult--qcwmR3UTzm"},e),n)})(h))):(0,o.tZ)(ne,{paginatedDataItems:e.items,hasNext:e.hasNextPage,loadNext:e.loadNextPage,isLoading:e.isNextPageLoading,onPasswordCopied:r,onCreateNewCredential:p,onOpenRestorePasswordDialog:_}))};var le,ce,de,ue=a(529393),me=a(474750),pe=a(77878);const _e=()=>{const{translate:e}=(0,x.Z)(),{routes:t}=(0,g.Xo)();return(0,o.tZ)(ue.h,{sx:{margin:"16px 0"},startWidgets:()=>(0,o.tZ)(l.Ejs,{as:l.X6q,size:"small",alignItems:"center",gap:"20px"},(0,o.tZ)(g.rU,{to:t.userCredentials,"aria-label":e("_common_action_back")},le||(le=(0,o.tZ)(l.xCe,null))),e("webapp_password_history_title")),endWidget:(0,o.tZ)(n.Fragment,null,ce||(ce=(0,o.tZ)(me.D,null)),de||(de=(0,o.tZ)(pe.E,null)))})},ge=({setAsInteracted:e})=>{const{translate:t}=(0,x.Z)();return(0,o.tZ)(l.vDh,{title:t("webapp_password_history_dismissable_infobox_title"),severity:"subtle",size:"descriptive",layout:"inline",actions:[(0,o.tZ)(l.zxk,{type:"button",nature:"primary",key:"primary",onClick:e},t("webapp_password_history_dismissable_infobox_button"))],sx:{margin:"0px 32px 16px 32px"}},t("webapp_password_history_dismissable_infobox_content"))};var he=a(630886),be=a(508159);const ye=({item:e,isOpen:t,onCloseRestorePasswordDialog:a,onPasswordRestored:i})=>{const{translate:s}=(0,x.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:o}=(0,be.t)(),c=(0,ee.q)(),u=Y(e,c),m=()=>{d.C.updateCredential({id:e.credentialId,update:{password:e.password}}).then((t=>i(e,t.success)))};return n.createElement(he.o,{showCloseIcon:!0,title:s("webapp_password_history_quick_action_restore_password_dialog_title"),isOpen:t,onRequestClose:a,footer:n.createElement(l.Ejs,{justifyContent:"end",gap:"8px"},n.createElement(l.zxk,{type:"button",nature:"secondary",onClick:()=>{if(a(),u&&!r)return o({action:P.P7.Copy,itemType:P.Ru.GeneratedPassword,successCallback:m});m()}},s("webapp_password_history_quick_action_restore_password_dialog_button_ok")),n.createElement(l.zxk,{type:"button",onClick:a},s("webapp_password_history_quick_action_restore_password_dialog_button_cancel")))},n.createElement(l.Ejs,{flexDirection:"column",gap:"8px",sx:{width:"576px"}},n.createElement(l.nvN,null,s("webapp_password_history_quick_action_restore_password_dialog_content",{domain:e.primaryInfo}))))},Ce=({success:e,successMessage:t,errorMessage:a,onClose:i})=>{const{translate:s}=(0,x.Z)();return n.createElement(l.YcA,null,n.createElement(l.bZj,{severity:e?l.BLW.SUCCESS:l.BLW.ERROR,closeIconName:s("_common_alert_dismiss_button"),onClose:i},s(e?t:a)))};var we;const Ee=(0,n.createContext)({password:""}),ve=({lee:e,children:t})=>{const{shouldShowAtOrOverLimitContent:a}=(0,_.v0)(),{routes:w}=(0,h.Xo)(),E=(0,g.k6)(),[v,N]=(0,n.useState)({field:"timestamp",direction:b._.descending}),{interacted:S,setAsInteracted:I}=(0,u.d)(r.NotificationName.PasswordHistoryBanner),[f,x]=(0,n.useState)(W.All),[M,T]=(0,n.useState)(""),[D,Z]=(0,n.useState)(""),[A,k]=(0,n.useState)(!1),[O,L]=(0,n.useState)(""),[z,j]=(0,n.useState)(!1),[P,R]=(0,n.useState)(),[U,B]=(0,n.useState)(!1),[F,G]=(0,n.useState)(!1),[V,Y]=(0,n.useState)(!0),[Q,$]=(0,n.useState)(0),[K,X]=(0,n.useState)(!1),[J,ee]=(0,n.useState)(!0),[te,ae]=(0,n.useState)(0),{credentialId:ne}=(0,g.UO)(),ie=(0,n.useRef)({status:s.rq.Loading});(0,n.useEffect)((()=>((0,m.N)(c.PageView.PasswordHistory),(()=>{const e=localStorage.getItem(p.R2);try{if(e){const t=JSON.parse(e);N(t)}}catch(e){}})(),()=>{window.clearTimeout(Q),window.clearTimeout(te)})),[]);const se=(0,n.useMemo)((()=>(0,i.debounce)((e=>{Z(e)}),100)),[]);(0,n.useEffect)((()=>{se(M)}),[se,M]);const re={sortCriteria:q(v),filterCriteria:H(f,D,ne)},le=(0,s.Cc)({batchLiveEndpoint:d.C.livePasswordHistoryBatch,pageEndpoint:d.C.getPasswordHistoryPage,tokenEndpoint:d.C.getPasswordHistoryPaginationToken,tokenEndpointParam:re},[v,f,ne,D]);le.status!==s.rq.Loading&&(ie.current=le);const ce=ie.current.status!==s.rq.Success?null:ie.current.data;return(0,o.tZ)(Ee.Provider,{value:{password:O}},(0,o.tZ)(C.Z,{lee:e,editPanel:t},(0,o.tZ)(l.Ejs,{fullWidth:!0,flexDirection:"column",flexWrap:"nowrap",sx:{height:"100%",overflow:"auto",bg:l.O9T.dashGreen06}},we||(we=(0,o.tZ)(_e,null)),S?null:(0,o.tZ)(ge,{setAsInteracted:I}),(0,o.tZ)(l.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{position:"relative",overflow:"hidden",minWidth:"fit-content",maxWidth:"100%",minHeight:"85%",maxHeight:"100%",bg:"white",borderColor:l.O9T.dashGreen05,borderStyle:"solid",borderWidth:"thin",mx:"32px"}},ce?(0,o.tZ)(oe,{paginatedData:ce,onSort:e=>{N(e),(e=>{localStorage.setItem(p.R2,JSON.stringify(e))})(e)},sortingOptions:v,activeFilter:f,onFilterChanged:e=>{switch(x(e),e){case W.All:(0,m.N)(c.PageView.PasswordHistoryAll);break;case W.Saved:(0,m.N)(c.PageView.PasswordHistorySaved);break;case W.Unsaved:(0,m.N)(c.PageView.PasswordHistoryUnsaved)}},onPasswordCopied:({success:e,isProtected:t,itemId:a})=>{te&&window.clearTimeout(te),X(!0),ee(e),ae(window.setTimeout((()=>{X(!1)}),5e3)),(0,m.K)(new c.UserCopyVaultItemFieldEvent({field:c.Field.Password,isProtected:t,itemType:c.ItemType.Credential,itemId:a}))},onSearchChange:e=>{T(e)},onClearSearchChange:()=>{T(""),Z(""),k(!0)},onCreateNewCredential:(e,t)=>{a?j(!0):(E.push(w.userAddWebsiteCredentialWithPrefilledParameters({website:t})),L(e))},onOpenRestorePasswordDialog:e=>{R(e),B(!0)},searchWasCleared:A,searchValue:M}):null),K?(0,o.tZ)(Ce,{success:J,successMessage:"webapp_password_history_quick_action_copy_password_success_message",errorMessage:"webapp_credentials_quick_actions_copy_password_feedback_not_ok",onClose:()=>X(!1)}):null,F?(0,o.tZ)(Ce,{success:V,successMessage:"webapp_password_history_quick_action_restore_password_success_message",errorMessage:"_common_generic_error",onClose:()=>G(!1)}):null,P&&U?(0,o.tZ)(ye,{isOpen:U,item:P,onCloseRestorePasswordDialog:()=>{B(!1)},onPasswordRestored:(e,t)=>{Q&&window.clearTimeout(Q),G(!0),Y(t),$(window.setTimeout((()=>{G(!1)}),5e3)),t&&(0,m.K)(new c.UserUpdateVaultItemEvent({action:c.Action.Edit,itemId:e.credentialId,itemType:c.ItemType.Credential,space:e.spaceId?c.Space.Professional:c.Space.Personal})),R(void 0)}}):null,(0,o.tZ)(y.e,{isVisible:z,handleDismiss:()=>{j(!1)}}))))}},777352:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});const n={fallback:"#000000",BLACK:"#191919",SILVER:"#A6A6A6",WHITE:"#F5F5F5",RED:"#BD0505",ORANGE:"#F29100",GOLD:"#DFC279",BLUE_1:"#3290CC",BLUE_2:"#105079",GREEN_1:"#008E28",GREEN_2:"#39725E"},i=(e="fallback")=>n[e]},937109:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var n=a(696832),i=a(383849),s=a.n(i),r=a(453576),o=a(777352);var l,c=a(438530),d=a.n(c),u=a(277873),m=a.n(u),p=a(520860),_=a.n(p);const g=e=>{const t=e.paymentCardColor===r.PaymentCardColor.WHITE,a=(0,o.Z)(e.paymentCardColor),i=t?l||(l=n.createElement(_(),null)):n.createElement(m(),{fill:a}),c=n.createElement("div",{className:s()("iconWrapper--gZhAmAvO85",e.className,{"hasWhiteBg--dndpXMEbsZ":t})},n.createElement(d(),{className:"icon--HnCEH4RXcJ"}));return"large"===e.iconSize?c:i}},158668:(e,t,a)=>{"use strict";a.d(t,{Co:()=>n.Co,QR:()=>n.QR,n6:()=>n.n6,qd:()=>n.qd});var n=a(322374)},426025:(e,t,a)=>{"use strict";let n,i,s;a.d(t,{X3:()=>i,nS:()=>s,w2:()=>n}),function(e){e.ADD_NEW_NOTE="add_new_note",e.PREMIUM_PROMPT="premium_prompt",e.SECURE_NOTE="secure_note"}(n||(n={})),function(e){e.DARKWEB_MONITORING="dark_web_monitoring",e.PASSWORD_LIMIT="password_limit",e.SECURE_NOTES="secure_notes",e.SHARING_LIMIT="sharing_limit",e.VPN="vpn"}(i||(i={})),function(e){e.ADD_NEW="add_new",e.CLOSE="close",e.DISPLAY="display",e.GO_ESSENTIALS="go_essentials",e.GO_PLANS="go_plans",e.GO_PREMIUM="go_premium",e.PREMIUM_PROMPT="premium_prompt"}(s||(s={}))},322374:(e,t,a)=>{"use strict";a.d(t,{sW:()=>B,QR:()=>G,qd:()=>R,Co:()=>U,n6:()=>F});var n,i=a(696832),s=a(148038),r=a(174071),o=a(202281),l=a(708608),c=a(511494),d=a(585921),u=a(987364),m=a(373312),p=a(959074),_=a(277786),g=a(446389),h=a(273966),b=a(300697),y=a.n(b),C=a(418402),w=a.n(C),E=a(78740),v=a(428390),N=a(426025),S=a(299620);let I;!function(e){e.Essentials="essentials",e.Premium="premium"}(I||(I={}));const f="webapp_paywall_close",x=e=>{const{target:t,title:a,mode:r,description:b,paywallFeatures:C,closePaywall:x,paywallType:M}=e,{routes:T}=(0,p.Xo)(),{translateWithMarkup:D}=(0,S.Y)(),{translate:Z}=(0,g.Z)(),A=(0,h.B)(),k=(0,o.Y)(),O={[N.X3.SECURE_NOTES]:c.PageView.PaywallSecureNotes,[N.X3.DARKWEB_MONITORING]:c.PageView.PaywallDarkWebMonitoring,[N.X3.VPN]:c.PageView.PaywallVpn,[N.X3.PASSWORD_LIMIT]:c.PageView.PaywallPasswordLimit,[N.X3.SHARING_LIMIT]:c.PageView.PaywallSharingLimit},L=new c.UserCallToActionEvent({callToActionList:[c.CallToAction.AllOffers,c.CallToAction.PremiumOffer],hasChosenNoAction:!0}),z=new c.UserCallToActionEvent({callToActionList:[c.CallToAction.AllOffers,c.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:c.CallToAction.PremiumOffer}),j=new c.UserCallToActionEvent({callToActionList:[c.CallToAction.AllOffers,c.CallToAction.PremiumOffer],hasChosenNoAction:!1,chosenAction:c.CallToAction.AllOffers});if((0,i.useEffect)((()=>{k.status===s.rq.Success&&k.data&&(0,u.N)(O[M])}),[M,k,u.N]),k.status!==s.rq.Success)return null;const P=()=>{"popup"===r&&x&&((0,u.K)(L),x())},R=t===I.Essentials?"webapp_paywall_upgrade_essentials":"webapp_paywall_upgrade_premium";return(0,d.tZ)(l.Ejs,{sx:{position:"absolute",zIndex:y()["--z-index-above-panel"],top:"0px",overflow:"auto",width:"100%",height:"100%",backgroundColor:w()["--transparent-dash-green-00-background-color"]},justifyContent:"center",alignItems:"center"},(0,d.tZ)(m.j,{onOutsideClick:P},(0,d.tZ)(l.Ejs,{sx:{position:"relative",width:["auto","auto","784px"],background:l.O9T.white,borderRadius:"4px",padding:["32px","32px","88px 88px 46px 88px"]},justifyContent:"center",flexDirection:"column"},"popup"===r?(0,d.tZ)("button",{sx:{position:"absolute",cursor:"pointer",background:"transparent",top:"21px",right:"21px"},type:"button","aria-label":Z(f),title:Z(f),onClick:P},(0,d.tZ)(l.Two,{color:l.O9T.dashGreen03})):null,(0,d.tZ)(l.X6q,null,D(a)),(0,d.tZ)("div",{sx:{mt:"8px"}},(0,d.tZ)(l.nvN,{color:l.O9T.dashGreen02},D(b))),(0,d.tZ)("ul",{sx:{mt:"40px"}},C.map((e=>(0,d.tZ)("li",{sx:{mt:"16px",display:"flex",justifyContent:"flex-start",alignItems:"center",svg:{flexShrink:0}},key:e.key},e.icon,(0,d.tZ)("div",{sx:{ml:"16px",lineHeight:"18px"}},(0,d.tZ)(l.nvN,{bold:!0,color:l.O9T.dashGreen00},D(e.title)),(0,d.tZ)("div",{sx:{mt:"4px"}},(0,d.tZ)(l.nvN,{color:l.O9T.dashGreen02},D(e.description)))))))),(0,d.tZ)(l.Ejs,{justifyContent:"flex-end",sx:{mt:"36px",mr:["0px","0px","-44px"],button:{ml:"8px"}}},(0,d.tZ)(d.zx,{onClick:()=>{const e={type:N.w2.PREMIUM_PROMPT,subtype:M,action:N.nS.GO_PLANS};(0,_.Yk)(T.userGoPlans,e),(0,u.K)(j)},mood:"neutral",intensity:"quiet"},Z("webapp_paywall_go_to_plans"),n||(n=(0,d.tZ)(l.RTC,null))),(0,d.tZ)(d.zx,{onClick:()=>{var e;const a=null!=(e=A?.subscriptionCode)?e:"",n=(0,E.c)(A?.premiumStatus?.autoRenewInfo),i=t===I.Essentials,s=i?N.nS.GO_ESSENTIALS:N.nS.GO_PREMIUM,r={type:N.w2.PREMIUM_PROMPT,subtype:M,action:s};(0,v.HE)("",a,r,i,n),(0,u.K)(z)}},Z(R))))))},M=[{icon:i.createElement(l.blU,{size:50,color:l.O9T["--dash-green-02"]}),key:"feature1",title:"webapp_paywall_dark_web_monitor_dialog_feature1_title",description:"webapp_paywall_dark_web_monitor_dialog_feature1_text"},{icon:i.createElement(l._uz,{size:50,color:l.O9T["--dash-green-02"]}),key:"feature2",title:"webapp_paywall_dark_web_monitor_dialog_feature2_title",description:"webapp_paywall_dark_web_monitor_dialog_feature2_text"},{icon:i.createElement(l.tWY,{size:50,color:l.O9T["--dash-green-02"]}),key:"feature3",title:"webapp_paywall_dark_web_monitor_dialog_feature3_title",description:"webapp_paywall_dark_web_monitor_dialog_feature3_text"}],T=({mode:e,closePaywall:t})=>(i.useEffect((()=>{(0,u.N)(c.Page.PaywallDarkWebMonitoring)}),[]),i.createElement(x,{closePaywall:t,description:"webapp_paywall_dark_web_monitor_dialog_subtitle",paywallFeatures:M,mode:e,paywallType:N.X3.DARKWEB_MONITORING,title:"webapp_paywall_dark_web_monitor_dialog_title",target:I.Premium})),D=[{icon:i.createElement(l.kpp,{size:50,color:l.O9T["--dash-green-02"]}),key:"file_storage",title:"webapp_paywall_secure_note_file_storage_title",description:"webapp_paywall_secure_note_file_storage_description"},{icon:i.createElement(l.ROc,{size:50,color:l.O9T["--dash-green-02"]}),key:"folder",title:"webapp_paywall_secure_note_folder_title",description:"webapp_paywall_secure_note_folder_description"},{icon:i.createElement(l.FKb,{size:50,color:l.O9T["--dash-green-02"]}),key:"secure_sharing",title:"webapp_paywall_secure_note_secure_sharing_title",description:"webapp_paywall_secure_note_secure_sharing_description"}],Z=({mode:e,closePaywall:t})=>i.createElement(x,{paywallType:N.X3.SECURE_NOTES,title:"webapp_paywall_secure_note_title",description:"webapp_paywall_secure_note_description",mode:e,closePaywall:t,paywallFeatures:D,target:I.Premium});var A=a(453576),k=a(339702);let O;!function(e){e.FREE="free",e.TRIAL="trial",e.ESSENTIALS="essentials"}(O||(O={}));const L={[O.FREE]:{title:"webapp_paywall_vpn_free_title",description:{key:"webapp_paywall_vpn_free_description_markup",params:{hotspotShield:k.Xj}}},[O.ESSENTIALS]:{title:"webapp_paywall_vpn_essentials_title",description:{key:"webapp_paywall_vpn_essentials_description_markup",params:{hotspotShield:k.Xj}}},[O.TRIAL]:{title:"webapp_paywall_vpn_trial_title",description:"webapp_paywall_vpn_trial_description"}},z=e=>[{icon:i.createElement(l.FjK,{size:50,color:l.O9T["--dash-green-02"]}),key:"privacy_feature",title:`webapp_paywall_vpn_${e}_privacy_feature_title`,description:`webapp_paywall_vpn_${e}_privacy_feature_text`},{icon:i.createElement(l.Gzy,{size:50,color:l.O9T["--dash-green-02"]}),key:"access_content_feature",title:`webapp_paywall_vpn_${e}_access_content_feature_title`,description:`webapp_paywall_vpn_${e}_access_content_feature_text`}],j=({mode:e,closePaywall:t,premiumStatus:a})=>{const n=(e=>e.statusCode===A.PremiumStatusCode.PREMIUM?"essentials"===e.planFeature?O.ESSENTIALS:O.TRIAL:"free_trial"===e.planType?O.TRIAL:O.FREE)(a);return(0,i.useEffect)((()=>{(0,u.N)(c.PageView.PaywallVpn)}),[]),n?i.createElement(x,{closePaywall:t,description:L[n].description,paywallFeatures:z(n),mode:e,paywallType:N.X3.VPN,title:L[n].title,target:I.Premium}):null};var P=a(532704);let R,U;!function(e){e.DarkWebMonitoring="DarkWebMonitoring",e.SecureNote="SecureNote",e.Vpn="Vpn"}(R||(R={})),function(e){e.DataLeak="dataLeak",e.SecureNotes="secureNotes",e.Vpn="secureWiFi"}(U||(U={}));const B={DarkWebMonitoring:"/darkweb-monitoring",SecureNote:"/secure-notes",Vpn:"/vpn"},F=(e,t)=>!t||!t[e]?.enabled,G=({paywall:e,mode:t,children:a,closePaywall:n})=>{const l=(0,o.Y)();if(l.status!==s.rq.Success)return null;if(e)if(e===R.SecureNote){if(F(U.SecureNotes,l.data.capabilities))return i.createElement(Z,{mode:t,closePaywall:n})}else if(e===R.DarkWebMonitoring){if(F(U.DataLeak,l.data.capabilities))return i.createElement(T,{mode:t,closePaywall:n})}else if(e===R.Vpn){if(F(U.Vpn,l.data.capabilities)&&!(0,P.AF)(l.data))return i.createElement(j,{mode:t,closePaywall:n,premiumStatus:l.data})}else(0,r.U)(e);return i.createElement(i.Fragment,null,a)}},33658:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v});var n=a(696832),i=a(772630),s=a(190481),r=a(959074),o=a(616274),l=a(704841),c=a(611792),d=a(453576),u=a(708608),m=a(782038),p=a(210994),_=a(277786),g=a(446389);var h=a(664529),b=a(532704);const y=n.memo((({premiumStatus:e,userGoPremium:t,accountInfo:a})=>{const{translate:i}=(0,g.Z)(),s=n.useMemo((()=>e?.endDate?i.shortDate((0,p.Z)(e.endDate),h._T.LL):""),[e,i]);return n.useMemo((()=>!(0,b.AF)(e)&&e?.autoRenewalFailed&&(e?.statusCode===d.PremiumStatusCode.PREMIUM||e?.statusCode===d.PremiumStatusCode.PREMIUM_CANCELLED)&&e?.endDate&&(e=>{const t=(e=>{const t=new Date(0);return t.setUTCSeconds(e),t.getTime()})(e);return!!e&&t-Date.now()<6048e5})(e.endDate)),[e])?n.createElement("div",{className:"floatingNotificationsContainer--oDgjnF0aJ5"},n.createElement(m.Z,{classNames:{appear:"appear--lWLLvEmJyK",appearActive:"appearActive--Us_yYDvpH8"},timeout:{appear:300,enter:0,exit:0},appear:!0,in:!0},n.createElement(u.vDh,{title:i("webapp_payment_failure_churning_title",{endDate:s}),size:"descriptive",severity:"alert",primary:()=>{const e=t(a.subscriptionCode);(0,_.Yk)(e,{type:"PaymentFailureToast",action:"checkout"})},primaryLabel:i("webapp_payment_failure_churning_cta")}))):null})),C={premiumStatus:{query:o.C.getPremiumStatus,live:o.C.livePremiumStatus},accountInfo:{query:o.C.getAccountInfo}},w={strategies:C},E=(0,l.$)((0,c.i)(y,w),C),v=({editPanel:e,lee:t,children:a})=>{const{routes:o}=(0,r.Xo)();return(0,n.useEffect)((()=>{(0,i.o)(t.carbon)&&(0,s.uX)(o.userUpsell)}),[t,o]),n.createElement(n.Fragment,null,a,n.createElement(E,{userGoPremium:o.userGoPremium}),e)}},673486:(e,t,a)=>{"use strict";a.d(t,{a:()=>o});var n=a(696832),i=a(708608),s=a(630886),r=a(446389);const o=({onConfirmClick:e,onDismissClick:t})=>{const{translate:a}=(0,r.Z)(),o=()=>{t()};return n.createElement(s.o,{isOpen:!0,onRequestClose:o,footer:n.createElement(i.cNS,{primaryButtonTitle:a("webapp_edit_panel_discard_dialog_confirm"),primaryButtonOnClick:()=>{e()},secondaryButtonTitle:a("webapp_edit_panel_discard_dialog_dismiss"),secondaryButtonOnClick:o,secondaryButtonProps:{autoFocus:!0},intent:"danger"}),title:a("webapp_edit_panel_discard_dialog_title")},a("webapp_edit_panel_discard_dialog_subtitle"))}},483296:(e,t,a)=>{"use strict";a.d(t,{Jh:()=>c,Tu:()=>l,ZP:()=>d});var n=a(696832),i=a(383849),s=a.n(i),r=a(50415);const o={smallIcon:"smallIcon--UJTmEMk4LX",largeIcon:"largeIcon--Kabmo_oCBr",headerEditPanelIcon:"headerEditPanelIcon--HCVq_YUbs9",email:"email--W9vGPq9hQd",emailPro:"emailPro--jdVn1P2FkP",address:"address--GDgaEj1y5i",company:"company--Yh9t9M75C4",identity:"identity--drQRpswn5H",phone:"phone--VXJwF3i8VU",phoneFax:"phoneFax--nrPq7KALfI",phoneMobile:"phoneMobile--1gq6VhfI5T",phoneWork:"phoneWork--FLgfk0273N",phoneWorkFax:"phoneWorkFax--x3n6kljjkb",phoneWorkMobile:"phoneWorkMobile--dVhRcSAUWJ",website:"website--drQt6mbdJH"},l=(0,r.Enum)("address","company","email","emailPro","identity","phone","phoneFax","phoneMobile","phoneWork","phoneWorkFax","phoneWorkMobile","website"),c=(0,r.Enum)("smallIcon","largeIcon","headerEditPanelIcon"),d=e=>n.createElement("div",{className:s()(e.className,o[e.iconSize],o[e.iconType])})},3741:(e,t,a)=>{"use strict";a.d(t,{Y8:()=>p,gV:()=>o,go:()=>g,kl:()=>u,o3:()=>c,qS:()=>_,sG:()=>m,tm:()=>d});var n=a(453576),i=a(664529),s=a(651154);const r={FAX:"personal_info_phone_type_fax",LANDLINE:"personal_info_phone_type_landline",MOBILE:"personal_info_phone_type_mobile",WORK_FAX:"personal_info_phone_type_work_fax",WORK_LANDLINE:"personal_info_phone_type_work_landline",WORK_MOBILE:"personal_info_phone_type_work_mobile",DEFAULT_PHONE:"personal_info_phone_type_any",PHONE_NAME:"personal_info_phone_name"};function o(e,t){return e(`header_${t}_new_item_title`)}function l(e,t){switch(t){case n.PhoneType.PHONE_TYPE_FAX:return e(r.FAX);case n.PhoneType.PHONE_TYPE_LANDLINE:return e(r.LANDLINE);case n.PhoneType.PHONE_TYPE_MOBILE:return e(r.MOBILE);case n.PhoneType.PHONE_TYPE_WORK_FAX:return e(r.WORK_FAX);case n.PhoneType.PHONE_TYPE_WORK_LANDLINE:return e(r.WORK_LANDLINE);case n.PhoneType.PHONE_TYPE_WORK_MOBILE:return e(r.WORK_MOBILE);default:return e(r.DEFAULT_PHONE)}}function c(e,t){return t(r.PHONE_NAME,{phoneNumberName:e.name,phoneType:l(t,e.type)})}function d(e,t){return e(r.PHONE_NAME,{phoneNumberName:t.name,phoneType:l(e,t.type)})}function u(e){const{firstName:t,middleName:a,lastName:n,lastName2:i,pseudo:s}=e;let r=[t,a,n,i].filter((e=>!!e)).join(" ");return s&&(r+=r.length>0?` (${e.pseudo})`:`(${e.pseudo})`),r}function m(e){if(!e)return new Date;const t=(0,s.Z)(e,"yyyy-MM-dd",new Date);return"Invalid Date"!==t.toString()?t:new Date(e)}function p(e,t){if(""===t.birthDate)return"";const a=m(t.birthDate),n=e.shortDate(a,i._T.LL);return t.birthDate&&t.birthPlace?`${n}, ${t.birthPlace}`:n}function _(e,t){return[e.addressFull?e.addressFull.split("\n")[0]:"",e.zipCode,e.city,t(`country_name_${e.localeFormat}`)].filter((e=>!!e)).join(", ")}function g(e,t){return e(`country_name_${n.Country[t]}`)}},208938:(e,t,a)=>{"use strict";a.d(t,{ME:()=>o,Ww:()=>l,ZP:()=>c});var n=a(158432),i=a(667211),s=a(250866);const r=(0,n.SP)("webapp",{displayLogoutDialog:!1},[i.Z,s.ZP]),o=r.action("opened-logout-dialog",(()=>({displayLogoutDialog:!0}))),l=r.action("closed-logout-dialog",(()=>({displayLogoutDialog:!1}))),c=r},314312:(e,t,a)=>{"use strict";a.d(t,{Z:()=>jF});var n=a(696832),i=a(190481),s=a(676025),r=a(549967),o=a(782038),l=a(453576),c=a(511494),d=a(708608),u=a(616274),m=a(572960),p=a(630886),_=a(783856),g=a(540124),h=a(745268),b=a(277786),y=a(884076),C=a(196986),w=a(993054),E=a(70396),v=a(987364),N=a(145677),S=a(959074),I=a(43387),f=a(108232),x=a(599943),M=a(704841),T=a(611792),D=a(5727),Z=a(233377),A=a(956306),k=a(762863),O=a(81944);let L;!function(e){e.Root="root",e.AccountDetails="account-details",e.DeviceManagement="device-management",e.SecuritySettings="security-settings",e.ImportExportData="import-export-data",e.AccessAllFeatures="access-all-features"}(L||(L={}));var z=a(9138),j=a(532704),P=a(446389),R=a(24836),U=a(971664),B=a(383849),F=a.n(B);class G extends n.PureComponent{constructor(...e){super(...e),this.state={actionState:this.props.status},this.animationSubscription=null,this.cancelAnimationSubscription=()=>{null!==this.animationSubscription&&clearTimeout(this.animationSubscription)},this.onClick=()=>{"idle"===this.state.actionState&&this.props.onClick()}}componentDidMount(){this.updateActionState()}componentWillUnmount(){this.cancelAnimationSubscription()}componentDidUpdate(e){e.status!==this.props.status&&this.updateActionState()}updateActionState(){const{status:e}=this.props,{actionState:t}=this.state;e!==t&&this.setState({actionState:e},this.checkActionState)}checkActionState(){const{animationDuration:e}=this.props,{actionState:t}=this.state;this.cancelAnimationSubscription(),"success"!==t&&"error"!==t||(this.animationSubscription=window.setTimeout((()=>this.setState({actionState:H.Idle})),e))}render(){const{children:e,animationDuration:t}=this.props,{actionState:a}=this.state,i=F()("button--pFHOCunFpH","loading"===a&&"loading--uKvYW1jlh3","success"===a&&"success--xBJwV9PiOn","error"===a&&"error--BW4Js_QMWe"),s="idle"!==a;return n.createElement("button",{type:"button",className:i,onClick:this.onClick},e,s&&n.createElement("div",{className:"icon--VhdY3bXPR5","data-testid":"syncIcon",style:{animationDuration:"loading"!==a?`${t}ms`:void 0},role:"alert","aria-label":a}))}}G.defaultProps={animationDuration:2e3},a(135758);var W=a(148038),V=a(238250);let H;!function(e){e.Error="error",e.Success="success",e.Loading="loading",e.Idle="idle"}(H||(H={}));const q=e=>{switch(e){case U.SyncStatuses.FAILURE:return H.Error;case U.SyncStatuses.SUCCESS:return H.Success;case U.SyncStatuses.IN_PROGRESS:return H.Loading;default:return H.Idle}},Y=({children:e})=>{const{sync:t}=(0,R.u7)(U.syncApi),{watchNextSync:a,status:i}=(()=>{const e=n.useRef(!1),t=(0,R.k$)(U.syncApi,"syncProgress"),[a,i]=n.useState();return(0,W.lU)((t=>{t===W.ae.KILLED&&e.current&&i(V.SyncStatuses.FAILURE)}),[a]),n.useEffect((()=>{e.current&&t.status===W.rq.Success&&([V.SyncStatuses.SUCCESS,V.SyncStatuses.FAILURE].includes(t.data.status)&&(e.current=!1),i(t.data.status))}),[t]),{watchNextSync:()=>{e.current=!0},status:a}})();return n.createElement(G,{status:q(i),onClick:()=>{a(),t({trigger:c.Trigger.Manual})}},e)},Q="subPanelLinkIcon--jWkDp3MMM5 subPanelIcon--ieCdrdtgeL",$="subPanelLink--frLAm9TZQC",K="subPanelIcon--ieCdrdtgeL";var X,J,ee,te,ae,ne,ie,se,re,oe,le,ce,de,ue,me,pe=a(907308);const _e=d.O9T.grey00,ge=({premiumStatus:e,triggerSwitchPanel:t,onClickLogout:a,onClickTeamConsole:r,onClickFamilyDashboard:o,subCode:u,secureExportEnabled:m})=>{var p;const{translate:_}=(0,P.Z)(),{routes:g,store:h}=(0,i.Xo)();n.useEffect((()=>{(0,v.N)(c.PageView.SettingsGeneral)}),[]);const y=e=>{const a={"account-details":c.PageView.SettingsAccount,"device-management":c.PageView.SettingsDeviceList,"security-settings":c.PageView.SettingsSecurity,"import-export-data":c.PageView.SettingsExport,"access-all-features":c.PageView.SettingsMoreFeatures};(0,v.N)(a[e]),t(e)},C=e=>t=>{(0,b.YT)(e)(t)},w=(0,O.aH)(s.cm,u.valueOr(void 0)),E=null!=(p=h.getState().user?.session?.permissions.tacAccessPermissions.size>0)&&p,N=(0,j.p6)(e),S=e.statusCode===l.PremiumStatusCode.PREMIUM||e.statusCode===l.PremiumStatusCode.NEW_USER||e.statusCode===l.PremiumStatusCode.PREMIUM_CANCELLED||e.statusCode===l.PremiumStatusCode.OLD_ACCOUNT;return n.createElement("section",{className:"rootContainer--bvoDFGhJIQ"},n.createElement("h1",{className:"header--XJbcYFScNj"},_("manage_subscription_account_menu_settings")),E?n.createElement(n.Fragment,null,X||(X=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("button",{type:"button",onClick:()=>{r()}},_("webapp_account_root_go_to_team_admin_console"))))):null,J||(J=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("button",{type:"button",className:$,onClick:()=>y(L.AccountDetails)},_("webapp_account_management_panel_heading"),n.createElement("div",{className:K},ee||(ee=n.createElement(d.veu,{color:_e,rotate:270}))))),n.createElement("li",null,n.createElement("button",{type:"button",className:$,onClick:()=>y(L.DeviceManagement)},_("webapp_account_root_item_device_management"),n.createElement("div",{className:K},te||(te=n.createElement(d.veu,{color:_e,rotate:270}))))),n.createElement("li",null,n.createElement("button",{type:"button",className:$,onClick:()=>y(L.SecuritySettings)},_("webapp_account_root_item_security_settings"),n.createElement("div",{className:K},ae||(ae=n.createElement(d.veu,{color:_e,rotate:270}))))),m&&n.createElement("li",null,n.createElement("button",{type:"button",className:$,onClick:()=>{y(L.ImportExportData)}},_("webapp_account_root_item_import_export_data"),n.createElement("div",{className:K},ne||(ne=n.createElement(d.veu,{color:_e,rotate:270}))))),n.createElement("li",null,n.createElement(i.rU,{to:`${g.importData}`},_("webapp_account_root_import_data"))),N&&n.createElement("li",null,n.createElement("button",{type:"button",className:$,onClick:o},_("webapp_account_root_item_family_dashboard")))),S&&n.createElement(n.Fragment,null,ie||(ie=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement(Y,null,_("webapp_account_root_item_manual_sync"))))),se||(se=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer",onClick:(I={type:"account",action:"referFriend"},e=>{(0,v.K)(new c.UserOpenReferralEvent({})),(0,b.YT)(I)(e)})},_("webapp_account_root_item_refer_a_friend"),n.createElement("div",{className:Q},re||(re=n.createElement(d.RTC,{color:_e}))))),n.createElement("li",null,n.createElement("a",{href:"https://support.dashlane.com/hc",target:"_blank",rel:"noopener noreferrer",onClick:(e=>t=>{(0,v.K)(new c.UserOpenHelpCenterEvent({helpCenterArticleCta:c.HelpCenterArticleCta.HelpCenter})),(0,v.K)(new c.UserOpenHelpCenterEvent({})),(0,b.YT)(e)(t)})({type:"account",action:"helpCenter"})},_("webapp_account_root_item_help_center"),n.createElement("div",{className:Q},oe||(oe=n.createElement(d.RTC,{color:_e})))))),le||(le=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("a",{href:"https://www.dashlane.com/terms",target:"_blank",rel:"noopener noreferrer",onClick:C({type:"account",action:"termsOfService"})},_("webapp_account_root_item_terms"),n.createElement("div",{className:Q},ce||(ce=n.createElement(d.RTC,{color:_e}))))),n.createElement("li",null,n.createElement("a",{href:"https://www.dashlane.com/privacy",target:"_blank",rel:"noopener noreferrer",onClick:C({type:"account",action:"privacyPolicy"})},_("webapp_account_root_item_privacy_policy"),n.createElement("div",{className:Q},de||(de=n.createElement(d.RTC,{color:_e})))))),ue||(ue=n.createElement("hr",null)),n.createElement("ul",null,n.createElement("li",null,n.createElement("button",{type:"button",onClick:()=>((0,pe.P)(),void a())},_("webapp_account_root_item_log_out")))),me||(me=n.createElement(z.r,null)));var I};var he=a(139378),be=a(176644);var ye,Ce=a(385462),we=a.n(Ce);const Ee=parseInt(we()["--edit-panel-animation-duration-enter"],10),ve=({headingText:e,contentClassName:t,onNavigateOut:a,children:i})=>{const s=(0,n.useRef)(null),{translate:r}=(0,P.Z)();return(0,n.useEffect)((()=>{const e=setTimeout((()=>{s.current?.focus()}),Ee);return()=>{clearTimeout(e)}}),[]),n.createElement("section",{className:"container--APpevfQJ2l"},n.createElement("div",{className:"header--EcVkrQN9nR"},n.createElement("button",{type:"button",className:"backButton--XmOS0Bk0LY",onClick:a,"aria-label":r("webapp_account_common_panel_back_button")},ye||(ye=n.createElement(d.veu,{rotate:90}))),n.createElement("h1",{className:"heading--xSY7PGeLoV"},e)),n.createElement("div",{className:F()("content--RYqDETFvMI",t),ref:s,tabIndex:-1},i))};var Ne=a(860964),Se=a.n(Ne);const Ie={container:"container--sgn5i6PANV",deactivate:"deactivate--JNEuLvUGXN",infoContainer:"infoContainer--aJXyG_JoUr",iconContainer:"iconContainer--bjPUlTci6y",textContainer:"textContainer--iuFEpct2H_",propertyLabel:"propertyLabel--D0HDiKzfFh",propertiesWrapper:"propertiesWrapper--VIyPyCxvUc",deactivateButton:"deactivateButton--MsmW0NX8e6",init:"init--dEUeNV1S2w",visible:"visible--M4UTyvGytq",hidden:"hidden--s357JgT3fB",platformIcon:"platformIcon--D1cyNe_3aD",platformIcon_webaccess:"platformIcon_webaccess--jW6sjL09UX",platformIcon_server_tac:"platformIcon_server_tac--cNK1w0sNYG",platformIcon_server_leeloo:"platformIcon_server_leeloo--vej8keJzba",platformIcon_server_leeloo_dev:"platformIcon_server_leeloo_dev--tjH93J066z",platformIcon_server_standalone:"platformIcon_server_standalone--gcdci8Sbxw",platformIcon_server_win:"platformIcon_server_win--BxsF9u5Oo5",platformIcon_server_macosx:"platformIcon_server_macosx--UfLM8aSTI_",platformIcon_server_iphone:"platformIcon_server_iphone--bDOeKccAbf",platformIcon_server_ipad:"platformIcon_server_ipad--rHfVFU8_pe",platformIcon_iphone:"platformIcon_iphone--M0PZZZY30M",platformIcon_server_android:"platformIcon_server_android--YTmYJBo2N5",deactivateConfirmationCTAs:"deactivateConfirmationCTAs--qjwDzl68Cc",date:"date--F52QJGovdy"};var fe;const xe=({actionState:e,handleClick:t})=>{const{translate:a}=(0,P.Z)();return n.createElement("button",{type:"button",className:F()({[Ie.deactivateButton]:!0,[Ie.init]:e===ze.CanRemoveDevice,[Ie.visible]:e===ze.NamedEdited,[Ie.hidden]:e===ze.EditInProgress}),title:a("webapp_account_devices_device_deactivate_tooltip"),onClick:t},fe||(fe=n.createElement(Se(),null)))};var Me=a(815204),Te=a(23003);const De=({onConfirm:e,onCancel:t})=>{const{translate:a}=(0,P.Z)();return n.createElement("div",{className:Ie.deactivateConfirmationCTAs},n.createElement(Te.Z,{size:"small",marginSide:"right",onClick:t,label:a("webapp_account_devices_device_cancel_deactivate_button")}),n.createElement(Me.Z,{size:"small",onClick:e,label:a("webapp_account_devices_device_confirm_deactivate_button")}))};var Ze=a(664529),Ae=a(362211);const ke=({creationDate:e,lastUpdateDate:t})=>{const{translate:a}=(0,P.Z)(),i=a.shortDate;return n.createElement("div",null,n.createElement("div",{className:Ie.propertiesWrapper},n.createElement("span",{className:Ie.propertyLabel},a("webapp_account_devices_device_label_authorized_date")," "),n.createElement("span",{className:Ie.date},i(e,Ze._T.L))),n.createElement("div",{className:Ie.propertiesWrapper},n.createElement("span",{className:Ie.propertyLabel},a("webapp_account_devices_device_label_last_update_time")," "),n.createElement("span",{className:Ie.date},n.createElement(Ae.Z,{date:t}))))};var Oe;!function(e){e[e.Off=0]="Off",e[e.InProgress=1]="InProgress",e[e.Saved=2]="Saved"}(Oe||(Oe={}));const Le=({name:e,onSave:t,onCancel:a,onChange:i,canToggle:s})=>{const{translate:r}=(0,P.Z)(),o=n.createRef(),l=n.useRef(null),[c,d]=n.useState(!1),[u,m]=n.useState(null),[p,_]=n.useState(Oe.Off);n.useEffect((()=>{c&&o.current?.focus()}),[c]),n.useEffect((()=>()=>{l.current&&clearTimeout(l.current)}),[]);const g=()=>{var n;const i=null!=(n=o.current?.value)?n:"",s=i&&i!==e;d(!1),_(s?Oe.InProgress:Oe.Off),s?(m(i),t(i,700),l.current=setTimeout((()=>{m(null),_(Oe.Saved)}),700)):a&&a()},h=()=>{s&&(d(!0),_(Oe.Off),m(null),i&&i())};return n.createElement("div",{className:"wrap--_tt82iYhnp"},c?n.createElement("input",{role:"heading","aria-level":2,type:"text",ref:o,onBlur:()=>g(),onKeyDown:e=>(e=>{"Enter"===e.key&&g()})(e),className:"input--S7p40APuSc",placeholder:r("webapp_account_devices_device_set_name_placeholder"),defaultValue:e}):(()=>{const t=(null!=u?u:e)||r("webapp_account_devices_device_name_unnamed");return n.createElement("h2",{title:t,className:F()({"name--JUIvyhg_q5":!0,"hintEditField--CTrOjmEtcr":p!==Oe.InProgress&&s}),onClick:h},t)})(),n.createElement("div",{className:F()({"wrapIcon--Z_VjOuJquZ":!0,"visible--W9TvHTdrX0":p===Oe.InProgress,"hidden--TTxSQujbL0":p===Oe.Saved})},n.createElement("div",{className:F()({"icon--jxM1YS4rFt":!0,"saved--G1TO4JF9oS":p!==Oe.Off})})))};let ze;!function(e){e[e.CanRemoveDevice=0]="CanRemoveDevice",e[e.NamedEdited=1]="NamedEdited",e[e.EditInProgress=2]="EditInProgress"}(ze||(ze={}));const je=({device:e,onDeactivationRequest:t,isDeactivationRequested:a,hideDeactivationButton:i,onDeactivationCancelled:s,onConfirmedDeactivationRequest:r,onSave:o,onChange:l})=>{const c=n.useRef(null),[d,u]=n.useState(ze.CanRemoveDevice);n.useEffect((()=>()=>{c.current&&clearTimeout(c.current)}),[]);const m=F()(Ie.container,{[Ie.deactivate]:a});return n.createElement("section",{className:m},n.createElement("div",{className:Ie.infoContainer},n.createElement("div",{className:Ie.iconContainer},n.createElement("div",{className:F()(Ie.platformIcon,Ie["platformIcon_"+e.devicePlatform])})),n.createElement("div",{className:Ie.textContainer},e.isCurrentDevice||i?null:n.createElement(xe,{actionState:d,handleClick:()=>t(e.deviceId)}),n.createElement(Le,{canToggle:!a,name:e.deviceName,onCancel:()=>{u(ze.CanRemoveDevice)},onChange:()=>{u(ze.EditInProgress),l&&l()},onSave:(t,a)=>{o&&o(e.deviceId,t),u(ze.EditInProgress),c.current=setTimeout((()=>{d===ze.EditInProgress&&u(ze.NamedEdited)}),2*a)}}),a?n.createElement(De,{key:"deactivation-confirm",onConfirm:()=>r(e.deviceId),onCancel:s}):n.createElement(ke,{creationDate:new Date(e.creationDate),lastUpdateDate:new Date(e.lastUpdateDate)}))))},Pe={exit:"exit--sHMsaBbcB9",exitActive:"exitActive--DIXRXi77UA"},Re=({devices:e,lee:t,onNavigateOut:a})=>{const[i,s]=n.useState(null),[l,c]=n.useState([]);n.useEffect((()=>{u.C.getDevicesList(null).then((a=>{Z.Maybe.maybe(a).caseOf({just:({devicesList:a})=>{(0,he.isEqual)(a,e)||t.dispatchGlobal(be.P6(a))},nothing:()=>{t.reportError(new Error("[Leeloo] Could not retrieve Device list from Carbon"))}})}))}),[]);const{translate:d}=(0,P.Z)(),m=e.filter((e=>!l.some((t=>t===e.deviceId)))),p=(e=>e.map((e=>e)).sort(((e,t)=>{const a=new Date(e.lastUpdateDate).getTime(),n=new Date(t.lastUpdateDate).getTime();return a<n?1:a>n?-1:0})))(m),_=(e,t)=>{u.C.changeDeviceName({deviceId:e,updatedName:t})},g=e=>{s(e)},h=()=>{s(null)},b=e=>{u.C.deactivateDevice({deviceId:e}),c((t=>t.concat(e))),s(null)};return n.createElement(ve,{headingText:d("webapp_account_devices_heading"),onNavigateOut:a},n.createElement("div",{className:"intro--vZnF0f66Wp"},n.createElement("p",null,d("webapp_account_devices_intro_list"))),m.length?n.createElement(r.Z,{component:"ul"},(e=>{const t=Boolean(i);return e.map((e=>{const a=i===e.deviceId;return n.createElement(o.Z,{classNames:{...Pe},enter:!1,timeout:200,key:"device-"+e.deviceId},n.createElement("li",null,n.createElement(je,{device:e,onSave:_,onDeactivationRequest:g,hideDeactivationButton:t,isDeactivationRequested:a,onDeactivationCancelled:h,onConfirmedDeactivationRequest:b})))}))})(p)):n.createElement("div",{className:"empty--matzR59l9g"},d("webapp_account_devices_empty_list")))};var Ue=a(585921),Be=a(670138);const Fe="mpless_web_account_recovery_key_dev",Ge=/.{1,4}/g;function We(){const e=(0,Be.w)("SAEXAccountRecoveryv3"),t=(0,W.qr)({queryConfig:{query:u.C.getIsRecoveryEnabled}},[]);return e&&t.status===W.rq.Success&&t.data}var Ve;const{grey05:He}=d.O9T,qe=({sectionTitle:e,action:t,children:a,isBeta:n})=>(0,D.tZ)(d.T5p,{gap:"8px",sx:{p:"32px",pt:"0"},gridTemplateColumns:"auto"},(0,D.tZ)("hr",{sx:{border:"none",borderTop:`1px solid ${He}`,mb:"8px",mt:0,width:"100%"}}),e?(0,D.tZ)(d.Ejs,{as:"header",alignItems:"center",flexDirection:"row",flexWrap:"nowrap",fullWidth:!0,gap:"8px",justifyContent:"space-between"},(0,D.tZ)(d.X6q,{size:"x-small",as:"h2"},e),t):null,n?Ve||(Ve=(0,D.tZ)(d.dDn,{justifySelf:"flex-start"},(0,D.tZ)(d.Cts,{intent:"info"},"BETA"))):null,a),Ye=({showAdminRecoveryHelp:e})=>{const{translate:t}=(0,P.Z)(),a=(0,W.qr)({queryConfig:{query:u.C.getRecoveryOptInSetting}},[]),[i,s]=n.useState(!1),[r,o]=n.useState(!1);return n.useEffect((()=>{const e=a.status===W.rq.Success&&a.data;o(a.status===W.rq.Loading),s(e)}),[a]),n.createElement(qe,{sectionTitle:t("webapp_account_security_settings_account_recovery_setting_title"),action:n.createElement(Ue.ZD,{disabled:r,id:"account-recovery-optin",checked:i,onChange:async e=>{const t=e.currentTarget.checked;s(t),o(!0),t?await u.C.activateAccountRecovery():await u.C.deactivateAccountRecovery(),o(!1)},"aria-label":t("webapp_account_security_settings_account_recovery_setting_toggle_aria_label")})},n.createElement("div",{className:"accountRecoverySection--e0a6egTSEW"},n.createElement(Ue.Ct,{label:t("_common_settings_web_only_feature_badge")}),n.createElement("label",{htmlFor:"account-recovery-optin",className:"accountRecoverySectionLabel--eSN6MzxOj5"},t("webapp_account_security_settings_account_recovery_setting_desc")),n.createElement(d.rUS,{href:"#",role:"button",color:d.O9T.midGreen00,className:"linkButton--rjnsna_uVs",onClick:t=>{t.preventDefault(),e()}},n.createElement("span",{className:"linkButtonContent--U8t2CIon2j"},t("webapp_account_security_settings_account_recovery_setting_help_link")),n.createElement("span",{"aria-hidden":"true"},n.createElement(d.jcJ,{size:12,color:d.O9T.midGreen00})))))},Qe=({content:e,header:t,number:a})=>n.createElement("div",{className:"accountRecoveryHelpSection--uXUM7WNpWs"},n.createElement("span",{className:"number--qJ96cR6NZx"},a),n.createElement("section",null,n.createElement("h3",null,t),n.createElement("p",null,e))),$e=({onNavigateOut:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(ve,{headingText:t("webapp_account_security_settings_account_recovery_setting_title"),onNavigateOut:e},(0,D.tZ)(qe,{sectionTitle:t("webapp_account_security_settings_account_recovery_help_title")},(0,D.tZ)("p",{className:"intro--xk47bt1VPF"},t("webapp_account_security_settings_account_recovery_help_intro")),(0,D.tZ)("div",null,(0,D.tZ)(d.X6q,{size:"x-small",as:"h2"},t("webapp_account_security_settings_account_recovery_help_subtitle")),(0,D.tZ)("p",null,t("webapp_account_security_settings_account_recovery_help_content")),(0,D.tZ)(Qe,{number:1,header:t("webapp_account_security_settings_account_recovery_help_section_one_header"),content:t("webapp_account_security_settings_account_recovery_help_section_one_content")}),(0,D.tZ)(Qe,{number:2,header:t("webapp_account_security_settings_account_recovery_help_section_two_header"),content:t("webapp_account_security_settings_account_recovery_help_section_two_content")}),(0,D.tZ)(Qe,{number:3,header:t("webapp_account_security_settings_account_recovery_help_section_three_header"),content:t("webapp_account_security_settings_account_recovery_help_section_three_content")}),(0,D.tZ)(Qe,{number:4,header:t("webapp_account_security_settings_account_recovery_help_section_four_header"),content:t("webapp_account_security_settings_account_recovery_help_section_four_content")}))))};var Ke=a(331628);const Xe="webapp_account_recovery_key_third_step_wrong_key_error";var Je=a(317894),et=a.n(Je);const tt={container:"container--M0Pyd1Y2Yl",_field:"_field--FFzjkl_Waa",input:"input--K7r4YNCO8r _field--FFzjkl_Waa",placeholder:"placeholder--CJMtmx2Js_",textarea:"textarea--uikCIudKux",text:"text--LYgitaGXzx",value:"value--Sadjc5Ctg6"},at=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))},nt=({value:e,error:t,onChange:a})=>{const{translate:i}=(0,P.Z)(),s={id:"recovery-key-input",autoComplete:"off",className:F()(tt.input,{[tt.error]:Boolean(t)}),sx:{...t&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:t?"ds.border.danger.standard.idle":"ds.border.neutral.quiet.idle"},type:"text",placeholder:i("webapp_account_recovery_key_input_placeholder")},r=(0,Ue.tZ)(et(),{maskChar:"",mask:"****-****-****-****-****-****-****",onCopy:()=>at(e),onCut:()=>at(e),onChange:a,value:e},(e=>(0,Ue.tZ)("input",{...s,...e})));return(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.nvN,{size:"x-small",sx:{textTransform:"uppercase",fontWeight:600}},i("webapp_account_recovery_key_input_label")),(0,Ue.tZ)("div",{className:F()(tt.container)},r),t?(0,Ue.tZ)(d.nvN,{size:"x-small",color:"ds.text.danger.quiet"},t):null)},it=({recoveryKey:e,goToNextStep:t,goToPrevStep:a})=>{const{translate:i}=(0,P.Z)(),{inputValue:s,inputError:r,isInputValid:o,handleChangeInputValue:l}=function(e){const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(""),[s,r]=(0,n.useState)("");return{inputValue:a,inputError:s,isInputValid:28===a.length&&!s,handleChangeInputValue:a=>{const n=("string"==typeof a?a:a.target.value).replaceAll("-","").toUpperCase();r(""),28===n.length&&n!==e&&r(t(Xe)),i(n)}}}(null!=e?e:"");return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,D.tZ)(d.$N8,null,(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},i("webapp_account_recovery_key_third_step_title"))),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{sx:{marginBottom:"26px"}},i("webapp_account_recovery_key_third_step_description")),(0,D.tZ)(nt,{value:s,onChange:l,error:r})),(0,D.tZ)(d.cNS,null,(0,D.tZ)(Ue.zx,{intensity:"quiet",mood:"neutral",sx:{marginRight:"8px"},onClick:()=>{a()}},i("_common_action_go_back")),(0,D.tZ)(Ue.zx,{mood:"brand",disabled:!o,onClick:()=>{t()}},i("_common_action_continue"))))},st=({recoveryKey:e,goToNextStep:t})=>{var a;const{translate:i}=(0,P.Z)(),s=(null!=(a=(null!=e?e:"").match(Ge))?a:[]).map(((e,t)=>(0,D.tZ)(d.Ejs,{key:t,flexDirection:"row"},(0,D.tZ)(d.nvN,{sx:{fontFamily:"monospace"}},e),6!==t&&(0,D.tZ)(d.nvN,{sx:{fontFamily:"monospace"},color:"ds.text.warning.standard"},"-"))));return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,D.tZ)(d.$N8,null,(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},i("webapp_account_recovery_key_second_step_title"))),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard"},i("webapp_account_recovery_key_second_step_description")),(0,D.tZ)(d.nvN,{sx:{display:"flex",flexDirection:"row",background:"ds.container.agnostic.neutral.quiet",borderRadius:"10px",margin:"16px 0",padding:"16px"}},s),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard"},i("webapp_account_recovery_key_second_step_helper_text"))),(0,D.tZ)(d.cNS,null,(0,D.tZ)(Ue.zx,{mood:"brand",onClick:()=>{t()}},i("_common_action_continue"))))},rt=({goToNextStep:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,D.tZ)(d.$N8,null,(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},t("webapp_account_recovery_key_first_step_title"))),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard"},t("webapp_account_recovery_key_first_step_description"))),(0,D.tZ)(d.cNS,null,(0,D.tZ)(Ue.zx,{mood:"brand",onClick:()=>{e()}},t("webapp_account_recovery_key_first_step_generate_key"))))},ot=({onClose:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.rE2,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.X6q,{color:"ds.text.neutral.catchy",sx:{fontSize:"32px",fontWeight:500,marginBottom:"16px"}},t("webapp_account_recovery_key_fourth_step_description"))),(0,D.tZ)(d.cNS,null,(0,D.tZ)(Ue.zx,{mood:"brand",onClick:e},t("_common_dialog_done_button"))))},lt=({error:e})=>n.createElement(n.Fragment,null,n.createElement(d.enX,{size:62,color:d.O9T.functionalRed02,sx:{margin:"10px 0 30px 0"}}),n.createElement(d.a7O,null,n.createElement(d.nvN,{color:d.O9T.dashGreen01},e))),ct=({requestActivation:e,cancelActivation:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,D.tZ)(d.$N8,null,(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},a("webapp_account_recovery_key_generate_new_key_title"))),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard"},a("webapp_account_recovery_key_generate_new_key_description"))),(0,D.tZ)(d.cNS,null,(0,D.tZ)(Ue.zx,{intensity:"quiet",mood:"neutral",sx:{marginRight:"8px"},onClick:()=>{t()}},a("_common_action_cancel")),(0,D.tZ)(Ue.zx,{mood:"brand",onClick:()=>{e()}},a("webapp_account_recovery_key_first_step_generate_key"))))},dt=({goToPrevStep:e,onClose:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,D.tZ)(d.$N8,null,(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},a("webapp_account_recovery_key_cancel_generate_new_key_title"))),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard"},a("webapp_account_recovery_key_cancel_new_key_description"))),(0,D.tZ)(d.cNS,null,(0,D.tZ)(Ue.zx,{intensity:"quiet",mood:"neutral",sx:{marginRight:"8px"},onClick:()=>{e()}},a("_common_action_go_back")),(0,D.tZ)(Ue.zx,{mood:"brand",onClick:t},a("webapp_account_recovery_key_cancel_new_key_button"))))},ut=({onClose:e})=>{var t,a,n,i;const{translate:s}=(0,P.Z)(),{goToActivationNextStep:r,goToActivationPrevStep:o,requestActivation:l,confirmActivation:c,cancelActivation:u,cancelGeneration:m}=(0,R.u7)(Ke.accountRecoveryKeyApi),p=(0,R.k$)(Ke.accountRecoveryKeyApi,"activationFlowStatus"),_=()=>{u(),e()};return(0,D.tZ)(d.VqE,{isOpen:!0,modalContentClassName:F()(A.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:s("_common_dialog_dismiss_button"),onClose:_},(()=>{switch(p.data?.step){case Ke.ActivationFlowViewStep.InitActivation:return t||(t=(0,D.tZ)(rt,{goToNextStep:l}));case Ke.ActivationFlowViewStep.DisplayKey:return(0,D.tZ)(st,{...p.data,goToNextStep:r});case Ke.ActivationFlowViewStep.ConfirmKey:return(0,D.tZ)(it,{...p.data,goToNextStep:c,goToPrevStep:o});case Ke.ActivationFlowViewStep.ActivationDone:return a||(a=(0,D.tZ)(ot,{onClose:_}));case Ke.ActivationFlowViewStep.ShowError:return(0,D.tZ)(lt,{...p.data});case Ke.ActivationFlowViewStep.GenerateNewKey:return n||(n=(0,D.tZ)(ct,{requestActivation:l,cancelActivation:m}));case Ke.ActivationFlowViewStep.CancelGenerateNewKey:return i||(i=(0,D.tZ)(dt,{goToPrevStep:o,onClose:_}));default:return}})())},mt=({onClose:e})=>{const{translate:t}=(0,P.Z)(),{deactivate:a}=(0,R.u7)(Ke.accountRecoveryKeyApi);return(0,D.tZ)(d.VqE,{isOpen:!0,modalContentClassName:F()(A.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:t("_common_dialog_dismiss_button"),onClose:e},(0,D.tZ)(d._m8,{size:77,color:"ds.text.brand.quiet",sx:{margin:"10px 0 30px 0"}}),(0,D.tZ)(d.$N8,null,(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{marginBottom:"16px"}},t("webapp_account_recovery_key_deactivation_title"))),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard"},t("webapp_account_recovery_key_deactivation_description"))),(0,D.tZ)(d.cNS,null,(0,D.tZ)(Ue.zx,{intensity:"quiet",mood:"neutral",sx:{marginRight:"8px"},onClick:e},t("_common_action_cancel")),(0,D.tZ)(Ue.zx,{mood:"brand",onClick:()=>{a({reason:"SETTINGS"}),e()}},t("webapp_account_recovery_key_deactivation_turn_off"))))},pt=()=>{const{translate:e}=(0,P.Z)(),t=(0,R.k$)(Ke.accountRecoveryKeyApi,"accountRecoveryKeyStatus"),a=t.data?.isEnabled,[i,s]=(0,n.useState)(void 0);return n.createElement(n.Fragment,null,n.createElement(qe,{sectionTitle:e("webapp_account_security_settings_account_recovery_section_recovery_key_title"),action:n.createElement(Ue.ZD,{id:"recovery-key-toggle",checked:a,onChange:()=>{s(a?"accountRecoveryKeyDeactivation":"accountRecoveryKeyActivation")}})},n.createElement("div",{style:{fontSize:"12px",marginBottom:"14px"}},n.createElement("label",{htmlFor:"recovery-key-toggle"},e("webapp_account_security_settings_account_recovery_section_recovery_key_description"))),a?n.createElement(Ue.zx,{intensity:"quiet",mood:"neutral",size:"small",onClick:()=>{s("accountRecoveryKeyActivation")}},e("webapp_account_security_settings_account_recovery_section_recovery_key_generate")):null),"accountRecoveryKeyActivation"===i?n.createElement(ut,{onClose:()=>s(void 0)}):null,"accountRecoveryKeyDeactivation"===i?n.createElement(mt,{onClose:()=>s(void 0)}):null)},_t=()=>{const{translate:e}=(0,P.Z)();return(0,Ue.tZ)(qe,{sectionTitle:e("webapp_account_security_settings_account_recovery_section_biometric_recovery_title")},(0,Ue.tZ)("div",{sx:{fontSize:"12px"}},(0,Ue.tZ)(Ue.Ct,{label:e("_common_settings_mobile_only_feature_badge")}),(0,Ue.tZ)("label",{style:{display:"block",marginTop:"16px"}},e("webapp_account_security_settings_account_recovery_section_biometric_recovery_description"))))};var gt,ht,bt;var yt;!function(e){e[e.Root=0]="Root",e[e.AdminRecoveryHelpPanel=1]="AdminRecoveryHelpPanel"}(yt||(yt={}));const Ct=({onNavigateOut:e})=>{const t=(0,Be.w)(Fe),a=We(),[i,r]=(0,n.useState)(yt.Root),{translate:o}=(0,P.Z)();return t&&i!==yt.AdminRecoveryHelpPanel?n.createElement(ve,{headingText:o("webapp_account_security_settings_account_recovery_section_title"),onNavigateOut:e},gt||(gt=n.createElement(pt,null)),a?n.createElement(Ye,{showAdminRecoveryHelp:()=>{r(yt.AdminRecoveryHelpPanel)}}):null,ht||(ht=n.createElement(_t,null)),n.createElement(qe,null,n.createElement(d.rUS,{target:"_blank",href:s.rI,color:"ds.text.brand.standard",style:{display:"flex",alignItems:"end"}},n.createElement("span",{style:{marginRight:"6px",fontWeight:"normal"}},o("webapp_account_security_settings_account_recovery_section_help_link")),bt||(bt=n.createElement(Ue.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.brand.standard"}))))):n.createElement($e,{onNavigateOut:()=>{t?r(yt.Root):e()}})};var wt;const Et=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.Ejs,{sx:{color:d.O9T.black,marginTop:"32px"},alignItems:"center"},wt||(wt=(0,D.tZ)(d.yLQ,null)),(0,D.tZ)("span",{sx:{paddingLeft:"13px"}},e("webapp_account_security_settings_2fa_authenticator_app_value"))))},vt=({recoveryPhone:e})=>(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.oil,{sx:{marginTop:"15px"},value:e,disabled:!0}));var Nt;const St=({twoFactorAuthenticationMode:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.Ejs,{sx:{marginTop:"20px"},alignItems:"center"},Nt||(Nt=(0,D.tZ)(d.mBM,null)),(0,D.tZ)(d.nvN,{sx:{paddingLeft:"11px",flex:1},color:d.O9T.black},t(e===V.TwoFactorAuthenticationType.DEVICE_REGISTRATION?"webapp_account_security_settings_2fa_security_level_value":"webapp_account_security_settings_2fa_security_level_value_login"))))};var It,ft=a(526849),xt=a(210994);const Mt="webapp_account_security_settings_2fa_u2f_menu_title",Tt=({name:e,creationDateUnix:t,keyHandle:a,onRemoveAuthenticator:n})=>{const{translate:i}=(0,P.Z)(),s=(0,xt.Z)(t),r=(0,D.tZ)(d.W7o,{onClick:()=>{n(a)}},(0,D.tZ)(d.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center"},(0,D.tZ)(d.XHJ,{sx:{marginRight:"8px"},size:16,"aria-hidden":"true"}),(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.dashGreen00,bold:!0},i("webapp_account_security_settings_2fa_u2f_menu_delete"))));return(0,D.tZ)(d.Ejs,{sx:{color:d.O9T.black,marginTop:"30px",width:"100%",flexWrap:"nowrap",flexDirection:"row",alignItems:"center"}},(0,D.tZ)("div",{sx:{flexGrow:0,paddingRight:"13px"}},(0,D.tZ)(d.Exr,{color:d.O9T.grey01})),(0,D.tZ)("div",{sx:{flexGrow:1,overflow:"hidden"}},(0,D.tZ)(d.nvN,{color:d.O9T.grey01,sx:{marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},e),(0,D.tZ)(d.nvN,{color:d.O9T.grey01,size:"x-small"},i("webapp_account_security_settings_2fa_u2f_added_date",{date:i.shortDate(new Date(s),"MMM dd, yyyy"),time:i.shortDate(new Date(s),"h:mma").toLowerCase()}))),(0,D.tZ)("div",{sx:{flexGrow:0}},(0,D.tZ)(d.h_2,{offset:[0,4],placement:"bottom-end",content:r},(0,D.tZ)(d.hU,{type:"button",size:"small","aria-label":i(Mt),title:i(Mt),icon:It||(It=(0,D.tZ)(d.YAX,{size:20,rotate:90}))}))))},Dt=({handleClickOnSubmit:e,handleClickOnBack:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)("div",{sx:{maxWidth:"576px"}},(0,D.tZ)(d.$N8,{title:a("webapp_u2f_remove_authenticator_warning_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen01},a("webapp_u2f_remove_authenticator_warning_description"),(0,D.tZ)(d.vDh,{severity:"warning",size:"small",title:a("webapp_u2f_remove_authenticator_warning_content"),sx:{marginTop:"15px"}}))),(0,D.tZ)(d.cNS,{primaryButtonTitle:a("webapp_u2f_remove_authenticator_warning_button"),primaryButtonOnClick:e,primaryButtonProps:{theme:"warning"},secondaryButtonTitle:a("_common_action_cancel"),secondaryButtonOnClick:t}))},Zt=(e,t,a)=>(0,v.K)(new c.UserChangeTwoFactorAuthenticationSettingEvent({flowStep:e,flowType:t,errorName:a})),At=Zt.bind(null,c.FlowStep.Start,c.FlowType.Activation),kt=e=>Zt(c.FlowStep.Error,c.FlowType.Activation,e),Ot=Zt.bind(null,c.FlowStep.Complete,c.FlowType.Activation),Lt=Zt.bind(null,c.FlowStep.Cancel,c.FlowType.Activation),zt=v.N.bind(null,c.PageView.SettingsSecurityTwoFactorAuthenticationEnableSecurityLevel,c.BrowseComponent.MainApp),jt=v.N.bind(null,c.PageView.SettingsSecurityTwoFactorAuthenticationEnableBackupPhoneNumber,c.BrowseComponent.MainApp),Pt=v.N.bind(null,c.PageView.SettingsSecurityTwoFactorAuthenticationEnableQrCode,c.BrowseComponent.MainApp),Rt=v.N.bind(null,c.PageView.SettingsSecurityTwoFactorAuthenticationEnable6DigitsCode,c.BrowseComponent.MainApp),Ut=v.N.bind(null,c.PageView.SettingsSecurityTwoFactorAuthenticationEnableBackupCodes,c.BrowseComponent.MainApp),Bt={marginTop:"16px",marginBottom:"18px"},Ft={marginTop:"24px"};var Gt=a(788355);const Wt=({setFieldValue:e,countryCode:t,phoneNumber:a,errorMessage:n,setErrorMessage:i})=>{const{translate:s}=(0,P.Z)(),r=(()=>{const e=(()=>{const e=(0,W.qr)({queryConfig:{query:u.C.getAllCallingCodes}},[]);return e.status===W.rq.Success?e.data:{}})();return Object.keys(e).map((t=>({label:`${t} (+${e[t]})`,value:t})))})();return(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)(d.$N8,{title:(0,D.tZ)("span",{sx:{display:"inline-block",marginBottom:"16px",fontWeight:"500",fontSize:"25px"}},s("webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_title"))}),(0,D.tZ)(d.nvN,{color:d.O9T.grey00,sx:{marginBottom:"26px"}},s("webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_content")),(0,D.tZ)(d.Ejs,{gap:4,flexWrap:"nowrap"},(0,D.tZ)(d.PhF,{feedbackId:"select2faBackupPhoneCountryCode","data-testid":"two-factor-authentication-backup-phone-country-code",value:t,label:s("_common_input_label_country_code"),options:r,onChange:t=>{const{target:{value:a}}=t;e("countryCode",a)},sx:{width:"auto"}}),(0,D.tZ)("div",{sx:{flex:"1 1 auto"}},(0,D.tZ)(d.oil,{autoFocus:!0,type:"text","data-testid":"two-factor-authentication-backup-phone-number",fullWidth:!0,label:s("_common_input_label_backup_phone_number"),value:a,onChange:t=>{const{target:{value:a}}=t,n=a.replace(/\D/g,"");e("phoneNumber",n),i?.(void 0)},feedbackType:n?"error":void 0,feedbackText:n}))))};var Vt=a(46298);const Ht={GENERIC_ERROR:{message:"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error",log:c.TwoFactorAuthenticationError.UnknownError},[Vt.RequestTOTPActivationError.PHONE_VALIDATION_FAILED]:{message:"webapp_account_security_settings_two_factor_authentication_turn_on_backup_phone_invalid_format",log:c.TwoFactorAuthenticationError.WrongPhoneFormatError},[V.AuthenticationCode.NETWORK_ERROR]:{message:"_common_alert_network_error_message",log:c.TwoFactorAuthenticationError.UnknownError}};var qt,Yt=a(701056),Qt=a.n(Yt);const $t=()=>(0,D.tZ)("hr",{sx:{border:"0",borderTop:`1px solid ${d.O9T.dashGreen05}`,height:"1px",width:"100%",mt:"8px",mb:"8px"}}),Kt=({uri:e,seed:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.X6q,{sx:{mt:"8px",mb:"8px",fontSize:"25px"},as:"span"},a("webapp_account_security_settings_two_factor_authentication_qr_code_title")),(0,D.tZ)(d.nvN,{sx:{mb:"8px"},color:d.O9T.grey00},a("webapp_account_security_settings_two_factor_authentication_qr_code_description")),(0,D.tZ)(d.k$b,{alignSelf:"center"},(0,D.tZ)(Qt(),{sx:{mt:"24px",mb:"24px"},renderAs:"svg",size:176,value:e})),qt||(qt=(0,D.tZ)($t,null)),(0,D.tZ)(d.nvN,{color:d.O9T.grey00,bold:!0},a("webapp_account_security_settings_two_factor_authentication_qr_code_cant_scan")),(0,D.tZ)(d.nvN,{sx:{mb:"16px"},color:d.O9T.grey00},a("webapp_account_security_settings_two_factor_authentication_qr_code_label")),(0,D.tZ)(d.oil,{fullWidth:!0,defaultValue:t,disabled:!0,sx:{":disabled":{color:d.O9T.black}},"data-testid":"two-factor-authentication-qr-code-alternative"}))};var Xt=a(789921);const Jt="Dashlane - 2FA backup codes.txt";var ea;const ta=({backupCodes:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(d.Ejs,{flexDirection:"column",justifyContent:"flex-start"},(0,D.tZ)(d.X6q,{sx:{mt:"8px",fontSize:"25px"},as:"span"},t("webapp_account_security_settings_two_factor_authentication_backup_codes_title1")),(0,D.tZ)(d.X6q,{sx:{mb:"16px",fontSize:"25px"},as:"span"},t("webapp_account_security_settings_two_factor_authentication_backup_codes_title2")),(0,D.tZ)(d.nvN,{sx:{mb:"26px"},color:d.O9T.grey00},t("webapp_account_security_settings_two_factor_authentication_backup_codes_description")),(0,D.tZ)(d.j49,{sx:{mb:"6px"},color:d.O9T.dashGreen01},t("webapp_account_security_settings_two_factor_authentication_backup_codes_list_label")),(0,D.tZ)(d.Zbd,{sx:{padding:"8px 12px",width:"100%"}},e?.map(((e,t)=>(0,D.tZ)(d.nvN,{key:e,"data-testid":`two-factor-authentication-backup-code-${t}`},e)))),(0,D.tZ)(d.zxk,{sx:{margin:"26px 0px"},type:"button",nature:"secondary",onClick:()=>{const t=e?.join("\n");(0,Xt.W)(t,Jt)}},(0,D.tZ)(d.Ejs,null,(0,D.tZ)(d.k$b,{sx:{mr:"10px"}},ea||(ea=(0,D.tZ)(d._8t,{size:16}))),t("webapp_account_security_settings_two_factor_authentication_backup_codes_download_button"))),(0,D.tZ)(d.bZj,{severity:d.BLW.SUBTLE,size:d.k3y.SMALL,showIcon:!0},t("webapp_account_security_settings_two_factor_authentication_backup_codes_info")))},aa=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00,size:"60px"}),(0,D.tZ)(d.X6q,{size:"small",sx:{marginTop:"24px",color:d.O9T.black}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_title")),(0,D.tZ)(d.nvN,{sx:{marginTop:"16px",color:d.O9T.grey00}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_description")),(0,D.tZ)(d.nvN,{sx:{marginTop:"16px",color:d.O9T.grey00}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_browser_description")))};var na,ia=a(611224),sa=a(658016);const ra=({handleAuthenticatorModeClick:e,code:t,updateAuthenticatorCode:a,errorMessage:i,showSyncDevicesHelp:s=!1,hideAdditionalActions:r=!1})=>{const{translate:o}=(0,P.Z)();return(0,D.tZ)("div",{sx:{maxWidth:"480px",paddingBottom:"1px"}},(0,D.tZ)(d.$N8,{title:(0,D.tZ)("span",{sx:{display:"inline-block",marginBottom:"12px",fontWeight:"500"}},o("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_title"))}),(0,D.tZ)(d.rRH,{autoFocus:!0,maxLength:6,value:t,onChange:a,feedbackType:i?"error":void 0,feedbackText:i?o(i):void 0,"data-testid":"two-factor-authentication-code"}),s?na||(na=(0,D.tZ)(sa.T,null)):null,r?null:(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,{sx:{marginTop:"16px",lineHeight:"initial"},color:d.O9T.grey00},o("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_content")," ",(0,D.tZ)(d.rUS,{color:d.O9T.midGreen00,onClick:e,target:"_self"},o("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_link"))),(0,D.tZ)(d.nvN,{sx:{lineHeight:"initial"},color:d.O9T.grey00},o("webapp_two_factor_authentication_lost_your_phone")," ",(0,D.tZ)(d.rUS,{color:d.O9T.midGreen00,href:ia.IT,target:"_blank",rel:"noopener noreferrer"},o("webapp_two_factor_authentication_reset_2fa")))))},oa={code:""},la=({handleClickOnSubmit:e,toggleAuthenticationCodeMode:t,handleClickOnBack:a,error:i,hideAdditionalActions:s=!1,secondaryButtonTitle:r,logEvent:o})=>{const{translate:l}=(0,P.Z)(),[c,u]=(0,n.useState)();(0,n.useEffect)((()=>{o?.()}),[]);const m=(0,Gt.TA)({initialValues:oa,onSubmit:async(t,{setSubmitting:a})=>{a(!0);const{code:n}=t;await e({authenticationCode:n}),a(!1)}}),{values:{code:p},setFieldValue:_,isSubmitting:g}=m,[h,b]=(0,n.useState)(!1),y=(0,n.useRef)();(0,n.useEffect)((()=>{i&&!g?(u(i.message),b(y.current===i.code&&i.code===V.AuthenticationCode.OTP_NOT_VALID),y.current=i.code):i||u(void 0)}),[i,g]);const C=6!==p.length;return(0,D.tZ)("form",{onSubmit:e=>{e.preventDefault(),m.isSubmitting||m.submitForm()}},(0,D.tZ)(d.a7O,null,(0,D.tZ)(ra,{code:p,errorMessage:c,showSyncDevicesHelp:h,handleAuthenticatorModeClick:s?void 0:t,updateAuthenticatorCode:e=>{const{target:{value:t}}=e;_("code",(e=>e.replace(/\D/g,""))(t)),u(void 0),(e=>{6===e.length&&m.submitForm()})(t)},hideAdditionalActions:s})),(0,D.tZ)(d.cNS,{primaryButtonTitle:l("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_button"),primaryButtonProps:{disabled:C,type:"button"},primaryButtonOnClick:()=>m.handleSubmit(),secondaryButtonTitle:l(r||"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_cancel"),secondaryButtonOnClick:a}))},ca=Zt.bind(null,c.FlowStep.Start,c.FlowType.Deactivation),da=e=>Zt(c.FlowStep.Error,c.FlowType.Deactivation,e),ua=Zt.bind(null,c.FlowStep.Complete,c.FlowType.Deactivation),ma=Zt.bind(null,c.FlowStep.Cancel,c.FlowType.Deactivation),pa=v.N.bind(null,c.PageView.SettingsSecurityTwoFactorAuthenticationDisable,c.BrowseComponent.MainApp),_a=v.N.bind(null,c.PageView.SettingsSecurityTwoFactorAuthenticationDisable6DigitsCode,c.BrowseComponent.MainApp),ga=v.N.bind(null,c.PageView.SettingsSecurityTwoFactorAuthenticationDisableBackupCode,c.BrowseComponent.MainApp);var ha;const ba=({handleAuthenticatorModeClick:e,code:t,updateAuthenticatorCode:a,errorMessage:n})=>{const{translate:i}=(0,P.Z)();return(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)(d.$N8,{title:(0,D.tZ)("span",{sx:{display:"inline-block",marginBottom:"16px",fontWeight:"500",fontSize:"25px"}},i("webapp_account_security_settings_two_factor_authentication_backup_code_title"))}),(0,D.tZ)(d.nvN,{color:d.O9T.grey00,sx:{marginBottom:"26px"}},i("webapp_two_factor_authentication_use_backup_codes")," "),(0,D.tZ)(d.oil,{autoFocus:!0,type:"text","data-testid":"two-factor-authentication-backup-code",fullWidth:!0,label:i("webapp_two_factor_authentication_backup_code_label"),value:t,onChange:a,feedbackType:n?"error":void 0,feedbackText:n?i(n):void 0}),(0,D.tZ)(d.nvN,{sx:{marginTop:"16px",lineHeight:"initial",display:"inline-block"},color:d.O9T.grey00},i("webapp_two_factor_authentication_cant_access_your_backup_codes")," ",(0,D.tZ)(d.rUS,{color:d.O9T.midGreen00,onClick:e,target:"_self"},i("webapp_two_factor_authentication_use_6_digits_code")),ha||(ha=(0,D.tZ)("br",null)),i("webapp_two_factor_authentication_lost_your_backup_codes")," ",(0,D.tZ)(d.rUS,{color:d.O9T.midGreen00,href:ia.IT,target:"_blank",rel:"noopener noreferrer"},i("webapp_two_factor_authentication_reset_2fa"))))},ya={code:""},Ca=({handleClickOnSubmit:e,toggleAuthenticationCodeMode:t,handleClickOnBack:a,error:i})=>{const{translate:s}=(0,P.Z)(),[r,o]=(0,n.useState)();(0,n.useEffect)((()=>{ga()}),[]);const l=(0,Gt.TA)({initialValues:ya,onSubmit:async(t,{setSubmitting:a})=>{a(!0);const{code:n}=t;await e({authenticationCode:n}),a(!1)}}),{values:{code:c},setFieldValue:u,isSubmitting:m}=l;(0,n.useEffect)((()=>{i&&!m&&o(i.message)}),[i,m]);const p=0===c.length;return(0,D.tZ)("form",{onSubmit:l.handleSubmit},(0,D.tZ)(d.a7O,null,(0,D.tZ)(ba,{code:c,errorMessage:r,updateAuthenticatorCode:e=>{const{target:{value:t}}=e;u("code",t),o(void 0)},handleAuthenticatorModeClick:t})),(0,D.tZ)(d.cNS,{primaryButtonTitle:s("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_button"),primaryButtonProps:{disabled:p,type:"button"},primaryButtonOnClick:()=>l.handleSubmit(),secondaryButtonTitle:s("webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_cancel"),secondaryButtonOnClick:a}))},wa=({handleClickOnClose:e,logEvent:t})=>{const{translate:a}=(0,P.Z)();return(0,n.useEffect)((()=>{t?.(self?.navigator?.onLine?c.TwoFactorAuthenticationError.UnknownError:c.TwoFactorAuthenticationError.UserOfflineError)}),[]),(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)("div",{sx:{transform:"translate(-5px, -5px)"}},(0,D.tZ)(d.enX,{color:d.O9T.midGreen00,size:75})),(0,D.tZ)(d.X6q,{size:"small",sx:{marginTop:"20px",color:d.O9T.black}},a("webapp_account_security_settings_two_factor_authentication_disable_generic_error_title")),(0,D.tZ)(d.nvN,{sx:{marginTop:"16px",marginBottom:"24px",color:d.O9T.grey00}},a("webapp_account_security_settings_two_factor_authentication_disable_generic_error_description")),(0,D.tZ)(d.cNS,{primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonTitle:a("webapp_account_security_settings_two_factor_authentication_disable_generic_error_close"),primaryButtonOnClick:e}))};var Ea;const va=({handleClickOnSubmit:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)("div",{sx:{maxWidth:"480px"}},Ea||(Ea=(0,D.tZ)(d.enX,{size:96})),(0,D.tZ)(d.$N8,{title:t("webapp_two_factor_authentication_logout_dialog_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:d.O9T.grey00},t("webapp_two_factor_authentication_logout_dialog_description"))),(0,D.tZ)(d.cNS,{primaryButtonTitle:t("webapp_two_factor_authentication_logout_dialog_action"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()}))};var Na=a(925112);const Sa=async(e=null)=>await u.C.continueTwoFactorAuthenticationDisableFlow(e),Ia=async(e=null)=>await u.C.continueTwoFactorAuthenticationEnableFlow(e),fa=async()=>await u.C.backTwoFactorAuthenticationEnableFlow(null),xa=(e,t)=>{(0,v.K)(new c.UserDeleteU2fAuthenticatorEvent({flowStep:e,errorName:t}))},Ma=xa.bind(null,c.FlowStep.Start),Ta=xa.bind(null,c.FlowStep.Cancel),Da=xa.bind(null,c.FlowStep.Complete),Za=e=>xa(c.FlowStep.Error,e),Aa="webapp_login_form_password_fieldset_security_code_error_otp_already_used",ka="webapp_login_form_password_fieldset_security_code_error_token_too_many_attempts",Oa="_common_alert_network_error_message";var La;!function(e){e[e.WARNING=0]="WARNING",e[e.AUTHENTICATION_CODE=1]="AUTHENTICATION_CODE",e[e.BACKUP_CODE=2]="BACKUP_CODE"}(La||(La={}));const za={[La.AUTHENTICATION_CODE]:{[V.AuthenticationCode.OTP_NOT_VALID]:{message:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code",logErrorName:c.TwoFactorAuthenticationError.WrongCodeError},[V.AuthenticationCode.OTP_ALREADY_USED]:{message:Aa,logErrorName:c.TwoFactorAuthenticationError.UnknownError},[V.AuthenticationCode.OTP_TOO_MANY_ATTEMPTS]:{message:ka,logErrorName:c.TwoFactorAuthenticationError.UnknownError},[V.AuthenticationCode.NETWORK_ERROR]:{message:Oa,logErrorName:c.TwoFactorAuthenticationError.UserOfflineError}},[La.BACKUP_CODE]:{[V.AuthenticationCode.OTP_NOT_VALID]:{message:"webapp_account_security_settings_two_factor_authentication_backup_code_invalid_security_code",logErrorName:c.TwoFactorAuthenticationError.WrongBackupCodeError},[V.AuthenticationCode.OTP_ALREADY_USED]:{message:Aa,logErrorName:c.TwoFactorAuthenticationError.UnknownError},[V.AuthenticationCode.OTP_TOO_MANY_ATTEMPTS]:{message:ka,logErrorName:c.TwoFactorAuthenticationError.UnknownError},[V.AuthenticationCode.NETWORK_ERROR]:{message:Oa,logErrorName:c.TwoFactorAuthenticationError.UserOfflineError}},GenericError:{message:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_generic_error",logErrorName:c.TwoFactorAuthenticationError.UnknownError}},ja=({onDialogClose:e,keyHandle:t})=>{const{translate:a}=(0,P.Z)(),i=(0,Na.V)(),[s,r]=(0,n.useState)(La.WARNING),[o,l]=(0,n.useState)(),c=()=>{Ta(),e()},m=()=>(r(La.AUTHENTICATION_CODE),Promise.resolve()),p=async({authenticationCode:n})=>{const r=await(async(e,t)=>await u.C.removeU2FAuthenticator({authenticationCode:e,keyHandle:t}))(n,t);if(!r.success&&r.error){const e=za[s],t=r.error.code;e[t]?(l({message:e[t].message,code:t}),Za(e[t].logErrorName)):(l({message:za.GenericError.message,code:t}),Za(za.GenericError.logErrorName))}else i.showAlert(a("webapp_u2f_remove_authenticator_success"),d.BLW.SUBTLE),Da(),e()},_={handleClickOnBack:c,handleClickOnClose:c},g=()=>{const e=s===La.AUTHENTICATION_CODE?La.BACKUP_CODE:La.AUTHENTICATION_CODE;r(e),l(void 0)},h=(()=>{switch(s){case La.WARNING:return n.createElement(Dt,{..._,handleClickOnSubmit:m});case La.AUTHENTICATION_CODE:return n.createElement(la,{..._,handleClickOnSubmit:p,toggleAuthenticationCodeMode:g,error:o});case La.BACKUP_CODE:return n.createElement(Ca,{..._,handleClickOnSubmit:p,toggleAuthenticationCodeMode:g,error:o})}})();return(0,n.useEffect)((()=>{Ma()}),[]),n.createElement(d.VqE,{isOpen:!0,modalContentClassName:F()(A.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:a("_common_dialog_dismiss_button"),onClose:c},h)};var Pa=a(714494);const Ra=(0,ft.either)(ft.isNil,ft.isEmpty),Ua=({authenticators:e})=>{const{openU2FRemoveAuthenticatorDialog:t}=function(e={}){const{onDialogStateChanged:t}=e,{openDialog:a,closeDialog:i}=(0,Pa.R)();return{openU2FRemoveAuthenticatorDialog:(0,n.useCallback)((e=>{t?.(!0),a(n.createElement(ja,{onDialogClose:()=>{i(),t?.(!1)},keyHandle:e}))}),[t,a,i])}}(),a=n.useCallback((a=>{const n=e?.find((e=>e.keyHandle===a));n&&t(a)}),[e,t]);return Ra(e)?null:(0,D.tZ)(n.Fragment,null,e.map((({name:e,creationDateUnix:t,keyHandle:n})=>(0,D.tZ)(Tt,{key:n,name:e,creationDateUnix:t,keyHandle:n,onRemoveAuthenticator:a}))))},{grey05:Ba}=d.O9T,Fa=({title:e,children:t,description:a})=>(0,D.tZ)(d.Ejs,{sx:{p:"32px",pt:"0"},flexDirection:"column"},(0,D.tZ)("hr",{sx:{border:"none",borderTop:`1px solid ${Ba}`,margin:0,width:"100%"}}),e?(0,D.tZ)(d.Ejs,{as:"header",flexDirection:"column",flexWrap:"nowrap",fullWidth:!0,justifyContent:"space-between",sx:{marginTop:"16px"}},(0,D.tZ)(d.X6q,{size:"x-small",as:"h2"},e),a?(0,D.tZ)(d.nvN,{size:"x-small",sx:{paddingTop:"14px",color:d.O9T.grey00}},a):null):null,t),Ga=e=>{switch(e){case V.AuthenticationCode.OTP_NOT_VALID:return{logErrorName:c.TwoFactorAuthenticationError.WrongCodeError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code"};case V.AuthenticationCode.OTP_ALREADY_USED:return{logErrorName:c.TwoFactorAuthenticationError.WrongCodeError,errorMessage:"webapp_login_form_password_fieldset_security_code_error_otp_already_used"};case V.AuthenticationCode.OTP_TOO_MANY_ATTEMPTS:return{logErrorName:c.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_login_form_password_fieldset_security_code_error_token_too_many_attempts"};default:return}},Wa="_common_alert_network_error_message",Va={[V.TwoFactorAuthenticationEnableStages.AUTHENTICATION_TYPE]:{component:({handleClickOnSubmit:e,handleClickOnClose:t,savedValues:a})=>{const[i,r]=(0,n.useState)(a&&a?.savedAuthenticationType?a.savedAuthenticationType:V.TwoFactorAuthenticationType.DEVICE_REGISTRATION),{translate:o}=(0,P.Z)();return(0,n.useEffect)((()=>{zt()}),[]),(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.X6q,{size:"small",sx:Bt},o("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_title")),(0,D.tZ)(d.Eep,{onChange:e=>{r(e.target.value)},sx:{display:"flex",flexDirection:"column"}},(0,D.tZ)(d.Y8K,{label:o("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_registration_option"),value:V.TwoFactorAuthenticationType.DEVICE_REGISTRATION,defaultChecked:i===V.TwoFactorAuthenticationType.DEVICE_REGISTRATION,"data-testid":"two-factor-authentication-mode-dialog-device-registration-option"}),(0,D.tZ)(d.Y8K,{label:o("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_login_option"),value:V.TwoFactorAuthenticationType.LOGIN,sx:{marginBottom:"20px"},"data-testid":"two-factor-authentication-mode-dialog-login-option",defaultChecked:i===V.TwoFactorAuthenticationType.LOGIN})),(0,D.tZ)(d.rUS,{target:"_blank",href:s._x,color:d.O9T.midGreen00},o("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_hc_link")),i===V.TwoFactorAuthenticationType.LOGIN?(0,D.tZ)(d.vDh,{severity:"subtle",size:"small",title:o("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_login_info"),sx:Ft}):null),(0,D.tZ)(d.cNS,{primaryButtonTitle:o("_common_action_continue"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>{e({authenticationType:i})},secondaryButtonTitle:o("_common_action_cancel"),secondaryButtonOnClick:t}))},showCloseIcon:!0},[V.TwoFactorAuthenticationEnableStages.BACKUP_PHONE]:{component:({handleClickOnSubmit:e,handleClickOnBack:t,error:a,countryCode:i,savedValues:s})=>{const{translate:r}=(0,P.Z)(),[o,l]=(0,n.useState)();(0,n.useEffect)((()=>{jt()}),[]);const c=(0,Gt.TA)({initialValues:{countryCode:s?.savedCountryCode?s.savedCountryCode:i,phoneNumber:s?.savedPhoneNumber?s.savedPhoneNumber:""},onSubmit:async(t,{setSubmitting:a})=>{a(!0);const{countryCode:n,phoneNumber:i}=t;await e({countryCode:n,phoneNumber:i}),a(!1)}}),{values:{countryCode:u,phoneNumber:m},setFieldValue:p,isSubmitting:_}=c;(0,n.useEffect)((()=>{if(a&&!_){var e;const{code:t}=a,n=null!=(e=Ht[t])?e:Ht.GENERIC_ERROR;l(n.message),kt(n.log)}}),[a,_]);const g=0===m.length;return n.createElement("form",{onSubmit:c.handleSubmit},n.createElement(d.a7O,null,n.createElement(Wt,{countryCode:u,phoneNumber:m,errorMessage:o?r(o):void 0,setFieldValue:p,setErrorMessage:l})),n.createElement(d.cNS,{primaryButtonTitle:r("_common_action_continue"),primaryButtonProps:{disabled:g,type:"button"},primaryButtonOnClick:()=>c.handleSubmit(),secondaryButtonTitle:r("_common_action_back"),secondaryButtonOnClick:t,secondaryButtonProps:{id:"two-factor-authentication-backup-phone-dialog-back-button"}}))},showCloseIcon:!0},[V.TwoFactorAuthenticationEnableStages.QR_CODE]:{component:({handleClickOnSubmit:e,handleClickOnBack:t,uri:a,seed:i})=>{const{translate:s}=(0,P.Z)();return(0,n.useEffect)((()=>{Pt()}),[]),(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)(d.a7O,null,(0,D.tZ)(Kt,{uri:a,seed:i})),(0,D.tZ)(d.cNS,{primaryButtonTitle:s("webapp_account_security_settings_two_factor_authentication_qr_code_continue_button"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e(),secondaryButtonTitle:s("webapp_account_security_settings_two_factor_authentication_qr_code_back_button"),secondaryButtonOnClick:()=>t(),secondaryButtonProps:{id:"two-factor-authentication-qr-code-dialog-back-button"}}))},showCloseIcon:!0},[V.TwoFactorAuthenticationEnableStages.LOADING]:{component:()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00,size:"60px"}),(0,D.tZ)(d.X6q,{size:"small",sx:{marginTop:"24px",color:d.O9T.black}},e("webapp_account_security_settings_two_factor_authentication_disable_preparing_title")),(0,D.tZ)(d.nvN,{sx:{marginTop:"16px",color:d.O9T.grey00}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_description")),(0,D.tZ)(d.nvN,{sx:{marginTop:"16px",color:d.O9T.grey00}},e("webapp_account_security_settings_two_factor_authentication_disable_loading_browser_description")))},showCloseIcon:!1},[V.TwoFactorAuthenticationEnableStages.AUTHENTICATION_CODE]:{component:la,showCloseIcon:!0},[V.TwoFactorAuthenticationEnableStages.FINALIZING_CHANGES]:{component:aa,showCloseIcon:!1},[V.TwoFactorAuthenticationEnableStages.BACKUP_CODES]:{component:({handleClickOnSubmit:e,recoveryKeys:t})=>{const{translate:a}=(0,P.Z)();return(0,n.useEffect)((()=>{Ut()}),[]),(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)(d.a7O,null,(0,D.tZ)(ta,{backupCodes:t})),(0,D.tZ)(d.cNS,{primaryButtonTitle:a("webapp_account_security_settings_two_factor_authentication_backup_codes_done_button"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()}))},showCloseIcon:!1},[V.TwoFactorAuthenticationEnableStages.GENERIC_ERROR]:{component:wa,showCloseIcon:!0},[V.TwoFactorAuthenticationEnableStages.LOGOUT_REQUIRED]:{component:va,showCloseIcon:!1}},Ha=({onDialogClose:e})=>{const{translate:t}=(0,P.Z)(),a=(0,Na.V)(),i=function(){const e=(0,W.qr)({queryConfig:{query:u.C.getTwoFactorAuthenticationEnableStage},liveConfig:{live:u.C.liveTwoFactorAuthenticationEnableStage}},[]);return e.status===W.rq.Success?e.data:null}(),s=(0,n.useCallback)(((t=!0)=>{t&&Lt(),"function"==typeof e&&e(t)}),[e]),r=i?.stage,o=i?.viewData,l=i?.savedValues;(0,n.useEffect)((()=>(r||(async()=>{await u.C.startTwoFactorAuthenticationEnableFlow(null)})(),()=>{(async()=>{await u.C.stopTwoFactorAuthenticationEnableFlow(null)})()})),[]),(0,n.useEffect)((()=>{r===V.TwoFactorAuthenticationEnableStages.SUCCESS&&(Ot(),a.showAlert(t("webapp_account_security_settings_two_factor_authentication_enable_success"),d.BLW.SUCCESS),s(!1))}),[r]);const m={handleClickOnBack:fa,handleClickOnClose:s,handleClickOnSubmit:Ia,savedValues:l,...o};switch(r){case V.TwoFactorAuthenticationEnableStages.AUTHENTICATION_CODE:if(m.hideAdditionalActions=!0,m.logEvent=Rt,m.secondaryButtonTitle="_common_action_back",o?.error){const{logErrorName:e,errorMessage:t}=(p=o.error.code,Ga(p)||(p===V.AuthenticationCode.NETWORK_ERROR?{logErrorName:c.TwoFactorAuthenticationError.UnknownError,errorMessage:Wa}:self.navigator?.onLine?{logErrorName:c.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error"}:{logErrorName:c.TwoFactorAuthenticationError.UserOfflineError,errorMessage:Wa}));kt(e),m.error={message:t,code:o.error.code}}break;case V.TwoFactorAuthenticationEnableStages.GENERIC_ERROR:m.logEvent=kt}var p;return r&&Va[r]?n.createElement(d.VqE,{isOpen:!0,modalContentClassName:F()(A.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:Va[r].showCloseIcon?t("_common_dialog_dismiss_button"):void 0,onClose:s},o?.currentStep?n.createElement(d.nvN,{size:"medium",color:d.O9T.grey00},t("webapp_account_security_settings_two_factor_authentication_stage_header",{stageIndex:o?.currentStep,totalStages:o?.totalSteps})):null,n.createElement(Va[r].component,m)):null},qa="_common_alert_network_error_message",Ya=e=>Ga(e)||(e===V.AuthenticationCode.BACKUP_CODE_NOT_VALID?{logErrorName:c.TwoFactorAuthenticationError.WrongBackupCodeError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_invalid_security_code"}:e===V.AuthenticationCode.NETWORK_ERROR?{logErrorName:c.TwoFactorAuthenticationError.UnknownError,errorMessage:qa}:self.navigator?.onLine?{logErrorName:c.TwoFactorAuthenticationError.UnknownError,errorMessage:"webapp_account_security_settings_two_factor_authentication_turn_off_authenticator_generic_error"}:{logErrorName:c.TwoFactorAuthenticationError.UserOfflineError,errorMessage:qa}),Qa="webapp_account_security_settings_2fa_disable_enforced_by_admin_confirm_dialog_title",$a="webapp_account_security_settings_2fa_disable_enforced_by_admin_confirm_dialog_description_markup",Ka="_common_action_continue",Xa={marginTop:"16px",color:d.O9T.grey00,"p:first-child":{marginBottom:"16px"}},Ja={[V.TwoFactorAuthenticationDisableStages.CONFIRMATION]:{component:({handleClickOnClose:e,handleClickOnSubmit:t,logEvent:a,isTwoFactorAuthenticationEnforced:i})=>{const{translate:s}=(0,P.Z)();return(0,n.useEffect)((()=>{a?.()}),[]),(0,D.tZ)("div",{sx:{maxWidth:"480px"}},(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.X6q,{size:"small",sx:{marginTop:"20px",color:d.O9T.black},"data-testid":"two-factor-authentication-disable-confirmation-dialog-title"},s(i?Qa:"webapp_account_security_settings_2fa_disable_confirm_dialog_title")),(0,D.tZ)(d.nvN,{size:"small",as:"div",sx:Xa},i?s.markup($a):s("webapp_account_security_settings_2fa_disable_confirm_dialog_description"))),(0,D.tZ)(d.cNS,{primaryButtonTitle:s(i?Ka:"webapp_account_security_settings_2fa_disable_confirm_dialog_confirm"),primaryButtonProps:{type:"button",autoFocus:!0},primaryButtonOnClick:()=>t(),secondaryButtonTitle:s("_common_action_cancel"),secondaryButtonOnClick:()=>e()}))},componentProps:{logEvent:pa},showCloseIcon:!0},[V.TwoFactorAuthenticationDisableStages.AUTHENTICATION_CODE]:{component:la,componentProps:{logEvent:_a},target:V.TwoFactorAuthenticationDisableStages.BACKUP_CODE,showCloseIcon:!0},[V.TwoFactorAuthenticationDisableStages.BACKUP_CODE]:{component:Ca,componentProps:{logEvent:ga},target:V.TwoFactorAuthenticationDisableStages.AUTHENTICATION_CODE,showCloseIcon:!0},[V.TwoFactorAuthenticationDisableStages.FINALIZING_CHANGES]:{component:aa,showCloseIcon:!1},[V.TwoFactorAuthenticationDisableStages.GENERIC_ERROR]:{component:wa,componentProps:{logEvent:da},showCloseIcon:!0},[V.TwoFactorAuthenticationDisableStages.LOGOUT_REQUIRED]:{component:va,showCloseIcon:!1}},en=({onDialogClose:e})=>{const{translate:t}=(0,P.Z)(),a=function(){const e=(0,W.qr)({queryConfig:{query:u.C.getTwoFactorAuthenticationDisableStage},liveConfig:{live:u.C.liveTwoFactorAuthenticationDisableStage}},[]);return e.status===W.rq.Success?e.data:null}(),i=rn(),s=i?.status===V.TwoFactorAuthenticationInfoRequestStatus.READY&&i.isTwoFactorAuthenticationEnforced,r=(0,Na.V)(),o=(0,n.useCallback)(((t=!0)=>{t&&ma(),"function"==typeof e&&e()}),[e]),l=a?.stage;if((0,n.useEffect)((()=>{l===V.TwoFactorAuthenticationDisableStages.SUCCESS&&(ua(),r.showAlert(t("webapp_account_security_settings_two_factor_authentication_disable_success"),d.BLW.SUCCESS),o(!1))}),[l]),(0,n.useEffect)((()=>(l||(async()=>{await u.C.startTwoFactorAuthenticationDisableFlow(null)})(),()=>{(async()=>{await u.C.stopTwoFactorAuthenticationDisableFlow(null)})()})),[]),l&&Ja[l]){const e={handleClickOnBack:o,handleClickOnSubmit:Sa,handleClickOnClose:o,...Ja[l]?.componentProps},i=a?.viewData?.error;switch(l){case V.TwoFactorAuthenticationDisableStages.BACKUP_CODE:case V.TwoFactorAuthenticationDisableStages.AUTHENTICATION_CODE:if(i){const{logErrorName:t,errorMessage:a}=Ya(i.code);da(t),e.error={message:a,code:i.code}}Ja[l]?.target&&(e.toggleAuthenticationCodeMode=()=>{Sa({target:Ja[l].target})});break;case V.TwoFactorAuthenticationDisableStages.CONFIRMATION:e.isTwoFactorAuthenticationEnforced=s}return n.createElement(d.VqE,{isOpen:!0,modalContentClassName:F()(A.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:Ja[l].showCloseIcon?t("_common_dialog_dismiss_button"):void 0,onClose:o},n.createElement(Ja[l].component,e))}return null};var tn=a(191492),an=a(927761);const nn={fieldsKeys:{title:"webapp_lock_items_security_settings_title",subtitle:"webapp_lock_items_security_settings_description",confirm:"webapp_lock_items_security_settings_action"},translated:!1};function sn(e={}){const{onDialogStateChanged:t,onSuccess:a}=e,{openDialog:i,closeDialog:s}=(0,Pa.R)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:o}=(0,an.tY)();return{openTwoFactorAuthenticationDisablerDialog:(0,n.useCallback)((()=>{t?.(!0),i(n.createElement(en,{onDialogClose:()=>{s(),t?.(!1)}}))}),[t,i,s]),openTwoFactorAuthenticationEnablerDialog:(0,n.useCallback)((()=>{const e=()=>{i(n.createElement(Ha,{onDialogClose:e=>{e||a?.(),s(),t?.(!1)}}))};t?.(!0),r?e():o({itemType:tn.Ru.SecuritySettings,options:nn,successCallback:e,cancelCallback:()=>{Lt(),t?.(!1)}})}),[t,r,i,s,a,o])}}const rn=()=>{const e=(0,W.qr)({queryConfig:{query:u.C.getTwoFactorAuthenticationInfo},liveConfig:{live:u.C.liveTwoFactorAuthenticationInfo}},[]);if(e.status===W.rq.Success)return e.data};var on;const ln=({onNavigateOut:e})=>{const{translate:t}=(0,P.Z)(),a=(()=>{const e=(0,W.qr)({queryConfig:{query:u.C.getU2FDevicesList},liveConfig:{live:u.C.liveU2FDevicesList}},[]);return e.status===W.rq.Success?e.data:[]})(),i=rn();return n.createElement(ve,{headingText:t("webapp_account_security_settings_2fa_heading"),onNavigateOut:e},n.createElement(Fa,{title:t("webapp_account_security_settings_2fa_authenticator_title"),description:t("webapp_account_security_settings_2fa_authenticator_app_description")},on||(on=n.createElement(Et,null))),a.length>0&&n.createElement(Fa,{title:t("webapp_account_security_settings_2fa_u2f_title"),description:t("webapp_account_security_settings_2fa_u2f_description")},n.createElement(Ua,{authenticators:a})),i?.status===V.TwoFactorAuthenticationInfoRequestStatus.READY?n.createElement(n.Fragment,null,n.createElement(Fa,{title:t("webapp_account_security_settings_2fa_backup_title"),description:t("webapp_account_security_settings_2fa_backup_description")},n.createElement(vt,{recoveryPhone:i?.recoveryPhone})),n.createElement(Fa,{title:t("webapp_account_security_settings_2fa_security_level_title"),description:t.markup("webapp_account_security_settings_2fa_security_level_description_markup",{},{linkTarget:"_blank"})},n.createElement(St,{twoFactorAuthenticationMode:i.type}))):null)};var cn,dn=a(296908);const un=({recoveryMethodsCount:e,openAccountRecoveryPanel:t})=>{const{translate:a}=(0,P.Z)();return(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(Ue.nv,{textStyle:"ds.body.reduced.regular",sx:{marginBottom:"8px"}},e<1?a("webapp_account_security_settings_account_recovery_section_description_no_method"):a.markup("webapp_account_security_settings_account_recovery_section_description_markup",{count:e})),e<1?(0,Ue.tZ)(Ue.ke,{mood:"warning",size:"small",title:a("webapp_account_security_settings_account_recovery_section_warning_info")}):null,(0,Ue.tZ)(d.rUS,{href:"#",role:"button",color:"ds.text.brand.standard",onClick:t,style:{display:"flex",alignItems:"center",marginTop:"16px",textDecoration:"none"}},(0,Ue.tZ)(Ue.nv,{textStyle:"ds.body.reduced.regular",sx:{textDecoration:"none",color:"ds.text.brand.standard",fontWeight:500,marginRight:"5px"}},a("webapp_account_security_settings_account_recovery_section_view_options")),cn||(cn=(0,Ue.tZ)("span",{"aria-hidden":"true"},(0,Ue.tZ)(Ue.JO,{name:"ArrowRightOutlined",size:"xsmall",color:"ds.text.brand.standard"})))))},mn=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)("div",{id:"accountRecoveryLoading",sx:{marginTop:"20px"},title:e("webapp_loader_loading")},(0,D.tZ)(d.HoD,{color:d.O9T.midGreen01,size:40,"aria-describedby":"accountRecoveryLoading"}))};var pn;const _n=({changeActivePanel:e})=>{const t=(0,Be.w)(Fe),a=(0,R.k$)(Ke.accountRecoveryKeyApi,"recoveryMethodsInfo"),{translate:n}=(0,P.Z)();return t?(0,Ue.tZ)(qe,{sectionTitle:n("webapp_account_security_settings_account_recovery_section_title")},(0,Ue.tZ)("div",{style:{fontSize:"12px"}},a.status===R.rq.Success?(0,Ue.tZ)(un,{recoveryMethodsCount:(i=a.data,Object.values(i).filter(Boolean).length),openAccountRecoveryPanel:t=>{t.preventDefault(),e(Gi.AccountRecovery)}}):pn||(pn=(0,Ue.tZ)(mn,null)))):(0,Ue.tZ)(Ye,{showAdminRecoveryHelp:()=>{e(Gi.AccountRecovery)}});var i};var gn;!function(e){e.SIX_DIGIT_TOKEN="SIX_DIGIT_TOKEN",e.BACKUP_CODE="BACKUP_CODE"}(gn||(gn={}));const hn="_common_generic_error",bn=({handleOnCancel:e,handleOnSubmit:t})=>{const{translate:a}=(0,P.Z)(),[i,s]=n.useState(gn.SIX_DIGIT_TOKEN),[r,o]=n.useState(void 0),l=e=>{s(e),o(void 0)},c={handleClickOnBack:e,handleClickOnSubmit:async({authenticationCode:e})=>{try{const a=await u.C.validateToken({type:"otp",value:e});a.success?(o(void 0),t()):o({code:a.error.code,message:Ya(a.error.code)?.errorMessage||hn})}catch(e){o({code:e?.code,message:hn})}},error:r},m=i===gn.BACKUP_CODE?n.createElement(Ca,{...c,toggleAuthenticationCodeMode:l.bind(null,gn.SIX_DIGIT_TOKEN)}):n.createElement(la,{...c,toggleAuthenticationCodeMode:l.bind(null,gn.BACKUP_CODE)});return n.createElement(d.VqE,{isOpen:!0,modalContentClassName:F()(A.Ht),disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0,disableEscapeKeyClose:!0,closeIconName:a("_common_dialog_dismiss_button"),onClose:e},m)},yn=()=>{const{translate:e}=(0,P.Z)();return(0,Ue.tZ)(Ue.ke,{title:e("webapp_account_security_settings_changemp_section_leaked_master_password_title"),description:e("webapp_account_security_settings_changemp_section_leaked_master_password_description"),mood:"danger",size:"large",sx:{marginBottom:"8px"},actions:[(0,Ue.tZ)(Ue.zx,{key:"hc-link",mood:"danger",size:"small",intensity:"quiet",onClick:()=>(0,b.Yo)(ia.dx)},e("webapp_account_security_settings_changemp_section_leaked_master_password_blog_link"))]})},Cn=()=>{const{translate:e}=(0,P.Z)();return(0,Ue.tZ)(Ue.ke,{title:e("webapp_account_security_settings_changemp_section_weak_master_password_title"),description:e("webapp_account_security_settings_changemp_section_weak_master_password_description"),mood:"danger",size:"large",sx:{marginBottom:"8px"},actions:[(0,Ue.tZ)(Ue.zx,{key:"hc-link",mood:"danger",size:"small",intensity:"quiet",onClick:()=>(0,b.Yo)(ia.zG)},e("webapp_account_security_settings_changemp_section_weak_master_password_blog_link"))]})};var wn=a(154539);const En=()=>{const{data:e,status:t}=(0,R.k$)(wn.masterPasswordSecurityApi,"isMasterPasswordWeak");return t===R.rq.Success&&e},vn=()=>{const{data:e,status:t}=(0,R.k$)(wn.masterPasswordSecurityApi,"isMasterPasswordLeaked");return t===R.rq.Success&&e};var Nn,Sn,In,fn,xn,Mn,Tn;const Dn=()=>{const e=En();return vn()?Nn||(Nn=n.createElement(yn,null)):e?Sn||(Sn=n.createElement(Cn,null)):null},Zn=()=>vn()?In||(In=n.createElement(yn,null)):null,An=()=>En()?fn||(fn=n.createElement(Cn,null)):null,kn=()=>{const e=(0,R.vF)(["ims_web_leaked_mp_prod","ims_web_weak_mp_dev"]);if(e.status!==W.rq.Success)return null;const t=e.data.ims_web_weak_mp_dev,a=e.data.ims_web_leaked_mp_prod;return t&&a?xn||(xn=n.createElement(Dn,null)):a?Mn||(Mn=n.createElement(Zn,null)):t?Tn||(Tn=n.createElement(An,null)):null};var On;const Ln="webapp_account_security_settings_changemp_section_button_disabled_1",zn=({changeActivePanel:e,twoFactorAuthenticationInfo:t})=>{const{translate:a}=(0,P.Z)(),[i,s]=(0,n.useState)(!1),r=()=>{e(Gi.ChangeMP),i&&s(!1)},o=()=>{t?.status===V.TwoFactorAuthenticationInfoRequestStatus.READY&&t.isTwoFactorAuthenticationEnabled&&t.type!==V.TwoFactorAuthenticationType.SSO?s(!0):r()},l=(()=>{const e=(0,Be.F)("webproduct_extension_ActivateChangeMasterPassword_release");return e.status===W.rq.Success&&e.data})(),c=({disabled:e})=>(0,Ue.tZ)(Ue.zx,{type:"button",mood:"brand",size:"small",onClick:o,disabled:e,sx:{marginTop:"8px"}},a("webapp_account_security_settings_changemp_section_button")),u=t?.status===V.TwoFactorAuthenticationInfoRequestStatus.READY,m=t?.status===V.TwoFactorAuthenticationInfoRequestStatus.ERROR;return(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(qe,{sectionTitle:a("webapp_account_security_settings_changemp_section_title")},u?(0,Ue.tZ)((()=>(0,Ue.tZ)(n.Fragment,null,l?(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.nvN,{size:"x-small"},a("webapp_account_security_settings_changemp_section_description")),On||(On=(0,Ue.tZ)(kn,null)),(0,Ue.tZ)(d.nvN,{size:"x-small"},a.markup("webapp_account_security_settings_changemp_section_note_markup"))):null,(0,Ue.tZ)(d.dDn,{justifySelf:"flex-start"},(0,Ue.tZ)(n.Fragment,null,l?null:(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.nvN,{size:"x-small",sx:{marginBottom:"8px"}},a(Ln)),(0,Ue.tZ)(d.nvN,{size:"x-small"},a("webapp_account_security_settings_changemp_section_button_disabled_2"))),(0,Ue.tZ)(c,{disabled:!l}))))),null):m?(0,Ue.tZ)((()=>(0,Ue.tZ)(d.dDn,{justifySelf:"flex-start"},(0,Ue.tZ)(d.vDh,{severity:"alert",size:"small",title:a(Ln)}))),null):(0,Ue.tZ)((()=>(0,Ue.tZ)(d.dDn,{justifySelf:"flex-start",id:"changeMasterPasswordLoading",sx:{marginTop:"20px"},title:a("webapp_loader_loading")},(0,Ue.tZ)(d.HoD,{color:d.O9T.midGreen01,size:40,"aria-describedby":"changeMasterPasswordLoading"}))),null)),i?(0,Ue.tZ)(bn,{handleOnCancel:()=>s(!1),handleOnSubmit:r}):null)},jn=()=>{const{translate:e}=(0,P.Z)(),[t,a]=(0,n.useState)(!0),[i,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(""),l=(0,Be.w)("itadmin_SAEX_CryptoMigration_Phase3_v1"),c=function(){const e=(0,W.qr)({queryConfig:{query:u.C.getCanUserChangeCrypto}},[]);return e.status===W.rq.Success&&e.data}()&&l,m=function(){const e=(0,W.qr)({queryConfig:{query:u.C.getUserDerivationMethod},liveConfig:{live:u.C.liveUserDerivationMethod}},[]),t=Object.values(V.SupportedDerivationMethods);return e.status===W.rq.Success&&t.includes(e.data)?e.data:void 0}();(0,n.useEffect)((()=>{m&&(a(!1),o(m))}),[m]);const p=[{label:e("webapp_account_security_settings_input_value_argon"),value:V.SupportedDerivationMethods.ARGON2D},{label:e("webapp_account_security_settings_input_value_pbkdf2_advanced"),value:V.SupportedDerivationMethods.PBKDF2},{label:e("webapp_account_security_settings_input_value_pbkdf2_standard"),value:V.SupportedDerivationMethods.KWC3,disabled:!0}],_=e=>{var t;return null!=(t=p.find((t=>t.value===e))?.label)?t:""};return n.createElement(qe,{sectionTitle:e("webapp_account_security_settings_sub_title")},n.createElement(d.PhF,{value:r,options:p,placeholder:c?e("webapp_account_security_settings_input_placeholder"):_(r),onChange:async e=>{a(!0),s(!1);const t=e.target.value;o(t);try{(await u.C.changeUserCrypto({newDerivationMethod:t})).success||s(!0)}catch(e){s(!0),m&&o(m)}finally{a(!1)}},disabled:!c||t,intent:i?"error":void 0,feedbackText:i?e("_common_generic_error"):void 0}),n.createElement("div",{className:"intro--YRawoic6r2"},c?e.markup("webapp_account_security_settings_help_text_markup"):e.markup("webapp_account_security_settings_help_text_enforced_kdf_markup",{enforcedKdf:_(r)})))};let Pn,Rn;!function(e){e[e.LIST=0]="LIST",e[e.GRID=1]="GRID"}(Pn||(Pn={})),function(e){e.USING_WEBAPP="using_webapp",e.USING_FIREFOX="using_firefox",e.ENABLED_SSO="enabled_sso",e.ENABLED_2FA="enabled_2fa",e.DATA_LOADING="data_loading"}(Rn||(Rn={}));const Un={SECTION_CONTAINER:{marginTop:"5px",display:"inline-block",color:d.O9T.grey00}},Bn=({title:e,message:t})=>(0,D.tZ)(qe,{sectionTitle:e},(0,D.tZ)(d.nvN,{size:"x-small",sx:Un.SECTION_CONTAINER},t)),Fn=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(qe,{sectionTitle:e("webapp_account_security_settings_passwordless_all_authenticators_title")},(0,D.tZ)("div",{id:"biometricsLoading",sx:{marginTop:"20px"},title:e("webapp_loader_loading")},(0,D.tZ)(d.HoD,{color:d.O9T.midGreen01,size:40,"aria-describedby":"biometricsLoading"})))};var Gn,Wn;const Vn={[Rn.USING_WEBAPP]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_outside_extension"},[Rn.USING_FIREFOX]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_feature_unsupported"},[Rn.ENABLED_SSO]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_by_sso"},[Rn.ENABLED_2FA]:{TITLE:"webapp_account_security_settings_passwordless_all_authenticators_title",MESSAGE:"webapp_account_security_settings_passwordless_disabled_by_two_factor_authentication"}},Hn={WEBAUTHN_SECTION:{color:d.O9T.grey00,display:"flex",alignItems:"flex-start",flexDirection:"column"},WEBAUTHN_SECTION_DESCRIPTION:{marginBottom:"8px","& p:first-child":{marginBottom:"15px"}},WEBAUTHN_SECTION_LINK_BUTTON:{display:"flex",alignItems:"center",textDecoration:"none"},WEBAUTHN_SECTION_LINK_BUTTON_CONTENT:{marginRight:"8px"}},qn=({authenticators:e,webAuthnOptedIn:t,changeActivePanel:a,onDialogStateChanged:i})=>{const{translate:s}=(0,P.Z)(),r=function(){const e=rn();let t,a=!1;return(0,h.ET)(window.location.href)?t=Rn.USING_FIREFOX:e?.status!==V.TwoFactorAuthenticationInfoRequestStatus.READY?t=Rn.DATA_LOADING:e.type===V.TwoFactorAuthenticationType.SSO?t=Rn.ENABLED_SSO:e.type===V.TwoFactorAuthenticationType.LOGIN?t=Rn.ENABLED_2FA:a=!0,{result:a,reason:t}}(),[o]=(0,n.useState)((0,dn._U)()),{openWebAuthnEnablerDialog:l,openWebAuthnDisablerDialog:c}=(0,dn.$_)({onDialogStateChanged:i}),u=(0,dn.rV)(),m=(0,n.useMemo)((()=>o&&!t&&!e?.length),[e?.length,o,t]),p=(0,n.useMemo)((()=>o&&(t||e?.length)),[e?.length,o,t]),_=(0,n.useCallback)((e=>{e.currentTarget.checked?l():c()}),[l,c]),g=(0,n.useCallback)((e=>{e.preventDefault(),a(Gi.WebAuthn)}),[a]);if(null===u)return null;const b=u?"webapp_account_security_settings_passwordless_all_authenticators_title":"webapp_account_security_settings_passwordless_noplatform_title",y=u?"webapp_account_security_settings_passwordless_all_authenticators_desc_markup":"webapp_account_security_settings_passwordless_noplatform_desc_markup";if(r.result||r.reason!==Rn.DATA_LOADING){if(r.result||void 0===r.reason)return(0,D.tZ)(qe,{sectionTitle:s(b),action:(0,D.tZ)(d.ZDl,{"aria-label":s("webapp_account_security_settings_passwordless_all_authenticators_toggle_aria_label"),checked:t,onChange:_,disabled:!o})},(0,D.tZ)(d.nvN,{size:"x-small",sx:Hn.WEBAUTHN_SECTION},o?null:(0,D.tZ)(d.vDh,{severity:"subtle",size:"small",title:s("webapp_account_security_settings_passwordless_disabled_feature_unsupported")}),m?(0,D.tZ)("div",{sx:Hn.WEBAUTHN_SECTION_DESCRIPTION},s.markup(y)):null,p?(0,D.tZ)(d.rUS,{href:"#",role:"button",color:d.O9T.midGreen00,sx:Hn.WEBAUTHN_SECTION_LINK_BUTTON,onClick:g},(0,D.tZ)("span",{sx:Hn.WEBAUTHN_SECTION_LINK_BUTTON_CONTENT},s("webapp_account_security_settings_passwordless_view_options")),Wn||(Wn=(0,D.tZ)("span",{"aria-hidden":"true"},(0,D.tZ)(d.jcJ,{size:12})))):null));{const e=Vn[r.reason];return(0,D.tZ)(Bn,{title:s(e.TITLE),message:s(e.MESSAGE)})}}return Gn||(Gn=(0,D.tZ)(Fn,null))},Yn={BUTTON:{display:"flex",alignItems:"center",textDecoration:"none",color:d.O9T.midGreen00},CONTENT:{marginRight:"5px"}},Qn=({changeActivePanel:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(d.rUS,{href:"#",role:"button",sx:Yn.BUTTON,onClick:t=>{t.preventDefault(),e(Gi.TwoFactorAuthentication)}},(0,D.tZ)("span",{sx:Yn.CONTENT},t("webapp_account_security_settings_two_factor_authentication_options")),(0,D.tZ)("span",{"aria-hidden":"true"},(0,D.tZ)(d.jcJ,{size:12,color:d.O9T.midGreen00})))},$n=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(d.nvN,{size:"x-small",sx:{marginBottom:"8px"},color:d.O9T.grey00},e("webapp_account_security_settings_two_factor_authentication_enforced_enabled_description"))},Kn=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,{size:"x-small",sx:{marginBottom:"8px"},color:d.O9T.grey00},e("webapp_account_security_settings_two_factor_authentication_disabled_description_1")),(0,D.tZ)(d.nvN,{size:"x-small",sx:{marginBottom:"8px"},color:d.O9T.grey00},e("webapp_account_security_settings_two_factor_authentication_disabled_description_2")),(0,D.tZ)(d.rUS,{target:"_blank",href:s._x,color:d.O9T.midGreen00},e("webapp_account_security_settings_two_factor_authentication_turn_on_dialog_type_hc_link")))};var Xn,Jn;const ei={SECTION_CONTAINER:{fontSize:1,marginTop:"5px",display:"inline-block",color:d.O9T.grey00}},ti=({changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:a})=>{const{translate:i}=(0,P.Z)(),{isTwoFactorAuthenticationEnabled:s,isTwoFactorAuthenticationEnforced:r}=a,{openTwoFactorAuthenticationDisablerDialog:o,openTwoFactorAuthenticationEnablerDialog:l}=sn({onDialogStateChanged:t}),c=(0,n.useCallback)((e=>{e.currentTarget.checked?(At(),l()):(ca(),o())}),[o,l]),u=r&&s;return(0,D.tZ)(qe,{sectionTitle:i("webapp_account_security_settings_two_factor_authentication_title"),action:(0,D.tZ)(d.ZDl,{"data-testid":"two-factor-authentication-settings-option-toggle",id:"two-factor-authentication-settings-option",name:"two-factor-authentication-settings-option",checked:s,onChange:c,"aria-label":i("webapp_account_security_settings_two_factor_authentication_toggle_aria_label")})},(0,D.tZ)("div",{sx:ei.SECTION_CONTAINER},u?(0,D.tZ)(n.Fragment,null,Xn||(Xn=(0,D.tZ)($n,null)),(0,D.tZ)(Qn,{changeActivePanel:e})):s?(0,D.tZ)(Qn,{changeActivePanel:e}):Jn||(Jn=(0,D.tZ)(Kn,null))))},ai=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(qe,{sectionTitle:e("webapp_account_security_settings_two_factor_authentication_title")},(0,D.tZ)("div",{id:"twoFactorAuthLoading",sx:{marginTop:"20px"},title:e("webapp_loader_loading")},(0,D.tZ)(d.HoD,{color:d.O9T.midGreen01,size:40,"aria-describedby":"twoFactorAuthLoading"})))},ni={SECTION_CONTAINER:{fontSize:1,marginTop:"5px",display:"inline-block",color:d.O9T.grey00},BUTTON:{display:"flex",alignItems:"center",textDecoration:"none"},CONTENT:{marginRight:"5px"}},ii=({error:e,message:t})=>{const{translate:a}=(0,P.Z)(),n=(0,D.tZ)(d.nvN,{size:"x-small",sx:ni.SECTION_CONTAINER},a(t)),i=(0,D.tZ)("div",{style:{marginTop:"20px",maxWidth:"300px"}},(0,D.tZ)(d.vDh,{severity:"alert",size:"small",title:a(t)})),s=e?i:n;return(0,D.tZ)(qe,{sectionTitle:a("webapp_account_security_settings_two_factor_authentication_title")},s)};var si;const ri=({changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:a})=>{const n={[V.TwoFactorAuthenticationErrorCode.UNKNOWN_ERROR]:"webapp_account_security_settings_two_factor_authentication_turn_on_generic_error"};if(a&&a.status!==V.TwoFactorAuthenticationInfoRequestStatus.PENDING&&a.status!==V.TwoFactorAuthenticationInfoRequestStatus.UNKNOWN){if(a?.status===V.TwoFactorAuthenticationInfoRequestStatus.READY&&a?.type!==V.TwoFactorAuthenticationType.SSO)return(0,D.tZ)(ti,{changeActivePanel:e,onDialogStateChanged:t,twoFactorAuthenticationInfo:a});{const e=a?.status===V.TwoFactorAuthenticationInfoRequestStatus.READY&&a?.type===V.TwoFactorAuthenticationType.SSO,t=a?.status===V.TwoFactorAuthenticationInfoRequestStatus.ERROR?n[a.errorCode]:e?"webapp_account_security_settings_two_factor_authentication_disabled_sso":"webapp_account_security_settings_two_factor_authentication_disabled";return(0,D.tZ)(ii,{error:a.status===V.TwoFactorAuthenticationInfoRequestStatus.ERROR,message:t})}}return si||(si=(0,D.tZ)(ai,null))};var oi=a(975131),li=a(785362);const ci={ProtectPasswords:{alert:"webapp_account_security_settings_master_password_options_require_passwords_alert_enabled",dialogKeys:{title:"webapp_lock_items_require_master_password_for_passwords_title_on",subtitle:"webapp_lock_items_require_master_password_for_passwords_subtitle_on",confirm:"webapp_lock_items_require_master_password_confirm_on"}}},di={ProtectPasswords:{alert:"webapp_account_security_settings_master_password_options_require_passwords_alert_disabled",dialogKeys:{title:"webapp_lock_items_require_master_password_for_passwords_title_off",subtitle:"webapp_lock_items_require_master_password_for_passwords_subtitle_off",confirm:"webapp_lock_items_require_master_password_confirm_off"}}},ui=()=>{const{translate:e}=(0,P.Z)(),t=(0,Na.V)(),a=(0,oi.q)(),{areProtectedItemsUnlocked:i,openProtectedItemsUnlocker:s}=(0,an.tY)(),[r,o]=(0,n.useState)(!1),l=async(a,n)=>{o(!0),await u.C.updateProtectPasswordsSetting(n),o(!1),t.showAlert(e(a),d.BLW.SUCCESS),(0,v.N)(n?c.PageView.SettingsSecurityProtectWithMasterPasswordEnable:c.PageView.SettingsSecurityProtectWithMasterPasswordDisable),(0,v.N)(n?c.PageView.SettingsSecurityProtectWithMasterPasswordCredentialsEnable:c.PageView.SettingsSecurityProtectWithMasterPasswordCredentialsDisable),(0,li.a2)(n)};return(0,D.tZ)(qe,{sectionTitle:e("webapp_account_security_settings_master_password_options_title")},(0,D.tZ)(d.nvN,{color:d.O9T.grey00},e("webapp_account_security_settings_master_password_options_subtitle")),a.status===W.rq.Loading?(0,D.tZ)(d.HoD,{size:40,color:d.O9T.midGreen01,"aria-busy":"true","aria-live":"polite"}):null,a.status===W.rq.Success?(0,D.tZ)("ul",{sx:{mt:"8px"}},(0,D.tZ)("li",{sx:{display:"flex",justifyContent:"space-between"}},(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen00},e("webapp_account_security_settings_master_password_options_require_passwords")),(0,D.tZ)(d.ZDl,{"aria-label":e("webapp_account_security_settings_master_password_options_require_passwords_toggle_aria_label"),disabled:r,checked:a.data,onChange:()=>(e=>{const t=Object.keys(e)[0],a=e[t],n=a?ci:di,r=n[t].alert;i?l(r,a):(s({itemType:tn.Ru.SecuritySettings,options:{fieldsKeys:n[t].dialogKeys,translated:!1},successCallback:()=>l(r,a)}),(0,li.u$)())})({ProtectPasswords:!a.data})}))):null)};var mi,pi,_i=a(860039);const gi=({onNavigateOut:e,changeActivePanel:t,onDialogStateChanged:a})=>{const{translate:i}=(0,P.Z)(),s=(0,_i.F)(),r=!s,o=We(),l=(0,Be.w)(Fe),c=(0,dn.dG)(),d=rn();return(0,n.useEffect)((()=>{(async()=>{await u.C.refreshTwoFactorAuthenticationInfo()})(),(async()=>{await u.C.refreshU2FDevicesList()})()}),[]),n.createElement(ve,{headingText:i("webapp_account_security_settings_heading"),onNavigateOut:e},n.createElement(qn,{changeActivePanel:t,webAuthnOptedIn:c.optedIn,authenticators:c.authenticators,onDialogStateChanged:a}),n.createElement(ri,{changeActivePanel:t,onDialogStateChanged:a,twoFactorAuthenticationInfo:d}),r?n.createElement(zn,{changeActivePanel:t,twoFactorAuthenticationInfo:d}):null,s||!o&&!l?null:n.createElement(_n,{changeActivePanel:t}),s?null:mi||(mi=n.createElement(ui,null)),pi||(pi=n.createElement(jn,null)))};var hi=a(222614);const bi=(e,t)=>{(0,v.K)(new c.UserChangeMasterPasswordEvent({flowStep:e,errorName:t||void 0}))},yi=e=>bi(c.FlowStep.Error,e);var Ci;!function(e){e.WRONG_PASSWORD_ERROR="wrong_password",e.PASSWORDS_DONT_MATCH_ERROR="passwords_dont_match",e.WEAK_PASSWORD_ERROR="weak_password",e.SAME_MASTER_PASSWORD="same_master_password"}(Ci||(Ci={}));const wi="webapp_account_security_settings_changemp_panel_show_label",Ei="webapp_account_security_settings_changemp_panel_hide_label",vi={0:"webapp_account_security_settings_zxcvbn_weakest_password",1:"webapp_account_security_settings_zxcvbn_weak_password",2:"webapp_account_security_settings_zxcvbn_acceptable_password",3:"webapp_account_security_settings_zxcvbn_good_password",4:"webapp_account_security_settings_zxcvbn_awesome_password"},Ni=({onNavigateOut:e,onShowPasswordTips:t,onConfirmChangeMasterPassword:a})=>{const{translate:i}=(0,P.Z)(),[s,r]=(0,n.useState)(!1);n.useEffect((()=>{(0,v.N)(c.PageView.SettingsSecurityChangeMasterPassword),bi(c.FlowStep.Start)}),[]);const[o,l]=(0,n.useState)(""),[m,p]=(0,n.useState)(null),[_,g]=(0,n.useState)(""),[h,b]=(0,n.useState)(null),{passwordStrength:y,resetPasswordStrength:C,setPasswordStrength:w,isPasswordStrengthScore:E,isPasswordStrongEnough:N}=(0,hi.R)(),[S,I]=(0,n.useState)(""),[f,x]=(0,n.useState)(null);return n.createElement(ve,{headingText:i("webapp_account_security_settings_changemp_panel_heading"),onNavigateOut:()=>{bi(c.FlowStep.Cancel),e()}},n.createElement(qe,{sectionTitle:i("webapp_account_security_settings_changemp_panel_subtitle")},n.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:e=>{e.preventDefault(),N?_===o?(yi(c.ChangeMasterPasswordError.SamePasswordError),b(Ci.SAME_MASTER_PASSWORD)):_!==S?(yi(c.ChangeMasterPasswordError.PasswordsDontMatch),x(Ci.PASSWORDS_DONT_MATCH_ERROR)):(r(!0),a(o,_)):(yi(c.ChangeMasterPasswordError.WeakPasswordError),b(Ci.WEAK_PASSWORD_ERROR))}},n.createElement("button",{type:"button",className:"infoButton--Bspa0JZ2s2",onClick:()=>{t()}},n.createElement("p",{className:"infoText--mDxOuCZ8Tp"},i("webapp_account_security_settings_changemp_panel_infotext")),n.createElement("span",{className:"icon--l5QccFOqPm"},n.createElement(d.jcJ,{size:12,color:d.O9T.midGreen00}))),n.createElement("section",{className:"changePasswordSection--fUuBku_Js4"},n.createElement(d.WUg,{autoFocus:!0,showPasswordTooltipText:i(wi),hidePasswordTooltipText:i(Ei),placeholder:i("webapp_account_security_settings_changemp_panel_currentmp_placeholder"),label:i("webapp_account_security_settings_changemp_panel_currentmp"),onBlur:async()=>{if(o)try{const{isMasterPasswordValid:e}=await u.C.checkIfMasterPasswordIsValid({masterPassword:o});e||(yi(c.ChangeMasterPasswordError.WrongPasswordError),p(Ci.WRONG_PASSWORD_ERROR))}catch(e){yi(c.ChangeMasterPasswordError.WrongPasswordError),p(Ci.WRONG_PASSWORD_ERROR)}},onChange:e=>{const t=e.target.value;p(null),l(t),h===Ci.SAME_MASTER_PASSWORD&&_!==t&&b(null)},value:o,feedbackType:m?"error":void 0,feedbackText:m===Ci.WRONG_PASSWORD_ERROR?i("webapp_account_security_settings_changemp_panel_error_incorrect_mp"):void 0}),n.createElement("div",null,n.createElement(d.WUg,{"aria-describedby":"password-tooltip",showPasswordTooltipText:i(wi),hidePasswordTooltipText:i(Ei),placeholder:i("webapp_account_security_settings_changemp_panel_newmp_placeholder"),label:i("webapp_account_security_settings_changemp_panel_newmp"),onBlur:()=>{_&&(_&&!N?(yi(c.ChangeMasterPasswordError.WeakPasswordError),b(Ci.WEAK_PASSWORD_ERROR)):_===o?(yi(c.ChangeMasterPasswordError.SamePasswordError),b(Ci.SAME_MASTER_PASSWORD)):S&&_&&_!==S&&(yi(c.ChangeMasterPasswordError.PasswordsDontMatch),x(Ci.PASSWORDS_DONT_MATCH_ERROR)))},onChange:async e=>{const t=e.target.value;if(g(t),h&&b(null),f&&x(null),""!==t){const e=await u.C.evaluatePassword({password:t});e&&w(e)}else C()},value:_,feedbackType:h?"error":void 0,feedbackText:h===Ci.WEAK_PASSWORD_ERROR?i("webapp_account_security_settings_changemp_panel_error_weak_pw"):h===Ci.SAME_MASTER_PASSWORD?i("webapp_account_security_settings_changemp_panel_error_same_pw"):void 0}),!h&&y&&E(y.score)&&n.createElement(d.YVT,{score:y.score,showAdditionalText:!0,additionalText:i(`${vi[y.score]}`)})),n.createElement(d.WUg,{showPasswordTooltipText:i(wi),hidePasswordTooltipText:i(Ei),placeholder:i("webapp_account_security_settings_changemp_panel_confirmmp_placeholder"),label:i("webapp_account_security_settings_changemp_panel_confirmmp"),onBlur:()=>{S&&S!==_&&(yi(c.ChangeMasterPasswordError.PasswordsDontMatch),x(Ci.PASSWORDS_DONT_MATCH_ERROR))},onChange:e=>{x(null),I(e.target.value)},value:S,feedbackType:f?"error":void 0,feedbackText:f?i("webapp_account_security_settings_changemp_panel_error_pw_dont_match"):void 0})),n.createElement("section",{className:"actionsSection--cT0JfywuL_"},n.createElement(d.zxk,{nature:"primary",size:"small",type:"submit",disabled:(()=>{const e=!o||!_||!S,t=S===_,a=Boolean(m||h||f);return e||!t||!N||a||s})()},i("webapp_account_security_settings_changemp_panel_button_confirm"))))))};var Si,Ii=a(820326);const fi=({onNavigateOut:e})=>{const{translate:t}=(0,P.Z)();return n.createElement(ve,{headingText:t("webapp_account_security_settings_passwordtips_panel_heading"),onNavigateOut:e},n.createElement(qe,{sectionTitle:t("webapp_account_security_settings_passwordtips_panel_subtitle")},Si||(Si=n.createElement(Ii.t,null))))},xi={enter:"enter--eDZ8ySAq7M",enterActive:"enterActive--TgqXVICVbC",exit:"exit--Q1ZSvWr9oe",exitActive:"exitActive--wWDxw2BoDU"},Mi={enter:"enter--d2nmtK6oXu",enterActive:"enterActive--Vd9n69X94e",exit:"exit--KiytjzvxhC",exitActive:"exitActive--wGGPNH9QfJ"},Ti=parseInt(we()["--edit-panel-animation-duration-enter"],10);let Di;!function(e){e[e.Root=0]="Root",e[e.PasswordTipsPanel=1]="PasswordTipsPanel"}(Di||(Di={}));const Zi=({onNavigateOut:e})=>{const[t,a]=(0,n.useState)(Di.Root);return n.createElement("div",null,n.createElement(r.Z,null,t===Di.Root?n.createElement(o.Z,{classNames:xi,timeout:Ti},n.createElement(Ni,{key:"for-TransitionGroup-security-settings-changemp-form",onNavigateOut:e,onShowPasswordTips:()=>{a(Di.PasswordTipsPanel)},onConfirmChangeMasterPassword:(e,t)=>{(async(e,t)=>{e&&t&&await u.C.changeMasterPassword({currentPassword:e,newPassword:t,flow:V.ChangeMPFlowPath.USER_CHANGING_MP})})(e,t)}})):null,t===Di.PasswordTipsPanel?n.createElement(o.Z,{classNames:Mi,timeout:Ti},n.createElement(fi,{key:"for-TransitionGroup-security-settings-changemp-subpanel-passwordtips",onNavigateOut:()=>{a(Di.Root)}})):null))};var Ai=a(611066),ki=a(889959);var Oi,Li;const zi="webapp_account_security_settings_passwordless_login_methods_menu_title",ji=({authenticator:e,onRemoveAuthenticator:t})=>{const{credentialId:a,name:i}=e,{translate:s}=(0,P.Z)(),[r,o]=n.useState(!1),l=n.createElement(d.W7o,{onClick:()=>{t(a)}},n.createElement(d.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center"},Oi||(Oi=n.createElement(d.XHJ,{size:16,"aria-hidden":"true"})),n.createElement(d.nvN,{size:"small",color:d.O9T.dashGreen00,bold:!0},s("webapp_account_security_settings_passwordless_login_methods_menu_delete"))));return n.createElement("li",{className:"authenticator--h2BHIARxFF"},n.createElement(d.Ejs,{justifyContent:"space-between",alignItems:"center",gap:"30px"},n.createElement(d.nvN,null,i),n.createElement("div",{className:"dropdownContainer--wB_yaS6naQ"},n.createElement(d.h_2,{offset:[0,4],placement:"bottom-end",content:l},n.createElement(d.hU,{type:"button",size:"small",onClick:e=>{e.stopPropagation(),o(!r)},"aria-label":s(zi),title:s(zi),icon:Li||(Li=n.createElement(d.YAX,{size:20,rotate:90}))})))))};var Pi;const Ri="webapp_account_security_settings_passwordless_login_methods_plaftorm",Ui=({authenticators:e,userHasWebAuthnPlatformAuthenticator:t,onClickTriggerWebAuthnAuthenticator:a,onRemoveWebAuthnAuthenticator:i})=>{const{translate:s}=(0,P.Z)(),r=t?"webapp_account_security_settings_passwordless_login_methods_all_authenticators_add":"webapp_account_security_settings_passwordless_login_methods_noplatform_add";if(!e)return null;const o=(e=>{if(1===e.length&&!e[0].isRoaming)return e[0].name=s(Ri),[...e];let t=0,a=0;return e.reduce(((e,n)=>{let i;n.isRoaming?(t++,i=`${s("webapp_account_security_settings_passwordless_login_methods_roaming")} ${t}`):(a++,i=`${s(Ri)} ${a}`);const r={...n,name:i};return e.push(r),e}),[])})(e);return n.createElement(qe,{sectionTitle:s("webapp_account_security_settings_passwordless_login_methods_title"),action:n.createElement(d.hU,{type:"button",size:"small",onClick:a,"aria-label":s(r),title:s(r),icon:Pi||(Pi=n.createElement(d.dtP,{size:16}))})},n.createElement("ol",null,o.map((e=>n.createElement(ji,{key:e.credentialId,authenticator:e,onRemoveAuthenticator:i})))))},Bi=({onNavigateOut:e,onDialogStateChanged:t})=>{const{translate:a}=(0,P.Z)(),{authenticators:i,optedIn:s}=(0,dn.dG)(),{openWebAuthnRemoveLastAuthenticatorDialog:r,onRemoveWebAuthnAuthenticator:o}=(0,dn.$_)({onDialogStateChanged:t}),[l,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{l||(async()=>{const e=await(0,Ai.FI)();c(e)})()}),[l]);const d=(0,n.useCallback)((e=>{const t=i?.find((t=>t.credentialId===e));if(t){const a=1===i?.length&&s,n=Boolean(t?.isRoaming);a?r(e,n):o(e,n)}}),[s,i,o,r]),m=l?"webapp_account_security_settings_passwordless_all_authenticators_title":"webapp_account_security_settings_passwordless_noplatform_title";return n.createElement(ve,{headingText:a(m),onNavigateOut:e},n.createElement(Ui,{userHasWebAuthnPlatformAuthenticator:l,onClickTriggerWebAuthnAuthenticator:async()=>{const e=(0,h.Me)();if(!e)throw new Error("WebAuthn attestation cannot be completed as extension Id is missing");const t=await u.C.initRegisterWebAuthnAuthenticator({relyingPartyId:e});if(t.success){const e=await(0,ki.G)(t.response.publicKeyOptions),a=(0,Ai.Sq)();await u.C.registerWebAuthnAuthenticator({credential:e,isRoaming:a})}},authenticators:i,onRemoveWebAuthnAuthenticator:d}))},Fi=parseInt(we()["--edit-panel-animation-duration-enter"],10);let Gi;!function(e){e[e.WebAuthn=0]="WebAuthn",e[e.AccountRecovery=1]="AccountRecovery",e[e.ChangeMP=2]="ChangeMP",e[e.Root=3]="Root",e[e.TwoFactorAuthentication=4]="TwoFactorAuthentication"}(Gi||(Gi={}));const Wi=({onNavigateOut:e,onDialogStateChanged:t})=>{const[a,i]=(0,n.useState)(Gi.Root),s=()=>{(0,v.N)(c.PageView.SettingsSecurity),i(Gi.Root)};return n.createElement("div",null,n.createElement(r.Z,null,a===Gi.Root?n.createElement(o.Z,{classNames:xi,timeout:Fi},n.createElement(gi,{key:"for-TransitionGroup-security-settings-root",onNavigateOut:e,changeActivePanel:i,onDialogStateChanged:t})):null,a===Gi.ChangeMP?n.createElement(o.Z,{classNames:Mi,timeout:Fi},n.createElement(Zi,{key:"for-TransitionGroup-security-settings-subpanel-changemp",onNavigateOut:s})):null,a===Gi.AccountRecovery?n.createElement(o.Z,{classNames:Mi,timeout:Fi},n.createElement(Ct,{key:"for-TransitionGroup-security-settings-subpanel-account-recovery",onNavigateOut:s})):null,a===Gi.TwoFactorAuthentication?n.createElement(o.Z,{classNames:Mi,timeout:Fi},n.createElement(ln,{key:"for-TransitionGroup-security-settings-subpanel-account-recovery",onNavigateOut:s})):null,a===Gi.WebAuthn?n.createElement(o.Z,{classNames:Mi,timeout:Fi},n.createElement(Bi,{key:"for-TransitionGroup-security-settings-subpanel-webauthn",onNavigateOut:s,onDialogStateChanged:t})):null))};let Vi;!function(e){e[e.Root=0]="Root",e[e.Invoices=1]="Invoices",e[e.ChangeContactEmail=2]="ChangeContactEmail"}(Vi||(Vi={}));var Hi=a(274187),qi=a(919005);const Yi=e=>{(0,v.K)(new c.UserChangeContactEmailEvent({flowStep:e}))},Qi=Yi.bind(null,c.FlowStep.Start),$i=Yi.bind(null,c.FlowStep.Error),Ki=Yi.bind(null,c.FlowStep.Complete),Xi="sectionHeading--mmNtq9aVyF",Ji="section--PRu3bWKg26",es={CONTACT_FIELD_DESCRIPTION:{color:"ds.text.neutral.quiet",marginBottom:"16px"}},ts=({accountInfo:e,onNavigateOut:t,changeActivePanel:a})=>{var n;const{translate:i}=(0,P.Z)(),r=(0,Hi.G)(),o=(0,qi.f)();return(0,Ue.tZ)(ve,{headingText:i("webapp_account_management_panel_heading"),onNavigateOut:t,contentClassName:"content--EgcRsehEZ7"},(0,Ue.tZ)("div",{className:Ji},(0,Ue.tZ)(Ue.oi,{label:i("webapp_account_management_label_login_email"),type:"email",readOnly:!0,id:"account-login-email",value:o}),(0,Ue.tZ)(d.nvN,{size:"small",sx:es.CONTACT_FIELD_DESCRIPTION},i.markup("webapp_account_management_description_login_email_markup",{},{linkTarget:"_blank"}))),(0,Ue.tZ)("div",{className:Ji},(0,Ue.tZ)("h2",{className:Xi},i("webapp_account_management_privacy_section_heading")),(0,Ue.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",size:"small","aria-label":i("webapp_account_management_privacy_edit_a11y_label"),onClick:()=>{const t=(0,O.aH)(s.LL,e.subscriptionCode);(0,b.Yk)(t,{type:"account",subtype:"details",action:"managePrivacySettings"})}},i("webapp_account_management_privacy_edit_button"))),(0,Ue.tZ)("div",{className:Ji},(0,Ue.tZ)("h2",{className:Xi},i("webapp_account_management_verification_section_heading")),(0,Ue.tZ)(Ue.oi,{label:i("webapp_account_management_label_contact_email"),type:"email",readOnly:!0,id:"account-contact-email",value:null!=(n=r?.email)?n:o}),(0,Ue.tZ)(d.nvN,{size:"small",sx:es.CONTACT_FIELD_DESCRIPTION},i("webapp_account_management_contact_email_description")),(0,Ue.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{Qi(),a(Vi.ChangeContactEmail)},sx:{marginBottom:"32px"},"aria-label":i("webapp_account_management_change_contact_email_a11y_label")},i("webapp_account_management_change_contact_email_button"))))};var as=a(519843),ns=a(906978);const is="webapp_change_contact_email_new_email_label",ss="webapp_change_contact_email_error_email_format",rs="changeAccountEmailErrorId",os={EMAIL_CONTAINER:{minHeight:"120px"},CONFIRM_BUTTON:{marginTop:"0"},GENERIC_ERROR_MESSAGE:{color:d.O9T.functionalRed01}},ls="contactEmail",cs={contactEmail:""},ds=({effectiveContactEmail:e,onNavigateOut:t})=>{const{translate:a}=(0,P.Z)(),n=(0,Na.V)(),{areProtectedItemsUnlocked:i,openProtectedItemsUnlocker:s}=(0,an.tY)();return(0,Ue.tZ)(Gt.J9,{onSubmit:(r,{setSubmitting:o,setFieldError:l})=>{if(o(!1),(0,ns.vV)(r.contactEmail))if(r.contactEmail===e)$i(),l(ls,a("webapp_change_contact_email_error_identical_email"));else{o(!0);const e=async()=>{const e=await u.C.editContactInfo({contactEmail:r.contactEmail});if(o(!1),e.success)Ki(),n.showAlert(a("webapp_change_contact_email_alert_success"),d.BLW.SUCCESS),t();else switch($i(),e.error.code){case V.EditContactInfoErrorCode.INVALID_EMAIL:case V.EditContactInfoErrorCode.EMPTY_EMAIL:l(ls,a(ss));break;case V.EditContactInfoErrorCode.UNKNOWN_ERROR:default:n.showAlert((0,Ue.tZ)(d.nvN,{bold:!0,sx:os.GENERIC_ERROR_MESSAGE},a("webapp_change_contact_email_error_generic")),d.BLW.ERROR)}};i?e():s({itemType:tn.Ru.UpdateContactEmail,options:{fieldsKeys:{title:"webapp_change_contact_email_master_password_unlock_title",subtitle:"webapp_change_contact_email_master_password_unlock_description",confirm:"webapp_change_contact_email_confirm_change_button",placeholder:"webapp_change_contact_email_master_password_unlock_placeholder"},translated:!1},successCallback:e,cancelCallback:()=>o(!1)})}else $i(),l(ls,a(ss))},initialValues:cs},(({dirty:e,isSubmitting:t})=>(0,Ue.tZ)(Gt.l0,{autoComplete:"off",noValidate:!0},(0,Ue.tZ)(d.Ejs,{sx:os.EMAIL_CONTAINER},(0,Ue.tZ)(Gt.gN,{name:ls},(({field:e,meta:t})=>(0,Ue.tZ)(Ue.oi,{type:"email",id:"account-management-change-contact-email-new-id",placeholder:a(is),label:a(is),...e,value:e.value,feedback:t.error?{id:rs,type:"error",text:t.error}:void 0,"aria-describedby":t.error&&rs})))),(0,Ue.tZ)(d.Ejs,{justifyContent:"flex-end"},(0,Ue.tZ)(d.zxk,{disabled:!e||t,sx:os.CONFIRM_BUTTON,type:"submit"},a("webapp_change_contact_email_confirm_change_button"))))))};var us;const ms={DESCRIPTION:{borderTop:`1px solid ${d.O9T.grey05}`,paddingTop:"15px"},FORM_CONTAINER:{marginTop:"18px"},SECTION_CONTAINER:{padding:"0 32px"},CONFIRM_BUTTON:{marginTop:"48px"}},ps=({onNavigateOut:e})=>{var t;const{translate:a}=(0,P.Z)(),n=(0,Hi.G)(),i=(0,qi.f)(),s=null!=(t=n?.email)?t:i;return(0,Ue.tZ)(ve,{headingText:a("webapp_change_contact_email_section_title"),onNavigateOut:e},(0,Ue.tZ)(d.Ejs,{flexDirection:"column",sx:ms.SECTION_CONTAINER},(0,Ue.tZ)("div",{sx:ms.DESCRIPTION},(0,Ue.tZ)(d.nvN,{size:"small"},a("webapp_change_contact_email_section_description"))),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",sx:ms.FORM_CONTAINER},(0,Ue.tZ)(Ue.oi,{id:"account-management-change-contact-email-current-id",readOnly:!0,label:a("webapp_change_contact_email_current_email_label"),value:s}),us||(us=(0,Ue.tZ)(as.c,{height:18})),s?(0,Ue.tZ)(ds,{effectiveContactEmail:s,onNavigateOut:e}):null)))};a(416702),a(842403),a(798849);const _s=({onCancelDownloadRequested:e,isDownloadInvoiceRequested:t,onCustomizeInvoiceRequested:a,onDownloadInvoiceConfirmed:i})=>{const{translate:s}=(0,P.Z)();return n.createElement(r.Z,null,t&&n.createElement(o.Z,{classNames:{enter:"enter--SydOpkVgOk",enterActive:"enterActive--XvKuIDevTB",exit:"exit--sr3opJDBNH",exitActive:"exitActive--B_rect2WHJ"},timeout:200,appear:!0,unmountOnExit:!0},n.createElement("div",{className:"confirmDownload--dqLbqdd6Yb"},n.createElement("header",{className:"confirmDownloadHeader--Rz5oJTQEJP"},n.createElement("p",{className:"confirmDownloadMessage--lq1KY7VftZ"},s("webapp_account_invoices_item_confirm_download_message")),n.createElement(d.zxk,{type:"button",nature:"ghost",className:"unselectButton--faF8tD5GyC",title:s("webapp_account_invoices_item_cancel_download_tooltip"),onClick:e},n.createElement(d.Two,{size:20,color:d.O9T.dashGreen03,hoverColor:d.O9T.dashGreen00}))),n.createElement("div",{className:"confirmDownloadButtons--bBL4DtBINQ"},n.createElement(d.zxk,{type:"button",size:"small",nature:"secondary",className:"confirmDownloadButton--wh31nc2zEw",onClick:i},s("webapp_account_invoices_item_button_download")),n.createElement(d.zxk,{type:"button",size:"small",nature:"secondary",onClick:a},s("webapp_account_invoices_item_button_customize"))))))},gs="itemInfoLabel--UWZP9KadLo",hs="itemInfoValue--NnOGsimeVP",bs=e=>"mac"===e.planType||"ios"===e.planType||"ios_renewable"===e.planType||"playstore"===e.planType,ys=(e,t)=>{const a=["ios","playstore","mac"];for(const n of a)if(e.toLowerCase().includes(n))return t("webapp_account_invoices_item_app_store_"+n);return null},Cs=({invoice:e,onDownloadInvoiceRequested:t,onCancelDownloadRequested:a,isDownloadInvoiceRequested:i,onCustomizeInvoiceRequested:s,onDownloadInvoiceConfirmed:r,index:o})=>{const{translate:l}=(0,P.Z)();return n.createElement("li",{className:"item--OinYRcNAGa"},0===o&&n.createElement("div",{className:"divider--JXzH9o4XyY"}),n.createElement("header",{className:"itemHeader--pqPWMeia5F"},n.createElement("div",{className:"itemDescription--KZnSn8eDBN _itemHeaderBlock--OxUJnsz3Z0"},((e,t)=>{const a=e.duration?parseInt(e.duration.split("-")[1],10):0,n=(e=>"premiumplus"===e.planFeature?"_plus":"essentials"===e.planFeature?"_essentials":"")(e),i=e.duration.includes("M-")?"_months":"_years";return bs(e)?t(`webapp_account_invoices_item_in_app_purchase${i}${n}`,{count:a,appStore:ys(e.planType,t)}):"premium_granted"===e.eventType?e.duration.includes("d-")?t("webapp_account_invoices_item_promotional_premium_days"+n,{count:a}):t(`webapp_account_invoices_item_promotional_premium${i}${n}`,{count:a}):"renewed"===e.eventType||"subscribed"===e.eventType?e.discountRatio?t(`webapp_account_invoices_item_discounted_subscription${i}${n}`,{count:a,discountPercentage:Math.floor(100*e.discountRatio)}):t(`webapp_account_invoices_item_full_price_subscription${i}${n}`,{count:a}):"crosssell_purchased"===e.eventType?t(`webapp_account_invoices_item_crosssell${i}${n}`,{count:a}):"family_created"===e.eventType||"family_renewed"===e.eventType?e.discountRatio?t(`webapp_account_invoices_item_discounted_family_subscription${i}${n}`,{count:a,discountPercentage:Math.floor(100*e.discountRatio)}):t(`webapp_account_invoices_item_full_price_family_subscription${i}${n}`,{count:a}):"set_as_legacy"===e.eventType?t("webapp_account_invoices_item_legacy"):null})(e,l)),n.createElement("div",{className:"itemAmount--uz_YQufHLp _itemHeaderBlock--OxUJnsz3Z0"},((e,t)=>{if(e.amountPaid){const a=e.currency||"usd";return t.price(a,e.amountPaid/100)}return t("webapp_account_invoices_item_free")})(e,l)," ")),n.createElement("div",{className:"itemDetails--4OhYARVjqv"},n.createElement("div",{className:"itemInfo--Bcd6Tae9mM"},n.createElement("div",null,n.createElement("span",{className:gs},l("webapp_account_invoices_item_invoice_number")),n.createElement("span",{className:hs},e.invoiceId?"INVPRE"+e.invoiceId:"-"," ")),n.createElement("div",null,n.createElement("span",{className:gs},l("webapp_account_invoices_item_date")),n.createElement("span",{className:hs},l.shortDate((0,xt.Z)(e.startDate),Ze._T.ll)))),(e=>e.invoiceId&&"set_as_legacy"!==e.eventType&&!bs(e))(e)&&n.createElement(d.zxk,{type:"button",size:"small",nature:"secondary",onClick:()=>t(e)},l("webapp_account_invoices_item_download"))),n.createElement(_s,{onCancelDownloadRequested:a,isDownloadInvoiceRequested:i,onCustomizeInvoiceRequested:s,onDownloadInvoiceConfirmed:r}))},ws=["premium_granted","renewed","subscribed","crosssell_purchased","family_created","family_renewed"],Es=({invoices:e,onDownloadInvoiceRequested:t,onCancelDownloadRequested:a,selectedInvoiceId:i,onCustomizeInvoiceRequested:s,onDownloadInvoiceConfirmed:r})=>{const{translate:o}=(0,P.Z)();if(!e||!e.length)return n.createElement("div",null,n.createElement("img",{alt:o("webapp_account_invoices_empty_list_image_alt"),src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjcycHgiIGhlaWdodD0iOTZweCIgdmlld0JveD0iMCAwIDcyIDk2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IHNrZXRjaHRvb2wgNDEuMiAoMzUzOTcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkU2MUY1MzE2LUFBNzItNDkxOC05NEI1LTcyMzE0OEQ3OTUxMDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggc2tldGNodG9vbC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iU2V0dGluZ3MiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJXZWJBcHBfcGFzc3dvcmRzXzE0NDB4OTAwX2FjY291bnQtcmVjZWlwdHMtZW1wdHlfbWNfdjEuMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMjQuMDAwMDAwLCAtMjUyLjAwMDAwMCkiIGZpbGw9IiNENkQ2RDYiPgogICAgICAgICAgICA8ZyBpZD0iQWNjb3VudC9TZXR0aW5ncyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4MC4wMDAwMDAsIDYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9ImlsbHVzdHJhdGlvbnMtcmVjZWlwdHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0NC4wMDAwMDAsIDE5Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03MS4wMDU1MjQ5LDk2IEwwLjk5NDQ3NTEzOCw5NiBDMC40NDUyNDE2ODUsOTYgMCw5NS41NjE0MjE4IDAsOTUuMDIwNDA4MiBMMCwwLjk3OTU5MTgzNyBDMCwwLjQzODU3ODIwNCAwLjQ0NTI0MTY4NSwwIDAuOTk0NDc1MTM4LDAgTDcxLjAwNTUyNDksMCBDNzEuNTU0NzU4MywwIDcyLDAuNDM4NTc4MjA0IDcyLDAuOTc5NTkxODM3IEw3Miw5NS4wMjA0MDgyIEM3Miw5NS41NjE0MjE4IDcxLjU1NDc1ODMsOTYgNzEuMDA1NTI0OSw5NiBaIE0yLDk0IEw3MCw5NCBMNzAsMiBMMiwyIEwyLDk0IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzAuMDA5NDM0LDM5IEwxMC45OTA1NjYsMzkgQzEwLjQ0MzQ5MTUsMzkgMTAsMzguNTUyMjg0NyAxMCwzOCBDMTAsMzcuNDQ3NzE1MyAxMC40NDM0OTE1LDM3IDEwLjk5MDU2NiwzNyBMMzAuMDA5NDM0LDM3IEMzMC41NTY1MDg1LDM3IDMxLDM3LjQ0NzcxNTMgMzEsMzggQzMxLDM4LjU1MjI4NDcgMzAuNTU2NTA4NSwzOSAzMC4wMDk0MzQsMzkgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC4wMDk0MzQsNTMgTDEwLjk5MDU2Niw1MyBDMTAuNDQzNDkxNSw1MyAxMCw1Mi41NTIyODQ3IDEwLDUyIEMxMCw1MS40NDc3MTUzIDEwLjQ0MzQ5MTUsNTEgMTAuOTkwNTY2LDUxIEwzMC4wMDk0MzQsNTEgQzMwLjU1NjUwODUsNTEgMzEsNTEuNDQ3NzE1MyAzMSw1MiBDMzEsNTIuNTUyMjg0NyAzMC41NTY1MDg1LDUzIDMwLjAwOTQzNCw1MyBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQzLDI1IEwxMSwyNSBDMTAuNDQ3NzE1MywyNSAxMCwyNC41NTIyODQ3IDEwLDI0IEMxMCwyMy40NDc3MTUzIDEwLjQ0NzcxNTMsMjMgMTEsMjMgTDQzLDIzIEM0My41NTIyODQ3LDIzIDQ0LDIzLjQ0NzcxNTMgNDQsMjQgQzQ0LDI0LjU1MjI4NDcgNDMuNTUyMjg0NywyNSA0MywyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYxLjAzODQ2MTUsMzkgTDU3Ljk2MTUzODUsMzkgQzU3LjQzMDQ5NTQsMzkgNTcsMzguNTUyMjg0NyA1NywzOCBDNTcsMzcuNDQ3NzE1MyA1Ny40MzA0OTU0LDM3IDU3Ljk2MTUzODUsMzcgTDYxLjAzODQ2MTUsMzcgQzYxLjU2OTUwNDYsMzcgNjIsMzcuNDQ3NzE1MyA2MiwzOCBDNjIsMzguNTUyMjg0NyA2MS41Njk1MDQ2LDM5IDYxLjAzODQ2MTUsMzkgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02MS4wMzg0NjE1LDUzIEw1Ny45NjE1Mzg1LDUzIEM1Ny40MzA0OTU0LDUzIDU3LDUyLjU1MjI4NDcgNTcsNTIgQzU3LDUxLjQ0NzcxNTMgNTcuNDMwNDk1NCw1MSA1Ny45NjE1Mzg1LDUxIEw2MS4wMzg0NjE1LDUxIEM2MS41Njk1MDQ2LDUxIDYyLDUxLjQ0NzcxNTMgNjIsNTIgQzYyLDUyLjU1MjI4NDcgNjEuNTY5NTA0Niw1MyA2MS4wMzg0NjE1LDUzIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjEuMDUxNzI0MSw2NyBMNTEuOTQ4Mjc1OSw2NyBDNTEuNDI0NTU3Niw2NyA1MSw2Ni41NTIyODQ3IDUxLDY2IEM1MSw2NS40NDc3MTUzIDUxLjQyNDU1NzYsNjUgNTEuOTQ4Mjc1OSw2NSBMNjEuMDUxNzI0MSw2NSBDNjEuNTc1NDQyNCw2NSA2Miw2NS40NDc3MTUzIDYyLDY2IEM2Miw2Ni41NTIyODQ3IDYxLjU3NTQ0MjQsNjcgNjEuMDUxNzI0MSw2NyBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYxLjAzODQ2MTUsMjUgTDU3Ljk2MTUzODUsMjUgQzU3LjQzMDQ5NTQsMjUgNTcsMjQuNTUyMjg0NyA1NywyNCBDNTcsMjMuNDQ3NzE1MyA1Ny40MzA0OTU0LDIzIDU3Ljk2MTUzODUsMjMgTDYxLjAzODQ2MTUsMjMgQzYxLjU2OTUwNDYsMjMgNjIsMjMuNDQ3NzE1MyA2MiwyNCBDNjIsMjQuNTUyMjg0NyA2MS41Njk1MDQ2LDI1IDYxLjAzODQ2MTUsMjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSw5NCBMMzUsODguOTU2OTM3OCBDMzUsODguNDI4NDM1NiAzNS40NDc3MTUzLDg4IDM2LDg4IEMzNi41NTIyODQ3LDg4IDM3LDg4LjQyODQzNTYgMzcsODguOTU2OTM3OCBMMzcsOTQgTDM1LDk0IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDcsOTQgTDQ3LDg4Ljk1NjkzNzggQzQ3LDg4LjQyODQzNTYgNDcuNDQ3NzE1Myw4OCA0OCw4OCBDNDguNTUyMjg0Nyw4OCA0OSw4OC40Mjg0MzU2IDQ5LDg4Ljk1NjkzNzggTDQ5LDk0IEw0Nyw5NCBaIiBpZD0iU2hhcGUtQ29weS0zIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik01OCw5NCBMNTgsODguOTU2OTM3OCBDNTgsODguNDI4NDM1NiA1OC40NDc3MTUzLDg4IDU5LDg4IEM1OS41NTIyODQ3LDg4IDYwLDg4LjQyODQzNTYgNjAsODguOTU2OTM3OCBMNjAsOTQgTDU4LDk0IFoiIGlkPSJTaGFwZS1Db3B5LTQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIzLDk0IEwyMyw4OC45NTY5Mzc4IEMyMyw4OC40Mjg0MzU2IDIzLjQ0NzcxNTMsODggMjQsODggQzI0LjU1MjI4NDcsODggMjUsODguNDI4NDM1NiAyNSw4OC45NTY5Mzc4IEwyNSw5NCBMMjMsOTQgWiIgaWQ9IlNoYXBlLUNvcHkiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLDk0IEwxMiw4OC45NTY5Mzc4IEMxMiw4OC40Mjg0MzU2IDEyLjQ0NzcxNTMsODggMTMsODggQzEzLjU1MjI4NDcsODggMTQsODguNDI4NDM1NiAxNCw4OC45NTY5Mzc4IEwxNCw5NCBMMTIsOTQgWiIgaWQ9IlNoYXBlLUNvcHktMiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",className:"noReceiptsImage--QUvoeOXsGF"}),n.createElement("p",{className:"emptyInvoiceListMessage--A1GuFJSQXL"},o("webapp_account_invoices_empty_list_message")));const l=(e=>e.filter((e=>ws.includes(e.eventType))))(e);return n.createElement("ol",{className:"invoiceList--agVLN1enHn"},(e=>e.sort(((e,t)=>t.startDate-e.startDate)))(l).map(((e,o)=>n.createElement(Cs,{key:e.eventType+e.startDate,invoice:e,onDownloadInvoiceRequested:t,onCancelDownloadRequested:a,isDownloadInvoiceRequested:!!e.invoiceId&&i===e.invoiceId,onCustomizeInvoiceRequested:s,onDownloadInvoiceConfirmed:r,index:o}))))},vs={form:"form--IAB0r5z1Ii",divider:"divider--RzxGD_rUN8",buttonPanel:"buttonPanel--JUeXl6zM1a",customizeButton:"customizeButton--kMokFV9oSG"},Ns=({onDownloadInvoice:e,onCancel:t})=>{const{translate:a}=(0,P.Z)(),[i,s]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[u,m]=(0,n.useState)("");return n.createElement("div",{className:vs.form},n.createElement("div",{className:vs.divider}),n.createElement(d.oil,{label:n.createElement("label",{htmlFor:"customize-invoice-recipient"},a("webapp_account_invoices_customize_recipient")),autoFocus:!0,fullWidth:!0,id:"customize-invoice-recipient",placeholder:a("webapp_account_invoices_customize_recipient_optional"),onChange:e=>s(e.target.value)}),n.createElement(d.oil,{label:n.createElement("label",{htmlFor:"customize-invoice-company"},a("webapp_account_invoices_customize_company")),fullWidth:!0,id:"customize-invoice-company",placeholder:a("webapp_account_invoices_customize_company_optional"),onChange:e=>o(e.target.value)}),n.createElement(d.oil,{label:n.createElement("label",{htmlFor:"customize-invoice-address"},a("webapp_account_invoices_customize_address")),id:"customize-invoice-address",multiline:!0,fullWidth:!0,onChange:e=>c(e.target.value),placeholder:a("webapp_account_invoices_customize_address_optional")}),n.createElement(d.oil,{label:n.createElement("label",{htmlFor:"customize-invoice-tax-number"},a("webapp_account_invoices_customize_tax_number")),fullWidth:!0,id:"customize-invoice-tax-number",placeholder:a("webapp_account_invoices_customize_tax_number_optional"),onChange:e=>m(e.target.value)}),n.createElement("div",{className:vs.buttonPanel},n.createElement(d.zxk,{type:"button",nature:"primary",size:"small",className:vs.customizeButton,onClick:()=>{const t={};""!==i&&(t.recipient=i),""!==r&&(t.company=r),""!==l&&(t.address=l),""!==u&&(t.vatNumber=u),e(t)}},a("webapp_account_invoices_customize_customize_button")),n.createElement(d.zxk,{type:"button",nature:"secondary",size:"small",className:vs.button,onClick:t},a("webapp_account_invoices_customize_cancel_button"))))},Ss=({onNavigateOut:e})=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(null),[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null),c=()=>{i(null),r(!1)};(0,n.useEffect)((()=>((async()=>{const e=await u.C.getInvoices(null);e&&e.invoices&&l(e.invoices)})(),()=>{c()})),[]);const d=async e=>{if(a){const n=`dashlane_invoice_${t.shortDate((0,xt.Z)(a?.startDate),Ze._T.L)}`,i=await u.C.downloadCustomerInvoice({invoiceId:a.invoiceId,lang:"en",...e});if(i.success){const{data:e}=JSON.parse(i.data),t=new Uint8Array(e).buffer;(0,Xt.S)(t,n,"application/pdf")}c()}},m=()=>{r(!1)};return s?n.createElement(ve,{headingText:t("webapp_account_invoices_customize_panel_heading"),onNavigateOut:m},n.createElement(Ns,{onDownloadInvoice:e=>d(e),onCancel:m})):n.createElement(ve,{headingText:t("webapp_account_invoices_panel_heading"),onNavigateOut:e},n.createElement(Es,{invoices:o,onDownloadInvoiceRequested:e=>{i(e)},onCancelDownloadRequested:()=>{i(null)},selectedInvoiceId:a?a.invoiceId:null,onCustomizeInvoiceRequested:()=>{r(!0)},onDownloadInvoiceConfirmed:()=>d()}))},Is=parseInt(we()["--edit-panel-animation-duration-enter"],10),fs={[Vi.Root]:e=>n.createElement(ts,{accountInfo:e.accountInfo,changeActivePanel:e.setActivePanel,onNavigateOut:e.onNavigateOut}),[Vi.Invoices]:e=>n.createElement(Ss,{onNavigateOut:e.onSubPanelExitRequest}),[Vi.ChangeContactEmail]:e=>n.createElement(ps,{onNavigateOut:e.onSubPanelExitRequest})},xs=e=>{const[t,a]=n.useState(Vi.Root),i={...e,setActivePanel:a,onSubPanelExitRequest:()=>{a(Vi.Root)}};return n.createElement("div",{className:"rootContainer--q7fIVDc089"},n.createElement(r.Z,null,((e,t)=>n.createElement(o.Z,{classNames:e===Vi.Root?xi:Mi,timeout:Is,key:e},fs[e]({...t})))(t,i)))},Ms=({isOpen:e,onDismiss:t,onConfirm:a})=>{const{translate:n}=(0,P.Z)();return(0,D.tZ)(p.o,{isOpen:e,disableBackgroundPanelClose:!0,onRequestClose:t,title:n("webapp_account_export_personal_data_title"),footer:(0,D.tZ)(d.cNS,{primaryButtonTitle:n("webapp_account_export_personal_data_continue"),primaryButtonOnClick:a,secondaryButtonTitle:n("webapp_account_export_personal_data_cancel"),secondaryButtonOnClick:t})},(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen01},n("webapp_account_export_personal_data_subtitle")),(0,D.tZ)(d.vDh,{sx:{marginTop:"16px"},size:"small",title:n("webapp_account_export_personal_data_warning")}))},Ts=({reportError:e})=>{const{areProtectedItemsUnlocked:t,openProtectedItemsUnlocker:a}=(0,an.tY)(),{translate:i}=(0,P.Z)(),s=(0,Na.V)(),[r,o]=n.useState(!1),l=async()=>{const t=await u.C.getPersonalDataExport({exportType:"csv"});t.success?((0,Xt.S)(t.response.content,t.response.filename,"application/zip"),s.showAlert(i("webapp_account_import_export_data_csv_success_message"),d.BLW.SUCCESS),(0,v.K)(new c.UserExportDataEvent({backupFileType:c.BackupFileType.Csv}))):e(new Error(`Cannot export CSV file : ${t.error.code}`))},m=async()=>{await u.C.getIsForcedDomainsEnabled()?o(!0):l()};return(0,D.tZ)("div",null,(0,D.tZ)(d.Ejs,{sx:{padding:"0 16px",margin:"0 32px 24px"}},(0,D.tZ)(d.X6q,{size:"x-small",sx:{marginTop:"16px"}},i("webapp_account_import_export_data_sub_title2_export")),(0,D.tZ)(d.nvN,{size:"x-small",sx:{margin:"16px 0"},color:d.O9T.grey00},i("webapp_account_import_export_data_csv_help_text")),(0,D.tZ)(d.vDh,{sx:{marginBottom:"16px"},severity:"warning",size:"small",title:i("webapp_account_import_export_data_csv_warning_text")}),(0,D.tZ)(d.zxk,{nature:"secondary",type:"button",onClick:()=>{t?m():a({action:tn.P7.Export,options:{fieldsKeys:{confirm:"webapp_lock_items_export"},translated:!1},itemType:tn.Ru.ExportData,successCallback:m})}},i("webapp_account_import_export_data_csv_button"))),r?(0,D.tZ)(Ms,{isOpen:!0,onDismiss:()=>{o(!1)},onConfirm:()=>{l(),o(!1)}}):null)};var Ds=a(513725),Zs=a(735842);var As;!function(e){e.PASSWORDS_DONT_MATCH_ERROR="passwords_dont_match",e.WEAK_PASSWORD_ERROR="weak_password"}(As||(As={}));const ks=({createPasswordInputLabel:e,createPasswordPlaceholderLabel:t,confirmPasswordInputLabel:a,confirmPasswordPlaceholderLabel:i,primaryButtonTitle:s,secondaryButtonTitle:r,onSubmit:o,onDismiss:l})=>{var c,m;const{translate:p}=(0,P.Z)(),[_,g]=n.useState(""),[h,b]=n.useState(null),[y,C]=n.useState(!0),[w,E]=n.useState(""),[v,N]=n.useState(null),{passwordStrength:S,resetPasswordStrength:I,setPasswordStrength:f,isPasswordStrengthScore:x,isPasswordStrongEnough:M}=(0,hi.R)(),[T,D]=n.useState(!1),Z=e=>{if(e)return e===As.WEAK_PASSWORD_ERROR?p("webapp_sso_to_mp_error_weak_password"):p("webapp_sso_to_mp_error_passwords_dont_match")},A=()=>!_||!w||!(w===_)||!M||T;return(0,Ue.tZ)("form",{autoComplete:"off",noValidate:!0,onSubmit:async e=>{e.preventDefault(),A()||(_===w?(D(!0),await o(_),D(!1)):N(As.PASSWORDS_DONT_MATCH_ERROR))}},(0,Ue.tZ)("div",{className:"inputContainer--HyhaY7XKxY"},(0,Ue.tZ)("div",{className:"createPasswordContainer--kHVW3MrOEy"},(0,Ue.tZ)(Ds.T,{id:"password-tooltip",passwordStrength:S,showTooltip:y},(0,Ue.tZ)(Ue.WU,{showPasswordButton:{showPasswordText:p("webapp_sso_to_mp_password_show_label"),hidePasswordText:p("webapp_sso_to_mp_password_hide_label")},onBlur:()=>{const e=_&&w&&_!==w;b(!_||M?null:As.WEAK_PASSWORD_ERROR),C(!1),N(e?As.PASSWORDS_DONT_MATCH_ERROR:null)},onFocus:()=>{C(!0)},onChange:async e=>{const t=e.target.value;g(t),h&&b(null),v&&N(null),""===t&&I();const a=await u.C.evaluatePassword({password:t});f(a)},placeholder:t||p("webapp_sso_to_mp_password_hint_text"),value:_,label:e||p("webapp_sso_to_mp_create_password_floating_label"),feedback:h?{type:"error",text:null!=(c=Z(h))?c:""}:void 0})),S&&x(S.score)?(0,Ue.tZ)(d.YVT,{score:S.score,showAdditionalText:!0,additionalText:p(`account_creation_${Zs.Yh[S.score]}`)}):null),(0,Ue.tZ)(Ue.WU,{value:w,showPasswordButton:{showPasswordText:p("webapp_sso_to_mp_confirm_password_show_label"),hidePasswordText:p("webapp_sso_to_mp_confirm_password_hide_label")},placeholder:i||p("webapp_sso_to_mp_confirm_password_hint_text"),onBlur:()=>{w&&_!==w&&N(As.PASSWORDS_DONT_MATCH_ERROR)},onChange:e=>{E(e.target.value),N(null)},label:a||p("webapp_sso_to_mp_confirm_password_floating_label"),feedback:v?{type:"error",text:null!=(m=Z(v))?m:""}:void 0})),(0,Ue.tZ)(d.cNS,{primaryButtonTitle:s||p("webapp_sso_to_mp_create_password_button"),primaryButtonProps:{disabled:A(),type:"submit"},secondaryButtonTitle:r||null,secondaryButtonOnClick:l}))},Os="webapp_create_unique_password_confirm_password_input",Ls=({onDismiss:e,onConfirm:t,isOpen:a})=>{const{translate:n}=(0,P.Z)(),i=F()([A.Ht]);return(0,D.tZ)(d.VqE,{closeIconName:n("_common_dialog_dismiss_button"),isOpen:a,onClose:e,disableOutsideClickClose:!0,modalContentClassName:i,disableUserInputTrap:!0},(0,D.tZ)(d.$N8,{title:n("webapp_create_unique_password_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen01},n("webapp_create_unique_password_subtitle"))),(0,D.tZ)(ks,{createPasswordInputLabel:n("webapp_create_unique_password_enter_password_input"),createPasswordPlaceholderLabel:n("webapp_create_unique_password_create_password_placeholder"),confirmPasswordInputLabel:n(Os),confirmPasswordPlaceholderLabel:n(Os),primaryButtonTitle:n("webapp_create_unique_password_export_data_button"),secondaryButtonTitle:n("webapp_create_unique_password_cancel"),onSubmit:t,onDismiss:e}))},zs=({reportError:e})=>{const{translate:t}=(0,P.Z)(),{areProtectedItemsUnlocked:a,openProtectedItemsUnlocker:i}=(0,an.tY)(),s=(0,Na.V)(),[r,o]=n.useState(!1),[l,m]=n.useState(!1),p=async()=>{await u.C.getIsForcedDomainsEnabled()?o(!0):m(!0)};return(0,D.tZ)("div",null,(0,D.tZ)(d.Ejs,{sx:{padding:"0 16px",margin:"0 32px 24px"}},(0,D.tZ)(d.X6q,{size:"x-small",sx:{marginTop:"16px"}},t("webapp_account_import_export_data_sub_title_export")),(0,D.tZ)(d.nvN,{size:"x-small",sx:{margin:"16px 0"},color:d.O9T.grey00},t("webapp_account_import_export_data_help_text_secure_export")),(0,D.tZ)(d.zxk,{nature:"secondary",type:"button",onClick:()=>{a?p():i({action:tn.P7.Export,itemType:tn.Ru.ExportData,options:{fieldsKeys:{confirm:"webapp_lock_items_export"},translated:!1},successCallback:()=>p()})}},t("webapp_account_import_export_data_secure_export_button"))),r?(0,D.tZ)(Ms,{isOpen:!0,onDismiss:()=>{o(!1)},onConfirm:()=>{o(!1),m(!0)}}):null,l?(0,D.tZ)(Ls,{isOpen:!0,onConfirm:async a=>{const n=await u.C.getPersonalDataExport({exportType:"secure-dashlane",password:a});n.success?((0,Xt.S)(n.response.content,n.response.filename,"text/dash"),m(!1),s.showAlert(t("webapp_account_import_export_data_secure_success_message"),d.BLW.SUCCESS),(0,v.K)(new c.UserExportDataEvent({backupFileType:c.BackupFileType.SecureVault}))):e(new Error(`Cannot export DASH file : ${n.error.code}`))},onDismiss:()=>{m(!1)}}):null)},js=({onNavigateOut:e,reportError:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(ve,{headingText:a("webapp_account_import_export_data_heading"),onNavigateOut:e},(0,D.tZ)("hr",{sx:{border:"none",borderTop:`1px solid ${d.O9T.grey05}`,margin:"0 24px"}}),(0,D.tZ)(zs,{reportError:t}),(0,D.tZ)("hr",{sx:{border:"none",borderTop:`1px solid ${d.O9T.grey05}`,margin:"0 24px"}}),(0,D.tZ)(Ts,{reportError:t}))},Ps=parseInt(we()["--edit-panel-animation-duration-enter"],10),Rs={premiumStatus:{live:u.C.livePremiumStatus,query:u.C.getPremiumStatus},accountInfo:{query:u.C.getAccountInfo}},Us={strategies:Rs},Bs=(0,M.$)((0,T.i)((({lee:e,premiumStatus:t,accountInfo:a,onNavigateOut:s,onClickLogout:l,onClickPremium:c,onClickTeamConsole:d,onClickFamilyDashboard:u})=>{const m=(0,n.useRef)(null),[p,_]=(0,n.useState)(!1),[g,b]=(0,n.useState)(L.Root),y=(0,i.CN)().get("view");(0,n.useEffect)((()=>{switch(y){case"devices":b(L.DeviceManagement);break;case"security-settings":b(L.SecuritySettings);break;default:b(L.Root)}}),[y]);const C=e=>{_(e)},w=()=>{b(L.Root),m.current&&m.current.focus()};(0,n.useEffect)((()=>{m.current&&m.current.focus()}),[]);const E=(0,i.k6)();if((0,n.useEffect)((()=>{const e=E.listen((()=>{s()}));return()=>e()}),[E,s]),null===t||null===a)return null;const v=window.location.href,N=!(0,h.hy)(v);return(0,D.tZ)(k.s_,{className:"panel--c5aovBMKAJ",onNavigateOut:()=>s(),ignoreClickOutsideClassName:`${A.oo} alertPopup--vjSN1Q_8VK`,ignoreCloseOnEscape:p},(0,D.tZ)("div",{tabIndex:-1,ref:m},(0,D.tZ)(r.Z,null,g===L.Root?(0,D.tZ)(o.Z,{classNames:xi,timeout:Ps},(0,D.tZ)(ge,{key:"for-CSSTransition-root",premiumStatus:t,triggerSwitchPanel:e=>{b(e)},onClickLogout:l,onClickPremium:c,onClickTeamConsole:d,onClickFamilyDashboard:u,subCode:Z.Maybe.maybe(e.globalState.carbon.accountInfo.subscriptionCode),secureExportEnabled:N})):null,g===L.AccountDetails?(0,D.tZ)(o.Z,{classNames:Mi,timeout:Ps,exit:!1},(0,D.tZ)(xs,{key:"for-TransitionGroup-subpanel-account-details",onNavigateOut:()=>w(),premiumStatus:t,accountInfo:a,lee:e,onDialogSateChanged:C,onClickTeamConsole:d})):null,g===L.DeviceManagement&&(0,D.tZ)(o.Z,{classNames:Mi,timeout:Ps,exit:!1},(0,D.tZ)(Re,{key:"for-TransitionGroup-subpanel-device-mngmt",onNavigateOut:()=>w(),devices:e.carbon.devices,lee:e})),g===L.ImportExportData&&(0,D.tZ)(o.Z,{classNames:Mi,timeout:Ps},(0,D.tZ)(js,{key:"for-TransitionGroup-subpanel-export-data",onNavigateOut:()=>w(),reportError:e.reportError})),g===L.SecuritySettings&&(0,D.tZ)(o.Z,{classNames:Mi,timeout:Ps},(0,D.tZ)(Wi,{key:"for-TransitionGroup-subpanel-security-settings",onNavigateOut:()=>w(),onDialogStateChanged:C})))))}),Us),Rs),Fs={enter:"enter--CenlwbRsch",enterActive:"enterActive--OcD1DHf3Xx",exit:"exit--lVfc5jNAtS",exitActive:"exitActive--rHQkaZiYkL"};var Gs=a(144353),Ws=a(63414),Vs=a(729972);async function Hs(e){await u.C.updateMigrationOnboarding(e)}const qs=()=>{const{migrationOnboarding:e,updateMigrationOnboarding:t}={migrationOnboarding:(0,W.qr)({queryConfig:{query:u.C.getMigrationOnboarding},liveConfig:{live:u.C.liveMigrationOnboarding}},[]),updateMigrationOnboarding:Hs},{translate:a}=(0,P.Z)(),i=(0,Be.F)("migrationSAEXNTH"),s=()=>{t(V.MigrationOnboardingStep.SEEN)};return i.status===W.rq.Success&&i.data&&e.status===W.rq.Success&&"Known"===e.data.type&&e.data.value===V.MigrationOnboardingStep.NOT_SEEN?n.createElement(p.o,{isOpen:!0,showCloseIcon:!0,footer:n.createElement(d.cNS,{primaryButtonTitle:a("webapp_migration_onboarding_dialog_primary"),primaryButtonOnClick:s}),title:a("webapp_migration_onboarding_dialog_title"),onRequestClose:s},a.markup("webapp_migration_onboarding_dialog_subtitle_markup")):null};var Ys=a(724715);const Qs=e=>{const t=(e=>{var t,a;return(e=e||{}).completedSteps=e.completedSteps||{},{flowCredentialInApp:"saveApp"===e.activeOnboardingType,flowLoginCredentialOnWeb:"loginWeb"===e.activeOnboardingType,flowSaveCredentialOnWeb:"saveWeb"===e.activeOnboardingType,flowImportPasswords:"importPasswords"===e.activeOnboardingType,flowAddMobileOnWeb:"addMobile"===e.activeOnboardingType,flowTryAutofillOnWeb:"tryAutofill"===e.activeOnboardingType,flowLoginCredentialOnWebSite:null!=(t=e.flowLoginCredentialOnWebSite)?t:null,leelooStep:e.leelooStep,popoverStep:null!=(a=e.popoverStep)?a:null,completedSteps:e.completedSteps}})(e);u.C.updateWebOnboardingMode(t)};var $s=a(208938);const Ks=["default_note_category_name_databases","default_note_category_name_finance","default_note_category_name_legal_documents","default_note_category_name_memberships","default_note_category_name_other","default_note_category_name_passwords","default_note_category_name_personal","default_note_category_name_server","default_note_category_name_software","default_note_category_name_wifi","default_note_category_name_work"];function Xs(e){const t=Ks.map((t=>e(t)));u.C.setupDefaultNoteCategories({categories:t})}var Js=a(331e3);const er=({children:e,title:t,isCollapsed:a=!1,className:i})=>n.createElement("section",{className:i},t?n.createElement("div",{className:F()("categoryTitle--R96dug7T5X",{"isCollapsed--FJhrPjzCtx":a})},t):null,n.createElement("ul",null,n.Children.toArray(e).map((e=>{const t=e.props.to||e.props.id;return n.createElement("li",{key:t},e)}))));var tr,ar,nr=a(373312),ir=a(917194),sr=a(233817),rr=a(854029),or=a(447157);const lr={allSpaces:c.Space.All,personalSpace:c.Space.Personal,teamSpace:c.Space.Professional};class cr extends n.PureComponent{constructor(e){super(e),this.close=()=>this.setState({isOpen:!1}),this.toggle=()=>this.setState((({isOpen:e})=>({isOpen:!e}))),this.state={currentSpaceEntryKey:this.getCurrentSpaceEntryKeyFromStore(),isOpen:!1}}getCurrentSpaceEntryKeyFromStore(){return(e=>{switch(e){case null:return"allSpaces";case"":return"personalSpace";default:return"teamSpace"}})((0,rr.B)(this.props.lee.globalState))}selectSpaceEntry(e,t){this.setState({currentSpaceEntryKey:e,isOpen:!1}),(0,v.K)(new c.UserSelectSpaceEvent({space:lr[e]})),this.props.lee.dispatchGlobal((0,ir.eO)(t))}getSpaceEntries(){const{translate:e}=this.props.lee,t=(0,Js.xO)(this.props.lee.globalState);if(!t)throw new Error("getSpaceEntries: storeSpace not found.");const a=e("webapp_spaces_switch_personal");return{allSpaces:{id:null,name:e("webapp_spaces_switch_all_spaces")},personalSpace:{id:"",name:a,letter:a[0]},teamSpace:{id:t.teamId,name:t.details.teamName,color:t.details.color,letter:t.details.letter}}}getSpaceItem(e,t){const{isOpen:a}=this.state,i="allSpaces"===e,s=e===this.state.currentSpaceEntryKey;return n.createElement("button",{className:F()(or.Z.row,{[or.Z.rowActive]:a&&s,[or.Z.rowDefault]:!a&&!s}),key:`space-${t.name}`,onClick:()=>s?this.toggle():this.selectSpaceEntry(e,t.id),type:"button"},n.createElement("div",{className:or.Z.rowLeft},n.createElement(sr.R,{space:t}),n.createElement("span",{className:or.Z.name},t.name)),a?i?ar||(ar=n.createElement(d.veu,{rotate:180})):null:tr||(tr=n.createElement(d.veu,null)))}render(){const{isOpen:e,currentSpaceEntryKey:t}=this.state,a=this.getSpaceEntries(),i=a[t];return n.createElement(nr.j,{onOutsideClick:this.close},e?n.createElement("div",{className:or.Z.container,onClick:this.close},Object.entries(a).map((([e,t])=>this.getSpaceItem(e,t)))):this.getSpaceItem(t,i))}}const dr={wrapper:"wrapper--wgYc0yYGn1",menuWrapper:"menuWrapper--b1D7s5I4ay",collapsed:"collapsed--BrviRkpKCo",topRow:"topRow--iUH4OVPBLs",menuItemText:"menuItemText--imGbr2Oml6",active:"active--dH768QsgCa",icon:"icon--p4Hj5TKbLu",disabled:"disabled--WtJRg7ycgc",link:"link--iDW_9MjgBe",linkDisabled:"linkDisabled--O4Y9_A0zoq",menuItem:"menuItem--wiIrHeL4aV",itemTextContainer:"itemTextContainer--LNQP0a_ixd",itemText:"itemText--GlDoQof1m2",buttonMenuItem:"buttonMenuItem--B43w1Xk92S menuItem--wiIrHeL4aV",collapsedForSearch:"collapsedForSearch--cVtyXK59cO",paywallTag:"paywallTag--_Zxj27k463",onboarding:"onboarding--jMIsKG0SDO",collapseButton:"collapseButton--DLJ1bSXRP4",customContainer:"customContainer--zc5yW7QMI_",lockIconContainer:"lockIconContainer--bPA96Jrlpa",chip:"chip--yvVs5NEBcF",collapsedChip:"collapsedChip--Eb1BS28Fw6"},ur=e=>n.createElement(i.OL,{to:e.to,className:F()(dr.link,dr.menuItem,e.className),activeClassName:dr.active,onClick:()=>{e.onClick?.(),document.getElementsByTagName("main")[0]?.focus()}},e.children),mr=e=>n.createElement(i.OL,{to:e.to,className:F()(dr.link,dr.linkDisabled,dr.menuItem,e.className),activeClassName:dr.active,onClick:e=>{e.preventDefault()}},e.children);var pr=a(299620);const _r=({trigger:e,placement:t="right-start",title:a,description:n,confirmLabel:i,cancelLabel:s,showOverflow:r,onConfirm:o,onCancel:l,children:c,showNotification:u,width:m})=>{const{translateWithMarkup:p}=(0,pr.Y)();return(0,D.tZ)(d.ua7,{sx:{"&[data-popper-reference-hidden=true]":r?{}:{display:"none"},width:m,maxWidth:m},passThrough:!u||!(null!=a?a:n),arrowSize:8,placement:t,trigger:e,content:(0,D.tZ)(d.T5p,{sx:{p:"8px"},justifyItems:"flex-start"},a?(0,D.tZ)(d.nvN,{size:"large",sx:{color:d.O9T.white,fontWeight:"bold",mb:"8px",textAlign:"start"}},p(a)):null,n?(0,D.tZ)(d.nvN,{size:"x-small",sx:{color:d.O9T.dashGreen04,textAlign:"start"}},p(n)):null,s&&l||i&&o?(0,D.tZ)(d.dDn,{sx:{justifySelf:"end",mt:"16px"}},s?(0,D.tZ)(d.zxk,{size:"small",nature:"secondary",theme:"dark",sx:{mr:"8px"},type:"button",onClick:l},p(s)):null,i?(0,D.tZ)(d.zxk,{size:"small",type:"button",onClick:o},p(i)):null):null)},c)},gr=({collapsedChip:e,icon:t,disabled:a})=>{const n=F()(dr.icon,a&&dr.disabled);return t||e?(0,D.tZ)("div",{className:n},e&&(0,D.tZ)("div",{className:dr.collapsedChip},(0,D.tZ)(e,null)),t&&(0,D.tZ)(t,null)):null},hr=({showPaywallTag:e})=>{const{translate:t}=(0,P.Z)();return e?(0,D.tZ)("div",{className:dr.paywallTag},(0,D.tZ)(d.j49,{caps:!0,size:"small"},t("webapp_sidemenu_paywall_tag"))):null},br=({rightIcon:e})=>e?(0,D.tZ)("div",{className:dr.lockIconContainer},(0,D.tZ)("div",{className:dr.chip},(0,D.tZ)(e,null))):null,yr=({component:e})=>e?(0,D.tZ)(d.Ejs,{justifyContent:"center",alignContent:"center"},(0,D.tZ)(e,null)):null,Cr=({children:e,collapsedChip:t,disabled:a,disabledNotification:i,enabledNotification:s,hidden:r,icon:o,onClick:l,rightIcon:c,rightComponent:d,text:u,to:m,showPaywallTag:p,threeDotsComponent:_,wrapperClass:g})=>{var h,b,y,C;const{translate:w}=(0,P.Z)();if(r)return null;const E=()=>(0,D.tZ)(n.Fragment,null,h||(h=(0,D.tZ)(gr,{collapsedChip:t,icon:o,disabled:a})),(0,D.tZ)("div",{className:dr.itemTextContainer},u&&(0,D.tZ)("div",{className:dr.itemText},w(u)),e,(0,D.tZ)(hr,{showPaywallTag:!!p})),b||(b=(0,D.tZ)(br,{rightIcon:c})),y||(y=(0,D.tZ)(yr,{component:d})));var v;return a?(0,D.tZ)(_r,{showNotification:null==(v=i?.showNotification)||v,title:i?.title,description:i?.description},(0,D.tZ)(mr,{to:m,className:g},(0,D.tZ)(E,null))):(0,D.tZ)(_r,{trigger:"persist",showNotification:null==(C=s?.showNotification)||C,...s},(0,D.tZ)("div",{sx:{display:"flex",alignItems:"stretch","&:hover":{backgroundColor:"#cfe0e4"},"&:hover a":{backgroundColor:"transparent"},"&:hover button":{visibility:"visible !important"},"&:focus-within button":{visibility:"visible !important"}}},(0,D.tZ)(ur,{to:m,className:g,sx:{flexGrow:1},onClick:l},(0,D.tZ)(E,null)),_))};var wr=a(146799),Er=a.n(wr);const vr={enter:"enter--Y780WLvfbY",enterActive:"enterActive--qt8nwlwV9N",exit:"exit--AUP9wnnNtV",exitActive:"exitActive--IqZd0PL_Vc"},Nr={enter:"enter--cpXdZicxhn",enterActive:"enterActive--LJbc8DIUBr",exit:"exit--RFVS81L4qV",exitActive:"exitActive--jZj_SWUrKQ"},Sr={enter:"enter--KQHxvPZ1yf",enterActive:"enterActive--NGZgXqNfHO",exit:"exit--lCgi4uLPj6",exitActive:"exitActive--XQoXASrz0z"};var Ir=a(897347),fr=a(3741),xr=a(483296);const Mr="label--VFgJsQizRn",Tr=({isEnabled:e,onClick:t,translationKey:a,value:i})=>{const{translate:s}=(0,P.Z)();return n.createElement(d.W7o,{onClick:()=>t(i),disabled:!e},n.createElement("div",{className:"iconedDropDownElement--nmT1PxzYPf"},n.createElement("div",{className:"iconedDropDownElementIcon--iVbKMyfq2g"},n.createElement(d.TIy,{disabled:!e})),s(a)))};let Dr,Zr;!function(e){e.BIC="bic",e.IBAN="iban"}(Dr||(Dr={})),function(e){e.LIST="list",e.SEARCH="search"}(Zr||(Zr={}));const Ar={COPY_ACCOUNT_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_account",COPY_ACCOUNT_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_account_alert",COPY_BIC_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_BIC",COPY_BIC_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_BIC_alert",COPY_CLABE_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_CLABE",COPY_CLABE_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_CLABE_alert",COPY_IBAN_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_IBAN",COPY_IBAN_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_IBAN_alert",COPY_ROUTING_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_routing",COPY_ROUTING_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_routing_alert",COPY_SORT_CODE_LABEL:"webapp_sidemenu_search_actions_bank_account_copy_sort_code",COPY_SORT_CODE_ALERT:"webapp_sidemenu_search_actions_bank_account_copy_sort_code_alert"},kr={COPY_ACCOUNT_LABEL:"webapp_payment_bankaccount_list_item_copy_account",COPY_ACCOUNT_ALERT:"webapp_payment_bankaccount_list_item_copy_account_alert",COPY_BIC_LABEL:"webapp_payment_bankaccount_list_item_copy_BIC",COPY_BIC_ALERT:"webapp_payment_bankaccount_list_item_copy_BIC_alert",COPY_CLABE_LABEL:"webapp_payment_bankaccount_list_item_copy_CLABE",COPY_CLABE_ALERT:"webapp_payment_bankaccount_list_item_copy_CLABE_alert",COPY_IBAN_LABEL:"webapp_payment_bankaccount_list_item_copy_IBAN",COPY_IBAN_ALERT:"webapp_payment_bankaccount_list_item_copy_IBAN_alert",COPY_ROUTING_LABEL:"webapp_payment_bankaccount_list_item_copy_routing",COPY_ROUTING_ALERT:"webapp_payment_bankaccount_list_item_copy_routing_alert",COPY_SORT_CODE_LABEL:"webapp_payment_bankaccount_list_item_copy_sort_code",COPY_SORT_CODE_ALERT:"webapp_payment_bankaccount_list_item_copy_sort_code_alert"};var Or,Lr;const zr=({bankAccount:e,bicKey:t,ibanKey:a,onClick:i})=>(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(Tr,{onClick:()=>i(Dr.BIC),translationKey:t,isEnabled:e.BIC.length>0,value:Dr.BIC}),(0,Ue.tZ)(Tr,{onClick:()=>i(Dr.IBAN),translationKey:a,isEnabled:e.IBAN.length>0,value:Dr.IBAN})),jr="webapp_sidemenu_search_actions_bank_account_tooltip",Pr="webapp_payment_bankaccount_list_item_copy_info",Rr=({bankAccount:e,mode:t,dropdownIsOpen:a,setDropdownIsOpen:n,reportError:i})=>{const{translate:s}=(0,P.Z)(),{areProtectedItemsUnlocked:r,openProtectedItemsUnlocker:o}=(0,an.tY)(),u=(0,Na.V)(),m=((e,t)=>{const a=t===Zr.SEARCH?Ar:kr;switch(e){case l.Country.MX:return{BIC:a.COPY_BIC_LABEL,BIC_ALERT:a.COPY_BIC_ALERT,IBAN:a.COPY_CLABE_LABEL,IBAN_ALERT:a.COPY_CLABE_ALERT};case l.Country.GB:return{BIC:a.COPY_SORT_CODE_LABEL,BIC_ALERT:a.COPY_SORT_CODE_ALERT,IBAN:a.COPY_ACCOUNT_LABEL,IBAN_ALERT:a.COPY_ACCOUNT_ALERT};case l.Country.US:return{BIC:a.COPY_ROUTING_LABEL,BIC_ALERT:a.COPY_ROUTING_ALERT,IBAN:a.COPY_ACCOUNT_LABEL,IBAN_ALERT:a.COPY_ACCOUNT_ALERT};default:return{BIC:a.COPY_BIC_LABEL,BIC_ALERT:a.COPY_BIC_ALERT,IBAN:a.COPY_IBAN_LABEL,IBAN_ALERT:a.COPY_IBAN_ALERT}}})(e.country,t),p=e=>{e.stopPropagation(),a||(0,v.K)(new c.UserOpenVaultItemDropdownEvent({dropdownType:c.DropdownType.Copy,itemType:c.ItemType.BankStatement})),n(!a)},_=(0,Ue.tZ)(zr,{bankAccount:e,bicKey:m.BIC,ibanKey:m.IBAN,onClick:t=>{const a=async()=>{try{switch(t){case Dr.BIC:await(async()=>{(0,v.K)(new c.UserCopyVaultItemFieldEvent({itemType:c.ItemType.BankStatement,field:c.Field.Bic,itemId:e.id,isProtected:!0}));try{await navigator.clipboard.writeText(e.BIC),u.showAlert(s(m.BIC_ALERT),d.BLW.SUCCESS)}catch(e){"function"==typeof i&&i(e,"[bank-account-actions] Unable to copy to clipboard")}})();break;case Dr.IBAN:await(async()=>{(0,v.K)(new c.UserCopyVaultItemFieldEvent({itemType:c.ItemType.BankStatement,field:c.Field.Iban,itemId:e.id,isProtected:!0}));try{await navigator.clipboard.writeText(e.IBAN),u.showAlert(s(m.IBAN_ALERT),d.BLW.SUCCESS)}catch(e){"function"==typeof i&&i(e,"[bank-account-actions] Unable to copy to clipboard")}})()}}catch(e){u.showAlert(s("webapp_generic_copy_to_clipboard_feedback_error"),d.BLW.ERROR)}};if(!r)return o({action:tn.P7.Copy,itemType:tn.Ru.BankAccount,successCallback:a});a()}});return t===Zr.SEARCH?(0,Ue.tZ)(d.h_2,{placement:"bottom-end",trigger:"persist",passThrough:!a,content:_,offset:[0,4]},(0,Ue.tZ)("div",null,(0,Ue.tZ)(d.ua7,{passThrough:a,placement:"left",content:s(Pr)},(0,Ue.tZ)(d.hU,{contrast:!0,"aria-label":s(jr),onClick:p,type:"button",icon:(0,Ue.tZ)(d.TIy,{"aria-label":s(jr)})},Or||(Or=(0,Ue.tZ)(d.TIy,null)),(0,Ue.tZ)("span",{className:Mr},s(Pr)))))):(0,Ue.tZ)(d.h_2,{placement:"bottom-end",trigger:"persist",passThrough:!a,content:_,offset:[0,4]},(0,Ue.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:p},Lr||(Lr=(0,Ue.tZ)(d.TIy,null)),(0,Ue.tZ)("span",{className:Mr},s(Pr))))},Ur={item:"item--IuNSZ2vpeQ",link:"link--aUALnKm5Dx",credentialInfo:"credentialInfo--zfVQ_MwFD0",info:"info--b124GolOBp",title:"title--kEuFH5qeqK",name:"name--bbhyeLogrJ",logoCell:"logoCell--hlRImKslhb",icon:"icon--IwgxREWGWo",actions:"actions--tAAv0zYCQB",iconContainer:"iconContainer--kIeklUGXnA",_icon:"_icon--aacMKAVs87",goto:"goto--PsOb5ZcQrd",more:"more--fTrBWXRwi0 _icon--aacMKAVs87",moreImg:"moreImg--Sf7yB_9pEI"},Br=e=>e.preventDefault(),Fr=e=>{const{onSelectBankAccount:t}=e,{dashGreen00:a}=d.O9T,[s,r]=n.useState(!1);return n.createElement("div",{style:e.style},n.createElement("div",{className:F()(Ur.item,A.jK),onMouseLeave:()=>{s&&r(!1)}},n.createElement(i.rU,{onClick:()=>{t()},to:e.getRoute(e.bankAccount.id),className:Ur.link,onDragStart:Br,onDrop:Br},n.createElement("div",{className:Ur.logoCell},n.createElement(d.plG,{size:"small",icon:d.Uci.Bank,text:e.bankAccount.bank,backgroundColor:a})),n.createElement("div",{className:Ur.info},n.createElement("div",{className:Ur.title},e.bankAccount.name),n.createElement("div",{className:Ur.name},e.bankAccount.owner))),n.createElement("div",{className:Ur.actions},n.createElement(Rr,{bankAccount:e.bankAccount,dropdownIsOpen:s,setDropdownIsOpen:r,mode:Zr.SEARCH}))))};var Gr=a(282002),Wr=a(375864),Vr=a(422615),Hr=a(639988),qr=a(174071),Yr=a(326093);var Qr=a(241332),$r=a(80286);const Kr=({icon:e,text:t,onClick:a,closeOnClick:i,disabled:s})=>{const r=i?{"data-close-dropdown":!0}:{};return n.createElement(d.W7o,{fullWidth:!0,onClick:a,...r,disabled:s},n.createElement(d.T5p,{gridTemplateColumns:"1fr auto",gap:"8px"},e,t))};var Xr,Jr,eo,to,ao,no,io,so,ro,oo=a(164419),lo=a(806424),co=a(993360),uo=a(242006);const{accessibleValidatorGreen:mo,accessibleValidatorRed:po}=d.O9T,_o=(0,an.DP)((0,Yr.H)((e=>{var t;const a=(0,lo.k)(),{openDialog:i,closeDialog:s}=(0,Pa.R)(),[r,o]=n.useState(void 0),[l,c]=n.useState(!1),[m,p]=n.useState(void 0),[_,g]=n.useState(!1),[h,b]=n.useState(void 0),[y,C]=n.useState(!1),[w,E]=n.useState(null),[v,N]=n.useState(0),[S,I]=n.useState(0),[f,x]=n.useState(0),M=(0,oo.V)();n.useEffect((()=>{u.C.arePasswordsProtected().then((e=>{E(e)}))}),[]),n.useEffect((()=>()=>{window.clearTimeout(v),window.clearTimeout(S),window.clearTimeout(f)}),[v,f,S]),n.useEffect((()=>()=>{window.clearTimeout(v),window.clearTimeout(S),window.clearTimeout(f)}),[]);const T=()=>{e.closePopover&&e.closePopover()},D=e=>{switch(e){case"password":return h;case"login":return r;case"email":return m;default:(0,qr.U)(e)}},Z=({type:e,success:t,callback:a})=>{if(!D(e)){if(a&&a(t),"password"===e?b(t):"email"===e?p(t):o(t),!t)return T();switch(e){case"password":return void(()=>{C(!0);const e=window.setTimeout((()=>{C(!1),b(void 0),T()}),900);x(e)})();case"login":return void(()=>{c(!0);const e=window.setTimeout((()=>{o(void 0),c(!1),T()}),900);N(e)})();case"email":return void(()=>{g(!0);const e=window.setTimeout((()=>{p(void 0),g(!1),T()}),900);I(e)})();default:(0,qr.U)(e)}}},k=e=>(e=>{switch(e){case"password":return y;case"login":return l;case"email":return _;default:(0,qr.U)(e)}})(e)&&void 0!==D(e),O=e=>D(e)?Xr||(Xr=n.createElement(d.nQG,{"aria-hidden":"true",size:20,color:mo})):Jr||(Jr=n.createElement(d.Two,{"aria-hidden":"true",size:20,color:po})),{hasAttachments:L,login:z,email:j,onEditItem:P,onGoToWebsite:R,password:U,sharingStatus:B,translate:G}=e,W=B.isShared&&"limited"===B.permission,V=M&&!W&&!L,H=!W&&U;return n.createElement("div",{role:"menu",className:F()("quickActionsMenu--yuwrgiBDtx",A.jK)},n.createElement(Kr,{onClick:P,closeOnClick:!0,icon:eo||(eo=n.createElement(d.dY8,{size:20})),text:G("webapp_credentials_quick_actions_edit_item")}),R?n.createElement(Kr,{onClick:R,closeOnClick:!0,icon:to||(to=n.createElement(d.RTC,{size:20})),text:G("webapp_credentials_quick_actions_go_to_website")}):null,H?n.createElement(Kr,{onClick:()=>{const t=async()=>{const t=await navigator.clipboard.writeText(e.password).then((()=>!0)).catch((t=>(e.dispatchGlobal((0,$r.Z)("[quick-actions-menu]: unable to copy to clipboard",t)),!1)));Z({success:t,type:"password",callback:e.onCopyPassword})};if(!e.areProtectedItemsUnlocked&&(e.autoProtected||w))return e.openProtectedItemsUnlocker({action:tn.P7.Copy,itemType:tn.Ru.Password,successCallback:t,showNeverAskOption:!0,credentialId:e.id});t()},disabled:null===w,icon:null===w?ao||(ao=n.createElement(Qr.Z,{size:20})):k("password")?O("password"):no||(no=n.createElement(d.xlN,{size:20})),text:k("password")?G(h?"webapp_credentials_quick_actions_copy_password_feedback_ok":"webapp_credentials_quick_actions_copy_password_feedback_not_ok"):G("webapp_credentials_quick_actions_copy_password")}):null,z?n.createElement(Kr,{onClick:async()=>{const t=await navigator.clipboard.writeText(e.login).then((()=>!0)).catch((t=>(e.dispatchGlobal((0,$r.Z)("[quick-actions-menu]: unable to copy to clipboard",t)),!1)));Z({success:t,type:"login",callback:e.onCopyLogin})},icon:k("login")?O("login"):io||(io=n.createElement(d.TIy,{size:20})),text:k("login")?G(r?"webapp_credentials_quick_actions_copy_login_feedback_ok":"webapp_credentials_quick_actions_copy_login_feedback_not_ok"):G("webapp_credentials_quick_actions_copy_login")}):null,j?n.createElement(Kr,{onClick:async()=>{const t=await navigator.clipboard.writeText(e.email).then((()=>!0)).catch((t=>(e.dispatchGlobal((0,$r.Z)("[quick-actions-menu]: unable to copy to clipboard",t)),!1)));Z({success:t,type:"email",callback:e.onCopyEmail})},icon:k("email")?O("email"):so||(so=n.createElement(d.TIy,{size:20})),text:k("email")?G(m?"webapp_credentials_quick_actions_copy_email_feedback_ok":"webapp_credentials_quick_actions_copy_email_feedback_not_ok"):G("webapp_credentials_quick_actions_copy_email")}):null,V?n.createElement(Kr,{onClick:()=>{const{id:r}=e,o=(0,Hr.Ei)(r);i(a&&o?n.createElement(co.Z,{sharing:o,onDismiss:s}):t||(t=n.createElement(uo.z,{closeDialog:s}))),T()},closeOnClick:!0,icon:ro||(ro=n.createElement(d.aAc,{size:20})),text:G("webapp_sharing_invite_share")}):null)}))),go={credential:{live:u.C.liveCredential,liveParam:e=>e.credentialId,query:u.C.getCredential,queryParam:e=>e.credentialId}},ho={strategies:go},bo=(0,M.$)((0,T.i)((e=>{const{onCopyPassword:t,onCopyLogin:a,onCopyEmail:i,credential:s,dispatchGlobal:r}=e,{translate:o}=(0,P.Z)(),l=(0,Na.V)(),c=n.useCallback((()=>{l.showAlert(o("webapp_generic_copy_to_clipboard_feedback_error"),d.BLW.ERROR)}),[o,l]),u=n.useCallback((e=>{t(),e||c()}),[c,t]),m=n.useCallback((e=>{a(),e||c()}),[c,a]),p=n.useCallback((e=>{i(),e||c()}),[c,i]);return n.createElement(_o,{autoProtected:s.autoProtected,closePopover:e.closePopover,id:s.id,dispatchGlobal:r,login:s.login,email:s.email,onCopyLogin:m,onCopyPassword:u,onCopyEmail:p,onEditItem:e.onEditItem,onGoToWebsite:e.onGoToWebsite,password:s.password,sharingStatus:s.sharingStatus,hasAttachments:s.attachments.length>0})}),ho),go);class yo extends n.Component{constructor(...e){super(...e),this.anchorRef=(0,n.createRef)(),this.state={position:Wr.ir.Bottom,credentialsGloballyRequireMP:void 0},this.adaptMenuOpenAnimationVerticalDirection=()=>{if(!this.anchorRef.current)return;const e=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-this.anchorRef.current.getBoundingClientRect().bottom>=235;this.setState({position:e?Wr.ir.Bottom:Wr.ir.Top})},this.onOpenPopover=()=>{(0,v.K)(new c.UserOpenVaultItemDropdownEvent({dropdownType:c.DropdownType.QuickActions,itemType:c.ItemType.Credential})),this.adaptMenuOpenAnimationVerticalDirection()},this.onEditItem=()=>{const e=this.props.userCredentialRoute(this.props.credential.id);(0,i.uX)(e)},this.onGoToWebsite=()=>{(0,Vr.k)(this.props.credential),(0,b.Yo)(this.props.credential.redirectUrl)},this.onCopyPassword=()=>{const e=this.props.credential.autoProtected||!!this.state.credentialsGloballyRequireMP;(0,Ws.dg)(this.props.credential,c.Field.Password,e)},this.onCopyLogin=()=>{(0,Ws.dg)(this.props.credential,c.Field.Login,!1)},this.onCopyEmail=()=>{(0,Ws.dg)(this.props.credential,c.Field.Email,!1)},this.onToggle=e=>{e&&setTimeout(this.onOpenPopover)}}componentDidMount(){u.C.arePasswordsProtected().then((e=>{this.setState({credentialsGloballyRequireMP:e})}))}render(){const{dispatchGlobal:e,credential:t}=this.props,{position:a}=this.state,i=n.createElement("div",{ref:this.anchorRef});return n.createElement(Wr.Lt,{alignment:Wr.oA.End,position:a,onToggle:this.onToggle,withBackdrop:!1,renderRoot:this.props.renderRoot,anchor:i},n.createElement(bo,{credentialId:t.id,dispatchGlobal:e,onCopyLogin:this.onCopyLogin,onCopyEmail:this.onCopyEmail,onCopyPassword:this.onCopyPassword,onEditItem:this.onEditItem,onGoToWebsite:t.url?this.onGoToWebsite:void 0}))}}const Co=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuNSAzLjVIMy41VjE2LjVIMTYuNVYxMC41TTE3LjUgNi41VjIuNU0xNy41IDIuNUgxMy41TTE3LjUgMi41TDEwLjUgOS41IiBzdHJva2U9IiMwRTM1M0QiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}),wo=({credential:e,label:t,disabled:a})=>n.createElement(d.ua7,{content:t,placement:"bottom-end"},n.createElement(d.hU,{type:"button",className:Ur.goto,disabled:a,"aria-label":t,icon:Co,onClick:()=>{(0,Vr.k)(e),(0,b.Yo)(e.redirectUrl)}})),Eo=e=>e.preventDefault();class vo extends n.Component{constructor(e){super(e),this.promise=void 0,this.onItemClick=()=>{this.props.onSelectCredential()},this.state={isMounted:!1,onHover:!1}}componentDidMount(){let e=!1;const t=new Promise(((t,a)=>{setTimeout((()=>{e?a():t()}),500)})).then((()=>this.updateState({isMounted:!0}))).catch((()=>{}));this.promise={promise:t,cancel:()=>{e=!0}}}componentWillUnmount(){this.promise.cancel(),this.state.isMounted&&this.updateState({isMounted:!1})}getButtons(){const e=this.props.lee.translate.namespace("webapp_sidemenu_search_actions_"),{credential:t}=this.props,{url:a}=t;return this.state.isMounted&&this.state.onHover?n.createElement("div",{className:Ur.actions},n.createElement(wo,{credential:t,disabled:!a,label:e(a?"goto_title":"no_website")}),n.createElement(yo,{renderRoot:t=>{return a=e("more_title"),i=t,n.createElement("button",{type:"button",className:Ur.more,title:a,onClick:i},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjUgMTBDMTAuNSAxMC4yNzYxIDEwLjI3NjEgMTAuNSAxMCAxMC41QzkuNzIzODYgMTAuNSA5LjUgMTAuMjc2MSA5LjUgMTBDOS41IDkuNzIzODYgOS43MjM4NiA5LjUgMTAgOS41QzEwLjI3NjEgOS41IDEwLjUgOS43MjM4NiAxMC41IDEwWiIgc3Ryb2tlPSIjMEUzNTNEIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE1LjUgMTBDMTUuNSAxMC4yNzYxIDE1LjI3NjEgMTAuNSAxNSAxMC41QzE0LjcyMzkgMTAuNSAxNC41IDEwLjI3NjEgMTQuNSAxMEMxNC41IDkuNzIzODYgMTQuNzIzOSA5LjUgMTUgOS41QzE1LjI3NjEgOS41IDE1LjUgOS43MjM4NiAxNS41IDEwWiIgc3Ryb2tlPSIjMEUzNTNEIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTUuNSAxMEM1LjUgMTAuMjc2MSA1LjI3NjE0IDEwLjUgNSAxMC41QzQuNzIzODYgMTAuNSA0LjUgMTAuMjc2MSA0LjUgMTBDNC41IDkuNzIzODYgNC43MjM4NiA5LjUgNSA5LjVDNS4yNzYxNCA5LjUgNS41IDkuNzIzODYgNS41IDEwWiIgc3Ryb2tlPSIjMEUzNTNEIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",className:Ur.moreImg}));var a,i},credential:t,dispatchGlobal:this.props.lee.dispatchGlobal,userCredentialRoute:this.props.lee.routes.userCredential})):null}updateState(e){this.setState(Object.assign({},this.state,e))}render(){const e=this.props,{id:t,title:a,login:s,email:r,sharingSatus:{isShared:o},autoProtected:l,domainIcon:c}=e.credential;return n.createElement("div",{className:F()(Ur.item,A.jK),onMouseLeave:()=>this.updateState({onHover:!1}),onMouseEnter:()=>this.updateState({onHover:!0})},n.createElement(i.rU,{onClick:this.onItemClick,to:e.lee.routes.userCredential(t),className:Ur.link,onDragStart:Eo,onDrop:Eo},n.createElement(Gr.Q,{title:a,login:s,email:r,shared:o,autoProtected:l,domainIcon:c,size:Gr.o.SMALL,fullWidth:!0,contrast:!0,className:Ur.credentialInfo})),this.getButtons())}}var No=a(684756),So=a(966506);var Io,fo;const xo="webapp_ids_edit_document",Mo={driverLicenses:{copy:"webapp_ids_driver_licences_driver_licence_copy",success:"webapp_ids_driver_licences_driver_licence_copy_successfull"},fiscalIds:{copy:"webapp_ids_fiscal_ids_fiscal_id_copy",success:"webapp_ids_fiscal_ids_fiscal_id_copy_successfull"},idCards:{copy:"webapp_ids_id_cards_id_card_copy",success:"webapp_ids_id_cards_id_card_copy_successfull"},passports:{copy:"webapp_ids_passports_passport_copy",success:"webapp_ids_passports_passport_copy_successfull"},socialSecurityIds:{copy:"webapp_ids_social_security_ids_social_security_id_copy",success:"webapp_ids_social_security_ids_social_security_id_copy_successfull"}},To={button:{":focus":{border:`1px solid ${d.O9T.midGreen00} !important`}}},Do=({itemId:e,copyValue:t,editRoute:a,reportError:n,variant:s,type:r})=>{const{translate:o}=(0,P.Z)(),l=(0,Na.V)(),u="search"===s;return(0,D.tZ)("span",{className:"quickActions--z7fAZZU7Ej",onClick:e=>{e.stopPropagation(),e.preventDefault()},sx:u?{}:To},(0,D.tZ)(d.hU,{"aria-label":o(Mo[r].copy),title:o(Mo[r].copy),icon:Io||(Io=(0,D.tZ)(Ue.JO,{name:"ActionCopyOutlined",color:"ds.oddity.brand"})),onClick:async()=>{(0,v.K)(new c.UserCopyVaultItemFieldEvent({itemType:So.L[r],field:So.H[r],itemId:e,isProtected:!1}));try{await navigator.clipboard.writeText(t),l.showAlert(o(Mo[r].success),d.BLW.SUCCESS)}catch(e){"function"==typeof n&&n(e,"[ids][quick-actions] Unable to copy to clipboard"),l.showAlert(o("webapp_ids_failed_copy"),d.BLW.ERROR)}},contrast:u,type:"button"}),u?null:(0,D.tZ)(d.hU,{"aria-label":o(xo),title:o(xo),icon:fo||(fo=(0,D.tZ)(Ue.JO,{name:"ActionEditOutlined",color:"ds.oddity.brand"})),onClick:()=>{(0,i.uX)(a)},type:"button"}))};var Zo=a(149558);const Ao=e=>e.preventDefault(),ko=({itemId:e,primaryDisplayData:t,secondaryDisplayData:a,idNumber:n,country:s,type:r,route:o,onSelectId:l})=>(0,D.tZ)(i.rU,{className:"link--ioXm5CpraB",onClick:()=>{l()},to:o,onDragStart:Ao,onDrop:Ao},(0,D.tZ)(d.Ejs,{justifyContent:"space-between",fullWidth:!0,sx:{minWidth:0,width:"100%",height:"100%"}},(0,D.tZ)(d.T5p,{gap:"16px",gridTemplateColumns:"48px 1fr",alignItems:"center",as:"span"},(0,D.tZ)(No.e,{size:Zo.sk.Small,country:s,type:r}),(0,D.tZ)(d.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{minWidth:0}},(0,D.tZ)(d.nvN,{size:"medium",bold:!0,as:"strong",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t),(0,D.tZ)(d.nvN,{size:"x-small",as:"span",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},a))),(0,D.tZ)("span",{className:"quickActions--odxJpJTYOw"},(0,D.tZ)(Do,{itemId:e,copyValue:n,editRoute:o,variant:"search",type:r}))));var Oo=a(835147),Lo=a(508159);const zo=e=>e.preventDefault(),jo=({detailRoute:e,note:t,onSelectNote:a})=>{const{areProtectedItemsUnlocked:s,openProtectedItemsUnlocker:r}=(0,Lo.t)(),{secured:o}=t,l=o&&!s;return n.createElement("div",{className:F()(Ur.item,A.jK)},n.createElement(i.rU,{onClick:t=>{a(),l&&(t.preventDefault(),t.stopPropagation(),r({action:tn.P7.Show,itemType:tn.Ru.SecureNote,successCallback:()=>{(0,i.uX)(e)}}))},to:e,className:Ur.link,onDragStart:zo,onDrop:zo},n.createElement("div",{className:Ur.logoCell},n.createElement(Oo.Z,{noteType:t.color,className:Ur.icon})),n.createElement("div",{className:Ur.info},n.createElement("div",{className:Ur.title,title:t.title.slice(0,30)},t.title),n.createElement("div",{className:Ur.name,title:t.abbrContent},t.abbrContent))))};var Po=a(937109);const Ro=e=>e?e.trim().slice(-4):"",Uo=e=>{return t=e?e.cardNumberLastDigits:void 0,a=e?e.cardNumber:void 0,`•••• •••• •••• ${(t?Ro(t):"")||(a?Ro(a):"")||"••••"}`;var t,a},Bo=(((new Date).getMonth()+1).toString(),(new Date).getFullYear().toString(),e=>e.preventDefault()),Fo=e=>{const{paymentCard:t,onSelectPaymentCard:a}=e,s=Uo(t);return n.createElement("div",{className:Ur.container,style:e.style},n.createElement("div",{className:F()(Ur.item,A.jK)},n.createElement(i.rU,{onClick:()=>{a()},to:e.getRoute(t.id),className:Ur.link,onDragStart:Bo,onDrop:Bo},n.createElement("div",{className:Ur.logoCell},n.createElement(Po.Z,{iconSize:"small",paymentCardColor:t.color,className:Ur.icon})),n.createElement("div",{className:Ur.info},n.createElement("div",{className:Ur.title},t.name),n.createElement("div",{className:Ur.name},s)))))},Go=e=>e.preventDefault(),Wo=e=>{const{icon:t,text:a,title:s,detailRoute:r,onSelectPersonalInfo:o}=e;return n.createElement("div",{className:Ur.container,style:e.style},n.createElement("div",{className:F()(Ur.item,A.jK)},n.createElement(i.rU,{onClick:()=>{o()},to:r,className:Ur.link,onDragStart:Go,onDrop:Go},n.createElement("div",{className:Ur.logoCell},t),n.createElement("div",{className:Ur.info},n.createElement("div",{className:Ur.title},s),n.createElement("div",{className:Ur.name},a)))))};var Vo=a(350199);const Ho=(e,t,{spaceId:a=null,filterQuery:i=null}={})=>{const[s,r]=n.useState(5),[o,l]=n.useState([]),[c,d]=n.useState(0),u=(0,Vo.e)(e,t,{spaceId:a,filterQuery:i,limit:s});return n.useEffect((()=>{u.status===W.rq.Success&&(l(u.data.items),d(u.data.matchingCount))}),[u]),{items:o,matchingCount:c,loadMore:n.useCallback((()=>r((e=>e+5))),[])}};var qo=a(253245);const Yo=({loadMore:e,remaining:t})=>{const{translate:a}=(0,P.Z)();return t?n.createElement(qo.Z,{classNames:["loadMore--yeiMaPbEAE"],size:"small",label:a("webapp_sidemenu_search_results_see_more",{count:t}),onClick:e}):null},Qo=({i18nKey:e})=>{const{translate:t}=(0,P.Z)();return n.createElement("header",{className:"headingWrapper--mBXPixEV1r"},n.createElement("h1",{className:"heading--ZOad7pwHBU"},t(e)))},$o=({i18nKey:e,children:t,loadMore:a,matchingCount:i,loadedCount:s})=>{if(0===i)return null;const r=n.createElement(Qo,{i18nKey:e}),o=i-s,l=n.createElement(Yo,{loadMore:a,remaining:o});return n.createElement("section",null,r,t,l)},Ko={charactersTypedCount:0,totalCount:0,searchSubTypes:{credentials:0,notes:0,identities:0,emails:0,phones:0,addresses:0,companies:0,personalWebsites:0,paymentCards:0,bankAccounts:0,documents:0},updateSearchSubTypes:(e,t)=>Ko.searchSubTypes[e]=t,logSearchEvent:(0,he.debounce)((function(e=!0){(0,v.K)(new c.UserSearchVaultItemEvent({charactersTypedCount:this.charactersTypedCount,hasInteracted:e,totalCount:Object.values(Ko.searchSubTypes).reduce(((e,t)=>e+t))}))}),300)},Xo=Ko,Jo=({query:e})=>{const{routes:t}=(0,S.Xo)(),{translate:a}=(0,P.Z)(),{loadMore:i,items:s,matchingCount:r}=Ho(u.C.getAddresses,u.C.liveAddresses,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("addresses",r)}),[r]),r?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_addresses",loadMore:i,matchingCount:r,loadedCount:s.length},s.map(((e,i)=>n.createElement(Wo,{icon:n.createElement(xr.ZP,{iconType:xr.Tu.address,iconSize:xr.Jh.smallIcon}),key:e.id,text:(0,fr.qS)(e,a),title:e.addressName,detailRoute:t.userPersonalInfoAddress(e.id),onSelectPersonalInfo:()=>{Xo.logSearchEvent(),(0,Ir.bx)(e.id,c.ItemType.Address,i+1,r)}})))):null},el=({query:e})=>{const{routes:t}=(0,S.Xo)(),{loadMore:a,items:i,matchingCount:s}=Ho(u.C.getBankAccounts,u.C.liveBankAccounts,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("bankAccounts",s)}),[s]),s?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_bank_accounts",loadMore:a,matchingCount:s,loadedCount:i.length},i.map(((e,a)=>n.createElement(Fr,{key:e.id,bankAccount:e,getRoute:t.userBankAccount,onSelectBankAccount:()=>{Xo.logSearchEvent(),(0,Ir.Mx)(e.id,a+1,s)}})))):null},tl=({query:e})=>{const{routes:t}=(0,S.Xo)(),{loadMore:a,items:i,matchingCount:s}=Ho(u.C.getCompanies,u.C.liveCompanies,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("companies",s)}),[s]),s?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_companies",loadMore:a,matchingCount:s,loadedCount:i.length},i.map(((e,a)=>n.createElement(Wo,{icon:n.createElement(xr.ZP,{iconType:xr.Tu.company,iconSize:xr.Jh.smallIcon}),key:e.id,text:e.jobTitle,title:e.name,detailRoute:t.userPersonalInfoCompany(e.id),onSelectPersonalInfo:()=>{Xo.logSearchEvent(),(0,Ir.bx)(e.id,c.ItemType.Company,a+1,s)}})))):null},al=({lee:e,query:t})=>{const{loadMore:a,items:i,matchingCount:s}=Ho(u.C.getCredentials,u.C.liveCredentials,{filterQuery:t});return n.useEffect((()=>{Xo.updateSearchSubTypes("credentials",s)}),[s]),s?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_passwords",loadMore:a,matchingCount:s,loadedCount:i.length},i.map(((t,a)=>n.createElement(vo,{lee:e,credential:t,key:t.id,onSelectCredential:()=>{Xo.logSearchEvent(),(0,Ir.kb)(t.id,a+1,s)}})))):null},nl=({query:e})=>{const{routes:t}=(0,S.Xo)(),{loadMore:a,items:i,matchingCount:s}=Ho(u.C.getEmails,u.C.liveEmails,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("emails",s)}),[s]),s?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_emails",loadMore:a,matchingCount:s,loadedCount:i.length},i.map(((e,a)=>n.createElement(Wo,{icon:n.createElement(xr.ZP,{iconType:"PRO"===e.type?xr.Tu.emailPro:xr.Tu.email,iconSize:xr.Jh.smallIcon}),key:e.id,text:e.email,title:e.name,detailRoute:t.userPersonalInfoEmail(e.id),onSelectPersonalInfo:()=>{Xo.logSearchEvent(),(0,Ir.bx)(e.id,c.ItemType.Email,a+1,s)}})))):null};a(461238);const il={idCards:"creationDate",socialSecurityIds:"creationDate",driverLicenses:"creationDate",passports:"creationDate",fiscalIds:"creationDate"};function sl(e){return il[e]}const rl={idCards:"id",socialSecurityIds:"id",driverLicenses:"id",passports:"id",fiscalIds:"id"};function ol(e){return rl[e]}function ll(e,t){return{filterToken:{filterCriteria:null!==t?[{type:"equals",value:t,field:"spaceId"}]:[]},sortToken:{sortCriteria:[{field:sl(e),direction:"descend"}],uniqField:ol(e)}}}const cl={idCards:e=>ll("idCards",e),socialSecurityIds:e=>ll("socialSecurityIds",e),driverLicenses:e=>ll("driverLicenses",e),passports:e=>ll("passports",e),fiscalIds:e=>ll("fiscalIds",e)},dl={idCards:{query:u.C.getIdCards,live:u.C.liveIdCards},socialSecurityIds:{query:u.C.getSocialSecurityIds,live:u.C.liveSocialSecurityIds},driverLicenses:{query:u.C.getDriverLicenses,live:u.C.liveDriverLicenses},passports:{query:u.C.getPassports,live:u.C.livePassports},fiscalIds:{query:u.C.getFiscalIds,live:u.C.liveFiscalIds}},ul=(e,t)=>{const a=function(e,t){return cl[e](t)}(e,t);return{queryConfig:{query:dl[e].query,queryParam:a},liveConfig:{live:dl[e].live,liveParam:btoa(JSON.stringify(a))}}};function ml(e,t){const a=n.useMemo((()=>ul(t,e)),[t,e]);return(0,W.qr)(a,[a])}var pl=a(640461);const _l=e=>(t,a,n)=>{const i=e[t],s=a[i];if("country"===i){const e=l.Country[s];return void 0===e||e===l.Country.UNIVERSAL?"":n(`country_name_${e}`)}return"name"!==i||s?s:(0,pl.bx)(t,a.country,n)},gl=_l({driverLicenses:"name",fiscalIds:"idNumber",idCards:"name",passports:"name",socialSecurityIds:"name"}),hl=_l({driverLicenses:"idNumber",fiscalIds:"country",idCards:"idNumber",passports:"idNumber",socialSecurityIds:"idNumber"}),bl=({route:e,title:t,type:a,query:i})=>{const{translate:s}=(0,P.Z)(),r=dl[a],{loadMore:o,items:l,matchingCount:c}=Ho(r.query,r.live,{filterQuery:i});return n.useEffect((()=>{Xo.updateSearchSubTypes("documents",c)}),[c]),c?n.createElement($o,{i18nKey:t,loadMore:o,matchingCount:c,loadedCount:l.length},l.map(((t,i)=>n.createElement(ko,{key:t.id,itemId:t.id,type:a,country:t.country,primaryDisplayData:gl(a,t,s),secondaryDisplayData:hl(a,t,s),idNumber:t.idNumber,route:e(t.id),onSelectId:()=>{Xo.logSearchEvent(),(0,Ir.Q_)(t.id,Ir.Ab[a],i+1,c)}})))):null},yl=({query:e})=>{const{routes:t}=(0,S.Xo)(),{translate:a}=(0,P.Z)(),{loadMore:i,items:s,matchingCount:r}=Ho(u.C.getIdentities,u.C.liveIdentities,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("identites",r)}),[r]),r?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_identities",loadMore:i,matchingCount:r,loadedCount:s.length},s.map(((e,i)=>n.createElement(Wo,{icon:n.createElement(xr.ZP,{iconType:xr.Tu.identity,iconSize:xr.Jh.smallIcon}),key:e.id,text:(0,fr.Y8)(a,e),title:(0,fr.kl)(e),detailRoute:t.userPersonalInfoIdentity(e.id),onSelectPersonalInfo:()=>{Xo.logSearchEvent(),(0,Ir.bx)(e.id,c.ItemType.Identity,i+1,r)}})))):null},Cl=({query:e})=>{const{routes:t}=(0,S.Xo)(),{loadMore:a,items:i,matchingCount:s}=Ho(u.C.getNotes,u.C.liveNotes,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("notes",s)}),[s]),s?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_secure_notes",loadMore:a,matchingCount:s,loadedCount:i.length},i.map(((e,a)=>n.createElement(jo,{detailRoute:t.userSecureNote(e.id),key:e.id,note:e,onSelectNote:()=>{Xo.logSearchEvent(),(0,Ir.X0)(e.id,a+1,s)}})))):null},wl=({query:e})=>{const{routes:t}=(0,S.Xo)(),{loadMore:a,items:i,matchingCount:s}=Ho(u.C.getPaymentCards,u.C.livePaymentCards,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("paymentCards",s)}),[s]),s?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_payment_cards",loadMore:a,matchingCount:s,loadedCount:i.length},i.map(((e,a)=>n.createElement(Fo,{key:e.id,paymentCard:e,getRoute:t.userPaymentCard,onSelectPaymentCard:()=>{Xo.logSearchEvent(),(0,Ir.GV)(e.id,a+1,s)}})))):null},El=({query:e})=>{const{routes:t}=(0,S.Xo)(),{loadMore:a,items:i,matchingCount:s}=Ho(u.C.getPersonalWebsites,u.C.livePersonalWebsites,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("personalWebsites",s)}),[s]),s?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_websites",loadMore:a,matchingCount:s,loadedCount:i.length},i.map(((e,a)=>n.createElement(Wo,{icon:n.createElement(xr.ZP,{iconType:xr.Tu.website,iconSize:xr.Jh.smallIcon}),key:e.id,text:e.website,title:e.name,detailRoute:t.userPersonalInfoWebsite(e.id),onSelectPersonalInfo:()=>{Xo.logSearchEvent(),(0,Ir.bx)(e.id,c.ItemType.Website,a+1,s)}})))):null},vl=({query:e})=>{const{routes:t}=(0,S.Xo)(),{translate:a}=(0,P.Z)(),{loadMore:i,items:s,matchingCount:r}=Ho(u.C.getPhones,u.C.livePhones,{filterQuery:e});return n.useEffect((()=>{Xo.updateSearchSubTypes("phones",r)}),[r]),r?n.createElement($o,{i18nKey:"webapp_sidemenu_search_results_heading_phones",loadMore:i,matchingCount:r,loadedCount:s.length},s.map(((e,i)=>n.createElement(Wo,{icon:n.createElement(xr.ZP,{iconType:xr.Tu.phone,iconSize:xr.Jh.smallIcon}),key:e.id,text:e.displayNumber,title:(0,fr.tm)(a,e),detailRoute:t.userPersonalInfoPhone(e.id),onSelectPersonalInfo:()=>{Xo.logSearchEvent(),(0,Ir.bx)(e.id,c.ItemType.Phone,i+1,r)}})))):null},Nl=e=>{const{lee:t,query:a}=e,{routes:i}=(0,S.Xo)(),{translate:s}=(0,P.Z)(),r=[{type:"idCards",title:"webapp_sidemenu_search_results_heading_id_cards"},{type:"socialSecurityIds",title:"webapp_sidemenu_search_results_heading_social_security_numbers"},{type:"driverLicenses",title:"webapp_sidemenu_search_results_heading_driver_licenses"},{type:"passports",title:"webapp_sidemenu_search_results_heading_passports"},{type:"fiscalIds",title:"webapp_sidemenu_search_results_heading_fiscal_numbers"}];return n.createElement(n.Fragment,null,n.createElement("div",{className:"searchResultsList--G05NtPMkFu",id:"search-results"},n.createElement(al,{lee:t,query:a}),n.createElement(Cl,{query:a}),n.createElement(yl,{query:a}),n.createElement(nl,{query:a}),n.createElement(vl,{query:a}),n.createElement(Jo,{query:a}),n.createElement(tl,{query:a}),n.createElement(El,{query:a}),n.createElement(wl,{query:a}),n.createElement(el,{query:a}),r.map((e=>n.createElement(bl,{key:e.type,type:e.type,title:e.title,route:i.userEditIdDocument.bind(null,e.type),query:a})))),n.createElement("div",{className:"noResults--uAf5I_vRPF"},s("webapp_sidemenu_search_results_empty")))},Sl=({disabled:e,lee:t,currentPathName:a,onInputChange:i,onInputFocus:s,handleClickOutsideSearch:r})=>{const[l,c]=n.useState(!0),[d,u]=n.useState(""),[m,p]=n.useState(!1),[_,g]=n.useState(!1),h=n.createRef(),{routes:b}=(0,S.Xo)(),{translate:y}=(0,P.Z)(),C=()=>h.current?h.current.value.trim():"",w=(0,he.debounce)((()=>{const e=C(),t=e.length>0;g(!1),u(e),p(t),i(t)}),100),E=()=>{h.current&&(h.current.value=""),w(),c(!0)};return n.useEffect((()=>{const e=[b.userCredentials,b.userSecureNotes,b.userPersonalInfo,b.userPayments].some((e=>a.startsWith(e)));h.current?.value&&!e&&E()}),[a]),n.createElement("div",{className:"searchInputWrapper--ukuAB5Cp5z"},n.createElement("span",{className:"searchWrapper--hty9R0gY6t"},!l&&!e&&n.createElement(o.Z,{classNames:vr,timeout:300},n.createElement("span",{className:"cancelSearchIcon--VneblaPFEx _searchIcon--W1RhNJWfOr",onClick:E})),n.createElement("div",{className:"animatedSearchIcon--vFidc7R5in"},l&&!e&&n.createElement(o.Z,{classNames:Nr,timeout:300},n.createElement("span",{className:"searchIcon--GmOVk1aFw3 _searchIcon--W1RhNJWfOr",onClick:()=>{h.current&&h.current.focus()}}))),n.createElement("input",{ref:h,type:"search",placeholder:y("webapp_sidemenu_search_placeholder"),disabled:e,className:F()("search--rQjZzQkpXA",{"searchActive--my1Oj4mvLm":d}),onFocus:()=>{const e=C().length>0;c(!1),p(e),s()},onBlur:()=>{d?_||(Xo.charactersTypedCount=d.length,Xo.logSearchEvent(!1),g(!0)):(c(!0),p(!1),r())},onChange:w})),m&&n.createElement(o.Z,{classNames:Sr,timeout:{enter:500,exit:300}},n.createElement("div",{className:"searchResults--_LnzWWn0pO"},n.createElement(Nl,{lee:t,query:d}))))};var Il=a(275907);const fl=({collectionName:e,collectionSpace:t})=>(0,Ue.tZ)("div",{sx:{display:"flex",alignItems:"center",gap:"8px",svg:{flex:"0 0 20px"}}},(0,Ue.tZ)("span",{sx:{overflow:"hidden",textOverflow:"ellipsis"}},e),t&&(0,Ue.tZ)(sr.R,{space:{...t,id:t.teamId,name:t.teamName}}));var xl=a(216530);const Ml=()=>{const[e,t]=(0,n.useState)(!1),{showAlert:a}=(0,Na.V)();return{commandHandler:async(e,n,i)=>{t(!0);const s="success"===(await e()).tag;a(s?n:i,s?d.BLW.SUCCESS:d.BLW.ERROR),t(!1)},isLoading:e}},Tl="24px",Dl=({...e})=>(0,Ue.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:Tl},...e}),Zl=({title:e,content:t,confirmButton:a,onClose:n,isOpen:i=!0})=>{const{translate:s}=(0,P.Z)();return(0,Ue.tZ)(d.VqE,{onClose:n,isOpen:i,closeIconName:s("_common_dialog_dismiss_button")},(0,Ue.tZ)(Dl,null,(0,Ue.tZ)(Ue.X6,{as:"h2",id:"dialogTitle"},e),t,(0,Ue.tZ)("footer",{sx:{display:"flex",flexDirection:"row-reverse",gap:"12px"}},a,(0,Ue.tZ)(Ue.zx,{onClick:n,mood:"neutral",intensity:"quiet"},s("_common_action_cancel")))))};var Al=a(989302);const kl=({...e})=>(0,Ue.tZ)("label",{sx:{fontSize:"0.75rem",fontWeight:"600",color:"ds.text.neutral.quiet",textTransform:"uppercase"},...e}),Ol=()=>{const{translate:e}=(0,P.Z)();return(0,Ue.tZ)(Ue.nv,{sx:{color:"ds.text.danger.quiet",maxWidth:"480px"}},e("collections_dialog_create_already_exist_error"))};var Ll;const zl="createActionSidemenuInputId",jl=({input:e,setInput:t,hasInputError:a})=>{const{translate:i}=(0,P.Z)();return(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(kl,{htmlFor:zl},i("collections_dialog_create_name_input_label")),(0,Ue.tZ)(Al.rz,{id:zl,input:e,setInput:t}),a&&(Ll||(Ll=(0,Ue.tZ)(Ol,null))))};var Pl,Rl=a(226832),Ul=a(479189);const Bl="createActionSidemenuSpaceInputId",Fl=(0,n.memo)((({spaceId:e,setSpaceId:t,isLocked:a})=>{const{translate:i}=(0,P.Z)(),{teamId:s}=(0,x.fV)(),r=(0,Rl.b)(e);return s?(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(kl,{htmlFor:Bl,sx:{display:"inline-flex",gap:"4px",alignItems:"center",marginTop:Tl}},i("collections_dialog_create_space_label"),a&&(Pl||(Pl=(0,Ue.tZ)(Ue.JO,{name:"LockFilled",size:"xsmall"})))),(0,Ue.tZ)(d.ua7,{content:i("collections_dialog_edit_space_id_locked_info",{space:r}),passThrough:!a},(0,Ue.tZ)("div",null,(0,Ue.tZ)(Ul.M,{id:Bl,spaceId:e,hideLabel:!0,isDisabled:a,onChange:t,sx:{flex:"1"}})))):null})),Gl=({formId:e,onSubmit:t,setIsSubmitDisabled:a,name:i,lockedSpaceId:s})=>{const{collections:r}=(0,Il.b)(),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null!=i?i:""),[u,m]=(0,n.useState)(null!=s?s:"");return n.createElement("form",{id:e,onSubmit:async e=>{e.preventDefault();const a=c.trimEnd();if(r.some((e=>e.name===a&&e.spaceId===u)))return l(!0);await t(a,u),d("")}},n.createElement(jl,{input:c,setInput:e=>{d(e),l(!1),a(!e)},hasInputError:o}),n.createElement(Fl,{spaceId:u,setSpaceId:m,isLocked:void 0!==s}))},Wl="createDialogFormId",Vl=e=>{const{translate:t}=(0,P.Z)(),{createCollection:a}=(0,R.u7)(xl.vaultOrganizationApi),{commandHandler:i,isLoading:s}=Ml(),[r,o]=(0,n.useState)(!0),{onClose:l}=e;return n.createElement(Zl,{title:t("collections_dialog_create_header_title"),content:n.createElement(Gl,{formId:Wl,onSubmit:async(e,n)=>{await i((()=>a({content:{name:e,spaceId:n}})),t("collections_dialog_create_success_toast_message",{name:e}),t("collections_dialog_create_error_toast_message")),l()},setIsSubmitDisabled:o}),confirmButton:n.createElement(Ue.zx,{type:"submit",form:Wl,disabled:r,isLoading:s},t("collections_dialog_create_button_text")),...e})},Hl=({collectionId:e,collectionName:t,onClose:a,...i})=>{const{translate:s}=(0,P.Z)(),{deleteCollection:r}=(0,R.u7)(xl.vaultOrganizationApi),{commandHandler:o,isLoading:l}=Ml();return n.createElement(Zl,{title:s("collections_dialog_delete_header_title"),content:s("collections_dialog_delete_info_text"),confirmButton:n.createElement(Ue.zx,{onClick:async n=>{n.preventDefault(),await o((()=>r({id:e})),s("collections_dialog_delete_success_toast_message",{name:t}),s("collections_dialog_delete_error_toast_message")),a()},mood:"danger",isLoading:l},s("collections_delete_button_text")),onClose:a,...i})},ql="editDialogFormId",Yl=e=>{const{translate:t}=(0,P.Z)(),{updateCollection:a}=(0,R.u7)(xl.vaultOrganizationApi),{commandHandler:i,isLoading:s}=Ml(),[r,o]=(0,n.useState)(!0),{id:l,name:c,spaceId:d,onClose:u,...m}=e;return n.createElement(Zl,{title:t("collections_dialog_edit_header_title"),content:n.createElement(Gl,{formId:ql,onSubmit:async e=>{await i((()=>a({id:l,collection:{name:e}})),t("_common_toast_changes_saved"),t("_common_generic_error")),u()},setIsSubmitDisabled:o,name:c,lockedSpaceId:d}),confirmButton:n.createElement(Ue.zx,{type:"submit",form:ql,disabled:r,isLoading:s},t("_common_action_save")),onClose:u,...m})},Ql=()=>{const{translate:e}=(0,P.Z)(),[t,a]=(0,n.useState)(!1);return n.createElement(n.Fragment,null,n.createElement(Ue.zx,{onClick:()=>{a(!0),(0,v.N)(c.PageView.CollectionCreate)},icon:n.createElement(Ue.JO,{name:"ActionAddOutlined",title:e("collections_sidemenu_create_icon_title")}),layout:"iconOnly",intensity:"supershy",mood:"neutral",size:"medium"}),n.createElement(Vl,{isOpen:t,onClose:()=>a(!1)}))};var $l;const Kl=({...e})=>(0,Ue.tZ)("span",{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginRight:"8px"},...e}),Xl=()=>{const{translate:e}=(0,P.Z)();return(0,Ue.tZ)(Kl,null,e("webapp_credentials_header_row_category"),$l||($l=(0,Ue.tZ)(Ql,null)))},Jl=({dropdownOptionTitle:e,icon:t,setIsDialogOpen:a})=>n.createElement(d.W7o,{fullWidth:!0,onClick:()=>{a(!0)},css:{"&:focus-within":{backgroundColor:"#cfe0e4"}}},n.createElement("div",{style:{display:"flex"}},t,n.createElement("span",{style:{marginLeft:"8px"}},e)));var ec;const tc=({isDeleteDialogOpen:e,setIsDeleteDialogOpen:t})=>{const{translate:a}=(0,P.Z)();return n.useEffect((()=>{e&&(0,v.N)(c.PageView.CollectionDelete)}),[e]),n.createElement(Jl,{icon:ec||(ec=n.createElement(d.XHJ,null)),dropdownOptionTitle:a("collections_delete_button_text"),setIsDialogOpen:t})};var ac;const nc=({isEditDialogOpen:e,setIsEditDialogOpen:t})=>{const{translate:a}=(0,P.Z)();return n.useEffect((()=>{e&&(0,v.N)(c.PageView.CollectionEdit)}),[e]),n.createElement(Jl,{icon:ac||(ac=n.createElement(d.dY8,null)),dropdownOptionTitle:a("_common_action_edit"),setIsDialogOpen:t})};var ic;const sc=({collection:e})=>{const{translate:t}=(0,P.Z)(),[a,i]=n.useState(!1),[s,r]=n.useState(!1),{id:o,name:l,spaceId:u}=e,m=[n.createElement(nc,{key:"edit",isEditDialogOpen:a,setIsEditDialogOpen:i}),n.createElement(tc,{key:"delete",isDeleteDialogOpen:s,setIsDeleteDialogOpen:r})];return n.createElement(n.Fragment,null,n.createElement(d.h_2,{sx:{zIndex:1},content:m,placement:"top",passThrough:a||s},n.createElement(Ue.zx,{"aria-label":t("webapp_credentials_grid_item_more_actions"),icon:ic||(ic=n.createElement(d.nXP,null)),intensity:"supershy",layout:"iconOnly",mood:"brand",size:"medium",style:{visibility:"hidden",padding:"15px"},onClick:()=>(0,v.N)(c.PageView.CollectionQuickActionsDropdown)})),a&&n.createElement(Yl,{id:o,name:l,spaceId:u,onClose:()=>i(!1),isOpen:!0}),s&&n.createElement(Hl,{collectionId:o,collectionName:l,onClose:()=>r(!1),isOpen:!0}))};var rc;const oc=()=>{const{collections:e,isCollectionsDEVModeEnabled:t,isCollectionsBETAModeEnabled:a}=(0,Il.b)(),{isSidemenuCollapsed:s}=(0,Vs.Q)(),{currentSpaceId:r,spaceDetails:o}=(0,x.fV)(),{routes:l}=(0,i.Xo)();if(!t&&!a||s)return null;const d=o?.teamId?{[o.teamId]:o}:{},u=null!==r?e.filter((e=>e.spaceId===r)):e;return n.createElement(er,{title:rc||(rc=n.createElement(Xl,null))},u.map((e=>n.createElement(Cr,{onClick:()=>(0,v.K)(new c.UserSelectCollectionEvent({collectionId:e.id,collectionSelectOrigin:c.CollectionSelectOrigin.LeftHandSideMenu})),key:`collections_sidemenu_${e.id}`,to:l.userCollection(e.id),threeDotsComponent:n.createElement(sc,{collection:e})},n.createElement(fl,{collectionName:e.name,collectionSpace:d[e.spaceId]})))))};var lc,cc,dc,uc=a(913368),mc=a(542899);const pc="webapp_sidemenu_install_extension_navigation_cta",_c=e=>{const t=F()(dr.wrapper,{[dr.collapsed]:e.isCollapsed,[dr.collapsedForSearch]:e.internallyCollapsedForSearch}),[a,r]=(0,n.useState)(!1),{translate:o,routes:l}=e.lee,c=e.lee.permission.adminAccess.hasTACAccess,u=(0,Be.w)("onboarding_web_bettertacvaultnav");return(0,Ue.tZ)("nav",{className:t},(0,Ue.tZ)("div",{sx:{marginBottom:"80px"}},(0,Ue.tZ)("div",{className:F()(dr.topRow,{[dr.collapsed]:e.isCollapsed})},(0,Ue.tZ)("button",{type:"button",className:F()(dr.collapseButton,A.jK,A.oo),"aria-label":o("webapp_sidemenu_toggle_navigation"),onClick:()=>e.isCollapsed?e.doUncollapseMenu():e.doCollapseMenu()}),(0,Ue.tZ)(Sl,{disabled:e.isCollapsed,lee:e.lee,currentPathName:e.currentPathName,onInputChange:t=>e.setInternallyCollapsedForSearch(t),onInputFocus:()=>e.doUncollapseMenu(),handleClickOutsideSearch:()=>e.setInternallyCollapsedForSearch(!1)})),(0,Ue.tZ)("div",{className:dr.menuWrapper},e.hasAddPasswordFlippedOn()?(0,Ue.tZ)(Cr,{to:l.userOnboarding,wrapperClass:dr.onboarding,icon:Er(),text:"webapp_sidemenu_item_onboarding"}):null,e.hasSpaceId?(0,Ue.tZ)(cr,{lee:e.lee}):null,(0,Ue.tZ)(er,null,e.topMenu.map((e=>(0,Ue.tZ)(Cr,{...e,key:e.to})))),e.isMaintenanceCategoryEnabled?(0,Ue.tZ)(er,{isCollapsed:e.isCollapsed||e.internallyCollapsedForSearch,title:o("webapp_sidemenu_category_maintenance"),className:F()({[dr.securityCategoryCollapsed]:e.isCollapsed||e.internallyCollapsedForSearch})},e.centerMenu.map((e=>(0,Ue.tZ)(Cr,{...e,key:e.to})))):null,!e.internallyCollapsedForSearch&&(lc||(lc=(0,Ue.tZ)(oc,null))),u?(0,Ue.tZ)(uc.i,{showAdminConsoleModal:a,setShowAdminConsoleModal:r}):null,u&&c?(0,Ue.tZ)("div",{sx:{display:"flex",justifyContent:e.isCollapsed?"left":"center",marginTop:"25px",paddingTop:"25px",borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:d.O9T.midGreen04,paddingRight:"4px",position:"fixed",bottom:"0",margin:"0 auto",width:"320px",backgroundColor:d.O9T.midGreen05}},(0,Ue.tZ)(Ue.zx,{layout:e.isCollapsed?"iconOnly":c?"iconLeading":"iconTrailing","aria-label":o(pc),onClick:e=>{e?.preventDefault(),c&&(0,i.uX)(s.wi)},sx:{margin:e.isCollapsed?"20px 4px 20px 4px":"20px 25px"},icon:c?cc||(cc=(0,Ue.tZ)(Ue.JO,{name:"DashboardOutlined",size:"large",color:"ds.text.inverse.catchy"})):dc||(dc=(0,Ue.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined",size:"large",color:"ds.text.inverse.catchy"})),mood:"brand",intensity:"catchy",fullsize:!e.isCollapsed},o(c?"webapp_sidemenu_open_admin_console_btn":pc))):null)))};var gc=a(322374),hc=a(737541);const bc=async()=>{const{devicesList:e}=await u.C.getDevicesList(null),t=e.find((e=>e.isCurrentDevice));return!!t&&(a=t.creationDate,new Date(a).getTime()/1e3<1620943200);var a};var yc=a(339702);const Cc="webapp_ids_notification_close",wc=V.NotificationName.IdsPromotion,Ec=e=>{const[t,a]=(0,n.useState)(!1),[s,r]=(0,n.useState)(),[o,c]=(0,n.useState)(null),{doUncollapseMenu:u,doCollapseMenu:m,currentPathName:p,handleAccountClick:_}=e;(0,n.useEffect)((()=>{(()=>{const t=null!==(0,Js.ev)(e.lee.globalState),a=null===(0,rr.B)(e.lee.globalState);t||a||e.lee.dispatchGlobal((0,ir.eO)(null))})()}),[]);const{accountInfo:g,isCollapsed:h,lee:b,handleClickTeamConsole:y}=e,{routes:C}=b,{premiumStatus:w={}}=g,E=e.lee.carbon.accountFeatures.list,{unseen:v,setAsSeen:N}=(0,hc.m)(wc),S={isCollapsed:h||t,premiumStatusCode:w.statusCode,expirationDate:w.endDate?(0,xt.Z)(w.endDate):void 0,premiumPlusPlan:(0,j.Tg)(w),url:window.location.href,handleClickTeamConsole:y},I=!!(0,Js.xO)(e.lee.globalState),f=()=>{const{leelooStep:t,completedSteps:a}=e.lee.carbon.webOnboardingMode;return a&&a.saveCredentialOnWeb&&a.loginCredentialOnWeb&&t===l.WebOnboardingLeelooStep.SHOW_WEB_SAVE_AND_AUTOLOGIN_COMPLETED},x=()=>{Qs({leelooStep:null})},M=E.passwordHealthWeb,T=E.darkwebMonitoringWebRelease,D=M||T,Z=!!(A=w.capabilities)&&(A.identityRestoration?.enabled||A.identityTheftProtection?.enabled||A.creditMonitoring?.enabled);var A;const k=(e=>{const t=ml(e,"idCards"),a=ml(e,"socialSecurityIds"),n=ml(e,"driverLicenses"),i=ml(e,"passports"),s=ml(e,"fiscalIds");let r=0;return[t,a,n,i,s].every((e=>e.status===W.rq.Success&&(r+=e.data.items.length,!0)))?r:0})((0,rr.B)(b.globalState)),O={AVAILABLE:{title:"webapp_ids_notification_available_title",description:"webapp_ids_notification_available_description",cancelLabel:Cc,confirmLabel:"webapp_ids_notification_view",route:C.userIdsDocuments},NEW:{title:"webapp_ids_notification_new_title",description:"webapp_ids_notification_new_description",cancelLabel:Cc,confirmLabel:"webapp_ids_notification_add",route:`${C.userIdsDocuments}?${pl.G4}`}};(0,n.useEffect)((()=>{(async()=>{const e=!f(),t=!(0,j.AF)(w);if(null===o&&v&&e&&t){const e=await bc();c(e),N()}})()}),[v,o]),(0,n.useEffect)((()=>{p.startsWith(C.userIdsDocuments)&&c(!1)}),[p]),(0,n.useEffect)((()=>{r(0===k?O.NEW:O.AVAILABLE)}),[k]);const L=(0,gc.n6)(gc.Co.SecureNotes,w.capabilities),z=(0,gc.n6)(gc.Co.DataLeak,w.capabilities),{showVpnPage:P,showVpnMenuItem:R,shouldDisplayVPNPaywall:U,getVpnDisabledNotification:B}=(0,yc.Hn)(h||t,dr.comingSoonNotification),F=[{to:C.userCredentials,icon:d.NSO,text:"webapp_sidemenu_item_passwords",enabledNotification:f()?{showNotification:!h&&!t,notificationClass:dr.comingSoonNotification,title:"web_onboarding_autologin_completed_title",description:"",cancelLabel:"web_onboarding_autologin_completed_cancel",onCancel:x}:void 0},{to:C.userPayments,icon:d.fyF,text:"webapp_sidemenu_item_payments"},{to:C.userSecureNotes,icon:d.uHY,text:"webapp_sidemenu_item_secure_notes",showPaywallTag:L},{to:C.userPersonalInfo,icon:d.d3S,text:"webapp_sidemenu_item_personal_info"},{to:C.userIdsDocuments,icon:d.VuL,text:"webapp_sidemenu_item_ids",disabledNotification:{showNotification:!h,notificationClass:dr.comingSoonNotification,title:"webapp_sidemenu_item_ids_coming_soon_title",description:"webapp_sidemenu_item_ids_coming_soon_desc"},enabledNotification:o&&s?{showNotification:!h&&!t,title:s.title,description:s.description,confirmLabel:s.confirmLabel,cancelLabel:s.cancelLabel,onCancel:()=>c(!1),onConfirm:()=>(0,i.uX)(s.route)}:void 0},{to:C.userSharingCenter,icon:d.kpp,text:"webapp_sharing_center_navigation"}],G=[{to:C.userPasswordHealth,icon:d._uj,text:"webapp_sidemenu_item_password_health",hidden:!M},{to:C.darkWebMonitoring,icon:d.Ru6,text:"webapp_sidemenu_item_darkweb",collapsedChip:e.isCollapsed&&!z&&S.premiumStatusCode===l.PremiumStatusCode.NO_PREMIUM?d.UnL:void 0,rightIcon:z||S.premiumStatusCode!==l.PremiumStatusCode.NO_PREMIUM?void 0:d.UnL,showPaywallTag:z,hidden:!T},{to:C.vpn,icon:d.Qut,text:"webapp_sidemenu_item_vpn",disabled:!P,hidden:!R,disabledNotification:B(),showPaywallTag:U},{to:C.premiumPlus,icon:d.dCf,text:"webapp_sidemenu_item_premium_plus",hidden:!Z}];return n.createElement(_c,{centerMenu:G,currentPathName:p,doCollapseMenu:m,doUncollapseMenu:u,handleAccountClick:_,handleLoginAndSaveSuccessClose:x,hasAddPasswordFlippedOn:()=>E.saexOnboardingHubAddPasswords,hasSpaceId:I,internallyCollapsedForSearch:t,isAddPasswordStepCompleted:f,isMaintenanceCategoryEnabled:D,lee:b,premiumProps:S,setInternallyCollapsedForSearch:a,topMenu:F,isCollapsed:h})};var vc=a(667211);const Nc=()=>{const e=rn();return e?.status===V.TwoFactorAuthenticationInfoRequestStatus.READY&&e.shouldEnforceTwoFactorAuthentication};var Sc=a(75032);const Ic={container:"container--lhpomDm_bG",content:"content--RZCsnEcRt7",alertPopup:"alertPopup--kDSCLyEaij",sideMenuTransitionGroup:"sideMenuTransitionGroup--Mu7WISZmnc"};var fc,xc,Mc,Tc,Dc;const Zc=parseInt(we()["--edit-panel-animation-duration-enter"],10),Ac=e=>n.createElement("div",null,e.children),kc=e=>e<=1200,Oc=e=>{(0,w.Y)();const t=(0,n.useRef)(document.documentElement.clientWidth),a=(0,n.useRef)((()=>{})),[s,M]=(0,n.useState)(!1),[T,D]=(0,n.useState)(kc(t.current)),[Z,k]=(0,n.useState)(!1),{routes:O}=(0,S.Xo)(),L=Nc(),z=(0,C.a)(e.lee.dispatchGlobal),j=(0,n.useCallback)((()=>e.location.pathname?.includes("/account-settings")),[e.location.pathname]);(0,n.useEffect)((()=>{j()&&M(!0)}),[j]),(0,y._)(),(0,n.useEffect)((()=>{L&&(0,i.uX)(O.twoFactorAuthenticationEnforce)}),[L,O.twoFactorAuthenticationEnforce]);const P=()=>{const e=document.documentElement.clientWidth;e<t.current&&kc(e)&&!T&&D(!0),t.current=e},R=()=>{M(!0)},U=()=>{e.lee.state.displayLogoutDialog||((0,E.u)(e.location.pathname,e.lee.routes),M(!1))},B=()=>{e.lee.dispatch($s.ME())},F=()=>e.history.push(e.lee.routes.teamRoutesBasePath);(0,n.useEffect)((()=>(window.addEventListener("resize",P),j()&&R(),(0,Ws.wV)(e.lee.translate),a.current=u.C.sessionSyncStatus.on((t=>{"success"===t.status&&(0,Ws.wV)(e.lee.translate)})),Xs(e.lee.translate),a.current=u.C.sessionSyncStatus.on((t=>{"success"===t.status&&Xs(e.lee.translate)})),()=>{window.removeEventListener("resize",P),a.current?.()})),[]);const G=e.lee.translate,{flowLoginCredentialOnWeb:W,leelooStep:V,popoverStep:H}=e.lee.carbon.webOnboardingMode,q=W&&V===l.WebOnboardingLeelooStep.SHOW_LOGIN_USING_EXTENSION_NOTIFICATION&&null===H,Y=q&&(0,h.Sk)(window.location.href)&&!(0,h.kL)(window.location.href),Q=q&&!(0,h.Sk)(window.location.href);return Y&&(0,v.N)(c.PageView.NotificationOnboardingPinExtension),n.createElement(Vs.z,{value:{handleClickTeamConsole:F,handleOpenLogoutDialog:B,isAccountPanelOpen:s,isSidemenuCollapsed:T,openAccountPanel:R,canShowAccountRecoveryNotification:Z,hideRecoveryNotifcation:()=>{k(!1)}}},n.createElement(x.qc,{lee:e.lee},fc||(fc=n.createElement("div",{id:"dashlane-dialog"})),n.createElement(Pa.r,null,n.createElement("div",{className:Ic.container},n.createElement(an.D,null,n.createElement(Il.C,null,n.createElement(Ec,{lee:e.lee.child(vc.Z),accountInfo:e.lee.globalState.carbon.accountInfo,isCollapsed:T,doCollapseMenu:()=>D(!0),doUncollapseMenu:()=>D(!1),handleAccountClick:()=>{s?U():R()},handleClickTeamConsole:F,currentPathName:e.location.pathname}),n.createElement("main",{className:Ic.content,tabIndex:-1},n.createElement(N.a9,null,e.children),n.createElement("div",{className:`${Ic.alertPopup} ${A.oo}`,id:"alert-popup-portal"}))),xc||(xc=n.createElement("div",{id:"side-panel-portal"})),n.createElement(r.Z,{className:Ic.sideMenuTransitionGroup},s&&n.createElement(o.Z,{classNames:Fs,timeout:Zc},s&&n.createElement(Bs,{key:"for-CSSTransition-account-panel",onNavigateOut:U,onClickPremium:()=>{e.lee.dispatchGlobal((0,g.r)())},onClickTeamConsole:F,onClickFamilyDashboard:()=>e.history.push(e.lee.routes.familyDashboard),onClickLogout:B,lee:e.lee}))),n.createElement("div",null,n.createElement(f.v,{isOpen:e.lee.state.displayLogoutDialog,onDismiss:()=>{e.lee.dispatch($s.Ww())},onLogout:()=>{e.lee.dispatch($s.Ww()),M(!1),z()},showCloseIcon:!0}),n.createElement(p.o,{isOpen:e.lee.globalState.dialog.isOpenGoPremiumDialog,disableBackgroundPanelClose:!0,onRequestClose:()=>{e.lee.dispatchGlobal((0,g.C)())},footer:n.createElement(d.cNS,{primaryButtonTitle:G("webapp_get_premium_dialog_confirm"),primaryButtonOnClick:()=>{const t=e.lee.routes.userGoPremium(e.lee.globalState.carbon.accountInfo.subscriptionCode);(0,b.Yk)(t,{type:"account",subtype:"getPremium",action:"popup_free",subaction:"go_premium"})},secondaryButtonTitle:G("webapp_get_premium_dialog_dismiss"),secondaryButtonOnClick:()=>{e.lee.dispatchGlobal((0,g.C)())}})},G("webapp_get_premium_dialog_text")),Mc||(Mc=n.createElement(qs,null))),n.createElement(m.T,{title:G("webapp_onboarding_notification_chrome_pinning_title"),secondTitle:G("webapp_onboarding_notification_chrome_pinning_subtitle"),imageSrc:_,show:Y,cancelLabel:G("webapp_onboarding_notification_chrome_pinning_cancel"),onCancel:()=>{Qs({popoverStep:l.WebOnboardingPopoverStep.SHOW_LOGIN_NOTIFICATION,leelooStep:null,activeOnboardingType:"loginWeb"})}}),n.createElement(m.T,{title:G("webapp_onboarding_notification_login_sites_title"),show:Q}),n.createElement(Gs.j,{onOpenUserVault:()=>e.history.push(e.lee.routes.clientRoutesBasePath)})),Tc||(Tc=n.createElement(I.Y,null)),Dc||(Dc=n.createElement(Sc.Vz,null))))))};var Lc,zc,jc,Pc,Rc=a(529393),Uc=a(474750),Bc=a(77878);const Fc=()=>(0,Ue.tZ)(d.Ejs,{as:d.X6q,gap:"8px"},Lc||(Lc=(0,Ue.tZ)(d.k$b,null,"Dashlane Labs")),(0,Ue.tZ)(d.k$b,{sx:{display:"flex",alignItems:"center"}},zc||(zc=(0,Ue.tZ)(d.$2U,{color:"ds.text.brand.standard",size:30})))),Gc=()=>{const e=(0,Ue.tZ)(n.Fragment,null,jc||(jc=(0,Ue.tZ)(Uc.D,null)),Pc||(Pc=(0,Ue.tZ)(Bc.E,null)));return(0,Ue.tZ)(Rc.h,{startWidgets:Fc,endWidget:e})};var Wc=a(691974);const Vc=({name:e,value:t})=>(0,Ue.tZ)(Ue.ZD,{label:e,checked:t,readOnly:!0,sx:{width:"100%",padding:"12px 0",wordBreak:"break-all"}});var Hc,qc,Yc,Qc,$c,Kc,Xc,Jc,ed,td;const ad=({onClear:e})=>(0,Ue.tZ)(d.Ejs,{flexDirection:"column",alignItems:"center",gap:"24px",sx:{marginTop:"48px"}},Hc||(Hc=(0,Ue.tZ)(d.LIc,{size:48,color:"ds.text.neutral.quiet"})),qc||(qc=(0,Ue.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.quiet"},"No feature found")),(0,Ue.tZ)(d.nvN,null,(0,Ue.tZ)(d.rUS,{sx:{color:"ds.text.neutral.quiet"},onClick:e},"Clear your search"))),nd=()=>(0,Ue.tZ)(d.Ejs,{alignItems:"center",justifyContent:"center",gap:"24px",sx:{marginTop:"16px",margin:"48px auto"}},Yc||(Yc=(0,Ue.tZ)(d.HoD,{strokeWidth:2,size:16,color:"ds.text.neutral.quiet"})),Qc||(Qc=(0,Ue.tZ)("span",{color:"ds.text.neutral.quiet"},"Loading features"))),id=()=>(0,Ue.tZ)(d.Ejs,{flexDirection:"column",alignItems:"center",gap:"24px",sx:{marginTop:"48px"}},$c||($c=(0,Ue.tZ)(d.enX,{size:48,color:"ds.text.neutral.quiet"})),Kc||(Kc=(0,Ue.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.quiet"},"Error while loading features"))),sd=({features:e,onClear:t})=>{const a=Object.entries(e);return a.length?(0,Ue.tZ)("div",{sx:{paddingRight:"36px",width:"100%"}},a.map((([e,t])=>(0,Ue.tZ)(Vc,{name:e,value:t,key:e})))):(0,Ue.tZ)(ad,{onClear:t})},rd=({features:e,onClear:t,status:a})=>a===W.rq.Success?(0,Ue.tZ)(sd,{features:e,onClear:t}):a===W.rq.Error?Xc||(Xc=(0,Ue.tZ)(id,null)):Jc||(Jc=(0,Ue.tZ)(nd,null)),od=()=>{const[e,t]=(0,n.useState)({}),[a,i]=(0,n.useState)(""),[s,r]=(0,n.useState)(!1),o=(0,Wc.h)(),l=o.status===W.rq.Success?o.data:void 0,c=(0,n.useRef)((0,he.debounce)(((e,a)=>((e,a)=>{if(a){const n=e.trim().toLowerCase(),i=Object.entries(a).reduce(((e,t)=>t[0].toLowerCase().includes(n)?{...e,[t[0]]:t[1]}:e),{});t(i)}r(!1)})(e,a)),200)).current,u=()=>{i(""),t(null!=l?l:{})},m=(0,n.useMemo)((()=>(0,Ue.tZ)(rd,{onClear:u,features:e,status:o.status})),[e]);return(0,n.useEffect)((()=>{l&&t(l)}),[l]),(0,Ue.tZ)(d.Ejs,{as:d.Zbd,flexDirection:"column",fullWidth:!0,sx:{padding:"24px"}},(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"1fr 300px",alignItems:"center",sx:{position:"relative"}},ed||(ed=(0,Ue.tZ)(d.X6q,{size:"x-small",color:"ds.text.brand.standard"},"Experiments")),(0,Ue.tZ)(Ue.oi,{placeholder:"Search in experiments",value:a,onChange:e=>{i(e.target.value),r(!0),c(e.target.value,l)},autoFocus:!0,actionButtons:!s&&a.length?[(0,Ue.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",size:"small",key:"close",layout:"iconOnly",onClick:u,icon:td||(td=(0,Ue.tZ)(d.Two,{size:12,color:"ds.text.neutral.quiet"}))})]:[]}),s?(0,Ue.tZ)(d.HoD,{color:"ds.text.brand.standard",sx:{position:"absolute",top:"14px",right:"11px",zIndex:"2"}}):null),(0,Ue.tZ)("div",{sx:{backgroundColor:"ds.container.expressive.neutral.quiet.active",width:"100%",height:"1px",margin:"16px 0"}}),(0,Ue.tZ)(d.k$b,{sx:{flex:"1 1 auto",height:"0px",overflow:"auto"}},m))};var ld,cd,dd,ud,md,pd,_d=a(844800);const gd=()=>(0,Be.w)(_d.r)?(0,Ue.tZ)(d.Ejs,{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",padding:"16px 0",width:"100%",height:"100%"},flexDirection:"column"},ld||(ld=(0,Ue.tZ)(Gc,null)),(0,Ue.tZ)(d.Ejs,{sx:{margin:"8px 24px",flex:"1 1 auto"}},(0,Ue.tZ)(d.Ejs,{sx:{width:"60%",paddingRight:"8px"}},cd||(cd=(0,Ue.tZ)(od,null))),(0,Ue.tZ)("div",{sx:{width:"40%",paddingLeft:"8px"}},(0,Ue.tZ)(d.Ejs,{as:d.Zbd,flexDirection:"column",fullWidth:!0,sx:{padding:"24px",marginBottom:"16px"}},dd||(dd=(0,Ue.tZ)(d.X6q,{size:"x-small",color:"ds.text.brand.standard"},"What is Dashlane Labs?")),(0,Ue.tZ)("div",{sx:{backgroundColor:"ds.container.expressive.neutral.quiet.active",width:"100%",height:"1px",margin:"16px 0"}}),ud||(ud=(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard"},'"Dashlane Labs" is a special section in the settings of our iOS, Android and Web extensions which will allow early adopters to toggle alpha or beta features on or off for themselves and to give us early feedback before we release them to production.'))),(0,Ue.tZ)(d.Ejs,{as:d.Zbd,flexDirection:"column",fullWidth:!0,sx:{padding:"24px"}},md||(md=(0,Ue.tZ)(d.X6q,{size:"x-small",color:"ds.text.brand.standard"},"Feedback")),(0,Ue.tZ)("div",{sx:{backgroundColor:"ds.container.expressive.neutral.quiet.active",width:"100%",height:"1px",margin:"16px 0"}}),pd||(pd=(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard"},"We would love to hear about what you think of Dashlane Labs! Share your feedback"," ",(0,Ue.tZ)(d.rUS,{target:"_blank",href:_d.q},"here"))))))):null;function hd({path:e}){return n.createElement(i.Vy,{path:e,component:gd,additionalProps:{}})}var bd=a(320572);var yd,Cd,wd;const Ed=({onMyAccountClick:e,onResetLinkClick:t})=>{const{translate:a}=(0,P.Z)(),[i,s]=n.useState(!1);return n.createElement("div",{className:"familySettings--Ilvxzy1ScB"},n.createElement(Wr.Lt,{alignment:Wr.oA.End,position:Wr.ir.Bottom,onToggle:()=>s(!i),withBackdrop:!1,renderRoot:e=>(e=>n.createElement(d.zxk,{type:"button",nature:"ghost",className:"dropdownButton--pxRyuwgjY2",onClick:e},a("webapp_family_dashboard_settings"),n.createElement("span",{className:F()("dropdownButtonIcon--BNwim_PUBt",{"dropdownButtonIconReversed--pOwhBEaOnc":i})},yd||(yd=n.createElement(d.veu,null)))))(e)},n.createElement("div",{className:"list--Xo7ruNwU9K"},n.createElement(bd.Z,{label:a("webapp_family_dashboard_settings_my_account"),"data-close-dropdown":!0,icon:Cd||(Cd=n.createElement(d.ewm,null)),onClick:e}),n.createElement(bd.Z,{label:a("webapp_family_dashboard_settings_reset_invitation_link"),"data-close-dropdown":!0,icon:wd||(wd=n.createElement(d.DuK,null)),onClick:t}))))};var vd=a(798783),Nd=a.n(vd);const Sd="copyButton--IJ12krzt1m",Id=({onClick:e,isLinkCopied:t})=>{const{translate:a}=(0,P.Z)();return n.createElement(d.zxk,{type:"button",nature:"primary",size:"large",className:t?"copiedButton--SqqSrTMtO5":Sd,disabled:t,onClick:e},n.createElement("div",{className:"icon--rkOSWmpm22"},t?n.createElement(d.nQG,{color:d.O9T.white}):n.createElement(d.xPt,{color:d.O9T.white})),a(t?"webapp_family_dashboard_link_copied":"webapp_family_dashboard_link_copy"))},fd=({spots:e,invitationLink:t,statusCode:a})=>{const{translate:i}=(0,P.Z)(),s=(0,n.useRef)(null),[r,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),d=(0,n.useCallback)((()=>{o(!0);const e=window.setTimeout((()=>o(!1)),3e3);c(e)}),[a]);return(0,n.useEffect)((()=>{new(Nd())(`.${Sd}`,{text:()=>t})}),[t]),(0,n.useEffect)((()=>()=>{if(l)return clearTimeout(l)}),[l]),n.createElement("header",{className:"familyHeader--PpiRJ1IxKo"},n.createElement("h1",{className:"title--dTsoVSCtVf"},i("webapp_family_dashboard_link_title")),n.createElement("div",{className:"headerContent--d9qQSWTi4U"},n.createElement("div",{className:"linkContainer--Xhu5xMcL1q"},n.createElement("p",{className:"description--X9buaDVdBQ"},i("webapp_family_dashboard_link_description")),n.createElement("div",{className:"linkInputContainer--Q3nfY_TaXk"},n.createElement("input",{"aria-label":i("webapp_family_dashboard_link_copy"),className:"link--H_7YBuxeAV",readOnly:!0,value:t,ref:s,onClick:()=>{s&&s.current&&s.current.select()}}),n.createElement(Id,{isLinkCopied:r,onClick:d}))),n.createElement("div",{className:"spotsContainer--gZmP7Kg0kh"},i.markup("webapp_family_dashboard_spots_markup",{count:e}))))},xd=({memberLogin:e,handleRemoveMember:t,handleOnCancel:a})=>{const{translate:i}=(0,P.Z)(),[s,r]=n.useState(!0);return n.createElement(p.o,{isOpen:!0,onRequestClose:a,footer:n.createElement(d.cNS,{primaryButtonTitle:i("webapp_family_dashboard_remove_member_dialog_button_confirm"),primaryButtonOnClick:()=>t(s),secondaryButtonTitle:i("webapp_family_dashboard_remove_member_dialog_button_cancel"),secondaryButtonOnClick:a,intent:"danger"},n.createElement("div",{className:"resetLinkWrapper--w73yYZnlvj"},n.createElement("div",{className:"resetLinkCheckbox--QCeQrxpn7r"},n.createElement(d.XZJ,{"aria-label":i("webapp_family_dashboard_remove_member_dialog_body_reset_link_alt"),checked:s,onChange:()=>r(!s)})),n.createElement("div",{className:"resetLinkDescription--fxH2eBlEBT"},n.createElement("p",{className:"resetLinkTitle--SaDxnXew3V"},i("webapp_family_dashboard_remove_member_dialog_body_reset_link")),n.createElement("p",{className:"resetLinkSubtitle--uhTtkx_t5t"},i("webapp_family_dashboard_remove_member_dialog_body_reset_link_description"))))),title:i("webapp_family_dashboard_remove_member_dialog_title")},n.createElement("p",{className:"subtitle--Z1Dr1oGEhs"},i.markup("webapp_family_dashboard_remove_member_dialog_subtitle_markup",{login:`**${e}**`})))},Md=({login:e,role:t})=>{const{translate:a}=(0,P.Z)();return n.createElement("div",{className:"memberColumn--qf1diKseAh"},n.createElement("p",{className:"title--zxZhJ9Zk4h"},t===V.FamilyMemberRole.ADMIN?a("webapp_family_dashboard_admin_title"):e),n.createElement("p",{className:"role--DtFbwLXzhK"},t===V.FamilyMemberRole.ADMIN?a("webapp_family_dashboard_role_admin"):a("webapp_family_dashboard_role_regular")))},Td=({role:e,onRemoveAction:t})=>{const{translate:a}=(0,P.Z)();return e===V.FamilyMemberRole.ADMIN?null:n.createElement("div",{className:"memberColumn--fqiNVoiRYF"},n.createElement(d.zxk,{type:"button",nature:"ghost",className:"removeMemberButton--H8VL77WRox",title:a("webapp_family_dashboard_button_remove_member_alt"),onClick:t},n.createElement(d.Two,{size:20,color:d.O9T.dashGreen03,hoverColor:d.O9T.dashGreen00})))},Dd=({member:e,onRemoveAction:t})=>{const a=(0,n.useCallback)((()=>t(e)),[e,t]);return n.createElement("li",{className:"memberWrapper--T3irrTjpHF"},n.createElement("div",{className:"memberRow--qWkBWpTzfX"},n.createElement(Md,{login:e.login,role:e.role}),n.createElement(Td,{role:e.role,onRemoveAction:a})))},Zd=({admin:e,regularMembers:t,removeMember:a})=>{const[i,s]=n.useState({showDialog:!1,member:void 0}),r=e=>{s({showDialog:!0,member:e})},o=()=>{s({showDialog:!1,member:void 0})};return n.createElement(n.Fragment,null,n.createElement("ul",null,n.createElement(Dd,{key:e.userId,member:e,onRemoveAction:r}),t.map((e=>n.createElement(Dd,{key:e.userId,member:e,onRemoveAction:r})))),i&&i.showDialog&&i.member?n.createElement(xd,{memberLogin:i.member.login,handleRemoveMember:e=>{i.member&&a(i.member.userId,e),o()},handleOnCancel:()=>{o()}}):null)},Ad=({handleResetLink:e,handleOnCancel:t})=>{const{translate:a}=(0,P.Z)();return n.createElement(p.o,{isOpen:!0,onRequestClose:t,showCloseIcon:!0,footer:n.createElement(d.cNS,{primaryButtonTitle:a("webapp_family_dashboard_reset_link_dialog_button_confirm"),primaryButtonOnClick:e,secondaryButtonTitle:a("webapp_family_dashboard_reset_link_dialog_button_cancel"),secondaryButtonOnClick:t,intent:"danger"}),title:a("webapp_family_dashboard_reset_link_dialog_title")},a("webapp_family_dashboard_reset_link_dialog_description"))};var kd=a(822878);const Od=(e,t)=>{const[a,i]=(0,n.useState)(null),s=(0,n.useCallback)((()=>{const e=Math.floor(1e6*Math.random());i(e)}),[i]),r=(0,n.useCallback)((()=>{i(null)}),[i]);return{alert:a?n.createElement(kd.n,{id:a,message:e,onHide:r,severity:t}):null,show:s,hide:r}},Ld=()=>{const{translate:e}=(0,P.Z)(),[t,a]=(0,n.useState)(null),[s,r]=(0,n.useState)(!1),{familyDetails:o,familyDetailsError:l,removeMemberFromFamilyDetails:m}=(()=>{const[e,t]=n.useState(null),[a,i]=n.useState(null);return n.useEffect((()=>{!async function(){try{const e=await u.C.getFamilyDetails();if(!e.success)return void i(e.error.code);t(e.response)}catch(e){i("UNKNOWN_ERROR")}}()}),[]),{familyDetails:e,familyDetailsError:a,removeMemberFromFamilyDetails:a=>{if(!e)return;const n=e.members.regular.filter((e=>e.userId!==a));t({...e,members:{...e.members,regular:n},spots:e.spots+1})}}})();(0,n.useEffect)((()=>{o&&(0,v.N)(c.PageView.FamilyDashboard)}),[o]);const p=Od(e("webapp_family_dashboard_member_removed_success_message"),d.BLW.SUCCESS),_=Od(e("webapp_family_dashboard_generic_failure_message"),d.BLW.ERROR),g=Od(e("webapp_family_dashboard_member_removed_link_reset_success_message"),d.BLW.SUCCESS),h=Od(e("webapp_family_dashboard_reset_link_confirmation_alert"),d.BLW.SUCCESS),y=Od(e("webapp_family_dashboard_generic_failure_message"),d.BLW.ERROR),C=(0,n.useCallback)((()=>{(0,b.nL)("https://app.dashlane.com#account-settings")}),[o]),w=(0,n.useCallback)((async()=>{const e=await u.C.resetFamilyJoinToken();if(!e.success)throw new Error(e.error.code);a(e.response.joinToken)}),[a]),E=(0,n.useCallback)((()=>{r(!0)}),[o]),N=(0,n.useCallback)((async()=>{r(!1);try{await w(),h.show()}catch(e){y.show()}}),[w,h,o,y]),S=(0,n.useCallback)((()=>{r(!1)}),[o]),I=(0,n.useCallback)((async(e,t)=>{try{const a=await u.C.removeFamilyMember({userId:e});if(!a.success)throw new Error(a.error.code);m(e),t?(await w(),g.show()):p.show()}catch(e){_.show()}}),[m,o,p,w,g,_]);if(l&&(0,b.nL)("https://app.dashlane.com"),!o)return null;null===t&&o&&o.joinToken&&a(o.joinToken);const f=`https://www.dashlane.com/webapp#/family/join?accept=${t}`,{spots:x}=o;return n.createElement(n.Fragment,null,n.createElement("div",{className:"header--VuqyJozOv8"},n.createElement("div",null,n.createElement(i.rU,{to:"/",target:"_self"},n.createElement(d.D1W,{color:d.vei.DashGreen,size:d.r1z.Size39,title:e("_common_dashlane_logo_title")}))),n.createElement("div",null,n.createElement(Ed,{onMyAccountClick:C,onResetLinkClick:E}))),n.createElement("div",{className:"content--KGCpkvZgvO"},n.createElement(fd,{invitationLink:f,spots:x,statusCode:o.statusCode}),o.members?n.createElement(Zd,{admin:o.members.admin,regularMembers:o.members.regular,removeMember:I}):null),p.alert,_.alert,g.alert,h.alert,y.alert,s?n.createElement(Ad,{handleResetLink:N,handleOnCancel:S}):null)};function zd({path:e}){return n.createElement(i.Vy,{path:e,component:Ld,additionalProps:{}})}var jd=a(130188);function Pd({path:e}){return n.createElement(i.Vy,{path:e,component:jd.B,additionalProps:{fullPage:!0,triggerSync:!0}})}var Rd=a(33658),Ud=a(603724),Bd=a(119457);const Fd=n.forwardRef(((e,t)=>{const a=(0,Bd.E)(Ud.W),{children:n,disabled:i,icon:s,isPrimary:r,layout:o="iconLeading",onClick:l,onMouseEnter:c}=e;return(0,Ue.tZ)(Ue.zx,{ref:t,sx:{whiteSpace:"nowrap"},mood:r?void 0:"neutral",intensity:r?void 0:"quiet",onClick:l,onMouseEnter:c,disabled:i,icon:s,layout:a?o:"iconOnly"},n)}));var Gd;const Wd=({children:e})=>(0,Ue.tZ)("span",{sx:{mr:"8px"}},e),Vd=({icon:e,label:t,onClick:a})=>(0,Ue.tZ)(d.W7o,{fullWidth:!0,onClick:a,key:t},(0,Ue.tZ)(d.Ejs,{flexDirection:"row",flexWrap:"nowrap"},e?(0,Ue.tZ)(Wd,null,e):null,t)),Hd=({buttonLabel:e,endWidget:t,menuItemContents:a,...n})=>{var i;return(0,Ue.tZ)(Rc.h,{startWidgets:()=>(0,Ue.tZ)("div",{sx:{position:"relative"}},(0,Ue.tZ)(d.h_2,{placement:"bottom-start",sx:{minWidth:"168px"},offset:[0,4],content:a},i||(i=(0,Ue.tZ)(Fd,{icon:Gd||(Gd=(0,Ue.tZ)(Ue.JO,{name:"ActionAddOutlined"})),isPrimary:!0},e)))),endWidget:t,...n})};var qd,Yd,Qd,$d;const Kd=()=>{const{translate:e}=(0,P.Z)(),{routes:t}=(0,S.Xo)(),a=e=>()=>{(0,i.uX)(e)},s=[{icon:qd||(qd=n.createElement(Ue.JO,{name:"ItemPaymentOutlined",color:"ds.oddity.brand"})),label:e("payments_header_add_payment_card"),onClick:a(t.userAddPaymentCard)},{icon:Yd||(Yd=n.createElement(Ue.JO,{name:"ItemBankAccountOutlined",color:"ds.oddity.brand"})),label:e("payments_header_add_bank_account"),onClick:a(t.userAddBankAccount)}];return n.createElement(Hd,{buttonLabel:e("payments_header_add_payment"),endWidget:n.createElement(n.Fragment,null,Qd||(Qd=n.createElement(Uc.D,null)),$d||($d=n.createElement(Bc.E,null))),menuItemContents:s.map((({icon:e,label:t,onClick:a})=>n.createElement(Vd,{icon:e,label:t,onClick:a,key:t})))})};var Xd=a(369672);const Jd=({quantity:e})=>{const{translate:t}=(0,P.Z)();return n.createElement("div",{className:"sectionHeader--EcHqnW7asF"},n.createElement("div",{className:"bankTitle--yBZUl6Ym4z"},t("payments_grid_category_bank_account")," (",e,")"),n.createElement("div",{className:"bankName--OgVUHx0gCE"},t("webapp_payment_bankaccounts_list_header_bank_name")),n.createElement("div",{className:"lastUsed--CBup2XRmDZ"},t("webapp_payment_bankaccounts_list_header_last_use")))},eu=({bankAccountName:e,bankOwner:t})=>{const{translate:a}=(0,P.Z)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"thumbnailContainer--U1_j6Qd7wO"},n.createElement(d.plG,{icon:d.Uci.Bank,text:a("webapp_payment_bankaccounts_list_header_bank_name"),iconColor:d.O9T.white,size:"small",backgroundColor:d.O9T.dashGreen00})),n.createElement("div",{className:"bankAccountInfo--nlMaddsA8S"},n.createElement(d.nvN,{as:"strong",bold:!0,sx:{color:d.O9T.black},className:"bankAccountName--ZpGOxk1qvI"},e),n.createElement(d.nvN,{as:"span",size:"x-small",sx:{color:d.O9T.grey00},className:"bankAccountHolder--fJT0MlyDR4"},t)))},tu=n.memo((({bankAccount:e,onBankAccountClick:t,reportError:a})=>{const{id:s,name:r,owner:o,bankLocalizedName:l}=e,[c,d]=n.useState(!1),{translate:u}=(0,P.Z)(),{routes:m}=(0,S.Xo)();return n.createElement("li",{className:"bankAccountListItemContainer--G6eOFjMUKR",onMouseLeave:()=>{c&&d(!1)}},n.createElement(i.rU,{className:"bankAccountListItem--bCYU4MG1Ui",onClick:t,to:m.userBankAccount(s)},n.createElement("div",{className:"bankAccountInfoContainer--u5c4qjaySk"},n.createElement(eu,{bankAccountName:r,bankOwner:o})),n.createElement("div",{className:"bankNameContainer--P2o_GE7znH"},n.createElement("div",{className:"bankNameLabel--c1oEpr331p"},l)),n.createElement("div",{className:"lastUseContainer--WLHuWqZbVI"},e.lastUse?n.createElement(Ae.Z,{date:(0,xt.Z)(e.lastUse)}):u("webapp_payment_bankaccount_list_item_never_used"))),n.createElement("div",{className:F()("actions--HnmskMB5H3")},n.createElement(Rr,{bankAccount:e,mode:Zr.LIST,dropdownIsOpen:c,setDropdownIsOpen:d,reportError:a})))})),au=n.memo((({bankAccounts:e,reportError:t})=>n.createElement(n.Fragment,null,n.createElement(Jd,{quantity:e.matchingCount}),n.createElement("div",{className:"listContainer--s5o34Wt8t3"},n.createElement("ul",{className:"list--E4_J8mP2Tq"},e.items.map((e=>n.createElement(tu,{key:e.id,bankAccount:e,onBankAccountClick:()=>{(0,Ir.Mx)(e.id)},reportError:t}))))))));var nu=a(777352);const iu=({item:e,linkTo:t,onClick:a})=>{const{translate:s}=(0,P.Z)();if(!e)return null;const r=s("payments_grid_payment_card_expires"),o=(c=e)&&c.expireMonth&&c.expireYear?`${c.expireMonth}/${c.expireYear.substr(2)}`:"";var c;const u=(m=e.color,(0,nu.Z)(m));var m;const p=(e=>e===l.PaymentCardColor.WHITE?d.O9T.grey05:(0,nu.Z)(e))(e.color),_=(e=>e===l.PaymentCardColor.WHITE?d.O9T.grey00:d.O9T.white)(e.color),g=Uo(e);return n.createElement(i.rU,{className:"paymentCard--SUudUO6mnP",style:{backgroundColor:u,borderColor:p,color:_},to:t?t(e.id):"",onClick:a},n.createElement("div",{className:"itemInner--PO8PKRAI7E"},n.createElement("div",{className:"paymentCardNumber--jgTo_0jUw5"},g),n.createElement("div",{className:"paymentCardDateAndName--KKTYxPKuyU"},o?n.createElement("span",{className:"paymentCardExpirationDate--z2DvsdOUPU"},n.createElement("span",{className:"paymentCardExpirationDateLabel--tEA5TGY00Y"},r),n.createElement("span",{className:"paymentCardExpirationDateValue--szWQC1UB8v"},o)):null,e.name?n.createElement("span",null,e.name):null),e.ownerName?n.createElement("div",{className:"paymentCardOwnerName--afLnLZt95N"},e.ownerName):null))},su=n.memo((({paymentCards:e,cardRoute:t})=>{const{translate:a}=(0,P.Z)();return n.createElement(n.Fragment,null,n.createElement("h2",{className:"sectionHeader--lbhRxSxyan"},a("payments_grid_category_payment_card")," (",e.matchingCount,")"),n.createElement("div",{className:"sectionContent--SJWw66m2Vv"},e.items.map((e=>n.createElement(iu,{item:e,key:e.id,linkTo:t,onClick:()=>{(0,Ir.GV)(e.id)}})))))}));var ru,ou;const lu=()=>{const{translate:e}=(0,P.Z)();return n.createElement(Xd.H,{icon:ru||(ru=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iMTAzIiB2aWV3Qm94PSIwIDAgOTYgMTAzIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNODAgNzQuNzc0Nkw3NC42MzY5IDc3LjA3NjNWNjQuODAwOFYzMi41NzcySDIxLjM2MzFWNzEuMzIyMUg2Ny40ODZMNjkuMjczNyA3Ny4wNzYzSDU3LjgzMjRIMTZWMjYuODIzSDgwVjc0Ljc3NDZaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik01OC45MDQ3IDQ1LjIzNjZMNTYuNzU5NCAzOS40ODI0SDU5LjI2MjJINjcuMTI4MUw2OS4yNzM0IDQ1LjIzNjZINjYuNzcwNkg1OC45MDQ3WiIgZmlsbD0iI0UwREREQSIvPgo8cGF0aCBkPSJNMjcuNzk4MiA0NS4yMzY2TDI2LjAxMDUgMzkuNDgyNEgzNy40NTE5SDQxLjAyNzNINTAuNjgwOUw1Mi40Njg2IDQ1LjIzNjZINDEuMDI3M0gzNy40NTE5SDI3Ljc5ODJaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik0yNy43OTgyIDU3Ljg5NkwyNi4wMTA1IDUyLjE0MThIMzcuNDUxOUg1Ny44MzE4SDY3LjEyNzhMNjkuMjczMSA1Ny44OTZINTcuODMxOEgzNy40NTE5SDI3Ljc5ODJaIiBmaWxsPSIjRTBERERBIi8+Cjwvc3ZnPgo="})),title:e("webapp_payment_empty_view_title")},n.createElement("p",null,e("webapp_payment_empty_view_description")))},cu=e=>n.createElement("div",{className:"contentWrapper--EMLJVEY14f"},n.Children.toArray(e.children)),du=({paymentCards:e,bankAccounts:t})=>{const{routes:a}=(0,S.Xo)();n.useEffect((()=>{(0,v.N)(c.PageView.ItemPaymentList)}),[]);const i=t.matchingCount;return e.matchingCount+i>0?n.createElement(cu,null,e.matchingCount>0?n.createElement(su,{paymentCards:e,cardRoute:a.userPaymentCard}):null,i>0?n.createElement(au,{bankAccounts:t}):null):ou||(ou=n.createElement(cu,null,n.createElement(lu,null)))};var uu;const mu=({lee:e,children:t})=>{const a=(e=>{const t=(0,Vo.e)(u.C.getPaymentCards,u.C.livePaymentCards,{spaceId:e,sort:"name",sortDirection:"ascend"}),a=(0,Vo.e)(u.C.getBankAccounts,u.C.liveBankAccounts,{spaceId:e,sort:"accountName",sortDirection:"ascend"});return t.status===W.rq.Success&&a.status===W.rq.Success?{status:W.rq.Success,data:{bankAccounts:a.data,paymentCards:t.data}}:t.status===W.rq.Error?{status:W.rq.Error,error:t.error}:a.status===W.rq.Error?{status:W.rq.Error,error:a.error}:{status:W.rq.Loading}})((0,rr.B)(e.globalState));return n.createElement(Rd.Z,{lee:e,editPanel:t},uu||(uu=n.createElement(Kd,null)),a.status===W.rq.Success?n.createElement(du,{bankAccounts:a.data.bankAccounts,paymentCards:a.data.paymentCards,reportError:e.reportError}):null)},pu=({path:e})=>n.createElement(i.Vy,{path:e,component:mu});var _u=a(681024),gu=a(939639);const hu={container:"container--euPRntv61L",sectionHeader:"sectionHeader--x5Is6VYjOU",grid:"grid--FySkuvKXNt",item:"item--__Zn9qqCxv"};var bu=a(832070),yu=a.n(bu);const Cu=({data:e,onRenderItem:t,onToggleGrid:a,itemClassname:i,innerSectionClassname:s})=>{const r=e=>{a&&a(e)};return n.createElement("div",{className:hu.container},e.map(((e,a)=>{var o;const l=null!=(o=e.render)?o:t;if(!l)throw new Error("No render function provided");const c=e.getKey,d=a,u=Number(yu()["--dashlane-credentials-grid-collapsing-duration"]);return[n.createElement("div",{key:`header-${e.key}`},n.createElement("div",{className:hu.sectionHeader,onClick:()=>r(e.key),tabIndex:0,"aria-expanded":e.open,role:"button",onKeyPress:t=>{" "!==t.key&&"Enter"!==t.key||r(e.key)}},n.createElement("h2",{className:F()({[hu.open]:e.open})},e.title))),n.createElement(gu.H,{key:`innerSection-${e.key}`,open:e.open,durationMs:u},n.createElement("div",{className:s},n.createElement("ul",{className:hu.grid},e.items.map(((t,a)=>((e,t,a,s)=>n.createElement("li",{className:F()(hu.item,i),key:a(e),style:{visibility:s.open?"visible":"hidden"}},t(e)))(t,l,c||(()=>((e,t)=>`${e}-${t}`)(d,a)),e))))))]})))};var wu;const Eu=e=>n.createElement(xr.ZP,{iconType:e,iconSize:xr.Jh.largeIcon}),vu=({id:e,icon:t,title:a,text:s,onClick:r,to:o})=>n.createElement(i.rU,{key:e,className:"itemLink--U5CClTbs8w",to:o,onClick:r},t,n.createElement("div",{className:"itemInner--XdgAFcarM8"},n.createElement("div",{className:"firstLine--WvYt6YET06 _text--BNK0AF0Cg6"},a),n.createElement("div",{className:"secondLine--iYoVaynAJ6 _text--BNK0AF0Cg6"},s))),Nu=({currentSpaceId:e})=>null===e?{filterCriteria:[]}:{filterCriteria:[{field:"spaceId",type:"equals",value:e}]},Su=e=>({sortToken:{sortCriteria:[],uniqField:"id"},filterToken:Nu(e)}),Iu=(0,ft.compose)(btoa,JSON.stringify,Su),fu={addresses:{live:u.C.liveAddresses,liveParam:Iu,query:u.C.getAddresses,queryParam:Su},companies:{live:u.C.liveCompanies,liveParam:Iu,query:u.C.getCompanies,queryParam:Su},identities:{live:u.C.liveIdentities,liveParam:Iu,query:u.C.getIdentities,queryParam:Su},personalWebsites:{live:u.C.livePersonalWebsites,liveParam:Iu,query:u.C.getPersonalWebsites,queryParam:Su},emails:{live:u.C.liveEmails,liveParam:Iu,query:u.C.getEmails,queryParam:Su},phones:{live:u.C.livePhones,liveParam:Iu,query:u.C.getPhones,queryParam:Su}},xu={strategies:fu},Mu=(0,M.$)((0,T.i)((e=>{const{onToggleGrid:t}=e,{translate:a}=(0,P.Z)(),i=((e,t)=>{const{addresses:a,categoryStates:i,companies:s,emails:r,identities:o,lee:l,personalWebsites:d,phones:u}=e;return[{key:"identities",open:i.identities.open,title:`${t("personal_info_grid_category_identities")} (${o.items.length})`,items:o.items,render:e=>((e,t,a)=>n.createElement(vu,{key:t.id,id:t.id,icon:Eu(xr.Tu.identity),text:(0,fr.Y8)(a,t),title:(0,fr.kl)(t),onClick:()=>{(0,Ir.bx)(t.id,c.ItemType.Identity)},to:e.routes.userPersonalInfoIdentity(t.id)}))(l,e,t),getKey:e=>e.id},{key:"emails",open:i.emails.open,title:`${t("personal_info_grid_category_emails")} (${r.items.length})`,items:r.items,render:e=>((e,t)=>n.createElement(vu,{key:t.id,id:t.id,icon:Eu("PRO"===t.type?xr.Tu.emailPro:xr.Tu.email),text:t.email,title:t.name,onClick:()=>{(0,Ir.bx)(t.id,c.ItemType.Email)},to:e.routes.userPersonalInfoEmail(t.id)}))(l,e),getKey:e=>e.id},{key:"phones",open:i.phones.open,title:`${t("personal_info_grid_category_phones")} (${u.items.length})`,items:u.items,render:e=>((e,t,a)=>n.createElement(vu,{key:t.id,id:t.id,icon:Eu(xr.Tu.phone),text:t.displayNumber,title:(0,fr.tm)(a,t),onClick:()=>{(0,Ir.bx)(t.id,c.ItemType.Phone)},to:e.routes.userPersonalInfoPhone(t.id)}))(l,e,t),getKey:e=>e.id},{key:"addresses",open:i.addresses.open,title:`${t("personal_info_grid_category_addresses")} (${a.items.length})`,items:a.items,render:e=>((e,t,a)=>n.createElement(vu,{key:t.id,id:t.id,icon:Eu(xr.Tu.address),text:(0,fr.qS)(t,a),title:t.addressName,onClick:()=>{(0,Ir.bx)(t.id,c.ItemType.Address)},to:e.routes.userPersonalInfoAddress(t.id)}))(l,e,t),getKey:e=>e.id},{key:"companies",open:i.companies.open,title:`${t("personal_info_grid_category_companies")} (${s.items.length})`,items:s.items,render:e=>((e,t)=>n.createElement(vu,{key:t.id,id:t.id,icon:Eu(xr.Tu.company),text:t.jobTitle,title:t.name,onClick:()=>{(0,Ir.bx)(t.id,c.ItemType.Company)},to:e.routes.userPersonalInfoCompany(t.id)}))(l,e),getKey:e=>e.id},{key:"personalWebsites",open:i.personalWebsites.open,title:`${t("personal_info_grid_category_personalWebsites")} (${d.items.length})`,items:d.items,render:e=>((e,t)=>n.createElement(vu,{key:t.id,id:t.id,icon:Eu(xr.Tu.website),text:t.website,title:t.name,onClick:()=>{(0,Ir.bx)(t.id,c.ItemType.Website)},to:e.routes.userPersonalInfoWebsite(t.id)}))(l,e),getKey:e=>e.id}].filter((e=>e.items.length>0))})(e,a);return i.length?n.createElement(Cu,{data:i,itemClassname:"item--Gb3rRTGjJe",onToggleGrid:t}):n.createElement(Xd.H,{icon:wu||(wu=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTIiIHZpZXdCb3g9IjAgMCA5NiA5MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQ4LjM1NTUgNTIuNDczOEM0MS4yNDQ0IDUyLjQ3MzggMzUuNTU1NSA0Ny4wMjE5IDM1LjU1NTUgNDAuMjA3MUMzNS41NTU1IDMzLjM5MjMgNDEuMjQ0NCAyNy45NDA0IDQ4LjM1NTUgMjcuOTQwNEM1NS40NjY3IDI3Ljk0MDQgNjEuMTU1NSAzMy4zOTIzIDYxLjE1NTUgNDAuMjA3MUg1NS44MjIyQzU1LjgyMjIgMzYuNDU5IDUyLjYyMjIgMzMuMDUxNSA0OC4zNTU1IDMzLjA1MTVDNDQuMDg4OSAzMy4wNTE1IDQwLjg4ODkgMzYuMTE4MiA0MC44ODg5IDQwLjIwNzFDNDAuODg4OSA0NC4yOTYgNDQuMDg4OSA0Ny4zNjI3IDQ4LjM1NTUgNDcuMzYyN0M1MC44NDQ0IDQ3LjM2MjcgNTIuOTc3OCA0Ni4zNDA0IDU0LjQgNDQuMjk1OUw1OC42NjY3IDQ3LjM2MjdDNTYuMTc3OCA1MC40Mjk0IDUyLjI2NjcgNTIuNDczOCA0OC4zNTU1IDUyLjQ3MzhaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik0zNS45MTA2IDcxLjU1NTZIMzAuNTc3M1Y2MC45OTI3TDM3LjMzMjggNTQuNTE4Nkg1OS4zNzczTDY1Ljc3NzMgNjAuOTkyN1Y3MC44NzQySDYwLjQ0MzlWNjMuMDM3MUw1Ny4yNDM5IDU5LjYyOTdIMzkuNDY2MkwzNS45MTA2IDYzLjAzNzFWNzEuNTU1NloiIGZpbGw9IiNFMEREREEiLz4KPHBhdGggZD0iTTQ4IDc2LjY2NjZDMzAuMjIyMiA3Ni42NjY2IDE2IDYzLjAzNjkgMTYgNDUuOTk5OUMxNiAyOC45NjI5IDMwLjIyMjIgMTUuMzMzMyA0OCAxNS4zMzMzQzY1Ljc3NzggMTUuMzMzMyA4MCAyOC45NjI5IDgwIDQ1Ljk5OTlDODAgNjIuNjk2MiA2NS43Nzc4IDc2LjY2NjYgNDggNzYuNjY2NlpNNDggMjAuNDQ0NEMzMy40MjIyIDIwLjQ0NDQgMjEuMzMzMyAzMi4wMjk1IDIxLjMzMzMgNDUuOTk5OUMyMS4zMzMzIDU5Ljk3MDMgMzMuNDIyMiA3MS41NTU1IDQ4IDcxLjU1NTVDNjIuNTc3OCA3MS41NTU1IDc0LjY2NjcgNTkuOTcwMyA3NC42NjY3IDQ1Ljk5OTlDNzQuNjY2NyAzMi4wMjk1IDYyLjkzMzMgMjAuNDQ0NCA0OCAyMC40NDQ0WiIgZmlsbD0iI0UwREREQSIvPgo8L3N2Zz4K"})),title:a("webapp_personal_info_empty_view_title")},n.createElement("p",null,a("webapp_personal_info_empty_view_description")))}),xu),fu);var Tu,Du;const Zu=()=>{const{routes:e}=(0,S.Xo)(),{translate:t}=(0,P.Z)(),a=(e,t)=>()=>{(0,i.uX)(t)},s=[{label:t("webapp_personal_info_header_add_name"),onClick:a(0,e.userAddPersonalInfoIdentity)},{label:t("webapp_personal_info_header_add_email"),onClick:a(0,e.userAddPersonalInfoEmail)},{label:t("webapp_personal_info_header_add_phone"),onClick:a(0,e.userAddPersonalInfoPhone)},{label:t("webapp_personal_info_header_add_address"),onClick:a(0,e.userAddPersonalInfoAddress)},{label:t("webapp_personal_info_header_add_company"),onClick:a(0,e.userAddPersonalInfoCompany)},{label:t("webapp_personal_info_header_add_website"),onClick:a(0,e.userAddPersonalInfoWebsite)}];return n.createElement(Hd,{buttonLabel:t("webapp_personal_info_header_add"),menuItemContents:s.map((({label:e,onClick:t})=>n.createElement(Vd,{label:e,onClick:t,key:e}))),endWidget:n.createElement(n.Fragment,null,Tu||(Tu=n.createElement(Uc.D,null)),Du||(Du=n.createElement(Bc.E,null)))})};var Au;const ku=({lee:e,children:t})=>{const[a,i]=n.useState({addresses:{open:!0},companies:{open:!0},emails:{open:!0},identities:{open:!0},personalWebsites:{open:!0},phones:{open:!0}});n.useEffect((()=>{const t={queries:[]};e.globalState.webapp.callingCodes||t.queries.push({type:l.StaticDataQueryType.CALLING_CODES}),e.globalState.webapp.geographicStates||t.queries.push({type:l.StaticDataQueryType.GEOGRAPHIC_STATES,level:l.GeographicStateLevel.LEVEL_0},{type:l.StaticDataQueryType.GEOGRAPHIC_STATES,level:l.GeographicStateLevel.LEVEL_1}),t.queries.length&&(0,_u.et)(t).then((t=>{const a=t.reduce(((e,t)=>{if(t.type===l.StaticDataQueryType.CALLING_CODES)return{...e,callingCodes:t.collection};if(t.type===l.StaticDataQueryType.GEOGRAPHIC_STATES){const a={...e.geographicStates};return Object.keys(t.collection).forEach((e=>{a[e]={...a[e],...t.collection[e]}})),{...e,geographicStates:a}}return(0,$r.Z)(new Error(`queryStaticDataCollections: Unexpected result type (${t})`)),e}),{});e.dispatchGlobal((0,ir.Bn)(a))})).catch((e=>(0,$r.Z)(e))),(0,v.N)(c.PageView.ItemPersonalInfoList)}),[]);const s=(0,rr.B)(e.globalState);return n.createElement(Rd.Z,{lee:e,editPanel:t},Au||(Au=n.createElement(Zu,null)),n.createElement(Mu,{categoryStates:a,onToggleGrid:e=>{i({...a,[e]:{open:!a[e].open}})},lee:e,currentSpaceId:s}))},Ou=({path:e})=>n.createElement(i.Vy,{path:e,component:ku});var Lu=a(758887),zu=a(73526),ju=a(85636),Pu=a(65489),Ru=a(158668),Uu=a(932954),Bu=a(912442);const Fu="category--oWcsrPYixc",Gu="created--dauicGC2_b",Wu="updated--t70jeuIalI",Vu="titleIcon--PMOpndUi51";var Hu,qu,Yu;const Qu=({note:e,showTitleIcons:t=!0,tag:a})=>n.createElement("div",{className:"titleOuterWrapper--oRG289Tcma"},(e=>n.createElement("span",{className:"noteIconWrapper--rs1oSCTALZ"},n.createElement(Oo.Z,{noteType:e.color})))(e),n.createElement("div",{className:"titleWrapper--PIcEl9RepP"},n.createElement("div",{className:"title--nOmPgjhX0T"},n.createElement(Uu.Z,{tooltipText:e.title,className:"container--Y6Jg_DP22C"},e.title),a?n.createElement("div",{className:"tagPlacement--CdvFmM3ZcD"},a):null,e.sharingStatus.isShared&&t&&n.createElement("div",{className:Vu},Hu||(Hu=n.createElement(d.kpp,{size:12}))),e.hasAttachments&&t&&n.createElement("div",{className:Vu},qu||(qu=n.createElement(d.Ujz,null))),e.secured&&t&&n.createElement("div",{className:Vu},Yu||(Yu=n.createElement(d.QB,{size:13})))))),$u=(e,{createdAt:t})=>t?n.createElement(Uu.Z,null,e.shortDate((0,xt.Z)(t))):null,Ku=({updatedAt:e})=>e?n.createElement(Uu.Z,null,n.createElement(Ae.Z,{date:(0,xt.Z)(e)})):null,Xu=({note:e})=>{const{routes:t}=(0,i.Xo)(),{areProtectedItemsUnlocked:a,openProtectedItemsUnlocker:s}=(0,an.tY)(),r=e.secured&&!a,{translate:o}=(0,P.Z)(),l=[{key:"title",content:n.createElement(Qu,{note:e})},{key:"category",content:n.createElement(Uu.Z,null,e.category?e.category.categoryName:o("webapp_secure_notes_list_row_no_category")),className:Fu},{key:"createdAt",content:$u(o,e),className:Gu},{key:"updatedAt",content:Ku(e),className:Wu}];return n.createElement(Bu.Z,{key:e.id,onClick:a=>{(0,Ir.X0)(e.id),r?(a.preventDefault(),a.stopPropagation(),s({action:tn.P7.Show,itemType:tn.Ru.SecureNote,successCallback:()=>{(0,i.uX)(t.userSecureNote(e.id))}})):(0,i.uX)(t.userSecureNote(e.id))},data:l})};var Ju,em,tm,am,nm;const im={tokenEndpoint:u.C.getNotesPaginationToken,pageEndpoint:u.C.getNotesPage,batchLiveEndpoint:u.C.liveNotesBatch},sm=(0,ju.G)(im,(e=>{const{className:t,header:a,paginatedData:n,hasNext:s,hasPrevious:r,isLoading:o,loadNext:l,loadPrevious:c}=e,u=(0,i.k6)(),{translate:m}=(0,P.Z)(),{routes:p}=(0,i.Xo)(),_=[...n.values()].flat(),g=!n.size;return[...n].some((([,e])=>e.length>0))?(0,D.tZ)("div",{className:"contentWrapper--Kh92TY3pVQ"},a,(0,D.tZ)("div",{className:t},(0,D.tZ)(Pu.v,{hasNext:s,hasPrevious:r,isLoading:o,loadNext:l,loadPrevious:c},_.map((e=>(0,D.tZ)(Xu,{key:`secureNotes_list_secureNoteId_${e.id}`,note:e})))))):(e.hasNext&&e.loadNext(),g?nm||(nm=(0,D.tZ)("div",null)):(0,D.tZ)(Ru.QR,{mode:"fullscreen",paywall:Ru.qd.SecureNote},(0,D.tZ)(Xd.H,{icon:Ju||(Ju=(0,D.tZ)("img",{"aria-hidden":!0,alt:"",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTciIHZpZXdCb3g9IjAgMCA5NiA5NyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQyLjI2NzMgNDguMTQwN1Y0Mi43NTE4SDQ4LjY2NzNINDkuNzM0QzUwLjA4OTYgNDIuNzUxOCA1MC44MDA3IDQyLjM5MjYgNTAuNDQ1MSA0My4xMTExVjQ1LjYyNTlWNDkuMjE4NVY1NC45NjY3TDQ1LjExMTggNTYuNzYzVjU0LjI0ODFWNDguODU5MlY0Ny43ODE1SDQyLjI2NzNWNDguMTQwN1oiIGZpbGw9IiNFMEREREEiLz4KPHBhdGggZD0iTTc0LjI2NjcgNzkuMDM3TDY4LjkzMzMgODAuODMzM1Y2OS4zMzcxVjM3LjcyMjJMNTIuOTMzMyAyMS41NTU1SDI3LjMzMzNWNzUuNDQ0NEg2MS40NjY3TDYzLjYgODAuODMzM0g1Mi4yMjIySDIyVjE2LjE2NjZINTUuMDY2N0w3NC4yNjY3IDM1LjIwNzRWNzkuMDM3WiIgZmlsbD0iI0UwREREQSIvPgo8L3N2Zz4K"})),title:m("webapp_secure_notes_empty_view_title")},(0,D.tZ)("p",null,m("webapp_secure_notes_empty_view_description")),em||(em=(0,D.tZ)("br",null)),(0,D.tZ)(d.Ejs,{gap:4,justifyContent:"center"},(0,D.tZ)(Ue.zx,{layout:"iconLeading",icon:tm||(tm=(0,D.tZ)(d.dtP,{color:"ds.text.inverse.catchy"})),onClick:()=>{u.push(p.userAddBlankNote)}},m("webapp_secure_notes_header_add")),(0,D.tZ)(Ue.zx,{layout:"iconLeading",icon:am||(am=(0,D.tZ)(d._8t,null)),mood:"neutral",intensity:"quiet",onClick:()=>u.push(p.importData)},m("webapp_account_root_import_data"))))))}));var rm=a(562574),om=a(904824),lm=a(273966),cm=a(700120);let dm;!function(e){e.Credentials="credentials",e.SecureNotes="secureNotes",e.SharingLimit="sharingLimit"}(dm||(dm={}));const um={background:"rgba(217, 223, 224, 0.3)",borderRadius:"4px",padding:"4px"},mm=({noticeType:e,customSx:t={}})=>{const a=(0,lm.B)(),{shouldShowAtOrOverLimitContent:i}=(0,N.v0)(),{routes:s}=(0,S.Xo)(),{translate:r}=(0,P.Z)(),o=s.userGoPremium(a?.subscriptionCode,"monthly"),l=(0,cm.II)(["secureNotes"]),[c,u]=(0,n.useState)(void 0),m=(()=>{switch(e){case dm.Credentials:return i?(c||u("password_limit"),r.markup("webapp_paywall_password_limit_banner_markup",{link:o},{linkTarget:"_blank"})):null;case dm.SecureNotes:return l?r.markup("webapp_paywall_secure_note_banner_markup",{link:o},{linkTarget:"_blank"}):null;case dm.SharingLimit:return null;default:(0,qr.U)(e)}})();return m?(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen01,size:"small",sx:{...um,...t}},m):null};var pm,_m=a(202281);const gm=()=>{const{routes:e}=(0,S.Xo)(),{translate:t}=(0,P.Z)();return(0,Ue.tZ)(i.rU,{to:e.userPasswordHistory,tabIndex:-1},(0,Ue.tZ)(Fd,{icon:pm||(pm=(0,Ue.tZ)(Ue.JO,{name:"HistoryBackupOutlined"}))},t("webapp_password_history_all_passwords_view_header_title")))};var hm,bm,ym,Cm,wm,Em=a(27429),vm=a(850793);const Nm=({tooltipPlacement:e="right",tooltipPassThrough:t,tooltipContent:a,handleAddNew:s,onAddNewHover:r,addNewDisabled:o,shareButtonElement:l,shouldDisplayPasswordHistoryButton:c=!1,shouldDisplayNewAccountImportButton:u=!1,shouldDisplayAddButton:m=!0})=>{const{translate:p}=(0,P.Z)(),{routes:_}=(0,i.Xo)(),g=(0,i.k6)(),[h,b]=(0,n.useState)(!1),y=(0,Em.E)(),C=u&&h;(0,n.useEffect)((()=>{if(y.status===W.rq.Success){const e=(0,xt.Z)(y.data.accountCreationDatetime),t=new Date;Math.abs((0,vm.Z)(t,e))<=30&&b(!0)}}),[y.status]);const w=(0,Ue.tZ)(n.Fragment,null,Cm||(Cm=(0,Ue.tZ)(Uc.D,null)),wm||(wm=(0,Ue.tZ)(Bc.E,null)));return(0,Ue.tZ)(Rc.h,{startWidgets:()=>(0,Ue.tZ)(n.Fragment,null,m?(0,Ue.tZ)(d.ua7,{placement:e,passThrough:t,content:a},(0,Ue.tZ)(Fd,{onClick:s,onMouseEnter:r,disabled:o,icon:hm||(hm=(0,Ue.tZ)(Ue.JO,{name:"ActionAddOutlined"})),isPrimary:!0},p("credentials_header_add_password"))):null,C?(0,Ue.tZ)(Fd,{icon:bm||(bm=(0,Ue.tZ)(d._8t,null)),onClick:()=>g.push(_.importData)},p("webapp_account_root_import_data")):null,l||null,c?ym||(ym=(0,Ue.tZ)(gm,null)):null),endWidget:w})};var Sm=a(673146),Im=a(656293),fm=a(852313);const xm=e=>{const t=[];return(e||""===e)&&t.push({field:"spaceId",type:"equals",value:e}),{filterCriteria:t}},Mm=e=>JSON.stringify({filterToken:xm(e),sortToken:{sortCriteria:[],uniqField:"id"}}),Tm=()=>{const e=(0,Be.w)("disableSecureNotes"),t=(0,fm.a)(),a=(e=>{const t=(0,W.qr)({queryConfig:{query:u.C.getNotesCount,queryParam:{filterToken:xm(e),sortToken:{sortCriteria:[],uniqField:"id"}}},liveConfig:{live:u.C.liveNotesCount,liveParam:btoa(Mm(e))}},[]);return t.status===W.rq.Success?t.data:null})(),n=(0,_m.Y)(),s=(0,i.k6)(),{translate:r}=(0,P.Z)(),{openPaywall:o}=(0,N.nL)(),{routes:l}=(0,i.Xo)();if(n.status!==W.rq.Success||null===a||null===t)return null;const c=(0,gc.n6)(gc.Co.SecureNotes,n.data?.capabilities),d=(()=>{if(!(t>0))return null;const e={...(0,Hr.j8)(),tab:Im.f.SecureNotes};return(0,Ue.tZ)(Sm.Z,{sharing:e,text:r("credentials_header_share_password")})})();return(0,Ue.tZ)(Nm,{tooltipPassThrough:!c,tooltipContent:r("webapp_secure_notes_header_add_ui_tooltip"),handleAddNew:e=>(e=>{c?(e.preventDefault(),o(gc.qd.SecureNote)):s.push(l.userAddBlankNote)})(e),addNewDisabled:e,shareButtonElement:d,shouldDisplayNewAccountImportButton:!!a,shouldDisplayAddButton:!!a})};var Dm;const Zm=({children:e,lee:t})=>{const[a,i]=(0,n.useState)({field:"title",direction:Lu._.ascending}),{translate:s}=(0,P.Z)();(0,n.useEffect)((()=>{(0,om.w)(),(()=>{const e=localStorage.getItem(zu.Ij);try{if(e){const t=JSON.parse(e);i(t.sortingOptions)}}catch(e){}})(),(0,v.N)(c.PageView.ItemSecureNoteList)}),[]);const r=()=>[{key:"title",sortable:!0,content:s("webapp_secure_notes_list_header_name"),logSubaction:"name"},{key:"category",sortable:!0,content:s("webapp_secure_notes_list_header_category"),className:Fu,logSubaction:"category"},{key:"createdAt",sortable:!0,content:s("webapp_secure_notes_list_header_created"),className:Gu,logSubaction:"creationDate"},{key:"updatedAt",sortable:!0,content:s("webapp_secure_notes_list_header_updated"),className:Wu,logSubaction:"lastUpdated"}],o=e=>{(e=>{var t;i(e),t={sortingOptions:e},localStorage.setItem(zu.Ij,JSON.stringify(t))})(e)},l=()=>{const e=(e=>e===Lu._.ascending?"ascend":"descend")(a.direction),{field:t}=a,n=[{direction:e,field:r().map((e=>e.key)).includes(t)?t:"title"}];return"category"===t?n.concat({direction:"ascend",field:"title"}):n},d=()=>{const e=(0,rr.B)(t.globalState);return null===e?[]:[{field:"spaceId",value:e,type:"equals"}]};return n.createElement(Rd.Z,{lee:t,editPanel:e},Dm||(Dm=n.createElement(Tm,null)),n.createElement(mm,{customSx:{margin:"0 32px 30px"},noticeType:dm.SecureNotes}),(()=>{const e={sortCriteria:l(),filterCriteria:d(),initialBatchSize:20},t=n.createElement(rm.h,{header:r(),onSort:o,options:a});return n.createElement(sm,{header:t,className:"list--JtiknoYRWD",tokenParams:e})})())},Am=({path:e})=>n.createElement(i.Vy,{path:e,component:Zm});var km=a(861817);const Om=({title:e,children:t,sx:a})=>n.createElement(d.Zbd,{sx:(0,d.jMf)([{display:"flex",flexDirection:"column",padding:"24px",gap:"16px",backgroundColor:d.O9T.white,borderRadius:"4px",border:`1px solid ${d.O9T.dashGreen05}`},...a?[a]:[]])},n.createElement(d.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",height:"100%"}},e?"string"==typeof e?n.createElement(d.X6q,{size:"small"},e):e:null,n.createElement(d.k$b,{flex:"1"},t))),Lm=({offer:e,currentSeats:t=0,additionalSeats:a=0})=>{const n=[...e.priceRanges].sort(((e,t)=>e.startMembers-t.startMembers)),i=t+a;return n.reduce(((e,t)=>t.startMembers<i&&t.startMembers>e.startMembers?t:e),n[0])},zm=({offer:e,currentSeats:t,additionalSeats:a})=>Lm({offer:e,currentSeats:t,additionalSeats:a}).price/(e.duration.includes("y")?12:1),jm=({offer:e,currentSeats:t,additionalSeats:a})=>{const n=Lm({offer:e,currentSeats:t,additionalSeats:a}).price;return e.duration.includes("y")?n:12*n},Pm=e=>"2020_business_tier"===e.name,Rm=e=>e?e.priceRanges[1].startMembers-1:0;var Um,Bm,Fm;const Gm=({handleSelectClick:e,selected:t,businessOffer:a})=>{const{translate:i}=(0,P.Z)(),s=a?zm({offer:a}):null;return n.createElement(d.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",height:"324px",padding:"18px 28px 32px",border:`1px solid ${d.O9T.dashGreen05}`,borderRadius:"4px",gap:"18px",width:"100%"}},n.createElement(d.Ejs,{sx:{backgroundColor:"#D8EBDB",padding:"2px",lineHeight:"10px",width:"89px",display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(d.j49,{color:"#086618",size:"small"},i("team_account_teamplan_changeplan_plans_plan_recommended"))),n.createElement(d.Ejs,{fullWidth:!0,gap:"12px"},n.createElement(d.Ejs,{fullWidth:!0},n.createElement(d.Ejs,{sx:{display:"flex",alignItems:"center",flex:1}},n.createElement(d.X6q,{size:"x-small"},i("team_account_teamplan_changeplan_plans_business_name"))),n.createElement(d.k$b,null,a?.currency&&s?n.createElement(d.Ejs,{flexDirection:"column",alignItems:"flex-end"},n.createElement(d.Ejs,{alignItems:"flex-end",gap:"2px"},n.createElement(d.nvN,{size:"small"},i.price(a.currency,s/100,{notation:"compact"})),n.createElement(d.nvN,{size:"small"},i("team_account_teamplan_changeplan_plans_seat"))),n.createElement(d.nvN,{color:d.O9T.grey01,size:"x-small"},i("team_account_teamplan_changeplan_plans_billed_anually"))):n.createElement(d.HoD,{size:16,color:d.O9T.black}))),n.createElement("hr",{style:{width:"100%",borderTop:`1px solid ${d.O9T.grey02}`,borderBottom:"0",margin:"0"}})),n.createElement(d.k$b,{flex:"1"},n.createElement(d.Ejs,{flexDirection:"column",gap:"6px"},n.createElement(d.nvN,{color:d.O9T.grey00,size:"x-small"},i("team_account_teamplan_changeplan_plans_business_header")),n.createElement(d.Ejs,{alignItems:"center",gap:"9px",sx:{display:"flex",alignItems:"center",gap:"9px",marginTop:"10px"}},Um||(Um=n.createElement(d.dtP,{size:8})),n.createElement(d.nvN,{size:"x-small",color:d.O9T.black},i.markup("team_account_teamplan_changeplan_plans_business_saml_markup",{ssoUrl:"https://support.dashlane.com/hc/articles/360015111019-SSO-FAQ"},{linkTarget:"_blank"},{color:d.O9T.black}))),n.createElement(d.Ejs,{alignItems:"center",gap:"9px"},Bm||(Bm=n.createElement(d.dtP,{size:8})),n.createElement(d.nvN,{size:"x-small"},n.createElement(d.rUS,{rel:"noopener noreferrer",href:"https://blog.dashlane.com/how-admins-can-simplify-provisioning/",target:"_blank"},i("team_account_teamplan_changeplan_plans_business_scim_provisioning")))),n.createElement(d.Ejs,{alignItems:"center",gap:"9px"},Fm||(Fm=n.createElement(d.dtP,{size:8})),n.createElement(d.nvN,{size:"x-small",color:d.O9T.black},i.markup("team_account_teamplan_changeplan_plans_business_free_family_plan_markup",{familyPlanUrl:"https://support.dashlane.com/hc/articles/360015393479-Getting-Premium-Family-with-Dashlane-Business"},{linkTarget:"_blank"},{color:d.O9T.black}))))),a?t?n.createElement(d.zxk,{sx:{width:"100%"},disabled:!0,nature:"secondary",size:"small",type:"button"},i("team_account_teamplan_changeplan_plans_selected")):n.createElement(d.zxk,{"data-testid":"btn-business-select",sx:{width:"100%"},size:"small",type:"button",onClick:e},i("team_account_teamplan_changeplan_plans_select")):n.createElement(d.Ejs,{justifyContent:"center",fullWidth:!0},n.createElement(d.HoD,{size:30,color:d.O9T.black})))};var Wm;const Vm=["team_account_teamplan_changeplan_plans_team_security_dashboard","team_account_teamplan_changeplan_plans_team_policy_management","team_account_teamplan_changeplan_plans_team_advanced_reporting","team_account_teamplan_changeplan_plans_team_group_sharing","team_account_teamplan_changeplan_plans_team_active_directory_integration","team_account_teamplan_changeplan_plans_team_dark_web_insights","team_account_teamplan_changeplan_plans_team_vpn_via_hotspot_shield","team_account_teamplan_changeplan_plans_team_audit_logs"],Hm=()=>{const{translate:e}=(0,P.Z)();return n.createElement(d.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",gap:"12px",height:"fit-content",width:"223px",backgroundColor:d.O9T.grey06,padding:"16px"}},n.createElement(d.Ejs,null,n.createElement(d.Ejs,{sx:{borderRadius:"1px",border:`1px solid ${d.O9T.midGreen03}`,padding:"1px",lineHeight:"10px"}},n.createElement(d.j49,{size:"small"},e("team_account_teamplan_changeplan_plans_plan_current")))),n.createElement(d.X6q,{color:d.O9T.grey00,size:"x-small"},e("team_account_teamplan_changeplan_plans_team_name"))," ",n.createElement("hr",{style:{width:"100%",borderTop:`1px solid ${d.O9T.grey02}`,borderBottom:"0",margin:"0"}}),n.createElement(d.Ejs,{flexDirection:"column",gap:"6px"},Vm.map((t=>n.createElement(d.Ejs,{key:t,alignItems:"center",gap:"9px"},Wm||(Wm=n.createElement(d.nQG,{size:8})),n.createElement(d.nvN,{color:d.O9T.grey00,size:"x-small"},e(t)))))))};var qm,Ym,Qm;const $m=({plan:e,handleSelectClick:t,selected:a})=>{const{translate:i}=(0,P.Z)();return n.createElement(d.Ejs,{flexDirection:"column",sx:{height:"480px",display:"flex",flexDirection:"column",borderRadius:"4px",border:`1px solid ${e.currentPlan?"transparent":Ue.O9.lightTheme.ds.border.neutral.quiet.idle}`,flexGrow:"1",flexShrink:0,width:"188px",backgroundColor:e.currentPlan?Ue.O9.lightTheme.ds.container.expressive.neutral.supershy.hover:null,padding:"16px",gap:"24px"}},n.createElement(d.Ejs,{flexDirection:"column",gap:"16px"},n.createElement(d.Ejs,{alignItems:"center",justifyContent:"space-between"},n.createElement(d.nvN,{bold:!0,size:"medium"},i(e.heading.key)),e.currentPlan?n.createElement(d.Ejs,{sx:{border:`1px solid ${Ue.O9.lightTheme.ds.border.neutral.quiet.idle}`,backgroundColor:Ue.O9.lightTheme.ds.container.expressive.neutral.supershy.hover,padding:"2px",lineHeight:"10px",width:"89px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px"}},n.createElement(d.j49,{color:Ue.O9.lightTheme.ds.text.neutral.standard,size:"small"},i("team_account_teamplan_changeplan_plans_plan_current"))):null,e.recommended?n.createElement(d.Ejs,{sx:{border:`1px solid ${Ue.O9.lightTheme.ds.container.expressive.brand.catchy.idle}`,backgroundColor:Ue.O9.lightTheme.ds.container.expressive.brand.catchy.idle,padding:"2px",lineHeight:"10px",width:"89px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px"}},n.createElement(d.j49,{color:Ue.O9.lightTheme.ds.text.inverse.catchy,size:"small"},i("team_account_teamplan_changeplan_plans_plan_recommended"))):null),n.createElement(d.Ejs,{flexDirection:"column"},e.price?n.createElement(d.X6q,{as:"p",size:"large"},e.price):n.createElement(d.HoD,{size:44,color:Ue.O9.lightTheme.ds.text.neutral.standard}),n.createElement(d.Ejs,{flexDirection:"column",sx:{height:"48px"}},n.createElement(d.nvN,{size:"x-small",color:Ue.O9.lightTheme.ds.text.neutral.quiet},i(e.priceDescription1.key,e.priceDescription1.variables)),n.createElement(d.nvN,{size:"x-small",color:Ue.O9.lightTheme.ds.text.neutral.quiet},i(e.priceDescription2.key,e.priceDescription2.variables))))),a?n.createElement(Ue.zx,{disabled:!0,mood:"brand",size:"small",type:"button",fullsize:!0,icon:qm||(qm=n.createElement(d.nQG,null))},i("team_account_teamplan_changeplan_plans_selected")):t?n.createElement(Ue.zx,{mood:"brand",size:"small",onClick:t,fullsize:!0,"data-testid":`btn-${e.planName}-select`},i("team_account_teamplan_changeplan_plans_select")):n.createElement("div",{style:{height:"32px",width:"100%"}}),n.createElement(d.Ejs,{flexDirection:"column",gap:"6px"},e.features.map((({key:t,icon:a,variables:s,loading:r})=>n.createElement(d.Ejs,{key:t,sx:{display:"flex",alignItems:"center",gap:"9px",flexWrap:"nowrap",strong:{color:e.currentPlan?null:Ue.O9.lightTheme.ds.text.neutral.catchy}}},n.createElement(d.k$b,{sx:{width:"10px"}},"check"===a?Ym||(Ym=n.createElement(d.nQG,{size:14})):"add"===a?Qm||(Qm=n.createElement(d.dtP,{size:12})):null),r?n.createElement(d.k$b,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:"1"}},n.createElement(d.HoD,{size:32,color:Ue.O9.lightTheme.ds.text.neutral.catchy})):n.createElement(d.nvN,{color:Ue.O9.lightTheme.ds.text.neutral.quiet,size:"x-small"},t.includes("markup")?i.markup(t,s):i(t,s)))))),e.footer?n.createElement(d.Ejs,{alignItems:"center",gap:"9px",sx:{paddingLeft:"20px"}},n.createElement(d.nvN,{color:Ue.O9.lightTheme.ds.text.neutral.quiet,size:"x-small"},e.footer.key.includes("markup")?i.markup(e.footer.key):i(e.footer.key))):null)};var Km,Xm;const Jm=({selectedOffer:e,handleSelection:t,teamOffers:a})=>{const{translate:i}=(0,P.Z)(),s=(0,_m.Y)(),r=s.status!==W.rq.Success||!s.data,o=s.status===W.rq.Success&&"2022_team_starter_tier"===s.data.planName,l=(e=>{const{translate:t}=(0,P.Z)(),a=e?.businessOffer?.currency,n=e?.businessOffer?zm({offer:e.businessOffer}):null,i=e?.teamOffer?zm({offer:e.teamOffer}):null,s=e?.starterOffer?zm({offer:e.starterOffer}):null,r=Rm(e?.starterOffer),o=e?.starterOffer&&s?r*s:0;return{starter:{currentPlan:!0,planName:"starter",price:s&&a?t.price(a,s/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_starter_name"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_monthly_at",variables:{numberSeats:r,monthlyPrice:s&&a?t.price(a,o/100,{notation:"compact"}):null}},features:[{key:"team_account_teamplan_changeplan_plans_seats_flat_rate_markup",icon:"check",loading:!s,variables:{numberSeats:r,monthlyPrice:s&&a?t.price(a,o/100,{notation:"compact"}):null}},{icon:"check",key:"team_account_teamplan_changeplan_plans_unlimited_passwords"},{icon:"check",key:"team_account_teamplan_changeplan_plans_secure_sharing"},{icon:"check",key:"team_account_teamplan_changeplan_plans_business_and_personal_spaces"},{icon:"check",key:"team_account_teamplan_changeplan_plans_audit_logs"},{icon:"check",key:"team_account_teamplan_changeplan_plans_dark_web_insights"}],footer:{key:"team_account_teamplan_changeplan_plans_starter_footer_markup"}},team:{recommended:!0,planName:"team",price:i&&a?t.price(a,i/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_name_V2"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_anually"},features:[{key:"team_account_teamplan_changeplan_plans_everything_in_starter_markup",icon:"check"},{key:"team_account_teamplan_changeplan_plans_unlimited_seats",icon:"add"},{key:"team_account_teamplan_changeplan_plans_vpn_for_wifi_protection",icon:"add"}]},business:{planName:"business",price:n&&a?t.price(a,n/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_business_name_V2"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_anually"},features:[{key:"team_account_teamplan_changeplan_plans_everything_in_team_markup",icon:"check"},{icon:"add",key:"team_account_teamplan_changeplan_plans_sso_integration"},{icon:"add",key:"team_account_teamplan_changeplan_plans_scim_provisioning"},{icon:"add",key:"team_account_teamplan_changeplan_plans_free_friends_family_plan"},{icon:"add",key:"team_account_teamplan_changeplan_plans_phone_support"}]}}})(a),{businessOffer:c,teamOffer:u}=null!=a?a:{};return n.createElement(Om,{title:i("team_account_teamplan_changeplan_plans")},r?Km||(Km=n.createElement(d.Ejs,{alignItems:"center",justifyContent:"center"},n.createElement(d.HoD,{size:30,color:"black"}))):o?n.createElement(d.Ejs,{sx:{height:"100%",display:"flex",gap:"16px",paddingTop:"8px"}},n.createElement($m,{plan:l.starter}),n.createElement($m,{plan:l.team,handleSelectClick:u?()=>t(u):void 0,selected:!!u&&e?.name===u?.name}),n.createElement($m,{plan:l.business,handleSelectClick:c?()=>t(c):void 0,selected:!!c&&e?.name===c?.name})):n.createElement(d.Ejs,{alignItems:"center"},Xm||(Xm=n.createElement(Hm,null)),n.createElement(d.Ejs,{sx:{display:"flex",flexGrow:"1"}},n.createElement(Gm,{businessOffer:c,selected:!!c&&e?.name===c?.name,handleSelectClick:c?()=>t(c):void 0}))))};var ep=a(671833);const tp=()=>n.createElement("hr",{style:{width:"100%",borderTop:`1px solid ${d.O9T.grey02}`,borderBottom:"0",margin:"0"}}),ap=({label:e,value:t})=>(0,D.tZ)(d.Ejs,{justifyContent:"flex-end",sx:{display:"flex",justifyContent:"flexEnd",padding:"0 10px"}},e?(0,D.tZ)(d.k$b,{flex:"1",sx:{display:"flex",alignItems:"center"}},e):null,t?(0,D.tZ)(d.k$b,{sx:{display:"flex",alignItems:"center"}},t):null);var np=a(863269);const ip=()=>{const e=(0,np.Z)(),t=e.status!==W.rq.Success||!e.data,a=e?.status===W.rq.Success?e?.data?.b2bSubscription?.billingInformation:null,n=a?.country;return{loading:t,billingCountry:n}};var sp;const rp=({currency:e,costData:t,isProratedDiscountLoading:a,isTaxLoading:i,selectedOffer:s,setAdditionalSeats:r})=>{const{translate:o}=(0,P.Z)(),l=(0,Be.w)("monetization_avalara_b2b_change_tier_mid_cycle"),{loading:c,billingCountry:u}=ip();if(c)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const m="US"===u?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat";return(0,D.tZ)(n.Fragment,null,s&&e?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(ap,{label:(0,D.tZ)(d.nvN,{bold:!0,size:"medium"},o("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})),value:(0,D.tZ)(d.k$b,{sx:{width:"146px"}},(0,D.tZ)(ep.w,{id:"test",inputWidth:"66px",label:"",minValue:0,onChange:r,defaultValue:0}))}),(0,D.tZ)(ap,{label:(0,D.tZ)(d.nvN,{bold:!0,size:"small"},o("team_account_teamplan_changeplan_order_summary_seats_upgraded",{upgradedSeats:t.currentSeats})),value:(0,D.tZ)(d.nvN,{bold:!0,size:"small"},o.price(e,t.upgradedSeatsPrice/100))}),t.additionalSeats?(0,D.tZ)(ap,{label:(0,D.tZ)(d.nvN,{bold:!0,size:"small"},o("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:t.additionalSeats})),value:(0,D.tZ)(d.nvN,{bold:!0,size:"small"},o.price(e,t.additionalSeatsPrice/100))}):null,sp||(sp=(0,D.tZ)(tp,null)),(0,D.tZ)(ap,{label:(0,D.tZ)(d.nvN,{bold:!0,size:"small"},o("team_account_teamplan_changeplan_order_summary_subtotal")),value:e?(0,D.tZ)(d.nvN,{bold:!0,size:"small"},o.price(e,t.subtotal/100)):null}),t?.proratedDiscount?(0,D.tZ)(ap,{label:(0,D.tZ)(d.Ejs,{alignItems:"center",gap:"5px"},(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},o("team_account_teamplan_changeplan_order_summary_prorated_discount")),(0,D.tZ)(d.ua7,{content:o("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},(0,D.tZ)(d.uMt,{size:16,color:d.O9T.grey00}))),value:a?(0,D.tZ)(d.HoD,{color:d.O9T.black,size:13}):t.proratedDiscount&&e?(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},o.price(e,t.proratedDiscount/100)):null}):null,t.tax&&l?(0,D.tZ)(ap,{label:(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},o(m)),value:i?(0,D.tZ)(d.HoD,{color:d.O9T.black,size:13}):(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},o.price(e,t.tax/100))}):null):null)};var op;const lp=({onDismiss:e,value:t,buttonProps:a})=>(0,D.tZ)(d.Ejs,{alignItems:"center",gap:"6px"},(0,D.tZ)(d.Ejs,{sx:{backgroundColor:d.O9T.midGreen05,padding:"4px 8px",borderRadius:"4px"}},"string"==typeof t?(0,D.tZ)(d.nvN,{size:"x-small"},t):{value:t}),e?(0,D.tZ)(d.zxk,{size:"small",type:"button",nature:"ghost",onClick:e,sx:{padding:0,minWidth:0},...a},op||(op=(0,D.tZ)(d.Two,{size:18}))):null);var cp,dp;const up=({currency:e,promoPrice:t,promoCode:a,hasError:n,isLoading:i,showInput:s,setShowInput:r,onSubmit:o,onCancel:l,onChange:c,onClear:u})=>{const{translate:m}=(0,P.Z)();return s?(0,D.tZ)(d.Ejs,{gap:"6px",fullWidth:!0,sx:{padding:"0 10px"}},(0,D.tZ)(d.k$b,{flex:"1"},(0,D.tZ)(d.oil,{fullWidth:!0,value:a,placeholder:m("team_account_teamplan_changeplan_order_summary_promo_code_cta"),feedbackText:n?m("team_account_teamplan_changeplan_order_summary_promo_code_error"):null,feedbackType:n?"error":void 0,onChange:c?e=>c(e?.target?.value):void 0})),(0,D.tZ)(d.zxk,{disabled:i,"data-testid":"promo_code_button_submit",type:"button",nature:"secondary",onClick:async()=>{o&&await o()}},i?(0,D.tZ)(d.HoD,{size:20,color:d.O9T.black}):cp||(cp=(0,D.tZ)(d.nQG,{size:20}))),(0,D.tZ)(d.zxk,{"data-testid":"promo_code_button_cancel",type:"button",nature:"ghost",onClick:()=>{l&&l()}},dp||(dp=(0,D.tZ)(d.Two,{size:20})))):a?(0,D.tZ)(d.Ejs,{gap:"4px",fullWidth:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"0 10px"}},(0,D.tZ)(d.Ejs,{sx:{display:"flex",alignItems:"center",gap:"4px"}},(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.black},m("team_account_teamplan_changeplan_order_summary_promo_code")),(0,D.tZ)(lp,{value:a,onDismiss:u,buttonProps:{"data-testid":"promo_code_button_clear"}})),(0,D.tZ)(d.k$b,null,t&&e?(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.black},m.price(e,(e=>e?-e/100:0)(t))):null)):(0,D.tZ)(d.Ejs,{sx:{padding:"0 10px"}},(0,D.tZ)(d.zxk,{"data-testid":"promo_code_button_enter",size:"small",type:"button",nature:"ghost",onClick:()=>r?r(!0):null,sx:{margin:0,padding:0,minWidth:0},"aria-label":m("team_account_teamplan_changeplan_order_summary_promo_code_cta")},(0,D.tZ)(d.rUS,null,(0,D.tZ)(d.nvN,{size:"x-small",color:d.O9T.midGreen00},m("team_account_teamplan_changeplan_order_summary_promo_code_cta")))))};function mp({total:e,onError:t}){const[a,i]=(0,n.useState)(),[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)();return e&&e!==a&&(i(e),r(!0),(async()=>{if(e){const a=await u.C.getExpectedTaxInformation({priceInCents:e});if(r(!1),!a.success)return void(t&&t());l((()=>a.data))}})()),{isLoading:s,expectedTaxInformation:o}}var pp=a(241185);const _p=({selectedOffer:e,hasPromo:t,currentSeats:a,additionalSeats:n,planChangeStep:i})=>{const s=(0,_m.Y)(),r=s.status===W.rq.Success&&"2022_team_starter_tier"===s.data.planName?c.B2bPlanTier.StarterTeam:c.B2bPlanTier.Team;return{logChangePlanEvent:s=>{const o=s||e,l=o?Pm(o)?c.B2bPlanTier.Business:c.B2bPlanTier.Team:r;(0,v.K)(new c.UserChangeTeamPlanTierEvent({currentBillingPlanTier:r,currentPlanPaidSeatsCount:a,hasPromo:t,nextBillingPlanTier:l,planChangeStep:i,seatAddedCount:n}))}}},gp={display:"flex",alignItems:"center",padding:"12px 10px",justifyContent:"space-between",backgroundColor:d.O9T.dashGreen06},hp=({selectedOffer:e,currency:t,costData:a})=>{const{translate:n}=(0,P.Z)();return e&&t?(0,D.tZ)("div",{sx:gp,"data-testid":"order-summary-plan-name"},(0,D.tZ)(d.nvN,{bold:!0,color:d.O9T.dashGreen01},Pm(e)?n("team_account_teamplan_changeplan_plans_business_name"):n("team_account_teamplan_changeplan_plans_team_name")),(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen01},n("team_account_teamplan_changeplan_order_summary_seat_year",{cost:n.price(t,a.seatPrice/100,{notation:"compact"})}))):(0,D.tZ)("div",{sx:gp},(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen01},n("team_account_teamplan_changeplan_order_summary_select_plan")))};var bp=a(694435);const yp=({selectedOffer:e,costData:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,e?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(ap,{label:(0,D.tZ)(d.Ejs,{gap:"5px"},(0,D.tZ)(d.nvN,{bold:!0,size:"medium"},a("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})),(0,D.tZ)(d.nvN,{bold:!0,size:"medium"},"(",a("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:t.additionalSeats}),")"))}),(0,D.tZ)(d.vDh,{severity:"subtle",size:"small",title:a("team_account_teamplan_changeplan_order_summary_invoice_info")})):null,(0,D.tZ)(d.zxk,{"data-testid":"btn-request-a-quote",size:"large",sx:{width:"100%"},type:"button",disabled:!e,onClick:()=>{window.open(bp.vS,"_blank")}},a("team_account_teamplan_changeplan_order_summary_request_an_upgrade")))},Cp=({selectedOffer:e,currency:t,costData:a})=>{const{translate:n}=(0,P.Z)(),i=(0,Be.w)("monetization_avalara_b2b_change_tier_mid_cycle"),{isLoading:s,expectedTaxInformation:r}=mp({total:a.renewalPrice}),{loading:o,billingCountry:l}=ip();if(o)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const u="US"===l?"team_account_teamplan_changeplan_order_summary_footer_renewal":"team_account_teamplan_changeplan_order_summary_renewal_vat",m=!s&&void 0!==r?.expectedTaxesInCents&&r?.expectedTaxesInCents>0,p=m&&r?.expectedTaxesInCents?a.renewalPrice+r.expectedTaxesInCents:void 0,_=m&&i?u:"team_account_teamplan_changeplan_order_summary_footer_header",g=m&&i?p:a.renewalPrice;return(0,D.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:"12px",padding:"16px",backgroundColor:d.O9T.grey06}},e&&t&&g?(0,D.tZ)(d.nvN,{bold:!0,size:"small",color:d.O9T.grey00},n(_,{price:n.price(t,g/100),date:n.shortDate(a.renewalDate,Ze.qG.ll)})):null,(0,D.tZ)(d.nvN,{size:"x-small",color:d.O9T.grey00},n.markup("team_account_teamplan_changeplan_order_summary_footer_markup",{privacyPolicyUrl:bp.Bz,termsUrl:bp.sz},{linkTarget:"_blank",onLinkClicked:e=>{e===bp.Bz?(0,v.K)(new c.UserCallToActionEvent({callToActionList:[c.CallToAction.PrivacyPolicy],chosenAction:c.CallToAction.PrivacyPolicy,hasChosenNoAction:!1})):e===bp.sz&&(0,v.K)(new c.UserCallToActionEvent({callToActionList:[c.CallToAction.TermsOfService],chosenAction:c.CallToAction.TermsOfService,hasChosenNoAction:!1}))}})))};var wp,Ep,vp=a(25576);const Np=({currency:e,currentSeats:t,additionalSeats:a,selectedOffer:i,email:s,emailValid:r,onSuccess:o,onError:l,setAdditionalSeats:m,setOrderSummaryData:p})=>{const{translate:_}=(0,P.Z)(),g=(0,_m.Y)(),h=g.status===W.rq.Success&&g.data?.planType===vp.PlanType.Invoice,{promoCode:b,currentPromoCode:y,showInput:C,isLoading:w,setShowInput:E,setCurrentPromoCode:v,validatePromoCode:N,clearPromoCode:S,cancelPromoCode:I,hasError:f,teamOffers:x}=function({selectedOffer:e,currentSeats:t,additionalSeats:a}){const[i,s]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(),[d,m]=(0,n.useState)(!1),[p,_]=(0,n.useState)(!1),[g,h]=(0,n.useState)(!1),[b,y]=(0,n.useState)(a),[C,w]=(0,n.useState)(e),E=(0,n.useCallback)((async()=>{if(!r)return!1;h(!0);const n=await u.C.getTeamOffers({couponCode:r});if(!n.success)return h(!1),m(!0),_(!0),!1;const i=Lm({offer:n.data.businessOffer,currentSeats:t,additionalSeats:a}),o=i.price!==i.equivalentPrice,l=Lm({offer:n.data.teamOffer,currentSeats:t,additionalSeats:a}),d=l.price!==l.equivalentPrice;return(e&&Pm(e)?o:d)?(h(!1),s(r),c((()=>n.data)),m(!1),_(!1),!0):(h(!1),m(!0),_(!0),!1)}),[t,a,r,e]);return(0,n.useEffect)((()=>{a!==b&&(y(a),E())}),[b,a,E]),(0,n.useEffect)((()=>{e?.name!==C?.name&&(w(e),E())}),[e,C,E]),{promoCode:i,currentPromoCode:r,setCurrentPromoCode:o,validatePromoCode:E,clearPromoCode:()=>{s(""),o(""),c(void 0),m(!1)},cancelPromoCode:()=>{d?(s(""),o("")):o(i),m(!1),_(!1)},showInput:p,setShowInput:_,hasError:d,teamOffers:l,isLoading:g,setIsLoading:h}}({selectedOffer:i,additionalSeats:a,currentSeats:t}),{isSaving:M,costData:T,changeTierMidCycle:Z,isTaxLoading:A,isProratedDiscountLoading:k}=function({selectedOffer:e,currentSeats:t,additionalSeats:a,discountedTeamOffers:i,promoCode:s,email:r,onSuccess:o,onError:l}){var c,d;const[m,p]=n.useState(!1),_=(0,Be.w)("monetization_avalara_b2b_change_tier_mid_cycle"),g=!!e&&Pm(e),h=!!e&&(e=>"2020_team_tier"===e.name)(e),b=i&&e?g?i.businessOffer:h?i.teamOffer:i.starterOffer:e,{isLoading:y,midCycleTierUpgradePrice:C}=function({seats:e,planName:t,onError:a}){const[i,s]=(0,n.useState)(0),[r,o]=(0,n.useState)(),[l,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)();return(e!==i||t&&t!==r)&&(s(e),o(t),c(!0),(async()=>{if(void 0!==e&&t){const n=await u.C.getMidCycleTierUpgradePrice({numberOfSeats:e,newPlan:t});if(c(!1),!n.success)return void(a&&a());m((()=>n.data))}})()),{isLoading:l,midCycleTierUpgradePrice:d}}({seats:a,planName:b?.name}),w=b?Lm({offer:b,currentSeats:t,additionalSeats:a}):null,E=null!=(c=w?.equivalentPrice)?c:0,v=null!=(d=w?.price)?d:0,N=t+a,S=a*E,I=t*E,f=N*E,x=f-(v?N*v:f),M=C?.discountAmount?f+C?.discountAmount:void 0,T=(0,pp.Z)(new Date,1),{isLoading:D,expectedTaxInformation:Z}=mp({total:M}),A=_&&!D&&void 0!==Z?.expectedTaxesInCents?Z.expectedTaxesInCents:0,k=!D&&void 0!==Z?.expectedTaxesInCents&&M?M+A-x:void 0;return{isSaving:m,changeTierMidCycle:async e=>{if(!(M&&Z&&b))return void l();p((()=>!0));const t=await u.C.changeTierMidCycle({amountToPay:M,taxes:A,planId:b.name,couponCode:e||s,seatsToAdd:a,billingContactEmail:""!==r?r:void 0});p((()=>!1)),t.success?o():l()},isProratedDiscountLoading:y,isTaxLoading:D,costData:{seatPrice:E,additionalSeats:a,currentSeats:t,totalSeats:N,upgradedSeatsPrice:I,additionalSeatsPrice:S,subtotal:f,proratedDiscount:C?.discountAmount,tax:A,pretaxTotal:M,promoPrice:x,total:k,renewalPrice:f,renewalDate:T}}}({selectedOffer:i,discountedTeamOffers:x,currentSeats:t,additionalSeats:a,promoCode:b,email:s,onSuccess:o,onError:l}),{logChangePlanEvent:O}=_p({selectedOffer:i,hasPromo:!!b,currentSeats:t,additionalSeats:a,planChangeStep:c.PlanChangeStep.ConfirmAndPayCta});return(0,D.tZ)(Om,{title:_("team_account_teamplan_changeplan_order_summary_header")},(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"}},(0,D.tZ)(hp,{selectedOffer:i,currency:e,costData:T}),h?(0,D.tZ)(yp,{selectedOffer:i,costData:T}):(0,D.tZ)(n.Fragment,null,(0,D.tZ)(rp,{currency:e,costData:T,isProratedDiscountLoading:k,isTaxLoading:A,selectedOffer:i,setAdditionalSeats:m}),i&&e?(0,D.tZ)(up,{currency:e,promoCode:y,promoPrice:T?.promoPrice,hasError:f,showInput:C,isLoading:w,setShowInput:E,onSubmit:N,onChange:v,onCancel:I,onClear:S}):null,wp||(wp=(0,D.tZ)(tp,null)),(0,D.tZ)(ap,{label:(0,D.tZ)(d.nvN,{bold:!0,size:"large"},_("team_account_teamplan_changeplan_order_summary_due_today_V2")),value:!e||A||k?(0,D.tZ)(d.HoD,{size:23,color:d.O9T.black}):i?T.total?(0,D.tZ)(d.nvN,{bold:!0,size:"large"},_.price(e,T.total/100)):null:(0,D.tZ)(d.nvN,{bold:!0,size:"large"},`${_.priceSymbol(e)}--.--`)}),M?(0,D.tZ)(d.zxk,{size:"large",sx:{width:"100%"},type:"button",disabled:!0},Ep||(Ep=(0,D.tZ)(d.HoD,null))):(0,D.tZ)(d.zxk,{"data-testid":"btn-confirm-and-pay",size:"large",sx:{width:"100%"},type:"button",disabled:!i||!r||w,onClick:async()=>{(!f&&b===y||await N())&&(O(),Z(y),p(T))}},_("team_account_teamplan_changeplan_order_summary_confirm_and_pay"))),(0,D.tZ)(Cp,{selectedOffer:i,currency:e,costData:T})))};var Sp;const Ip=({email:e,emailValid:t,setEmail:a,setEmailValid:i})=>{const{translate:s}=(0,P.Z)(),r=(0,Hi.G)(),[o,l]=n.useState(!1);return r?.email?n.createElement(Om,{title:s("team_account_teamplan_changeplan_billing_contact_header")},Sp||(Sp=n.createElement("br",null)),n.createElement(d.nvN,{size:"medium",color:d.O9T.grey00},s.markup("team_account_teamplan_changeplan_billing_contact_copy_markup",{billContactEmail:r.email})),n.createElement("div",{style:{margin:"20px 0px"}},n.createElement(d.XZJ,{"data-testid":"additionalEmailCheckbox",label:s("team_account_teamplan_changeplan_billing_contact_checkbox_label"),checked:o,onChange:e=>{a(""),i(!0),l(e.currentTarget.checked)}})),o?n.createElement(d.oil,{"data-testid":"additionalEmailInput",type:"text",onChange:e=>a(e.currentTarget.value),onBlur:e=>(e=>{(0,ns.vV)(e.currentTarget.value)?i(!0):i(!1)})(e),value:e,feedbackType:t?void 0:"error",feedbackText:t?"":s("team_account_teamplan_changeplan_billing_contact_input_warning"),autoFocus:!0}):null):null},fp=()=>{const{translate:e}=(0,P.Z)();return n.createElement(Om,{title:n.createElement(d.nvN,{bold:!0,size:"large"},e("team_account_teamplan_changeplan_questions_header"))},n.createElement(d.nvN,{color:d.O9T.grey00,size:"small",style:{marginBottom:"10px"}},e.markup("team_account_teamplan_changeplan_questions_help_center_markup",{helpCenterUrl:bp.Vr},{linkTarget:"_blank",onLinkClicked:()=>{(0,v.K)(new c.UserOpenHelpCenterEvent({helpCenterArticleCta:c.HelpCenterArticleCta.HelpCenter}))}})),n.createElement(d.nvN,{size:"small",color:d.O9T.grey00},e.markup("team_account_teamplan_changeplan_questions_customer_support_markup",{customerSupportUrl:bp.to},{linkTarget:"_blank",onLinkClicked:()=>{(0,v.K)(new c.UserCallToActionEvent({callToActionList:[c.CallToAction.ContactCustomerSupport],chosenAction:c.CallToAction.ContactCustomerSupport,hasChosenNoAction:!1}))}})))};var xp,Mp,Tp,Dp,Zp,Ap;const kp=({targetPlan:e})=>{const{translate:t}=(0,P.Z)(),{data:a}=(({targetPlan:e})=>{const{routes:t}=(0,i.Xo)(),a={DIRECTORY_SYNC:`${t.teamSettingsRoutePath}${s.B9.DIRECTORY_SYNC}`,POLICIES:`${t.teamSettingsRoutePath}${s.B9.POLICIES}`,SSO:`${t.teamSettingsRoutePath}${s.B9.SSO}`};return{data:{team:{header:"team_account_teamplan_changeplan_success_team_header",description:"team_account_teamplan_changeplan_success_team_description",alert:"team_account_teamplan_changeplan_success_team_alert",features:[{header:"team_account_teamplan_changeplan_success_features_vpn_header",description:"team_account_teamplan_changeplan_success_features_vpn_description",icon:xp||(xp=n.createElement(d.Qut,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_turn_on_vpn_access",link:a.POLICIES},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360000037900#title1"}]},{header:"team_account_teamplan_changeplan_success_features_protection_header",description:"team_account_teamplan_changeplan_success_features_protection_description",icon:Mp||(Mp=n.createElement(d.c6E,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_add_seats",link:`${t.teamAccountRoutePath}?showSeatsDialog=true`}]}]},business:{header:"team_account_teamplan_changeplan_success_business_header",description:"team_account_teamplan_changeplan_success_business_description",alert:"team_account_teamplan_changeplan_success_business_alert",features:[{header:"team_account_teamplan_changeplan_success_sso_header",description:"team_account_teamplan_changeplan_success_sso_copy",icon:Tp||(Tp=n.createElement(d.oEX,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_start_setup",link:a.SSO},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360015973719-Set-up-SSO-and-SCIM-with-Azure-AD"}]},{header:"team_account_teamplan_changeplan_success_features_scim_header",description:"team_account_teamplan_changeplan_success_features_scim_description",icon:Dp||(Dp=n.createElement(d.kpp,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_start_setup",link:a.DIRECTORY_SYNC},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360015973719#h_01FTXPSRCV3CY1QVY1B5S5TD0J"}]},{header:"team_account_teamplan_changeplan_success_features_friends_and_family_header",description:"team_account_teamplan_changeplan_success_features_friends_and_family_description",icon:Zp||(Zp=n.createElement(d.c6E,{size:24})),actions:[{external:!0,mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_learn_more",link:"https://www.dashlane.com/plans/family"}]},{header:"team_account_teamplan_changeplan_success_features_phone_support_header",description:"team_account_teamplan_changeplan_success_features_phone_support_description",icon:Ap||(Ap=n.createElement(d.qWc,{size:24})),actions:[{external:!0,mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_schedule_a_call",link:"https://calendly.com/dashlane-support/call_back_form",logEvent:new c.UserCallToActionEvent({callToActionList:[c.CallToAction.ContactPhoneSupport],chosenAction:c.CallToAction.ContactPhoneSupport,hasChosenNoAction:!1})}]}]}}[e]}})({targetPlan:e}),{alert:r,show:o}=(0,d.VYq)({message:t(a.alert),severity:d.BLW.SUCCESS,size:d.k3y.SMALL,dismissDelay:5e3});return n.useEffect((()=>{o()}),[]),n.createElement(n.Fragment,null,n.createElement("div",{style:{bottom:"12px",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,width:"600px"}},r),n.createElement(Om,{title:t(a.header),sx:{width:"632px",padding:"32px"}},n.createElement("div",{style:{marginTop:"8px"}},n.createElement(d.nvN,{size:"medium",color:Ue.O9.lightTheme.ds.text.neutral.quiet},t(a.description))),n.createElement(d.Ejs,{sx:{marginTop:"32px",display:"flex",flexDirection:"column",borderBottom:`1px solid ${Ue.O9.lightTheme.ds.border.neutral.quiet.idle}`}},a.features.map((e=>n.createElement(d.Ejs,{key:e.header,flexDirection:"column",sx:{display:"flex",flexDirection:"column",borderTop:`1px solid ${Ue.O9.lightTheme.ds.border.neutral.quiet.idle}`,padding:"32px 0"}},n.createElement(d.Ejs,{flexDirection:"row",gap:"16px",flexWrap:"nowrap"},n.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"40px",height:"40px",borderRadius:"8px",backgroundColor:Ue.O9.lightTheme.ds.container.expressive.brand.quiet.idle}},e.icon),n.createElement(d.Ejs,{flexDirection:"column",gap:"8px"},n.createElement(d.nvN,{bold:!0,color:Ue.O9.lightTheme.ds.text.neutral.catchy},t(e.header)),n.createElement(d.nvN,{size:"x-small",color:Ue.O9.lightTheme.ds.text.neutral.quiet},t(e.description)),n.createElement(d.Ejs,{gap:"8px"},e.actions.map((e=>e.external?n.createElement("a",{href:e.link,key:e.content,target:"_blank",rel:"noreferrer"},n.createElement(Ue.zx,{mood:e.mood,intensity:e.intensity,size:"small",type:"button",onClick:()=>{e.logEvent&&(0,v.K)(e.logEvent)}},t(e.content))):n.createElement(i.rU,{to:e.link,key:e.content},n.createElement(Ue.zx,{mood:e.mood,intensity:e.intensity,size:"small",type:"button"},t(e.content))))))))))))))};var Op=a(419142);let Lp,zp;!function(e){e.FREE="free",e.BUSINESS="business",e.TEAM="team"}(Lp||(Lp={})),function(e){e.FORM="form",e.SUCCESS="success"}(zp||(zp={}));const jp=()=>{const{translate:e}=(0,P.Z)();return n.createElement(Om,{title:e("team_account_teamplan_changeplan_payment_method_header")},n.createElement(d.Ejs,{sx:{display:"flex",gap:"6px",marginTop:"16px"}},n.createElement(d.UXA,{size:16,color:d.O9T.grey00}),n.createElement(d.nvN,{size:"medium",color:d.O9T.grey00},e("team_account_teamplan_changeplan_payment_method_invoice_body"))))};var Pp=a(473223);const Rp=(e,t,a)=>{const n=(0,j.pF)(t),i=new c.UserCancelPlanEvent({cancelPlanStep:e,plan:(0,j.YD)(t),planBillingPeriod:n,surveyAnswer:a});(0,v.K)(i)},Up=e=>{(0,v.K)(new c.UserOpenPricingPageEvent({callToAction:e}))},Bp=e=>{const t=(0,j.pF)(e),a=new c.UserRestartPlanEvent({plan:(0,j.YD)(e),planBillingPeriod:t});(0,v.K)(a)},Fp=e=>{const t=(0,j.pF)(e);(0,v.K)(new c.UserUpdatePaymentMethodEvent({flowStep:c.FlowStep.Start,plan:(0,j.YD)(e),planBillingPeriod:t}))};var Gp=a(803843),Wp=a(651615),Vp=a.n(Wp),Hp=a(352615),qp=a.n(Hp),Yp=a(802001),Qp=a.n(Yp),$p=a(864520),Kp=a.n($p);const Xp=({b2c:e,handleCardUpdate:t,pollInterval:a=2e3,timeoutAmount:i=6e5})=>{const[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)({}),c=(0,np.Z)(),d=c.status!==W.rq.Success||!c.data,m=c?.status===W.rq.Success&&c.data?c.data[e?"b2cSubscription":"b2bSubscription"]?.billingInformation:void 0,p=!(!m?.exp_year||!m?.exp_month)&&(0,Gp.Z)(new Date(m.exp_year,m.exp_month,0)),_=m?.last4?Number(m.last4).toLocaleString("en-US",{minimumIntegerDigits:4,useGrouping:!1}):void 0,g=m?.type?(e=>{switch(e){case"visa":return n.createElement(Vp(),{style:{borderRadius:"3px"}});case"mastercard":return n.createElement(qp(),{style:{borderRadius:"3px"}});case"american express":case"amex":return n.createElement(Qp(),{style:{borderRadius:"3px"}});case"discover":return n.createElement(Kp(),{style:{borderRadius:"3px"}});default:return null}})(m.type):void 0,h=m?.exp_year,b=m?.exp_month,y=h&&b?`${b}/${h.toString().substring(2)}`:"",[C,w]=(0,n.useState)(),E=(0,n.useCallback)((()=>{s&&r(!1),C&&clearTimeout(C)}),[s,C]);return(0,n.useEffect)((()=>E),[]),(0,n.useEffect)((()=>{if(s){const e=setInterval((()=>{u.C.refreshSubscriptionInformation()}),a);if(!C){const e=window.setTimeout(E,i);w(e)}return()=>clearInterval(e)}}),[a,s,E,i,C]),(0,n.useEffect)((()=>{if(s&&o&&(o.last4DigitsFormatted!==_||o.expFormatted!==y)&&(E(),t)){const e=!o.last4DigitsFormatted;t(e)}}),[s,_,y,o,o.expFormatted,o.last4DigitsFormatted,E,t]),{loading:d,billingInformation:m,hasCreditCardPaymentMethod:m&&!!m.last4,last4Digits:m?.last4,last4DigitsFormatted:_,cardSvg:g,isExpired:p,expYear:m?.exp_year,expMonth:m?.exp_month,expFormatted:y,pollUntilCardUpdate:()=>{r(!0),l({last4DigitsFormatted:_,expFormatted:y})}}},Jp="manage_subscription_payment_section_expired_stripe",e_=({b2b:e,hideTitle:t,hideUpdateButton:a,displayModifiedCreditCardView:i,styles:r})=>{var o,l;const{translate:c}=(0,P.Z)(),{loading:u,billingInformation:m,last4DigitsFormatted:p,cardSvg:_,isExpired:g,expFormatted:h,pollUntilCardUpdate:y}=Xp({b2c:!e}),C=(0,_m.Y)(),[w,E]=n.useState(!1);if(C.status!==W.rq.Success||!C.data||u)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const v=null!=(o=C.data?.planType?.includes("ios"))&&o,N=null!=(l=C.data?.planType?.includes("playstore"))&&l,S=v?"manage_subscription_payment_section_desc_apple":"manage_subscription_payment_section_desc_google",I=m?.last4||v||N,f=h?c("manage_subscription_payment_section_expiration_date",{date:h}):null;return(0,D.tZ)(d.Zbd,{sx:r},t?null:(0,D.tZ)(d.X6q,{size:"small"},c("manage_subscription_payment_section_title")),I?(0,D.tZ)("div",{sx:{marginTop:"20px"}},v||N?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,{color:d.O9T.grey00},c(S)),(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:()=>{(0,b.Yk)(v?s.XP:s.zF,{type:"checkout",action:"goToPayment"})},sx:{marginTop:"20px"}},c("manage_subscription_learn_more_button"),(0,D.tZ)(d.RTC,{color:d.O9T.dashGreen01,sx:{marginLeft:"8px"}}))):(0,D.tZ)(n.Fragment,null,i?(0,D.tZ)(d.Ejs,{sx:{marginBottom:"16px",alignItems:"center",color:"ds.text.neutral.standard"}},_,(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0},(0,D.tZ)("span",{sx:{marginLeft:"10px"}},"••••"),(0,D.tZ)("span",{"data-testid":"card-last-four",sx:{marginLeft:"3px"}},p)),g?(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.red00,sx:{margin:"4px 0 0 10px"}},c(Jp)):(0,D.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{margin:"4px 0 0 10px"}},f))):(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.Ejs,{sx:{marginBottom:"8px",alignItems:"center"}},_,(0,D.tZ)(d.nvN,{color:d.O9T.grey00},(0,D.tZ)("span",{sx:{marginLeft:"10px"}},"••••"),(0,D.tZ)("span",{"data-testid":"card-last-four",sx:{marginLeft:"3px"}},p))),g?(0,D.tZ)(d.nvN,{color:d.O9T.red00,sx:{marginBottom:"8px",fontSize:14}},c(Jp)):(0,D.tZ)(d.nvN,{color:d.O9T.grey00,sx:{marginBottom:"8px"}},f)),a?null:(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:()=>{y(),E(!0),Fp(C.data)}},w?(0,D.tZ)(Pp.J,{b2c:!0,setPaymentLoading:E}):c("manage_subscription_payment_section_update_details")))):(0,D.tZ)("div",{sx:{marginTop:"8px"}},(0,D.tZ)(d.nvN,{color:d.O9T.grey00},c("manage_subscription_payment_section_no_payment"))))};var t_;const a_=({currentSeats:e,teamOffers:t})=>{const{translate:a}=(0,P.Z)(),n=(0,_m.Y)(),i=n.status===W.rq.Success&&(0,j.f1)(n.data),s=n.status===W.rq.Success&&(0,j.pq)(n.data),r=n.status===W.rq.Success&&(0,j.NG)(n.data),o=t?.businessOffer?.currency,l=t?.businessOffer?jm({offer:t.businessOffer}):null,c=t?.teamOffer?jm({offer:t.teamOffer}):null,u=t?.starterOffer?jm({offer:t.starterOffer}):null,m=Rm(t?.starterOffer),p=i&&u&&o?a.price(o,u*m/100,{notation:"compact"}):s&&c&&o?a.price(o,c*e/100,{notation:"compact"}):r&&l&&o?a.price(o,l*e/100,{notation:"compact"}):null;return(0,D.tZ)(Om,{title:a("team_account_teamplan_changeplan_current_plan_header")},(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"}},(0,D.tZ)("div",{sx:{display:"flex",alignItems:"center",padding:"12px 10px",justifyContent:"space-between",backgroundColor:"ds.container.agnostic.neutral.quiet"}},(0,D.tZ)(d.nvN,{bold:!0,color:"ds.text.neutral.standard"},i?a("team_account_teamplan_changeplan_current_plan_starter"):s?a("manage_subscription_plan_name_dashlane_team"):r?a("manage_subscription_plan_name_dashlane_business"):t_||(t_=(0,D.tZ)(d.HoD,{size:30,color:"ds.text.neutral.standard"}))),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard"},p?a("team_account_teamplan_changeplan_current_plan_per_year",{cost:p}):null))))},n_=({children:e})=>n.createElement("header",{className:"header--XgLmMKYqmY"},e),i_=e=>{const{brand:t,children:a,header:i,sidenav:s,openVaultBtn:r}=e;return n.createElement("div",{className:"layoutContainer--ANrXV_kxQP"},i?n.createElement("div",{className:"headerArea--DED7mGARS1"},i):null,t?n.createElement("div",{className:"brandArea--xmaHCXx7eM"},t):null,s?n.createElement("div",{className:"sidenavArea--AZpP1u2Prq"},s):null,n.createElement("div",{className:"mainArea--KLQAp2amgL"},a),null!=r?r:null)},s_="text--SF6xWDSFRD",r_="error--Pyuel29pVU",o_=n.createContext(null),l_="NETWORK ERROR",c_=({globalReportError:e,children:t})=>{const[a,i]=n.useState([]),{translate:s}=(0,P.Z)(),r=e=>{a.find((t=>t.title===e.title&&t.message===e.message))||i((t=>[...t,e]))};return n.createElement(o_.Provider,{value:{queue:a,addAlertToQueue:r,popAlertFromQueue:()=>{i((e=>e.slice(1)))},reportTACError:(t,a)=>{t.message.toUpperCase()===l_&&r({title:s("_common_alert_network_error_title"),message:s("_common_alert_network_error_message")}),e(t,a)}}},t)},d_=()=>{const e=n.useContext(o_);if(!e)throw new Error("useAlertQueue must be called from within an AlertQueueProvider");return e},u_="team_feedback_dialog_button_ok",m_="team_feedback_dialog_error_markup",p_=e=>{const[t,a]=(0,n.useState)(!0),[i,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),l=(0,Be.w)("itadmin_tac_phonesupport"),{translate:u}=(0,P.Z)(),{reportTACError:m}=d_(),_=(0,n.useRef)();(0,n.useEffect)((()=>{(0,v.N)(c.PageView.TacAccountSendFeedback,c.BrowseComponent.Tac)}),[]);const g=()=>{(0,v.K)(new c.UserCallToActionEvent({hasChosenNoAction:!0})),e.onDismiss()};function h(e){const{value:t}=e.target;a(!t)}async function b(){s(!0),o(!1);try{var t;await(e.lee.apiMiddleware.feedback?.send({body:null!=(t=_.current?.value)?t:""})),(0,v.K)(new c.UserCallToActionEvent({callToActionList:[c.CallToAction.SendEmail],chosenAction:c.CallToAction.SendEmail,hasChosenNoAction:!1})),e.onFeedbackSent()}catch(e){var a,n;const t=new Error(null!=(a=null!=(n=e.message)?n:e)?a:"unknown error in _sendFeedback");m(t),s(!1),o(!0)}}return l?(0,D.tZ)(p.o,{isOpen:!0,onRequestClose:g,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:u(u_),primaryButtonOnClick:()=>b(),primaryButtonProps:{disabled:t||i}}),title:u("team_feedback_dialog_upd_title"),showCloseIcon:!0},(0,D.tZ)("div",{className:s_},u.markup("team_feedback_dialog_upd_text_markup",{},{linkTarget:"_blank"})),(0,D.tZ)(d.oil,{sx:{resize:"vertical",maxHeight:"300px"},fullWidth:!0,ref:_,multiline:!0,placeholder:u("team_feedback_dialog_upd_textarea_label"),onChange:h.bind(void 0)}),r?(0,D.tZ)("div",{className:r_},u.markup(m_)):null):(0,D.tZ)(p.o,{isOpen:!0,onRequestClose:g,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:u(u_),primaryButtonOnClick:()=>b(),primaryButtonProps:{disabled:t||i},secondaryButtonTitle:u("team_feedback_dialog_button_cancel"),secondaryButtonOnClick:g}),title:u("team_feedback_dialog_title")},(0,D.tZ)("div",{className:s_},u.markup("team_feedback_dialog_text_markup",{},{linkTarget:"_blank"})),(0,D.tZ)(d.oil,{sx:{resize:"vertical",maxHeight:"300px"},fullWidth:!0,ref:_,multiline:!0,placeholder:u("team_feedback_dialog_textarea_label"),onChange:h.bind(void 0)}),r?(0,D.tZ)("div",{className:r_},u.markup(m_)):null)},__=({onDismiss:e})=>{const{translate:t}=(0,P.Z)();return n.createElement("div",null,n.createElement(p.o,{isOpen:!0,onRequestClose:e,title:t("team_feedback_result_dialog_title")},n.createElement("div",{className:"container--qOtqKRdBaF"},n.createElement("h1",null,t("team_feedback_result_body_title")),n.createElement("p",{className:"text--chLJWXuATn"},t("team_feedback_result_body_text")))))};var g_;!function(e){e[e.FeedbackPopup=0]="FeedbackPopup",e[e.ResultPopup=1]="ResultPopup",e[e.Done=2]="Done"}(g_||(g_={}));const h_=({lee:e,onDismiss:t,onSend:a})=>{const[i,s]=(0,n.useState)(g_.FeedbackPopup);let r;const o=()=>{clearTimeout(r),s(g_.Done),a()};return(0,D.tZ)("div",null,i===g_.FeedbackPopup&&(0,D.tZ)(p_,{lee:e,onDismiss:t,onFeedbackSent:()=>{s(g_.ResultPopup),r=window.setTimeout((()=>{o()}),1e4)}}),i===g_.ResultPopup&&(0,D.tZ)(__,{onDismiss:o}))},b_=e=>{(0,v.N)(e,c.BrowseComponent.Tac)},y_=(e,t)=>{const a=[c.CallToAction.SendEmail];a.push(e?c.CallToAction.RequestCall:c.CallToAction.RequestUpgrade),(0,v.K)(new c.UserCallToActionEvent({callToActionList:a,chosenAction:t,hasChosenNoAction:!1}))};var C_,w_=a(257627);const E_=({onDismiss:e})=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(null),s=null===a;return(0,n.useEffect)((()=>{(async()=>{const e=await(0,w_.I)();i(e.capabilities.phoneSupport.enabled)})()}),[]),(0,n.useEffect)((()=>{a?b_(c.PageView.TacAccountContactSupportBusiness):!1===a&&b_(c.PageView.TacAccountContactSupportTeam)}),[a]),(0,D.tZ)(p.o,{isOpen:!0,onRequestClose:()=>{(0,v.K)(new c.UserCallToActionEvent({hasChosenNoAction:!0})),e()},footer:s?null:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:t("team_contact_support_dialog_button_message"),primaryButtonOnClick:()=>{(0,b.Yo)(bp.hc),(e=>{y_(e,c.CallToAction.SendEmail)})(Boolean(a)),e()},secondaryButtonTitle:t(a?"team_contact_support_dialog_button_call":"team_contact_support_dialog_button_upgrade"),secondaryButtonOnClick:()=>{a?((e=>{y_(e,c.CallToAction.RequestCall)})(a),(0,b.Yo)(bp.Y8)):((e=>{y_(e,c.CallToAction.RequestUpgrade)})(Boolean(a)),(0,b.Yo)(bp.tB)),e()}}),showCloseIcon:!0,title:t("team_contact_support_dialog_title")},(0,D.tZ)(d.nvN,{color:d.O9T.grey00},t("team_contact_support_dialog_text")),null===a?(0,D.tZ)(d.nvN,{sx:{textAlign:"center"}},C_||(C_=(0,D.tZ)(d.HoD,{color:"primaries.5",size:44}))):a?null:(0,D.tZ)(d.vDh,{size:"simple",sx:{marginTop:"16px"},title:(0,D.tZ)(d.nvN,{size:"x-small",as:"h5",bold:!0},t("team_contact_support_dialog_infobox_title"))},(0,D.tZ)(d.nvN,{size:"x-small"},t("team_contact_support_dialog_infobox_text"))))};var v_;const N_=e=>{const{translate:t}=(0,P.Z)();return(0,Ue.tZ)(d.VqE,{closeIconName:t("_common_dialog_dismiss_button"),isOpen:e.showVaultNavigationModal,onClose:()=>e.setShowVaultNavigationModal(!1)},(0,Ue.tZ)(d.$N8,{title:(0,Ue.tZ)("span",{color:"ds.text.neutral.catchy",sx:{margin:"0px 15px",fontSize:"25px",fontWeight:"800",display:"block"}},t("team_vault_navigation_dialog_title"))}),(0,Ue.tZ)(d.a7O,null,(0,Ue.tZ)(Ue.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},t("team_vault_navigation_dialog_paragrah")),(0,Ue.tZ)(Ue.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},t("team_vault_navigation_dialog_paragrah_two"))),(0,Ue.tZ)(d.cNS,{primaryButtonTitle:(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)("span",{sx:{marginRight:"8px"}},t("team_vault_navigation_dialog_install_cta")),v_||(v_=(0,Ue.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.inverse.catchy"}))),primaryButtonOnClick:()=>{e.onBeforeNavigate?.(),(0,b.Yo)(bp.yi)},primaryButtonProps:{type:"button"},secondaryButtonTitle:t("team_vault_navigation_dialog_skip_btn"),secondaryButtonOnClick:()=>{e.onBeforeNavigate?.(),(0,i.uX)("/"),e.setShowVaultNavigationModal(!1)}}))},S_=n.createContext({isVaultNavigationModalOpen:!1,setIsVaultNavigationModalOpen:()=>{},setOnBeforeNavigateCallback:()=>{}}),I_=({children:e})=>{const[t,a]=n.useState(!1),[i,s]=n.useState(void 0);return n.createElement(S_.Provider,{value:{isVaultNavigationModalOpen:t,setIsVaultNavigationModalOpen:a,setOnBeforeNavigateCallback:s}},e,t?n.createElement(N_,{showVaultNavigationModal:t,setShowVaultNavigationModal:a,onBeforeNavigate:i}):null)};var f_,x_;const M_=({lee:e})=>{const[t,a]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),{setIsVaultNavigationModalOpen:c}=((0,Be.w)("onboarding_web_bettertacvaultnav"),n.useContext(S_)),{routes:u}=(0,i.Xo)(),m=(0,lm.B)(),{translate:p}=(0,P.Z)(),_=(0,C.a)(e.dispatchGlobal),g=(e,t,a)=>e=>{a(e)},h=({className:e,...t})=>n.createElement(d.zxk,{type:"button",nature:"ghost",className:F()("dropdownElement--fRxFyumXai",e),...t}),y=s?n.createElement(h_,{lee:e,onDismiss:()=>r(!1),onSend:()=>r(!1)}):null,w=o?n.createElement(E_,{onDismiss:()=>l(!1)}):null,E=m?.premiumStatus&&!(0,j.wt)(m?.premiumStatus)&&((0,j.pq)(m?.premiumStatus)||(0,j.f1)(m?.premiumStatus)),v=m?.premiumStatus&&(0,j.pq)(m?.premiumStatus)?"team":"business",N=m?.premiumStatus&&(0,j.wt)(m?.premiumStatus),S=e.permission.adminAccess.hasBillingAccess;return n.createElement(n.Fragment,null,n.createElement("div",{className:"teamAccountDropdown--XD04fGIw1S"},n.createElement(Wr.Lt,{alignment:Wr.oA.End,position:Wr.ir.Bottom,onToggle:()=>{a(!t)},withBackdrop:!1,renderRoot:e=>(e=>n.createElement(d.zxk,{type:"button",className:F()("teamAccountDropdownButton--SOE8XwpPlO",{"teamAccountDropdownOpened--h4AYTHtMVq":t}),nature:"ghost",onClick:e},p("team_account"),n.createElement("span",{className:"dropdownButtonIcon--OG7Ht_fAFB"},f_||(f_=n.createElement(d.veu,null)))))(e)},n.createElement("div",{className:"dropdownMenu--Uz1kni0KIt"},S?n.createElement(h,{onClick:g(0,0,(()=>{(0,i.uX)(e.routes.teamAccountRoutePath)}))},p("team_plan")):null,n.createElement(h,{onClick:g(0,0,(()=>{(0,i.uX)("/")}))},p("team_webapp")),N&&S?n.createElement(h,{onClick:g(0,0,(()=>(0,b.Yo)(`${bp.ub}?plan=${v}&subCode=${m?.subscriptionCode}`)))},p("team_buy_dashlane")):null,E&&S?n.createElement(h,{onClick:g(0,0,(()=>(0,i.uX)(`${u.teamAccountChangePlanRoutePath}`)))},p("team_upgrade")):null,n.createElement(h,{onClick:g(0,0,(()=>(0,b.Yo)(bp.Pr)))},p("team_service_status")),n.createElement(h,{onClick:g(0,0,(()=>(0,b.Yo)(bp.FX)))},p("team_support")),S?n.createElement(h,{onClick:()=>l(!0)},p("team_contact_support_menu_item")):null,n.createElement(h,{onClick:g(0,0,(()=>r(!0)))},p("team_feedback")),x_||(x_=n.createElement("hr",null)),n.createElement(h,{onClick:g(0,0,(()=>{_()})),className:"logout--x9WN8NkY4R"},p("team_logout"))))),y,w)};let T_;!function(e){e.POLICIES="policies",e.DUO="duo",e.DIRECTORY_SYNC="directory-sync",e.ACCOUNT_RECOVERY="account-recovery",e.SSO="sso"}(T_||(T_={}));const D_="tooltipMenuOption--uuMY2Xcfk0";let Z_;!function(e){e.ACCOUNT="account",e.ACTIVITY="activity",e.CHANGE_PLAN="account/changeplan",e.DASHBOARD="dashboard",e.GROUPS="groups",e.MEMBERS="members",e.SETTINGS="settings",e.DARK_WEB_INSIGHTS="dark-web-insights",e.GET_STARTED="get-started"}(Z_||(Z_={}));const A_=n.createContext(null),k_=({children:e})=>{const[t,a]=n.useState(!1);return n.createElement(A_.Provider,{value:{hasNewBreaches:t,setHasNewBreaches:a}},e)},O_=()=>{const e=n.useContext(A_);if(!e)throw new Error("useSideNavNotification must be called from within an SideNavNotificationProvider");return e};var L_=a(15192),z_=a(582028);const j_=({isSidenavCollapsed:e,settingsRoute:t,children:a})=>{const{translate:n}=(0,P.Z)(),i=(0,L_.k6)(),s=We(),{unseen:r,setAsSeen:o}=(0,hc.m)(z_.NotificationName.AccountRecoveryAvailableAdminTooltip);return!r||s?(0,D.tZ)("div",null,a):(0,D.tZ)("div",{sx:{position:"relative"}},(0,D.tZ)(d.ua7,{sx:{width:"312px",minWidth:"312px",textAlign:"left",top:e?0:"-100px"},trigger:"persist",placement:"left",offset:[0,30],arrowSize:12,content:(0,D.tZ)(d.Ejs,{gap:"8px",sx:{padding:"8px"}},(0,D.tZ)(d.nvN,{size:"large",as:"h3",sx:{fontWeight:600,color:"ds.text.inverse.catchy"}},n("team_account_recovery_popover_title")),(0,D.tZ)(d.nvN,{color:"white",size:"x-small"},n("team_account_recovery_popover_description")),(0,D.tZ)(d.Ejs,{gap:"8px",justifyContent:"flex-end",sx:{width:"100%",marginTop:"8px"}},(0,D.tZ)(Ue.zx,{type:"button",mood:"neutral",size:"small","data-testid":"ar-tooltip-dismiss",onClick:()=>o()},n("team_account_recovery_popover_dismiss")),(0,D.tZ)(Ue.zx,{type:"button",mood:"brand",size:"small","data-testid":"ar-tooltip-go-to-settings",onClick:()=>{o(),i.push(t)}},n("team_account_recovery_popover_go_to_settings"))))},(0,D.tZ)("div",{sx:{position:"relative"}}," ",a)))};var P_,R_,U_,B_,F_,G_,W_,V_,H_,q_,Y_,Q_,$_,K_,X_,J_;const{dashGreen00:eg,dashGreen04:tg}=d.O9T,ag="team_settings_menu_title_account_recovery",ng="team_settings_menu_title_directory_sync",ig="team_settings_tab_duo",sg="team_settings_menu_title_policies",rg="team_settings",og="team_settings_menu_title_single_sign_on",lg="webapp_sidemenu_open_vault_cta",cg="beta",dg=(e,t)=>{var a;return(null!=(a=e.notifications?.[t].length)?a:0)>0},ug=({isCollapsed:e=!1,permissionChecker:t,routes:a,selectedTab:r,team:o})=>{const{translate:l}=(0,P.Z)(),u={DIRECTORY_SYNC:`${a.teamSettingsRoutePath}${s.B9.DIRECTORY_SYNC}`,DUO:`${a.teamSettingsRoutePath}${s.B9.DUO}`,MASTER_PASSWORD_POLICIES:`${a.teamSettingsRoutePath}${s.B9.MASTER_PASSWORD_POLICIES}`,POLICIES:`${a.teamSettingsRoutePath}${s.B9.POLICIES}`,SSO:`${a.teamSettingsRoutePath}${s.B9.SSO}`},{setIsVaultNavigationModalOpen:m}=(0,n.useContext)(S_),p=(0,Be.w)("onboarding_web_bettertacvaultnav"),{unseen:_}=(0,hc.m)(V.NotificationName.TacDarkWebInsightsNewBadge),{hasNewBreaches:g}=O_(),h=(0,Wc.h)(),b=h.status!==W.rq.Success,{interacted:y}=(0,hc.d)(V.NotificationName.TacGetStartedDismissPage),{itadmin_tac_breachreport_phase1:C=!1,itadmin_tac_dwi_mvp_v2:w=!1,"BBCOM-238-duo":E=!1,deployment_web_nitroSSOBeta:N=!1,deployment_web_nitroSSOBeta_chooseSSO:S=!1,onboarding_web_tacgetstarted_dev:I=!1}=b?{}:h.data,f=C||w,x=N&&!S,M=({requiredPermission:e,children:a,...n})=>t.adminAccess.hasPermissionLevel(e)?(0,D.tZ)(d.KJW,{...n},a):null;return(0,D.tZ)(d.t7v,{collapsed:e},(0,D.tZ)(d.sMA,{sx:{pointerEvents:b?"none":"auto"}},I&&!y?(0,D.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,D.tZ)(i.rU,{to:a.teamGetStartedRoutePath},(0,D.tZ)(d.zdj,{collapsed:e,icon:P_||(P_=(0,D.tZ)(Ue.JO,{name:"TipOutlined"})),label:l("team_get_started"),selected:r===Z_.GET_STARTED}))):null,(0,D.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,D.tZ)(i.rU,{to:a.teamDashboardRoutePath},(0,D.tZ)(d.zdj,{collapsed:e,icon:R_||(R_=(0,D.tZ)(d.QGC,null)),label:l("team_general"),selected:r===Z_.DASHBOARD}))),(0,D.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,D.tZ)(i.rU,{to:a.teamMembersRoutePath},(0,D.tZ)(d.zdj,{collapsed:e,icon:U_||(U_=(0,D.tZ)(d.lMe,null)),label:l("team_members"),selected:r===Z_.MEMBERS}))),(0,D.tZ)(M,{requiredPermission:"GROUP_READ",collapsed:e},(0,D.tZ)(i.rU,{to:a.teamGroupsRoutePath},(0,D.tZ)(d.zdj,{collapsed:e,icon:B_||(B_=(0,D.tZ)(d.c6E,null)),label:l("team_groups"),selected:r===Z_.GROUPS}))),(0,D.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,D.tZ)(i.rU,{to:a.teamActivityRoutePath},(0,D.tZ)(d.zdj,{collapsed:e,hasNotification:void 0!==o&&dg(o,"accountRecoveryRequests"),icon:F_||(F_=(0,D.tZ)(d.X4t,null)),label:l("team_activity"),selected:r===Z_.ACTIVITY}))),(0,D.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,D.tZ)(j_,{isSidenavCollapsed:e,settingsRoute:u.MASTER_PASSWORD_POLICIES},e?(0,D.tZ)(d.ua7,{placement:"right",offset:[0,15],hoverCloseDelay:500,sx:{padding:"4px 0"},content:(0,D.tZ)("div",{sx:{width:x?"180px":"148px"}},(0,D.tZ)(i.rU,{to:u.POLICIES},(0,D.tZ)("div",{className:D_},l(sg))),(0,D.tZ)(i.rU,{to:u.SSO},(0,D.tZ)("div",{className:F()(D_,{"tooltipMenuOptionWithBadge--YEb6lA66OH":x})},l(og),x?G_||(G_=(0,D.tZ)(Ue.Ct,{mood:"brand",intensity:"catchy",label:cg})):null)),(0,D.tZ)(i.rU,{to:u.DIRECTORY_SYNC},(0,D.tZ)("div",{className:D_},l(ng))),(0,D.tZ)(i.rU,{to:u.MASTER_PASSWORD_POLICIES},(0,D.tZ)("div",{className:D_},l(ag))),E?(0,D.tZ)(i.rU,{to:u.DUO},(0,D.tZ)("div",{className:D_},l(ig))):null)},(0,D.tZ)("div",{tabIndex:0},(0,D.tZ)(d.zdj,{collapsed:e,icon:W_||(W_=(0,D.tZ)(d.ewm,null)),label:l(rg),selected:r===Z_.SETTINGS}))):(0,D.tZ)(d.UlM,{size:"large",open:!0,sx:{backgroundColor:eg,span:{color:tg},"> summary":{padding:"16px 0"},"&[open]":{padding:0},"&[open] > summary":{padding:"16px 0"},"&[open] > div:nth-of-type(1)":{pointerEvents:b?"none":"auto",padding:0},"svg, svg:hover":{fill:tg}}},(0,D.tZ)(d._Oh,null,(0,D.tZ)("span",{className:"settingsMenuContainer--EascJOgBpz"},(0,D.tZ)("span",{className:"iconContainer--E97FJLapaB"},V_||(V_=(0,D.tZ)(d.ewm,null))),(0,D.tZ)(d.nvN,{size:"medium",bold:!0,as:"span"},l(rg)))),(0,D.tZ)(d.rN7,null,(0,D.tZ)(i.rU,{to:u.POLICIES},(0,D.tZ)(d.zdj,{icon:H_||(H_=(0,D.tZ)("span",null)),label:l(sg),selected:r===T_.POLICIES})),(0,D.tZ)(i.rU,{to:u.SSO},(0,D.tZ)(d.zdj,{icon:q_||(q_=(0,D.tZ)("span",null)),label:l(og),endAdornment:x?Y_||(Y_=(0,D.tZ)(Ue.Ct,{mood:"brand",intensity:"catchy",label:cg})):void 0,selected:r===T_.SSO})),(0,D.tZ)(i.rU,{to:u.DIRECTORY_SYNC},(0,D.tZ)(d.zdj,{icon:Q_||(Q_=(0,D.tZ)("span",null)),label:l(ng),selected:r===T_.DIRECTORY_SYNC})),(0,D.tZ)(i.rU,{to:u.MASTER_PASSWORD_POLICIES},(0,D.tZ)(d.zdj,{icon:$_||($_=(0,D.tZ)("span",null)),label:l(ag),selected:r===T_.ACCOUNT_RECOVERY})),E?(0,D.tZ)(i.rU,{to:u.DUO},(0,D.tZ)(d.zdj,{icon:K_||(K_=(0,D.tZ)("span",null)),label:l(ig),selected:r===T_.DUO})):null)))),f&&t.adminAccess.hasFullAccess?(0,D.tZ)("div",{className:"securityCategory--Clfv_8oKCw"},(0,D.tZ)("div",{className:"categoryTitle--krvL3iQ_mG"},(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen02,caps:!0,size:"x-small"},l("webapp_sidemenu_category_maintenance"))),(0,D.tZ)(M,{requiredPermission:"FULL",collapsed:e},(0,D.tZ)(i.rU,{to:a.teamDarkWebInsightsRoutePath,onClick:()=>{(0,v.K)(new c.UserOpenDomainDarkWebMonitoringEvent({accessPath:c.AccessPath.NavLeftMenuButton,isFirstVisit:_}))}},(0,D.tZ)(d.zdj,{collapsed:e,icon:X_||(X_=(0,D.tZ)(Ue.JO,{name:"FeatureDarkWebMonitoringOutlined"})),label:l("team_dashboard_dark_web_insights_heading"),selected:r===Z_.DARK_WEB_INSIGHTS,hasNotification:g})))):null,p?(0,D.tZ)("div",{sx:{display:"flex",justifyContent:"center",borderTop:"1px solid",position:"fixed",bottom:"0",borderTopColor:d.O9T.dashGreen01,marginLeft:"-8px",width:e?"96px":"259px",backgroundColor:eg}},(0,D.tZ)(d.KJW,{collapsed:e},(0,D.tZ)("div",{sx:{display:"flex",justifyContent:"center"}},(0,D.tZ)(Ue.zx,{layout:e?"iconOnly":"iconLeading","aria-label":l(lg),fullsize:!e,sx:{margin:e?"20px 25px":"20px 4px"},icon:J_||(J_=(0,D.tZ)(Ue.JO,{name:"VaultOutlined",size:"large",color:"ds.text.inverse.catchy"})),mood:"brand",intensity:"catchy",onClick:()=>{(0,i.uX)("/")}},l(lg))))):null))};var mg=a(418402),pg=a.n(mg);const _g=({isCollapsed:e})=>{const{translate:t}=(0,P.Z)(),a=e||!1;return n.createElement(d.t7v,{collapsed:a},n.createElement(d.QUQ,{"data-testid":"logo-header"},a?n.createElement("div",{className:"collapsedLogo--BjOqWIOARt"},n.createElement(d.NJ6,{color:pg()["--white"],height:39,width:39})):n.createElement(d.D1W,{color:d.vei.White,size:d.r1z.Size39,title:t("_common_dashlane_logo_title")})))},gg=n.createContext({navBarChildren:null,setNavBarChildren:()=>{}}),hg=()=>document.documentElement.clientWidth<1371,bg=e=>{const{selectedTab:t,children:a,lee:i}=e,[s,r]=(0,n.useState)(hg()),[o,l]=(0,n.useState)();(0,n.useEffect)((()=>{const e=(0,he.throttle)((()=>{const e=hg();e&&!s?r(!0):!e&&s&&r(!1)}),100);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[s]);const c=(0,Js.kA)(i.globalState),d=n.createElement(n_,null,o,n.createElement(M_,{lee:i})),u=n.createElement(_g,{isCollapsed:s}),m=n.createElement(ug,{isCollapsed:s,permissionChecker:i.permission,routes:i.routes,selectedTab:t,team:c}),p={navBarChildren:o,setNavBarChildren:l};return n.createElement(gg.Provider,{value:p},n.createElement(i_,{brand:u,header:d,sidenav:m},a))};var yg,Cg,wg=a(307973);const Eg=({currency:e,selectedOffer:t,costData:a})=>{const{translate:i}=(0,P.Z)(),s=(0,Be.w)("monetization_avalara_b2b_change_tier_mid_cycle"),{loading:r,billingCountry:o}=ip();if(r)return n.createElement(d.HoD,{color:d.O9T.midGreen00});const l="US"===o?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat";return n.createElement(d.Ejs,{flexDirection:"column",gap:"32px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",borderRadius:"4px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px"}},n.createElement(ap,{label:n.createElement(d.X6q,{size:"small"},i("team_account_teamplan_changeplan_order_summary_header")),value:n.createElement(d.nvN,{color:"ds.text.neutral.quiet"},(0,wg.Z)(new Date,"MM/dd/yyyy"))}),n.createElement(d.Ejs,{flexDirection:"column",gap:"16px",sx:{padding:"32px 0"}},n.createElement(hp,{selectedOffer:t,currency:e,costData:a})),n.createElement(d.Ejs,{flexDirection:"column",gap:"16px"},n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.catchy",sx:{padding:"0 10px",fontWeight:"light"}},i("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:a.totalSeats})),n.createElement(ap,{label:n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.standard"},i("team_account_teamplan_changeplan_order_summary_subtotal")),value:e?n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.standard"},i.price(e,a.subtotal/100)):null}),a.tax&&e&&s?n.createElement(ap,{label:n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i(l)),value:n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i.price(e,a.tax/100))}):null,a?.proratedDiscount?n.createElement(ap,{label:n.createElement(d.Ejs,{alignItems:"center",gap:"5px"},n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i("team_account_teamplan_changeplan_order_summary_prorated_discount")),n.createElement(d.ua7,{content:i("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},yg||(yg=n.createElement(d.uMt,{size:16,color:"ds.text.neutral.quiet"})))),value:e?n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i.price(e,a.proratedDiscount/100)):null}):null,a?.promoPrice?n.createElement(ap,{label:n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i("team_account_teamplan_upgrade_premium_coupon")),value:e?n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},"-",i.price(e,a.promoPrice/100)):null}):null,Cg||(Cg=n.createElement(tp,null)),a?.total?n.createElement(ap,{label:n.createElement(d.nvN,{bold:!0,size:"large"},i("team_account_teamplan_total")),value:e?n.createElement(d.nvN,{bold:!0,size:"large"},i.price(e,a.total/100)):null}):null))},vg=()=>{const{translate:e}=(0,P.Z)(),{loading:t,last4DigitsFormatted:a,expFormatted:n,cardSvg:i}=Xp({});return t?(0,Ue.tZ)(d.HoD,{color:d.O9T.midGreen00}):(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",borderRadius:"4px"}},(0,Ue.tZ)(d.X6q,{size:"small"},e("team_account_addseats_success_credit_card_header")),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,Ue.tZ)(d.Ejs,{alignItems:"center",gap:"8px"},i,(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard"},"•••• ",a)),(0,Ue.tZ)(d.Ejs,null,(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard"},e("team_account_addseats_success_credit_card_expires",{expirationDate:n})))))};var Ng,Sg,Ig,fg,xg=a(485009),Mg=a(199343),Tg=a(433149),Dg=a(466404),Zg=a(514453);const Ag="col1--a1XY6sTFa0",kg="col2--K8GKZ0pbNU",Og=({lee:e,handleSave:t,defaultValue:a})=>{const{translate:n}=(0,P.Z)();return(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large",sx:{mb:"1em"}},n("team_account_heading_team_name")),e.permission.adminAccess.hasFullAccess?(0,D.tZ)("div",null,(0,D.tZ)(Zg.X,{defaultValue:a,saveBtnLabel:n("team_account_name_save_label"),savingBtnLabel:n("team_account_name_saving_label"),editBtnLabel:n("team_account_name_edit_label"),placeholder:n("team_account_name_add_your_team_name"),successMessage:n("team_account_name_add_your_team_success"),textFieldClassName:Ag,buttonClassName:kg,onSave:t})):a)};var Lg=a(869375),zg=a(494770);const jg="team_account_teamplan_buy_more",Pg="team_account_teamplan_hint_cannot_add_seats",Rg="team_account_teamplan_upgrade_button",Ug="team_account_teamplan_contact_support",Bg="team_account_teamplan_changeplan_questions_customer_support",Fg=({isFreeTrial:e,isGracePeriod:t,isStarter:a,translate:n,onUpgrade:i,onBuyMore:s,licenseCount:r})=>{const o=(0,Be.w)("monetization_tac_mtu");return(0,Be.F)("monetization_TACbusinessBuy_website"),a?null:t&&!e?o?(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",title:n(Pg),disabled:!0},n(jg)):(0,D.tZ)(zg.Z,{label:n(jg),title:n(Pg),disabled:!0}):e?o?(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:i,disabled:!1},n(Rg)):(0,D.tZ)(zg.Z,{label:n(Rg),onClick:i,disabled:!1}):o?(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:s,disabled:r.caseOf({just:()=>!1,nothing:()=>!0})},n(jg)):(0,D.tZ)(zg.Z,{label:n(jg),onClick:s,disabled:r.caseOf({just:()=>!1,nothing:()=>!0})})},Gg={width:"300px"},Wg={width:"220px",marginLeft:"10px"},Vg={marginTop:"20px",width:"100%","> div":{maxWidth:"unset"}},Hg=({isFreeTrial:e,isGracePeriod:t,style:a,licenseCount:s,onRequestTeamUpgrade:r,onRequestBuyMoreSeats:o,planTier:u,billingType:m})=>{const{routes:p}=(0,i.Xo)(),{translate:_}=(0,P.Z)(),g=e.valueOr(!1),h=t.valueOr(!1),y=(0,j.t0)(u),C=m.valueOr(""),w=y===l.SpaceTier.Starter,E=y===l.SpaceTier.Team,v=y===l.SpaceTier.Business,N="invoice"===C,S=(0,n.useMemo)((()=>{let e;return e=_(w?"team_account_teamplan_changeplan_plans_starter_name":E?"team_account_teamplan_team":"team_account_teamplan_business"),g?_("team_account_teamplan_trial",{planName:e}):`Dashlane ${e}`}),[w,E,g,_]),{logChangePlanEvent:I}=_p({hasPromo:!1,currentSeats:s.valueOr(0),additionalSeats:0,planChangeStep:c.PlanChangeStep.ChangePlanCta}),f=(0,Be.w)("monetization_extension_invoice_addingCC"),x=(0,Be.F)("monetization_tac_mtu");if(x.status===W.rq.Loading)return(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:{marginTop:"8px"}},(0,D.tZ)(d.Ejs,{alignItems:"center"},(0,D.tZ)(d.HoD,{size:30,color:d.O9T.black})));const M=()=>{(0,b.Yo)(bp.to)};return x.status===W.rq.Success&&!g&&x.data?(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:{marginTop:"8px"}},(0,D.tZ)(d.Ejs,{alignItems:"center"},(0,D.tZ)("div",{sx:Gg},(0,D.tZ)(d.nvN,{size:"medium"},_("team_account_teamplan_plan_name",{planName:S}))),(0,D.tZ)("div",{sx:Wg},v?null:(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",type:"button",onClick:()=>{I(),(0,i.uX)(p.teamAccountChangePlanRoutePath)}},_("team_account_teamplan_change_plan")))),(0,D.tZ)(d.Ejs,{alignItems:"center",sx:{marginTop:"8px"}},(0,D.tZ)("div",{sx:Gg},(0,D.tZ)(d.nvN,{size:"medium"},_("team_account_teamplan_seats",{numSeats:s.valueOr(0)}))),N&&!f?(0,D.tZ)("div",{sx:Vg},(0,D.tZ)(d.vDh,{size:"descriptive",title:_(Ug),layout:"inline",actions:[(0,D.tZ)(Ue.zx,{mood:"brand",key:"primary",onClick:M},_(Bg))]})):(0,D.tZ)("div",{sx:Wg},(0,D.tZ)(Fg,{isGracePeriod:h,isFreeTrial:g,isStarter:w,translate:_,onBuyMore:o,onUpgrade:r,licenseCount:s})),(0,D.tZ)(Lg.h,{featureFlips:["monetization_TACbusinessBuy_website"],legacy:(0,D.tZ)(n.Fragment,null,!1)}))):(0,D.tZ)("div",{style:a},(0,D.tZ)("div",{className:"licenseStatusContainer--CehGjXAffX"},(0,D.tZ)("div",{className:Ag},(0,D.tZ)("span",{className:"licenseCountText--hXtj4u8ji3"},S)),N&&!f?null:(0,D.tZ)("div",{className:F()(kg,"actionButton--IHzKuWt5Wu")},(0,D.tZ)(Fg,{isGracePeriod:h,isFreeTrial:g,isStarter:w,translate:_,onBuyMore:o,onUpgrade:r,licenseCount:s})),(0,D.tZ)(Lg.h,{featureFlips:["monetization_TACbusinessBuy_website"],legacy:(0,D.tZ)(n.Fragment,null,!1)})),(0,D.tZ)("div",{className:"licenseCountContainer--bEWqbHZbKG"},_("team_account_teamplan_users",{count:s.valueOr(0)})),N&&!f?(0,D.tZ)("div",{sx:Vg},(0,D.tZ)(d.vDh,{size:"descriptive",title:_(Ug),layout:"inline",actions:[(0,D.tZ)(Ue.zx,{mood:"brand",key:"primary",onClick:M},_(Bg))]})):null)};var qg,Yg=a(908233);!function(e){e[e.DUPLICATE=0]="DUPLICATE",e[e.SOMETHING_WRONG=1]="SOMETHING_WRONG",e[e.EMPTY=2]="EMPTY",e[e.MALFORMED=3]="MALFORMED"}(qg||(qg={}));const Qg=({translate:e},t)=>{switch(t){case qg.DUPLICATE:return e("team_account_name_already_exists");case qg.SOMETHING_WRONG:return e("team_account_name_error_something_wrong");case qg.EMPTY:return e("team_account_name_is_empty");case qg.MALFORMED:return e("team_account_name_is_malformed");default:return e("team_account_name_error_something_wrong")}};var $g,Kg,Xg=a(864319),Jg=a(125229);const eh=({dismissible:e})=>{const t=(0,Xg.D)(),a=(0,_m.Y)(),n=a.status===W.rq.Success&&a.data?.planType===vp.PlanType.FreeTrial,i=a.status===W.rq.Success&&(0,j.NG)(a.data);if(a.status!==W.rq.Success)return!1;if(i&&!n)return!1;const s=t.find((e=>e.type===l.UserMessageTypes.DASHBOARD_UPRADE&&e.dismissedAt));return!e||!s},th=({iconName:e,children:t})=>(0,D.tZ)(d.Ejs,{flexDirection:"row",gap:"12px",alignItems:"center",flexWrap:"nowrap"},(0,D.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px"}},(0,D.tZ)(Ue.JO,{name:e,size:"large",color:"ds.text.brand.standard"})),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.catchy",size:"medium"},t)),ah=({dismissible:e})=>{const{translate:t}=(0,P.Z)(),a=(()=>{const e=(0,lm.B)(),{routes:t}=(0,i.Xo)(),a=(0,_m.Y)(),n=a.status===W.rq.Success&&a.data?.planType===vp.PlanType.FreeTrial,s=a.status===W.rq.Success&&(0,j.f1)(a.data),r=a.status===W.rq.Success&&(0,j.pq)(a.data),o=a.status===W.rq.Success&&(0,j.NG)(a.data),l=a.status===W.rq.Success&&a.data?(0,j.B$)(a.data):void 0;return n&&r?{header:{key:"team_dashboard_upgrade_tile_team_trial_header_markup",variables:{daysLeft:l}},description:{key:"team_dashboard_upgrade_tile_business_trial_description"},features:[{iconName:"GroupOutlined",key:"team_dashboard_upgrade_tile_feature_unlimited_seats"},{iconName:"FeatureVpnOutlined",key:"team_dashboard_upgrade_tile_feature_vpn"}],cta:{key:"team_dashboard_upgrade_tile_cta_buy_dashlane",external:!0,link:`${bp.ub}?plan=team&subCode=${e?.subscriptionCode}`}}:n&&o?{header:{key:"team_dashboard_upgrade_tile_business_trial_header_markup",variables:{daysLeft:l}},description:{key:"team_dashboard_upgrade_tile_business_trial_description"},features:[{iconName:"ToolsOutlined",key:"team_dashboard_upgrade_tile_feature_sso"},{iconName:"SharedOutlined",key:"team_dashboard_upgrade_tile_feature_scim"},{iconName:"GroupOutlined",key:"team_dashboard_upgrade_tile_feature_friends_and_family"},{iconName:"ItemPhoneHomeOutlined",key:"team_dashboard_upgrade_tile_feature_support"}],cta:{key:"team_dashboard_upgrade_tile_cta_buy_dashlane",external:!0,link:`${bp.ub}?plan=business&subCode=${e?.subscriptionCode}`}}:!n&&s?{header:{key:"team_dashboard_upgrade_tile_team_upgrade_header"},description:{key:"team_dashboard_upgrade_tile_team_upgrade_description"},features:[{iconName:"GroupOutlined",key:"team_dashboard_upgrade_tile_feature_unlimited_seats"},{iconName:"FeatureVpnOutlined",key:"team_dashboard_upgrade_tile_feature_vpn"}],cta:{key:"team_dashboard_upgrade_tile_cta_upgrade",link:t.teamAccountChangePlanRoutePath}}:!n&&r?{header:{key:"team_dashboard_upgrade_tile_business_upgrade_header"},description:{key:"team_dashboard_upgrade_tile_business_upgrade_description"},features:[{iconName:"ToolsOutlined",key:"team_dashboard_upgrade_tile_feature_sso"},{iconName:"SharedOutlined",key:"team_dashboard_upgrade_tile_feature_scim"},{iconName:"GroupOutlined",key:"team_dashboard_upgrade_tile_feature_friends_and_family"},{iconName:"ItemPhoneHomeOutlined",key:"team_dashboard_upgrade_tile_feature_support"}],cta:{key:"team_dashboard_upgrade_tile_cta_upgrade",link:t.teamAccountChangePlanRoutePath}}:null})();return a?(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:"24px"},(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,D.tZ)(d.Ejs,{alignItems:"start",flexWrap:"nowrap",justifyContent:"space-between"},(0,D.tZ)(d.X6q,{size:"x-small"},a.header.key.includes("markup")?t.markup(a.header.key,a.header.variables):t(a.header.key,a.header.variables)),e?(0,D.tZ)(Ue.zx,{sx:{padding:"4px"},mood:"neutral",intensity:"supershy",size:"medium",layout:"iconOnly",onClick:()=>(0,Jg.ql)({type:l.UserMessageTypes.DASHBOARD_UPRADE}),icon:Kg||(Kg=(0,D.tZ)(Ue.JO,{color:"ds.text.neutral.quiet",name:"ActionCloseOutlined"}))}):null),(0,D.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},t(a.description.key))),a.features.map((e=>(0,D.tZ)(th,{key:e.key,iconName:e.iconName},e.key.includes("markup")?t.markup(e.key):t(e.key)))),a.cta.external?(0,D.tZ)("a",{href:a.cta.link,key:a.cta.key,target:"_blank",rel:"noreferrer"},(0,D.tZ)(Ue.zx,{fullsize:!0,mood:e?"brand":"neutral",intensity:e?"catchy":"quiet"},t(a.cta.key))):(0,D.tZ)(i.rU,{to:a.cta.link,key:a.cta.key},(0,D.tZ)(Ue.zx,{fullsize:!0,mood:e?"brand":"neutral",intensity:e?"catchy":"quiet"},t(a.cta.key)))):$g||($g=(0,D.tZ)(d.HoD,{size:"24px",color:"ds.text.neutral.catchy"}))};var nh;const ih=e=>{const{translate:t}=(0,P.Z)(),{reportTACError:a}=d_(),[i,s]=(0,n.useState)("");(0,n.useEffect)((()=>{(async({globalState:e})=>{var t;const a=(0,Dg.v0)(e);if(!a)throw new Error(Yg.N);const n=await(new Tg.Z).status({auth:a});return null!=(t=n.content.team?.info.name)?t:""})(e.lee).then(s).catch(a)}),[]);const r=eh({});return(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.X6q,{size:"medium",as:"h1",sx:{mb:"32px"},color:"neutrals.13"},t("team_account_heading_team_setup")),(0,D.tZ)(d.Ejs,{gap:"32px",flexWrap:"nowrap"},(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:{flexGrow:"1",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px"}},(0,D.tZ)(Og,{lee:e.lee,handleSave:t=>(async(e,t,a)=>{const n=(0,Dg.v0)(t.globalState);if(!n){const e=new Error(Qg(t,qg.SOMETHING_WRONG));throw a(e),e}if(!e.length)throw new Error(Qg(t,qg.EMPTY));if(!/^[\w\s-.]*$/.test(e))throw new Error(Qg(t,qg.MALFORMED));try{var i;const t=await(new Tg.Z).editSettings({auth:n,operations:[{type:"set_name",value:e}]});return null!=(i=t.content.team?.info.name)?i:""}catch(e){const a="team_name_already_exists"===e.message?qg.DUPLICATE:qg.SOMETHING_WRONG;throw new Error(Qg(t,a))}})(t,e.lee,a),defaultValue:i}),(0,D.tZ)("div",{sx:{mt:"2em"}},(0,D.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},t("team_account_teamplan")),(0,D.tZ)(Hg,{isFreeTrial:e.isFreeTrial,isGracePeriod:e.isGracePeriod,licenseCount:e.seatsNumber,onRequestBuyMoreSeats:e.onRequestBuyMoreSeats,onRequestTeamUpgrade:e.onRequestTeamUpgrade,userCount:e.usersToBeRenewedCount,planTier:e.planTier,planName:e.planName,billingType:e.billingType}))),r?(0,D.tZ)(d.k$b,{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",width:"416px",padding:"32px"}},nh||(nh=(0,D.tZ)(ah,null))):null))};var sh=a(593800);var rh;const oh=e=>e.trim().toLocaleLowerCase(),lh=({defaultSelected:e,handleConfirmClick:t,handleClose:a,allMembersCount:i,membersList:s,lee:r})=>{const{translate:o}=r,[l,c]=(0,n.useState)(e),[u,m]=(0,n.useState)(""),[_,g]=(0,n.useState)([]),[h,b]=(0,n.useState)(!1);(0,n.useEffect)((()=>{g(((e,t)=>""===t.trim()?e:e.filter((({login:e})=>oh(e).includes(oh(t)))))(s,u).slice(0,5))}),[s,u]);const y=n.useCallback((()=>{a()}),[a]),C=!_.length||e===l;return n.createElement(p.o,{isOpen:!0,showCloseIcon:!0,title:o("team_account_billing_admin_dialog_title"),footer:n.createElement(d.cNS,{primaryButtonTitle:o("team_account_billing_admin_dialog_confirm"),primaryButtonOnClick:()=>t(l),primaryButtonProps:{disabled:C}}),onRequestClose:y},n.createElement(d.T5p,{gap:"1.5em",gridTemplateColumns:"auto"},n.createElement(d.nvN,null,o("team_account_billing_admin_dialog_warning")),n.createElement(d.oil,{fullWidth:!0,autoFocus:!0,startAdornment:rh||(rh=n.createElement(d.W1M,null)),onChange:({target:{value:e}})=>{m(e),h||b(!0)},placeholder:o("team_account_billing_admin_search_field_placeholder")}),_.length>0?n.createElement(n.Fragment,null,n.createElement(sh.S,{value:l,onChange:({target:{value:e}})=>{c(e)},groupName:"billingAdmins"},_.map((({login:e})=>n.createElement(sh.E,{key:e,value:e,className:"radioWrapper--zUHiaWj5BN"},e)))),n.createElement(d.nvN,{color:"neutrals.8"},_.length<i?o("team_account_billing_admin_display_disclaimer",{count:_.length||"-",total:i||"-"}):null)):null,0===_.length?n.createElement(d.nvN,null,o("team_account_billing_admin_search_no_match")):null))},ch=e=>{const{lee:t}=e,{globalState:a}=t,[i,s]=(0,n.useState)(""),[r,o]=(0,n.useState)(0),[l,u]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),_=(0,Dg.v0)(a),{translate:g}=(0,P.Z)(),{reportTACError:h}=d_(),b=(0,Na.V)();return(0,n.useEffect)((()=>{(async()=>{if(!_?.teamId)return;const e=await(0,_u.YY)({teamId:_.teamId}),t=e.filter((e=>"accepted"===e.status)),a=(0,ft.sortWith)([(0,ft.descend)((0,ft.prop)("isBillingAdmin")),(0,ft.descend)((0,ft.prop)("isTeamCaptain"))])(t);u(a),o(e.length);const n=a[0].login;s(n)})().catch(h)}),[_?.teamId]),_?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.Ejs,{gap:"16px"},(0,D.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},g("team_account_heading_billing_admin")),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},g("team_account_billing_admin_access_information"))),(0,D.tZ)("div",{className:"container--cNaXIUykkA"},(0,D.tZ)("div",{className:Ag},(0,D.tZ)("span",{className:F()("text--Jm4WO6KPbc",{"emptyText--YnRMwaHw2m":!i})},i||"████████████████")),(0,D.tZ)("div",{className:kg},t.permission.adminAccess.hasFullAccess?(0,D.tZ)("div",{className:"editContainer--ZJk2BSq6aw"},(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",disabled:!l.length,onClick:()=>{p(!0),(0,v.N)(c.PageView.TacAccountBillingInfo)}},g("team_account_billing_admin_edit_contact")),m?(0,D.tZ)(lh,{defaultSelected:i,handleConfirmClick:async e=>{if(i===e)return;p(!1),(0,v.N)(c.PageView.TacAccount);const t=(0,Dg.v0)(a);if(t)try{await(new Tg.Z).updateBillingAdmin({auth:t,newAdminLogin:e,oldAdminLogin:i}),b.showAlert(g("team_account_billing_admin_notification_success"),d.BLW.SUCCESS),s(e)}catch{b.showAlert(g("team_account_billing_admin_notification_something_wrong"),d.BLW.ERROR)}else h(new Error(xg.N))},handleClose:()=>{p(!1),(0,v.N)(c.PageView.TacAccount)},membersList:l,allMembersCount:r,lee:t}):null):null))):(h(new Error(xg.N)),null)},dh="billing--etj61dTqkE",uh=({isDisabled:e})=>{var t;const[a,i]=n.useState(!1),{translate:s}=(0,P.Z)(),r=(0,_m.Y)(),{loading:o,billingInformation:l,last4DigitsFormatted:c,cardSvg:u,isExpired:m,expFormatted:p,pollUntilCardUpdate:_}=Xp({});if(r.status!==W.rq.Success||!r.data||o)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});Fp(r.data);const g=()=>(0,D.tZ)("div",null,(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{_(),i(!0)},sx:{marginTop:"1em"}},a?t||(t=(0,D.tZ)(Pp.J,{b2c:!1,setPaymentLoading:i})):s("team_account_payment_add_credit_card")));return Fp(r.data),(0,D.tZ)("div",{style:{marginTop:"2em"}},(0,D.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},s("team_account_paymentmethod_heading")),l?.billingType?c?(0,D.tZ)("div",{className:"container--GmEeyXCXpH"},(0,D.tZ)("div",{className:Ag},(0,D.tZ)("div",{className:dh},(0,D.tZ)("div",{className:dh},u,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard"},(0,D.tZ)("span",{style:{marginLeft:"10px"}},"••••"),(0,D.tZ)("span",{"data-testid":"card-last-four",style:{marginLeft:"3px"}},c)))),m?(0,D.tZ)(d.nvN,{color:d.O9T.red00,sx:{marginBottom:"8px",fontSize:14}},s("manage_subscription_payment_section_expired_stripe")):(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard",sx:{marginBottom:"8px"}},p?s("manage_subscription_payment_section_expiration_date",{date:p}):null)),(0,D.tZ)("div",{className:kg},(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{_(),i(!0),Fp(r.data)},disabled:e},a?(0,D.tZ)(Pp.J,{b2c:!1,setPaymentLoading:i}):s("team_account_payment_edit_credit_card")))):(0,D.tZ)("div",{sx:{marginTop:"1em"}},(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},s("team_account_paymentmethod_payment_method_unknow"))),(0,D.tZ)(g,null)):(0,D.tZ)("div",{sx:{marginTop:"1em"}},(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},s("team_account_paymentmethod_no_payment_method"))),(0,D.tZ)(g,null)))},{grey01:mh}=d.O9T,ph=({date:e,details:t,heading:a,price:i})=>n.createElement("div",null,n.createElement(d.nvN,{color:mh,as:"h2",bold:!0,size:"small"},a),e?n.createElement("span",{className:"date--cEPeZI7Zvc"},e):null,t?n.createElement("span",{className:"details--dvMS3I6Pwm"},t):null,i?n.createElement("span",{className:"price--GFbUHjFKT4"},i):null),_h=({endDate:e,lee:t,lastBillingDateUnix:a,nextBillingDetails:i,onRequestTeamUpgrade:s,handleGetPastReceipts:r,isFreeTrial:o,isGracePeriod:l,isRenewalStopped:c,usersToBeRenewedCount:d})=>{const{translate:u}=(0,P.Z)(),m=()=>n.createElement("span",{style:{color:t.styleVars.grey}},"█████████"),p=e=>n.createElement("span",null,u("team_account_billing_date_trial_time_left",{count:(0,j.Ob)((0,xt.Z)(e))})),_=()=>o.bind((e=>l.map((t=>e&&!t)))).valueOr(null),g=_(),h=o.bind((e=>l.map((t=>e&&t)))).valueOr(null),b=i.caseOf({just:()=>!0,nothing:()=>!1});return n.createElement("div",{className:"inner--U_l4qsmnoY"},g||h?(()=>{var t;const i=m();return a.caseOf({just:t=>{const[a,i]=(()=>{const t=m();return e.caseOf({just:e=>[p(e),n.createElement("span",null,u("team_account_heading_freetrial_signup_date"))],nothing:()=>[t,t]})})();return n.createElement(ph,{date:u.shortDate((0,xt.Z)(t),Ze._T.ll),details:a,heading:_()?i:u("team_account_heading_graceperiod_start_date")})},nothing:()=>t||(t=n.createElement(ph,{date:i,details:i,heading:i}))})})():(()=>{var e;const t=m();return c?n.createElement(ph,{date:t,details:t,heading:t}):i.caseOf({just:e=>{const t=u.shortDate((0,xt.Z)(e.dateUnix),Ze._T.ll),a=d.caseOf({just:e=>u("team_account_billing_date_members_renewed",{count:e}),nothing:()=>u("team_account_billing_date_members_renewed_loading")});return n.createElement(ph,{date:t,details:a,heading:u("team_account_heading_next_billing_date"),price:u.price(e.currency,e.amount/100)})},nothing:()=>e||(e=n.createElement(ph,{date:t,details:t,heading:t}))})})(),(b||g||h)&&n.createElement("div",{className:"buttonContainer--p59GQJO505"},g||h?n.createElement(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:s},u("team_account_billing_date_cta_upgrade")):n.createElement(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:r},u("team_account_billing_date_cta_past_receipts"))))};var gh=a(204084);var hh,bh,yh,Ch,wh,Eh,vh=a(468689);const Nh=()=>n.createElement("span",{style:{color:d.O9T.grey06}},"█████████"),Sh=({nextBillingDetails:e,isFreeTrial:t,isRenewalStopped:a,onRequestTeamUpgrade:i,handleGetPastReceipts:s,usersToBeRenewedCount:r})=>{const{translate:o}=(0,P.Z)(),l=(0,_m.Y)(),c=t.caseOf({just:e=>e,nothing:()=>({})}),u=e.caseOf({just:e=>e,nothing:()=>({})}),{amount:m,currency:p}=u,_=r.caseOf({just:e=>e,nothing:()=>null}),g=l.status===W.rq.Success&&l.data.endDate?(0,xt.Z)(l.data.endDate):null,h=m/100,b=h&&_?h/_:0,{isLoading:y,expectedTaxInformation:C}=mp({total:m}),{loading:w,billingCountry:E}=ip();if(w)return n.createElement(d.HoD,{color:d.O9T.midGreen00});const v="US"===E?"team_account_teamplan_plan_total_with_tax":"team_account_teamplan_plan_total_with_vat",N=!y&&void 0!==C?.expectedTaxesInCents&&C?.expectedTaxesInCents>0,S=N&&m&&C?.expectedTaxesInCents?(m+C.expectedTaxesInCents)/100:void 0,I=()=>n.createElement(d.Ejs,{sx:{marginTop:"72px",display:"flex",justifyContent:"center"}},n.createElement(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:s},o("team_account_teamplan_plan_download_billing_history")));return n.createElement(d.Ejs,{flexDirection:"column",gap:"24px"},c&&n.createElement(d.Ejs,{sx:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:d.O9T.white,gap:"8px"}},n.createElement(d.nvN,{color:d.O9T.grey00},o("team_account_teamplan_plan_header_trial")),n.createElement(d.Ejs,{sx:{marginTop:"16px"}},n.createElement(d.X6q,{size:"small"},g?o.shortDate(g,Ze.qG.LL):hh||(hh=n.createElement(Nh,null)))),n.createElement(d.nvN,{color:d.O9T.black},g?o("team_account_teamplan_plan_copy_trial",{expireDate:o.shortDate(g,Ze.qG.MMMM_D)}):bh||(bh=n.createElement(Nh,null))),n.createElement(d.Ejs,{sx:{marginTop:"72px",display:"flex",justifyContent:"center"}},n.createElement(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:i},o("team_account_teamplan_plan_buy_dashlane")))),!c&&!a&&n.createElement(d.Ejs,{sx:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:d.O9T.white,gap:"8px"}},n.createElement(d.nvN,{color:d.O9T.grey00},o("team_account_teamplan_plan_header_annual")),n.createElement(d.Ejs,{sx:{marginTop:"16px"}},n.createElement(d.X6q,{size:"small"},g?o.shortDate(g,Ze.qG.ll):yh||(yh=n.createElement(Nh,null)))),N?n.createElement(d.nvN,{color:d.O9T.black},o(v,{numSeats:_,seatCost:b?o.price(p,b,{notation:"compact"}):null,totalCost:S?o.price(p,S):null})):n.createElement(d.nvN,{color:d.O9T.black},o("team_account_teamplan_plan_copy",{numSeats:_,seatCost:b?o.price(p,b,{notation:"compact"}):null,totalCost:h?o.price(p,h,{notation:"compact"}):null})),n.createElement(I,null)),!c&&a&&n.createElement(d.Ejs,{sx:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:d.O9T.white,gap:"8px"}},Ch||(Ch=n.createElement(d.nvN,null,n.createElement(Nh,null))),n.createElement(d.Ejs,{sx:{marginTop:"16px"}},wh||(wh=n.createElement(d.X6q,{size:"small"},n.createElement(Nh,null)))),Eh||(Eh=n.createElement(d.nvN,null,n.createElement(Nh,null))),n.createElement(I,null)))};var Ih;const fh=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(d.Ejs,{gap:"16px",sx:{margin:"24px 0"}},(0,D.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},e("team_account_invoice_payment_plan_heading")),(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},e("team_account_invoice_payment_plan_pay_credit_card")),(0,D.tZ)(d.nvN,{size:"small"},(0,D.tZ)(d.rUS,{href:bp.Bw,target:"_blank",rel:"noopener noreferrer",sx:{color:"ds.text.neutral.quiet",fontWeight:"400"}},e("team_account_invoice_payment_plan_contact_support")))),(0,D.tZ)(d.Ejs,{flexDirection:"row",gap:"8px",alignItems:"center",sx:{width:"100%"}},(0,D.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px"}},Ih||(Ih=(0,D.tZ)(Ue.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.catchy",size:"medium"},e("team_account_invoice_payment"))))},xh=({isDisabled:e})=>{const[t,a]=(0,n.useState)(!1),{translate:i}=(0,P.Z)(),{loading:s,hasCreditCardPaymentMethod:r,last4DigitsFormatted:o,cardSvg:l,isExpired:u,expFormatted:m,pollUntilCardUpdate:p}=Xp({handleCardUpdate:e=>{e&&(0,v.K)(new c.UserAddNewPaymentMethodEvent({flowStep:c.FlowStep.Complete}))}});return s?(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00}):(0,D.tZ)(d.Ejs,{gap:"16px",sx:{marginTop:"24px"}},(0,D.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},i("team_account_invoice_payment_seats_heading")),r?(0,D.tZ)(d.T5p,{gridTemplateColumns:"1fr 1fr",sx:{width:"100%"}},(0,D.tZ)(d.dDn,{sx:{width:"300px"}},(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard",sx:{display:"flex",alignItems:"center"}},l,(0,D.tZ)("span",{style:{marginLeft:"10px"}},"••••"),(0,D.tZ)("span",{"data-testid":"card-last-four",style:{marginLeft:"3px"}},o)),u?(0,D.tZ)(d.nvN,{color:d.O9T.red00,sx:{marginTop:"8px",fontSize:14}},i("manage_subscription_payment_section_expired_stripe")):(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard",sx:{marginTop:"8px"}},m?i("manage_subscription_payment_section_expiration_date",{date:m}):null)),(0,D.tZ)(d.dDn,{alignSelf:"center"},(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{p(),a(!0)},disabled:e},t?(0,D.tZ)(Pp.J,{b2c:!1,setPaymentLoading:a}):i("team_account_payment_edit_credit_card")))):(0,D.tZ)(n.Fragment,null,(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},i("team_account_invoice_payment_seats_save_credit_card")),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},i("team_account_invoice_payment_seats_subscription"))),(0,D.tZ)("div",null,(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{(0,v.K)(new c.UserAddNewPaymentMethodEvent({flowStep:c.FlowStep.Start})),p(),a(!0)}},t?(0,D.tZ)(Pp.J,{b2c:!1,setPaymentLoading:a}):i("team_account_payment_add_credit_card")))))};var Mh,Th,Dh;const Zh=e=>{const t=(0,Be.w)("monetization_tac_mtu"),{translate:a}=(0,P.Z)(),i=e.planName.caseOf({just:()=>!1,nothing:()=>!0}),s=(0,Be.w)("monetization_extension_invoice_addingCC"),r=(0,_m.Y)(),o=(0,vh.J)();if(r.status!==W.rq.Success||!r.data||o.status!==W.rq.Success||!o.data)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const l="invoice"===r.data.planType,c=o.data.b2bStatus?.currentTeam?.isRenewalStopped;return(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.X6q,{size:"medium",as:"h1",sx:{mb:"32px"},color:"neutrals.13"},a("team_account_heading_billing_information")),(0,D.tZ)(d.Ejs,{gap:"32px"},(0,D.tZ)(d.Ejs,{sx:{backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px",flex:"1"},flexDirection:"column"},l&&s?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(ch,{lee:e.lee}),(0,D.tZ)("div",{sx:{marginBottom:"24px"}}),Mh||(Mh=(0,D.tZ)(tp,null)),Th||(Th=(0,D.tZ)(fh,null)),Dh||(Dh=(0,D.tZ)(tp,null)),(0,D.tZ)(xh,{isDisabled:i})):(0,D.tZ)(n.Fragment,null,(0,D.tZ)(ch,{lee:e.lee}),(0,D.tZ)(uh,{isDisabled:i}))),(0,D.tZ)(d.k$b,{sx:{maxWidth:"416px"}},t?(0,D.tZ)(Sh,{nextBillingDetails:e.nextBillingDetails,isFreeTrial:e.isFreeTrial,onRequestTeamUpgrade:e.onRequestTeamUpgrade,handleGetPastReceipts:e.handleGetPastReceipts,usersToBeRenewedCount:e.usersToBeRenewedCount,isRenewalStopped:c}):(0,D.tZ)(n.Fragment,null,(0,D.tZ)(_h,{endDate:e.endDate,lee:e.lee.child(gh.Z),lastBillingDateUnix:e.lastBillingDateUnix,nextBillingDetails:e.nextBillingDetails,onRequestTeamUpgrade:e.onRequestTeamUpgrade,handleGetPastReceipts:e.handleGetPastReceipts,isFreeTrial:e.isFreeTrial,isGracePeriod:e.isGracePeriod,usersToBeRenewedCount:e.usersToBeRenewedCount,isRenewalStopped:c}),(0,D.tZ)("div",{className:"rippedEdge--t9cXYbNScM"})))))};var Ah=a(844743);const kh={enter:"enter--ixjk82swCF",enterActive:"enterActive--wZwT0LPvIR",exit:"exit--VofQPAfgdO",exitActive:"exitActive--R4d2Fvb6kR"},Oh="priceDetailsEmphasized--YPHd8S_XIw";var Lh,zh,jh,Ph;const Rh=e=>{const t=e.value.split("//").map(((e,t)=>t%2?n.createElement("span",{className:Oh,key:e},e):e));return n.createElement("span",null,t)},Uh=e=>{const t=e.isOpen?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MS4yICgzNTM5NykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+cGx1cyBpY29uPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBvcHVwcyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjFzdC10aW1lLWJ1eWluZy1zZWF0cy1bZmVlZGJhY2tdLS12MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQzMS4wMDAwMDAsIC01MDIuMDAwMDAwKSIgZmlsbD0iIzQ3OEM5RCI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNjguMDAwMDAwLCA1MDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0icGx1cy1pY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2My4wMDAwMDAsIDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYsMTEuMjUgQzguODk5NDk0OTQsMTEuMjUgMTEuMjUsOC44OTk0OTQ5NCAxMS4yNSw2IEMxMS4yNSwzLjEwMDUwNTA2IDguODk5NDk0OTQsMC43NSA2LDAuNzUgQzMuMTAwNTA1MDYsMC43NSAwLjc1LDMuMTAwNTA1MDYgMC43NSw2IEMwLjc1LDguODk5NDk0OTQgMy4xMDA1MDUwNiwxMS4yNSA2LDExLjI1IFogTTYsMTIgQzIuNjg2MjkxNSwxMiAwLDkuMzEzNzA4NSAwLDYgQzAsMi42ODYyOTE1IDIuNjg2MjkxNSwwIDYsMCBDOS4zMTM3MDg1LDAgMTIsMi42ODYyOTE1IDEyLDYgQzEyLDkuMzEzNzA4NSA5LjMxMzcwODUsMTIgNiwxMiBaIiBpZD0iT3ZhbCI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJDb21iaW5lZC1TaGFwZSIgeD0iMy41IiB5PSI1LjUiIHdpZHRoPSI1IiBoZWlnaHQ9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MS4yICgzNTM5NykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+cGx1cyBpY29uPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBvcHVwcyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjFzdC10aW1lLWJ1eWluZy1zZWF0cy1bZmVlZGJhY2tdLS12MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQzMS4wMDAwMDAsIC01MDIuMDAwMDAwKSIgZmlsbD0iIzQ3OEM5RCI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNjguMDAwMDAwLCA1MDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0icGx1cy1pY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2My4wMDAwMDAsIDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYsMTEuMjUgQzguODk5NDk0OTQsMTEuMjUgMTEuMjUsOC44OTk0OTQ5NCAxMS4yNSw2IEMxMS4yNSwzLjEwMDUwNTA2IDguODk5NDk0OTQsMC43NSA2LDAuNzUgQzMuMTAwNTA1MDYsMC43NSAwLjc1LDMuMTAwNTA1MDYgMC43NSw2IEMwLjc1LDguODk5NDk0OTQgMy4xMDA1MDUwNiwxMS4yNSA2LDExLjI1IFogTTYsMTIgQzIuNjg2MjkxNSwxMiAwLDkuMzEzNzA4NSAwLDYgQzAsMi42ODYyOTE1IDIuNjg2MjkxNSwwIDYsMCBDOS4zMTM3MDg1LDAgMTIsMi42ODYyOTE1IDEyLDYgQzEyLDkuMzEzNzA4NSA5LjMxMzcwODUsMTIgNiwxMiBaIiBpZD0iT3ZhbCI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjUsNS41IEw2LjUsMy41IEw1LjUsMy41IEw1LjUsNS41IEwzLjUsNS41IEwzLjUsNi41IEw1LjUsNi41IEw1LjUsOC41IEw2LjUsOC41IEw2LjUsNi41IEw4LjUsNi41IEw4LjUsNS41IEw2LjUsNS41IFoiIGlkPSJDb21iaW5lZC1TaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=";return n.createElement("img",{src:t,className:"priceDetailsIcon--yr3DoXKVZw"})},Bh=e=>{const t=e.translate("team_account_teamplan_upgrade_premium_cost_breakdown_prorata",{count:e.daysLeftInBillingCycle,dueNow:e.dueNowTranslation}),a=e.additionalSeatsDetails.reduce(((e,t)=>e+t.costPerSeat*t.numberOfSeats),0);return n.createElement("div",{className:"priceDetails--QzHTv9H2Af",onClick:e.toggleShowPriceDetails},n.createElement("span",null,e.showPriceDetails?e.translate("team_account_teamplan_upgrade_premium_hide_details"):e.translate("team_account_teamplan_upgrade_premium_show_details")),n.createElement(Uh,{isOpen:e.showPriceDetails}),e.showPriceDetails&&n.createElement(r.Z,null,n.createElement(o.Z,{classNames:{...kh},timeout:200},n.createElement("div",{className:"priceDetailsBreakdown--HMkqgxxoBB",key:"priceDetailsBreakdown"},n.createElement("div",null,e.additionalSeatsDetails.map(((t,a)=>n.createElement("div",{key:a,className:"calculusElement--Xwmgo3vVPi"},n.createElement("div",null,a>0?Lh||(Lh=n.createElement("span",null," + ")):null,zh||(zh=n.createElement("span",null,"(")),n.createElement(Rh,{value:e.translate("team_account_teamplan_upgrade_premium_cost_breakdown",{count:t.numberOfSeats,costPerSeat:e.translate.price(e.billingDetails.currency,t.costPerSeat)})}),jh||(jh=n.createElement("span",null,") ")))))),Ph||(Ph=n.createElement("span",null," = ")),n.createElement("span",{className:Oh,"data-testid":"price-details-emphasized"},e.translate.price(e.billingDetails.currency,a))),n.createElement("div",null,!e.isFreeToPaidUpgrade&&n.createElement(Rh,{value:t}))))))},Fh=(e,t)=>t.startMembers-e.startMembers,Gh=(e,t,a)=>{if(!a)return[];const n=a.slice(0).sort(Fh);if(0!==n[n.length-1].startMembers)throw new Error("getAdditionalSeatsCostDetails:: missing tier one in price ranges");if(e<0||t<0)throw new Error("getAdditionalSeatsCostDetails:: number of licences cannot be negative");return n.reduce(((e,t)=>({membersRangeEnd:a,costDetails:n},i)=>{const s=i.startMembers;if(s<=t&&a>e&&t>e){const r=Math.max(Math.max(s-1,e),0),o=Math.min(t,a-1);n.unshift({costPerSeat:i.price/100,numberOfSeats:o-r})}return{membersRangeEnd:s,costDetails:n}})(e,t),{membersRangeEnd:Number.MAX_VALUE,costDetails:[]}).costDetails};var Wh=a(167458),Vh=a(328290),Hh=a(60797);const qh=54999,Yh="sales@dashlane.com",Qh=(e,t)=>e?Math.max(t,2):0,$h=e=>e>qh,Kh=(e,t,a)=>e<Qh(t,a),Xh=(e,t,a)=>!!e&&!$h(e)&&!Kh(e,t,a),Jh=({billingDetails:e,additionalSeatsDetails:t})=>{var a,n;const{translate:i}=(0,P.Z)(),s=e.additionalSeats.seatsCount,r=null!=(a=e.additionalSeats.taxes)?a:0,o=i.price(e.currency,r/100),l=r>0,c=e.renewal.value+(null!=(n=e.renewal.taxes)?n:0),d=i.price(e.currency,c/100),u=100*t.reduce(((e,t)=>e+t.costPerSeat*t.numberOfSeats),0),m=i.price(e.currency,u/100),p=u-e.additionalSeats.value,_=u+r-p;return{additionalSeatsCount:s,additionalSeatsTaxesTranslation:o,hasTax:l,renewalTotalPrice:d,tierPriceTranslation:m,proratedDiscountTranslation:i.price(e.currency,p/100),hasProratedDiscount:p>0,dueTodayTranslation:i.price(e.currency,_/100)}};var eb,tb,ab,nb,ib;const sb={display:"flex",margin:"24px 0",color:"ds.text.neutral.standard"},rb=({label:e,labelSx:t,value:a})=>(0,D.tZ)(d.Ejs,{sx:sb},e?(0,D.tZ)(d.k$b,{flex:"1",sx:{...t}},e):null,a?(0,D.tZ)(d.k$b,{flex:"0"},a):null),ob=e=>{const{additionalSeatsDetails:t,billingDetails:a,isComputingBilling:i,nextBillingDate:s,totalSeatCount:r,dueNowTranslation:o,planType:l}=e,{translate:c}=(0,P.Z)(),{additionalSeatsCount:u,additionalSeatsTaxesTranslation:m,hasTax:p,renewalTotalPrice:_,tierPriceTranslation:g,proratedDiscountTranslation:h,hasProratedDiscount:b}=Jh({billingDetails:a,additionalSeatsDetails:t}),{pollUntilCardUpdate:y}=Xp({}),[C,w]=(0,n.useState)(!1),E=(0,Be.w)("monetization_extension_invoice_addingCC"),{loading:v,billingCountry:N}=ip();if(v)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const S="US"===N?"team_account_teamplan_upgrade_tax":"team_account_teamplan_vat",I="invoice"===l?"team_account_teamplan_upgrade_invoice_renewal_price":p?"US"===N?"team_account_teamplan_upgrade_renewal_tax_price":"team_account_teamplan_upgrade_renewal_vat_price":"team_account_teamplan_upgrade_renewal_price";return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.Ejs,{sx:{padding:"28px 0",fontSize:4,fontWeight:"bold",color:"ds.text.neutral.catchy"}},(0,D.tZ)(ep.w,{inputWidth:"66px",label:e.seatCountLabel,id:"numberOfSeats",defaultValue:1,minValue:1,minValueDecrementButtonTooltip:e.getDisabledMinusButtonTooltipMessage(),onChange:e.onAdditionalSeatCountChange})),eb||(eb=(0,D.tZ)(tp,null)),(0,D.tZ)(rb,{label:c("team_account_teamplan_upgrade_premium_number_of_seats"),value:r}),(0,D.tZ)(rb,{label:c("team_account_teamplan_upgrade_new_seat",{count:u}),value:g}),p&&(0,D.tZ)(rb,{label:c(S),value:m}),b&&(0,D.tZ)(rb,{label:(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,null,c("team_account_teamplan_changeplan_order_summary_prorated_discount")),(0,D.tZ)(d.ua7,{content:c("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},(0,D.tZ)(d.uMt,{size:16,color:d.O9T.grey00}))),labelSx:{display:"flex",alignItems:"center"},value:h}),E&&(0,D.tZ)(n.Fragment,null,tb||(tb=(0,D.tZ)(tp,null)),(0,D.tZ)(d.nvN,{sx:{marginTop:"24px",fontSize:"18px"}},c("team_payment_method_dialog_credit_card")),(0,D.tZ)(d.Ejs,{sx:{...sb,borderWidth:"1px",borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px"}},(0,D.tZ)(d.k$b,{flex:"1",sx:{paddingLeft:"16px"}},ab||(ab=(0,D.tZ)(e_,{b2b:!0,hideTitle:!0,hideUpdateButton:!0,displayModifiedCreditCardView:!0}))),(0,D.tZ)(d.k$b,{flex:"0",sx:{margin:"auto 0",paddingRight:"12px"}},(0,D.tZ)(Ue.zx,{icon:nb||(nb=(0,D.tZ)(Ue.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",intensity:"supershy",onClick:()=>{y(),w(!0)}},C?(0,D.tZ)(Pp.J,{b2c:!1,setPaymentLoading:w,mode:Pp.A.UPDATE}):c("team_account_name_edit_label"))))),(0,D.tZ)(d.Ejs,{sx:sb},(0,D.tZ)(Ue.ke,{title:c(I,{totalPrice:_,totalSeat:r,date:c.shortDate(s,Ze._T.LL)})})),ib||(ib=(0,D.tZ)(tp,null)),(0,D.tZ)(d.Ejs,{sx:{display:"flex",marginTop:"24px",fontSize:4}},(0,D.tZ)(d.k$b,{flex:"1"},c("team_account_teamplan_upgrade_due_now")),(0,D.tZ)(db,{isComputing:i,price:o,className:"totalAmount--HEQwYG2sow"})))},lb="team_account_teamplan_upgrade_premium_below_used_seat_count",cb=e=>{let t=null;return e.isFreeToPaidUpgrade?t=e.translate("team_account_teamplan_upgrade_premium_billing_disclaimer"):e.nextBillingDate&&(t=e.translate("team_account_teamplan_upgrade_premium_billing_cycle_info",{count:e.daysLeftInBillingCycle,nextBillingDate:e.translate.shortDate(e.nextBillingDate,Ze._T.LL)})),n.createElement("div",{className:"billingCycle--OJZcVnvvdM"},t)},db=e=>{const t=e.isComputing?n.createElement(Qr.Z,{size:16,containerStyle:{display:"inline-block",position:"relative"}}):e.price;return n.createElement("span",{className:e.className},t)},ub=n.forwardRef((function(e,t){var a,i;const[s,r]=n.useState(0),[o,l]=n.useState(""),{translate:c}=(0,P.Z)(),{reportTACError:u}=d_(),m=(0,Be.w)("monetization_avalara_b2b_add_seats"),p=()=>{const t=m?1:0;return e.isFreeToPaidUpgrade?Math.max(e.numberOfCurrentUsedSlots,e.billingDetails.additionalSeats.seatsCount,2):t};function _(){return e.lee.state.additionalSeatCount.valueOr(p())}n.useEffect((()=>{const t=p();return r(t),e.onFormValidityChange&&e.onFormValidityChange(Xh(t,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots)),function(){e.lee.dispatch(Wh.jm()),e.lee.dispatch(Wh.Ao({seatCount:Z.Maybe.nothing(),isSeatCountAboveCap:!1,isSeatCountBelowMinimum:!1}))}}),[]),n.useImperativeHandle(t,(()=>({getAdditionalSeatCount:_})));const g=t=>{e.onFormValidityChange&&e.onFormValidityChange(Xh(t,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots)),e.lee.dispatch(Wh.Ao({seatCount:Z.Maybe.just(t),isSeatCountAboveCap:$h(t),isSeatCountBelowMinimum:Kh(t,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots)})),$h(t)||Kh(t,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots)||(r(t),e.onSeatCountChange(t))},h=async()=>{var t;const a=null!=(t=o.trim())?t:"",n=(0,Dg.v0)(e.lee.globalState);if(n)try{await(new Ah.Z).teamCoupon({auth:n,coupon:a}),e.onPromoCodeRedeemed?.(!0),e.lee.dispatch(Wh.kB({isRedeemed:!0})),g(s)}catch(t){e.onPromoCodeRedeemed?.(!1),e.lee.dispatch(Wh.kB({isRedeemed:!1})),u(t)}else u(new Error(xg.N))},b=()=>{const t=_()<=Qh(e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots);if(e.isFreeToPaidUpgrade&&t)return _()<2?c("team_account_teamplan_upgrade_premium_below_minimum_seat_count",{minSeatCount:2}):_()>=2?c(lb,{usedSeatCount:e.numberOfCurrentUsedSlots}):void 0},{billingDetails:y,isFreeToPaidUpgrade:C}=e,w=s||y.renewal.seatsCount,E=e.isFreeToPaidUpgrade?w:e.numberOfCurrentPaidSlots+_(),v=e.nextBillingDetails.caseOf({just:e=>(0,xt.Z)(e.dateUnix),nothing:()=>new Date(0)}),N=(0,Vh.Z)(v,(0,Hh.Z)(new Date,0)),S=Gh(e.numberOfCurrentPaidSlots,y.renewal.seatsCount,e.currentPlanPriceRanges),I=null!=(a=y.renewal.taxes)?a:0,f=null!=(i=y.additionalSeats.taxes)?i:0,x=C?y.renewal.value+I:y.additionalSeats.value+f,M=e.lee.state.isSeatCountAboveCap?"-":c.price(y.currency,x/100),T=e.isFreeToPaidUpgrade&&S.length>1||!e.isFreeToPaidUpgrade&&S.length>0,D=e.isFreeToPaidUpgrade?c("team_account_teamplan_upgrade_premium_number_of_seats_free_to_paid"):c("team_account_teamplan_upgrade_premium_number_of_additional_seats"),{translation:A="",translationIntent:k}=e.lee.state.promoCodeResponse?((e,t)=>({translation:t(e?"team_account_teamplan_upgrade_redeem_success":"team_account_teamplan_upgrade_redeem_error"),translationIntent:e?"success":"error"}))(e.lee.state.promoCodeResponse.isRedeemed,c):{},O=e.lee.state.isSeatCountAboveCap||e.lee.state.isSeatCountBelowMinimum?e.lee.state.isSeatCountAboveCap?c("team_account_teamplan_upgrade_premium_buy_more_seats_than_cap",{seatCap:qh,salesEmail:Yh}):_()<(e.isFreeToPaidUpgrade?2:1)?e.isFreeToPaidUpgrade?c("team_account_teamplan_upgrade_premium_buy_more_seats_when_free",{count:2}):c("team_account_teamplan_upgrade_premium_buy_more_seats_when_premium",{count:1}):_()>=2?c(lb,{usedSeatCount:e.numberOfCurrentUsedSlots}):null:null;return n.createElement(n.Fragment,null,O?n.createElement(Ue.ke,{className:"errorToaster--DHpE944Smz",title:O,mood:"danger"}):null,m?n.createElement(ob,{nextBillingDate:v,billingDetails:y,dueNowTranslation:M,seatCountLabel:D,totalSeatCount:E,getDefaultSeatCount:p,getDisabledMinusButtonTooltipMessage:b,onAdditionalSeatCountChange:g,isComputingBilling:e.isComputingBilling,additionalSeatsDetails:S,planType:e.lee.globalState.carbon.accountInfo.premiumStatus?.planType}):n.createElement(n.Fragment,null,n.createElement("div",{className:"coloredFrame--NgUOzQ3IV2 frame--nxetsnM4MV"},n.createElement(ep.w,{inputWidth:"100px",label:D,id:"numberOfSeats",defaultValue:p(),minValue:Qh(e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots),minValueDecrementButtonTooltip:b(),onChange:g})),n.createElement("div",{className:"frame--nxetsnM4MV"},n.createElement("div",{className:"line--gCtF_ud12m"},n.createElement("span",null,c("team_account_teamplan_upgrade_premium_number_of_seats")),n.createElement("span",{className:"value--tlJVLXeNUT"},E)),n.createElement("div",{className:"redeem--jgU2nRWAMn"},n.createElement(d.oil,{fullWidth:!0,value:o,placeholder:c("team_account_teamplan_upgrade_premium_coupon"),onChange:e=>{const{value:t}=e.currentTarget;l(t)},onKeyPress:e=>{"Enter"===e.key&&h()},feedbackText:A,feedbackType:k}),n.createElement(d.zxk,{nature:"secondary",type:"button",disabled:!o.trim().length,onClick:h},c("team_account_teamplan_upgrade_premium_redeem")))),n.createElement(cb,{translate:c,isFreeToPaidUpgrade:e.isFreeToPaidUpgrade,nextBillingDate:v,daysLeftInBillingCycle:N}),n.createElement("div",{className:"dueNow--TtXnIjJSFZ"},n.createElement("span",null,c("team_account_teamplan_upgrade_premium_pay_today")),n.createElement(db,{isComputing:e.isComputingBilling,price:M,className:"amount--GSHg4aEnJY"}),T&&!e.isComputingBilling&&n.createElement(Bh,{toggleShowPriceDetails:()=>{e.lee.dispatch(Wh.Bc())},translate:c,showPriceDetails:e.lee.state.showPriceDetails,daysLeftInBillingCycle:N,billingDetails:y,dueNowTranslation:M,additionalSeatsDetails:S,isFreeToPaidUpgrade:e.isFreeToPaidUpgrade}))))}));var mb=a(660557);const pb=({teamPlans:e,isFreeToPaidUpgrade:t,getLatestRequestedSeatCount:a})=>{const{reportTACError:i}=d_(),[s,r]=n.useState({renewal:{seatsCount:0,value:0,taxes:0},additionalSeats:{seatsCount:0,value:0,taxes:0},currency:"usd"}),[o,l]=n.useState(!1),[c,d]=n.useState(0),[m,p]=n.useState(0),_=(0,Be.w)("monetization_avalara_b2b_add_seats"),g=(0,he.debounce)((n=>{var s;_?(async e=>{try{var n,s;const i=await u.C.computePlanPricing({seats:e});if(!i.success)return;const c={renewal:{seatsCount:(o=i.data).renewal.seatsCount,value:o.renewal.price.value,taxes:o.renewal.price.taxes},additionalSeats:{seatsCount:o.additionalSeats.seatsCount,value:o.additionalSeats.price.value,taxes:o.additionalSeats.price.taxes},currency:o.renewal.price.currency};if(null!==a&&a()!==c.additionalSeats.seatsCount)return;const m=t?c.renewal.value:c.additionalSeats.value,_=t?null!=(n=c.renewal.taxes)?n:0:null!=(s=c.additionalSeats.taxes)?s:0;d(m),p(_),r(c),l(!1)}catch(e){i(e)}var o})(n):(s=n,e&&e.computePlanPricing({seats:s}).then((e=>{const n=(e=>({renewal:{seatsCount:e.renewal.seatsCount,value:e.renewal.price.value},additionalSeats:{seatsCount:e.additionalSeats.seatsCount,value:e.additionalSeats.price.value},currency:e.renewal.price.currency}))(e);if(null!==a&&a()!==n.additionalSeats.seatsCount)return;const i=t?n.renewal.value:n.additionalSeats.value;d(i),r(n),l(!1)})).catch(i))}),500);return{billingDetails:s,isComputingBilling:o,amountToPay:c,amountToTax:m,onSeatCountChange:e=>{g(e),l(!0)}}},_b="team_account_teamplan_upgrade_premium_next",gb=e=>{const t=n.useRef(null),[a,i]=n.useState(!1),{translate:s}=(0,P.Z)(),{reportTACError:r}=d_(),o=(0,Be.w)("monetization_avalara_b2b_add_seats"),l=(0,Be.w)("monetization_extension_invoice_addingCC"),m=e.lee.apiMiddleware.teamPlans?e.lee.apiMiddleware.teamPlans:(r(new Error("teamPlans missing in apiMiddleware")),null),_=n.useCallback((()=>{const a=o?1:0;return Z.Maybe.maybe(t.current).caseOf({just:e=>e.getAdditionalSeatCount(),nothing:()=>e.isFreeToPaidUpgrade?Math.max(e.numberOfCurrentUsedSlots,2):a})}),[o,e.isFreeToPaidUpgrade,e.numberOfCurrentUsedSlots]),{billingDetails:g,isComputingBilling:h,onSeatCountChange:b}=pb({teamPlans:m,isFreeToPaidUpgrade:e.isFreeToPaidUpgrade,getLatestRequestedSeatCount:_}),y=async()=>{const t=(0,Dg.v0)(e.lee.globalState);if(!t)throw new Error(xg.N);try{const{assignedPlanDetails:a,planDetails:n}=await(async e=>{const t=await(new Tg.Z).status({auth:e}),{assignedPlanDetails:a,planDetails:n}=t.content.team;return{assignedPlanDetails:a,planDetails:n}})(t);e.lee.dispatch(mb.tl()),e.lee.dispatch(mb.fD(a.name)),e.lee.dispatch(mb.BO(a)),e.lee.dispatch(mb.J9(n.priceRanges))}catch(e){r(e)}},C=(0,j.Uo)({tier:e.planTier,translate:s}),w=n.useCallback((t=>{e.lee.dispatch(mb.Dz(t))}),[]);n.useEffect((()=>{y(),e.isOpen&&w(!0)}),[]),n.useEffect((()=>{let t;return e.isOpen?(b(_()),t=window.setTimeout((()=>{w(!0)}),0)):t=window.setTimeout((()=>{w(!1),e.lee.dispatch(mb.qr(!1)),e.lee.dispatch(mb.Yl(!1))}),0),()=>{t&&clearTimeout(t)}}),[_,w,e.isOpen]);const E=()=>{e.lee.dispatch(mb.Dz(!1)),e.lee.dispatch(mb.Yl(!0)),e.lee.dispatch(mb.Ve(_()))},N=()=>{(0,v.K)(new c.UserBuySeatEvent({flowStep:c.FlowStep.Error,hasPromo:!1,initialSeatCount:g.renewal.seatsCount,priceAmountCents:g.additionalSeats.value,priceCurrencyCode:c.PriceCurrencyCode[g.currency],purchasedSeatCount:g.additionalSeats.seatsCount,errorCheckout:c.ErrorCheckout.UnexpectedUnknown}))},S=Gh(e.numberOfCurrentPaidSlots,g.renewal.seatsCount,e.lee.state.currentPlanPriceRange),I=()=>{e.onRequestClose(),e.onUserAcknowledgesPlanTypeUpdate()},f=()=>{e.onRequestClose()},x=o?s("team_account_teamplan_upgrade_add_seats_title",{plan:C}):s("team_account_teamplan_upgrade_premium_title"),M=(0,D.tZ)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",maxWidth:"100%"}},(0,D.tZ)(Ue.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:f,sx:{marginRight:"8px"}},s("team_account_teamplan_upgrade_premium_cancel")),o?(0,D.tZ)(Ue.zx,{mood:"brand",size:"medium",onClick:e.isFreeToPaidUpgrade?E:async()=>{e.lee.dispatch(mb.Dz(!1)),e.lee.dispatch(mb.qr(!0));try{(await u.C.addSeats({seats:_()})).success?((0,v.K)(new c.UserBuySeatEvent({flowStep:c.FlowStep.Complete,hasPromo:!1,initialSeatCount:g.renewal.seatsCount,priceAmountCents:g.additionalSeats.value,priceCurrencyCode:c.PriceCurrencyCode[g.currency],purchasedSeatCount:g.additionalSeats.seatsCount})),l&&e.onUpgradeSuccess(S,g),e.lee.dispatch(mb.rX({status:!0}))):(e.lee.dispatch(mb.rX({status:!1,code:"failure"})),N())}catch{e.lee.dispatch(mb.rX({status:!1,code:"failure"})),N()}}},s(e.isFreeToPaidUpgrade?_b:"team_account_teamplan_upgrade_buy_seat",{count:_()})):(0,D.tZ)(Ue.zx,{mood:"brand",size:"medium",onClick:e.isFreeToPaidUpgrade?E:async()=>{if(e.lee.dispatch(mb.Dz(!1)),e.lee.dispatch(mb.qr(!0)),m)try{await m.addSeats({seats:_()}),l&&e.onUpgradeSuccess(S,g),e.lee.dispatch(mb.rX({status:!0}))}catch{e.lee.dispatch(mb.rX({status:!1,code:"failure"})),N()}},disabled:!e.lee.state.isPremiumReady||!a},s(e.isFreeToPaidUpgrade?_b:"team_account_teamplan_upgrade_billing_confirm")));return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.u_l,{isOpen:l&&e.lee.state.isLoadingOpen,onClose:()=>{}},(0,D.tZ)(d.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{width:"100vw",height:"100vh",backgroundColor:d.O9T.dashGreen06}},(0,D.tZ)(d.HoD,{size:"88px",color:d.O9T.dashGreen00}),(0,D.tZ)(d.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",gap:"6px",sx:{paddingTop:"22px"}},(0,D.tZ)(d.nvN,{size:"medium",color:d.O9T.grey00},s("team_account_addseats_processing_copy_line_1")),(0,D.tZ)(d.nvN,{size:"medium",color:d.O9T.grey00},s("team_account_addseats_processing_copy_line_2"))))),(0,D.tZ)(p.o,{showCloseIcon:!0,footer:M,title:x,isOpen:e.lee.state.isPremiumOpen,onRequestClose:f},(0,D.tZ)(ub,{ref:t,isFreeToPaidUpgrade:e.isFreeToPaidUpgrade,lee:e.lee.child(Wh.ZP),planDetails:e.lee.state.planDetails,nextBillingDetails:e.nextBillingDetails,billingDetails:g,isComputingBilling:h,onSeatCountChange:b,onPlanDetailsLoaded:()=>{e.lee.dispatch(mb.tl())},onPromoCodeRedeemed:y,onFormValidityChange:e=>{i(e)},numberOfCurrentPaidSlots:e.numberOfCurrentPaidSlots,numberOfCurrentUsedSlots:e.numberOfCurrentUsedSlots,currentPlanPriceRanges:e.lee.state.currentPlanPriceRange})),(0,D.tZ)(p.o,{showCloseIcon:!0,footer:(0,D.tZ)(d.cNS,{secondaryButtonTitle:s("team_account_teamplan_upgrade_loading_close"),secondaryButtonOnClick:I}),title:e.lee.state.isUpgradeSuccess?s("team_account_teamplan_upgrade_billing_title_success"):s("team_account_teamplan_upgrade_billing_title_failure"),isOpen:!l&&e.lee.state.isLoadingOpen&&(e.lee.state.isUpgradeSuccess||e.lee.state.isUpgradeFailure),onRequestClose:I},(0,D.tZ)("div",{style:{display:e.lee.state.isUpgradeSuccess?"block":"none"}},s("team_account_teamplan_upgrade_success")),(0,D.tZ)("div",{style:{display:e.lee.state.isUpgradeFailure?"block":"none"}},s(`team_account_teamplan_upgrade_${e.lee.state.isUpgradeFailureCode}`))))};var hb=a(375510),bb=a(342868);const yb=e=>{const t=n.useRef(),a=n.useRef(),i=n.useRef(),s=n.useRef(),{translate:r}=(0,P.Z)(),{reportTACError:o}=d_(),[l,c]=n.useState(void 0);n.useEffect((()=>{const t=(0,Dg.v0)(e.lee.globalState);t?(new Tg.Z).status({auth:t}).then((e=>{c(e.content.team.info.name)})).catch(o):o(new Error(xg.N))}),[]);const u=()=>{e.lee.dispatch(hb.gk()),e.onClose()},m=()=>{const n=(0,Dg.v0)(e.lee.globalState);if(n)if(t.current?.value){u();try{(0,b.Yo)("https://ws1.dashlane.com/1/invoiceGeneration/generateTeamReceipt.pdf?"+(e=>{const n={...e,recipient:t.current?.value,company:a.current?.value,address:i.current?.value,vatNumber:s.current?.value};return bb.stringify(n)})(n))}catch(e){o(e)}}else e.lee.dispatch(hb.K7());else o(new Error(xg.N))},_=e.lee.state.showRecipientErrorText?{feedbackText:r("team_account_past_receipts_dialog_recipient_is_required"),feedbackType:"error"}:{};return n.createElement(p.o,{title:r("team_account_past_receipts_dialog_title"),showCloseIcon:!0,isOpen:e.isOpen,onRequestClose:()=>{u()},footer:n.createElement(d.cNS,{primaryButtonTitle:r("team_account_past_receipts_dialog_button_generate"),primaryButtonOnClick:()=>{m()}})},n.createElement(d.T5p,{as:"form",onSubmit:m,gap:"1em"},n.createElement(d.oil,{fullWidth:!0,label:r("team_account_past_receipts_dialog_recipient")+" *",placeholder:r("team_account_past_receipts_dialog_recipient_hint"),onKeyDown:()=>{e.lee.state.showRecipientErrorText&&""!==t.current?.value&&e.lee.dispatch(hb.V$())},ref:t,..._}),n.createElement(d.oil,{fullWidth:!0,label:r("team_account_past_receipts_dialog_company"),defaultValue:null!=l?l:"",placeholder:r("team_account_past_receipts_dialog_company_hint"),ref:a}),n.createElement(d.oil,{fullWidth:!0,label:r("team_account_past_receipts_dialog_billing_address"),placeholder:r("team_account_past_receipts_dialog_billing_address_hint"),ref:i}),n.createElement(d.oil,{fullWidth:!0,label:r("team_account_past_receipts_dialog_vat"),placeholder:r("team_account_past_receipts_dialog_vat_hint"),ref:s})))};var Cb=a(869748),wb=a(441054);var Eb;const vb=({label:e,value:t,...a})=>(0,Ue.tZ)(d.Ejs,{justifyContent:"flex-end",sx:{display:"flex",justifyContent:"flexEnd"},...a},e?(0,Ue.tZ)(d.k$b,{flex:"1",sx:{display:"flex",alignItems:"center"}},e):null,t?(0,Ue.tZ)(d.k$b,{sx:{display:"flex",alignItems:"center"}},t):null),Nb=({billingDetails:e,additionalSeatsDetails:t})=>{const{translate:a}=(0,P.Z)(),{additionalSeatsCount:n,additionalSeatsTaxesTranslation:i,hasTax:s,tierPriceTranslation:r,proratedDiscountTranslation:o,hasProratedDiscount:l,dueTodayTranslation:c}=Jh({billingDetails:e,additionalSeatsDetails:t});return(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"32px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",borderRadius:"4px"}},(0,Ue.tZ)(vb,{alignItems:"end",label:(0,Ue.tZ)(d.X6q,{size:"small"},a("team_account_addseats_success_order_summary_header")),value:(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.quiet"},(0,wg.Z)(new Date,"MM/dd/yyyy"))}),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"16px"},(0,Ue.tZ)(vb,{label:(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_teamplan_upgrade_new_seat",{count:n})),value:(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},r)}),s?(0,Ue.tZ)(vb,{label:(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_tax")),value:(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},i)}):null,l?(0,Ue.tZ)(vb,{label:(0,Ue.tZ)(d.Ejs,{alignItems:"center",gap:"5px"},(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_prorated_discount")),(0,Ue.tZ)(d.ua7,{content:a("team_account_addseats_success_order_summary_prorated_discount_tooltip")},Eb||(Eb=(0,Ue.tZ)(d.uMt,{size:16,color:"ds.text.neutral.catchy"})))),value:(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},o)}):null,(0,Ue.tZ)("div",{style:{width:"100%",borderColor:Ue.O9.lightTheme.ds.border.neutral.quiet.idle,borderWidth:"1px",borderStyle:"solid",borderBottom:"0",margin:"0"}}),(0,Ue.tZ)(vb,{label:(0,Ue.tZ)(d.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_total")),value:(0,Ue.tZ)(d.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},c)})))},Sb=({isBusiness:e,additionalSeats:t,onGetPastReceipts:a})=>{const{routes:n}=(0,i.Xo)(),{translate:s}=(0,P.Z)();return(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"40px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",borderRadius:"4px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px"}},(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},e?(0,Ue.tZ)(d.X6q,{size:"small"},s("team_account_addseats_success_newseats_header_business",{count:t})):(0,Ue.tZ)(d.X6q,{size:"small"},s("team_account_addseats_success_newseats_header_team",{count:t})),(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.quiet"},s("team_account_addseats_success_newseats_body"))),(0,Ue.tZ)(d.Ejs,{gap:"8px"},(0,Ue.tZ)(i.rU,{to:n.teamMembersRoutePath},(0,Ue.tZ)(Ue.zx,{onClick:()=>{(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!0,isResend:!1}))},mood:"brand"},s("team_account_addseats_success_newseats_invite_users_cta"))),(0,Ue.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",onClick:a},s("team_account_addseats_success_newseats_billing_history_cta"))))};var Ib;const fb=()=>{const{translate:e}=(0,P.Z)();return(0,Ue.tZ)(d.Ejs,{flexWrap:"nowrap",gap:"16px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"4px",padding:"32px"}},(0,Ue.tZ)(d.Ejs,{sx:{padding:"10px 8px",width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle"}},Ib||(Ib=(0,Ue.tZ)(Ue.JO,{name:"GroupOutlined",color:"ds.text.neutral.standard"}))),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"1"}},(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,Ue.tZ)(d.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},e("team_account_addseats_success_friends_family_header")),(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},e("team_account_addseats_success_friends_family_body"))),(0,Ue.tZ)("a",{href:"https://support.dashlane.com/hc/articles/360013369820-Dashlane-Friends-Family-plan",target:"_blank",rel:"noreferrer"},(0,Ue.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet"},e("team_account_addseats_success_friends_family_learn_more_cta")))))};var xb,Mb,Tb,Db=a(217387);const Zb=({planTier:e,billingDetails:t,additionalSeatsDetails:a,onGetPastReceipts:i,onNavigate:s})=>{const{translate:r}=(0,P.Z)(),{additionalSeatsCount:o}=Jh({billingDetails:t,additionalSeatsDetails:a}),l=(0,Ue.tZ)("div",null,(0,Ue.tZ)(d.zxk,{type:"button",nature:"ghost",onClick:s},(0,Ue.tZ)(d.Ejs,{alignItems:"center"},xb||(xb=(0,Ue.tZ)(d.xCe,{size:14})),(0,Ue.tZ)(d.nvN,{bold:!0,sx:{marginLeft:"14px",color:"ds.text.neutral.standard"}},r("team_account_teamplan_changeplan_back"))))),c=e===Db.SpaceTier.Business,{setNavBarChildren:u}=(0,n.useContext)(gg);return(0,n.useEffect)((()=>(u(l),()=>{u(null),s()})),[]),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"32px",sx:{padding:"32px",flexWrap:"nowrap"}},(0,Ue.tZ)(d.Ejs,{gap:"16px",sx:{flexWrap:"nowrap"}},(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"2",maxWidth:"632px"}},(0,Ue.tZ)(Sb,{onGetPastReceipts:i,isBusiness:c,additionalSeats:o}),c?Mb||(Mb=(0,Ue.tZ)(fb,null)):null),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"1"}},(0,Ue.tZ)(Nb,{billingDetails:t,additionalSeatsDetails:a}),Tb||(Tb=(0,Ue.tZ)(vg,null)))))};var Ab,kb,Ob,Lb,zb,jb,Pb;const Rb={marginTop:"16px","&:hover":{cursor:"pointer",borderWidth:"2px",borderColor:"ds.border.brand.standard.hover"}},Ub={width:"100%",padding:"20px 16px"},Bb={padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",margin:"auto"},Fb=({cardTitle:e,cardDescription:t})=>(0,D.tZ)(n.Fragment,null,Ab||(Ab=(0,D.tZ)(d.dDn,{sx:Bb},(0,D.tZ)(Ue.JO,{name:"ItemPaymentOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,D.tZ)(d.dDn,null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0},e),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small",sx:{marginTop:"4px"}},t))),Gb=({lee:e,handleClose:t})=>{const[a,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),{translate:o}=(0,P.Z)(),l=()=>{t(),setTimeout((()=>{(0,v.N)(c.PageView.TacAccountBuy),e.dispatch(wb.Ip(!0))}),300)},{loading:u,hasCreditCardPaymentMethod:m,isExpired:p,pollUntilCardUpdate:_}=Xp({handleCardUpdate:l});if(u)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const g=m?{cardTitle:"team_payment_method_dialog_another_credit_card",cardDescription:"team_payment_method_dialog_replace_credit_card"}:{cardTitle:"team_payment_method_dialog_credit_card",cardDescription:"team_payment_method_dialog_secondary_payment"},h=m?Pp.A.REPLACE:Pp.A.ADD;return(0,D.tZ)(d.VqE,{isOpen:!0,closeIconName:o("_common_dialog_dismiss_button"),onClose:t,ariaDescribedby:"dialogContent"},(0,D.tZ)(d.j49,{color:"ds.text.neutral.quiet",sx:{marginBottom:"16px"}},o("team_payment_method_dialog_buy_seats")),(0,D.tZ)(d.$N8,{title:o("team_payment_method_dialog_title")}),(0,D.tZ)(d.a7O,null,m&&(0,D.tZ)(d.Zbd,{sx:Rb,onClick:()=>{p?(_(),r(!0)):l()}},(0,D.tZ)(d.T5p,{gap:"12px",gridTemplateColumns:"1fr 60px",sx:{width:"100%",padding:"0 16px"}},kb||(kb=(0,D.tZ)(d.dDn,null,(0,D.tZ)(e_,{b2b:!0,hideTitle:!0,hideUpdateButton:!0,displayModifiedCreditCardView:!0}))),(0,D.tZ)(d.dDn,{sx:{margin:"auto"}},p?(0,D.tZ)(Ue.zx,{mood:"brand",intensity:"supershy",size:"large"},s?(0,D.tZ)(Pp.J,{b2c:!1,setPaymentLoading:r,mode:Pp.A.UPDATE}):Ob||(Ob=(0,D.tZ)(Ue.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"}))):Lb||(Lb=(0,D.tZ)(Ue.zx,{mood:"brand",intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,D.tZ)(Ue.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})}))))),(0,D.tZ)(d.Zbd,{sx:Rb,onClick:()=>{_(),i(!0)}},(0,D.tZ)(d.T5p,{gap:"12px",gridTemplateColumns:"40px 1fr 60px",sx:Ub},(0,D.tZ)(Fb,{cardTitle:o(g.cardTitle),cardDescription:o(g.cardDescription)}),(0,D.tZ)(d.dDn,{sx:{margin:"auto"}},(0,D.tZ)(Ue.zx,{mood:"brand",intensity:"supershy",size:"large"},a?(0,D.tZ)(Pp.J,{b2c:!1,setPaymentLoading:i,mode:h}):zb||(zb=(0,D.tZ)(Ue.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})))))),(0,D.tZ)(d.Zbd,{sx:Rb,onClick:()=>{(0,b.Yo)(bp.i1)}},(0,D.tZ)(d.T5p,{gap:"12px",gridTemplateColumns:"40px 1fr 60px",sx:Ub},jb||(jb=(0,D.tZ)(d.dDn,{sx:Bb},(0,D.tZ)(Ue.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,D.tZ)(d.dDn,null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0},o("team_account_invoice_payment")),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small",sx:{marginTop:"4px"}},o("team_payment_method_dialog_support_team"))),(0,D.tZ)(d.dDn,{sx:{margin:"auto"}},Pb||(Pb=(0,D.tZ)(Ue.zx,{mood:"brand",intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,D.tZ)(Ue.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})})))))))};var Wb=a(530817);const{grey00:Vb}=d.O9T;let Hb;!function(e){e[e.TAB_SCIM=0]="TAB_SCIM",e[e.TAB_ACTIVE_DIRECTORY=1]="TAB_ACTIVE_DIRECTORY",e[e.TAB_AUTHENTICATION=2]="TAB_AUTHENTICATION"}(Hb||(Hb={}));const qb={width:"auto",whiteSpace:"nowrap"},Yb=(e,t)=>[e.url,...e.subPaths?e.subPaths.map((t=>`${e.url}${t}`)):[]].includes(t),Qb=n.memo((({title:e,titleBadge:t,subtitle:a,tabs:n=[],extraInfo:s})=>{const{pathname:r}=(0,i.TH)();return e||n.length?(0,D.tZ)("nav",{className:"tabMenuContainer--y2MfbHSdck"},e?(0,D.tZ)("h1",{className:F()("title--oWA0HcI8lo",{"withBadge--cKsPfyqEMI":Boolean(t)})},e,t):null,a?(0,D.tZ)(d.nvN,{as:"h2",size:"large",color:Vb,sx:{marginBottom:"32px",a:{fontWeight:600}}},a):null,null!=s?s:null,n.length?(0,D.tZ)(d.G8v,null,n.map((e=>(0,D.tZ)(d.h2L,{key:e.label,label:e.label,notification:e.notifications,selected:Yb(e,r),sx:e.isDisabled?{...qb,pointerEvents:"none",color:"ds.text.oddity.disabled"}:qb,as:t=>(0,D.tZ)(i.OL,{to:e.url,...t})})))):null):null})),$b=(0,n.memo)((({title:e})=>{const{translate:t}=(0,P.Z)(),{routes:a}=(0,S.Xo)(),n=(0,W.qr)({queryConfig:{query:u.C.getAccountRecoveryRequestCount},liveConfig:{live:u.C.liveAccountRecoveryRequestCount}},[]),i=We(),s=n.status===W.rq.Success&&n.data,r=t.markup("team_activity_header_subtitle_markup",{},{linkTarget:"_blank"});return(0,D.tZ)(Qb,{title:e,subtitle:r,tabs:(()=>{const e=[];return e.push({label:t("team_activity_header_tab_activity_logs"),url:`${a.teamActivityRoutePath}/recent`}),i&&e.push({label:t("team_activity_header_tab_mpr_requests"),url:`${a.teamActivityRoutePath}/requests`,notifications:s||0}),e})()})})),Kb=({header:e,children:t})=>(0,D.tZ)("div",{className:"consolePage--HtrkOKa6CF"},(0,D.tZ)("div",{className:"consolePageHeader--XGguZ6asj0"},e),(0,D.tZ)("div",{className:"consolePageContent--iyjSb57VUO"},t)),Xb=({isLoading:e,children:t})=>{const{translate:a}=(0,P.Z)();return n.createElement(Kb,{header:n.createElement($b,{title:a("team_activity_header_title")})},e?n.createElement(Qr.Z,{containerStyle:{minHeight:240}}):n.createElement("div",{className:"activityPanel--j8T_kHhXKa"},t))};var Jb=a(287327);const ey=({text:e})=>{if(!e)return null;const t=e.split("**");return 1===t.length?n.createElement("span",null,e):n.createElement("span",null,t.map(((e,t)=>t%2==1?n.createElement("strong",{key:`${e}-${t}`},e):e)))};var ty=a(750990);const ay=Object.values(ty.AuditLogType),ny="team_audit_log_user_imported_credentials_one",iy="team_audit_log_user_imported_credentials_many",sy={[ty.AuditLogType.UserInvited]:(e,t)=>t("team_audit_log_user_invited",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.UserReinvited]:(e,t)=>t("team_audit_log_user_reinvited",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.UserRemoved]:(e,t)=>t("team_audit_log_user_removed",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.TeamCaptainAdded]:(e,t)=>t("team_audit_log_team_captain_added",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.TeamCaptainRemoved]:(e,t)=>t("team_audit_log_team_captain_removed",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.GroupManagerAdded]:(e,t)=>t("team_audit_log_group_manager_added",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.GroupManagerRemoved]:(e,t)=>t("team_audit_log_group_manager_removed",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.MasterPasswordResetAccepted]:(e,t)=>t("team_audit_log_master_password_reset_accepted",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.MasterPasswordResetRefused]:(e,t)=>t("team_audit_log_master_password_reset_refused",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.BillingAdminAdded]:(e,t)=>t("team_audit_log_billing_admin_added",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.BillingAdminRemoved]:(e,t)=>t("team_audit_log_billing_admin_removed",{email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.UserGroupCreated]:(e,t)=>t("team_audit_log_user_group_created",{groupName:`**${e.properties?.group_name}**`}),[ty.AuditLogType.UserGroupRenamed]:(e,t)=>t("team_audit_log_user_group_renamed",{newGroupName:`**${e.properties?.group_name}**`,oldGroupName:`**${e.properties?.old_group_name}**`}),[ty.AuditLogType.UserGroupDeleted]:(e,t)=>t("team_audit_log_user_group_deleted",{groupName:`**${e.properties?.group_name}**`}),[ty.AuditLogType.UserJoinedUserGroup]:(e,t)=>t("team_audit_log_user_joined_user_group",{groupName:`**${e.properties?.group_name}**`}),[ty.AuditLogType.UserLeftUserGroup]:(e,t)=>t("team_audit_log_user_left_user_group",{groupName:`**${e.properties?.group_name}**`}),[ty.AuditLogType.UserInvitedToUserGroup]:(e,t)=>t("team_audit_log_user_invited_to_user_group",{groupName:`**${e.properties?.group_name}**`,email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.UserDeclinedInviteToUserGroup]:(e,t)=>t("team_audit_log_user_declined_invite_to_user_group",{groupName:`**${e.properties?.group_name}**`}),[ty.AuditLogType.UserRemovedFromUserGroup]:(e,t)=>t("team_audit_log_user_removed_from_user_group",{groupName:`**${e.properties?.group_name}**`,email:`**${e?.properties?.target_login}**`}),[ty.AuditLogType.DomainRequested]:(e,t)=>t("team_audit_log_domain_requested",{domain:`**${e.properties?.domain_url}**`}),[ty.AuditLogType.DomainValidated]:(e,t)=>t("team_audit_log_domain_validated",{domain:`**${e.properties?.domain_url}**`}),[ty.AuditLogType.SensitiveLogsEnabled]:(e,t)=>t("team_audit_log_collect_sensitive_data_audit_logs_enabled"),[ty.AuditLogType.SensitiveLogsDisabled]:(e,t)=>t("team_audit_log_collect_sensitive_data_audit_logs_disabled"),[ty.AuditLogType.SsoIdpMetadataSet]:(e,t)=>t("team_audit_log_sso_idp_metadata_set"),[ty.AuditLogType.SsoServiceProviderUrlSet]:(e,t)=>t("team_audit_log_sso_service_provider_url_set"),[ty.AuditLogType.SsoEnabled]:(e,t)=>t("team_audit_log_sso_enabled"),[ty.AuditLogType.SsoDisabled]:(e,t)=>t("team_audit_log_sso_disabled"),[ty.AuditLogType.TeamNameChanged]:(e,t)=>t("team_audit_log_team_name_changed",{name:`**${e.properties?.name}**`}),[ty.AuditLogType.NewBillingPeriodCreated]:(e,t)=>t("team_audit_log_new_billing_period_created",{date:`**${t.shortDate((0,xt.Z)(e.properties?.new_end_date_unix),Ze._T.L)}**`}),[ty.AuditLogType.SeatsAdded]:(e,t)=>t("team_audit_log_seats_added",{count:`**${e.properties?.seats_added}**`}),[ty.AuditLogType.ContactEmailChanged]:(e,t)=>t("team_audit_log_contact_email_changed",{email:`**${e?.properties?.new_contact_email}**`}),[ty.AuditLogType.MasterPasswordMobileResetEnabled]:(e,t)=>t("team_audit_log_master_password_mobile_reset_enabled",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[ty.AuditLogType.MasterPasswordMobileResetDisabled]:(e,t)=>t("team_audit_log_master_password_mobile_reset_disabled",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[ty.AuditLogType.MasterPasswordChanged]:(e,t)=>t("team_audit_log_master_password_changed"),[ty.AuditLogType.MpToViewPasswordsEnabled]:(e,t)=>t("team_audit_log_mp_to_view_passwords_enabled"),[ty.AuditLogType.MpToViewPasswordsDisabled]:(e,t)=>t("team_audit_log_mp_to_view_passwords_disabled"),[ty.AuditLogType.TwoFactorAuthenticationLoginMethodAdded]:(e,t)=>t("team_audit_log_two_factor_authentication_login_method_added"),[ty.AuditLogType.TwoFactorAuthenticationLoginMethodRemoved]:(e,t)=>t("team_audit_log_two_factor_authentication_login_method_removed"),[ty.AuditLogType.BiometricSignInDisabled]:(e,t)=>t("team_audit_log_biometric_sign_in_disabled",{deviceName:`**${e?.properties?.device_name}**`}),[ty.AuditLogType.DWMEmailAdded]:(e,t)=>t("team_audit_log_dwm_email_added",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[ty.AuditLogType.DWMEmailRemoved]:(e,t)=>t("team_audit_log_dwm_email_removed",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[ty.AuditLogType.DWMAlertReceived]:(e,t)=>t("team_audit_log_dwm_alert_received",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[ty.AuditLogType.UserDeviceAdded]:(e,t)=>t("team_audit_log_user_device_added",{name:`**${e.properties?.device_name}**`}),[ty.AuditLogType.UserDeviceRemoved]:(e,t)=>t("team_audit_log_user_device_removed",{name:`**${e.properties?.device_name}**`}),[ty.AuditLogType.UserDeviceLogin]:(e,t)=>t("team_audit_log_user_device_login",{name:`**${e.properties?.device_name}**`}),[ty.AuditLogType.MasterPasswordReset]:(e,t)=>t("team_audit_log_master_password_reset"),[ty.AuditLogType.RequestedAccountRecovery]:(e,t)=>t("team_audit_log_requested_account_recovery"),[ty.AuditLogType.CompletedAccountRecovery]:(e,t)=>t("team_audit_log_completed_account_recovery"),[ty.AuditLogType.MasterPasswordMobileReset]:(e,t)=>t("team_audit_log_master_password_mobile_reset",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[ty.AuditLogType.UserSharedCredentialWithGroup]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_group_full":"team_audit_log_user_shared_credential_with_group_limited",{domain:`**${a.properties.domain_url}**`,group:`**${a.properties.group_name}**`})},[ty.AuditLogType.UserSharedCredentialWithEmail]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_email_full":"team_audit_log_user_shared_credential_with_email_limited",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[ty.AuditLogType.UserSharedCredentialWithExternal]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_external_full":"team_audit_log_user_shared_credential_with_external_limited",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[ty.AuditLogType.UserSharedSecureNoteWithGroup]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_group_full":"team_audit_log_user_shared_secure_note_with_group_limited",{name:`**${a.properties.item_name}**`,group:`**${a.properties.group_name}**`})},[ty.AuditLogType.UserSharedSecureNoteWithEmail]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_email_full":"team_audit_log_user_shared_secure_note_with_email_limited",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[ty.AuditLogType.UserSharedSecureNoteWithExternal]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_external_full":"team_audit_log_user_shared_secure_note_with_external_limited",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[ty.AuditLogType.UserRevokedSharedCredentialGroup]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_group",{domain:`**${a.properties.domain_url}**`,group:`**${a.properties.group_name}**`})},[ty.AuditLogType.UserRevokedSharedCredentialEmail]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_email",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[ty.AuditLogType.UserRevokedSharedCredentialExternal]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_external",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[ty.AuditLogType.UserRevokedSharedSecureNoteGroup]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_group",{name:`**${a.properties.item_name}**`,group:`**${a.properties.group_name}**`})},[ty.AuditLogType.UserRevokedSharedSecureNoteEmail]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_email",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[ty.AuditLogType.UserRevokedSharedSecureNoteExternal]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_external",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[ty.AuditLogType.UserAcceptedSharingInviteSecureNote]:(e,t)=>t("team_audit_log_user_accepted_sharing_invite_secure_note",{name:`**${e.properties.item_name}**`}),[ty.AuditLogType.UserRejectedSharingInviteSecureNote]:(e,t)=>t("team_audit_log_user_rejected_sharing_invite_secure_note",{name:`**${e.properties.item_name}**`}),[ty.AuditLogType.UserAcceptedSharingInviteCredential]:(e,t)=>t("team_audit_log_user_accepted_sharing_invite_credential",{domain:`**${e.properties.domain_url}**`}),[ty.AuditLogType.UserRejectedSharingInviteCredential]:(e,t)=>t("team_audit_log_user_rejected_sharing_invite_credential",{domain:`**${e.properties.domain_url}**`}),[ty.AuditLogType.UserCreatedCredential]:(e,t)=>t("team_audit_log_user_created_credential",{domain:`**${e.properties.domain_url}**`}),[ty.AuditLogType.UserModifiedCredential]:(e,t)=>t("team_audit_log_user_modified_credential",{domain:`**${e.properties.domain_url}**`}),[ty.AuditLogType.UserDeletedCredential]:(e,t)=>t("team_audit_log_user_deleted_credential",{domain:`**${e.properties.domain_url}**`}),[ty.AuditLogType.UserImportedCredentials]:(e,t)=>t(e.properties.import_count>1?iy:ny,{importCount:`**${e.properties.import_count}**`}),[ty.AuditLogType.UserCreatedSecureNote]:(e,t)=>t("team_audit_log_user_created_secure_note",{name:`**${e.properties.item_name}**`}),[ty.AuditLogType.UserModifiedSecureNote]:(e,t)=>t("team_audit_log_user_modified_secure_note",{name:`**${e.properties.item_name}**`}),[ty.AuditLogType.UserDeletedSecureNote]:(e,t)=>t("team_audit_log_user_deleted_secure_note",{name:`**${e.properties.item_name}**`})},ry=(e,t)=>ay.includes(e.log_type)?sy[e.log_type](e,t):"",oy=Object.values(ty.AuditLogType),ly={table:"table--mfR78xcZe9",tableHead:"tableHead--YCQXFj5bUq",loginHeadCell:"loginHeadCell--jPwxyC874a",dateHeadCell:"dateHeadCell--FRHZHHwD2b",tableBody:"tableBody--VZKGv56Wgq",loginCell:"loginCell--GdxHLmyjUm",loginText:"loginText--M6tgnnYoDH",loginTextEmail:"loginTextEmail--PaU6Zf46bD",dateCell:"dateCell--JBqTpeYwB5"},cy=({columns:e})=>(0,D.tZ)("thead",null,(0,D.tZ)("tr",{sx:{backgroundColor:d.O9T.dashGreen06,color:d.O9T.dashGreen00},className:F()("tableHead--671BLxOj0q")},e?e.map((e=>(0,D.tZ)(n.Fragment,{key:e.headerKey},(0,D.tZ)("th",{colSpan:e.colSpan,onClick:e.onClick},e.headerElement?e.headerElement:null,e.tooltipLabel?(0,D.tZ)("button",{type:"button"},(0,D.tZ)(d.ua7,{content:e.tooltipLabel,sx:{textAlign:"start"}},(0,D.tZ)("span",{sx:{textTransform:"uppercase"}},e.headerLabel)),e.sortOrder?(0,D.tZ)("div",{className:"sortArrowContainer--FyrK9801Up"},(0,D.tZ)("img",{alt:e.sortOrder,className:F()("sortArrow--vU8QPawche",{"flip--fXyB7EqbAW":"desc"===e.sortOrder}),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iNiIgdmlld0JveD0iMCAwIDEwIDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNSAwLjVMNSA1LjVMMC41IDAuNSIgc3Ryb2tlPSIjMEUzNTNEIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg=="})):null):(0,D.tZ)("span",null,e.headerLabel))))):null)),dy=({children:e})=>{const{translate:t}=(0,P.Z)(),a=[{headerLabel:t("team_activity_list_head_admin"),headerKey:"admin"},{headerLabel:t("team_activity_list_head_action"),headerKey:"action"},{headerLabel:t("team_activity_list_head_time"),headerKey:"time"}];return n.createElement("table",{className:ly.table},n.createElement(cy,{columns:a}),n.createElement("tbody",{key:"table-body",className:ly.tableBody},e))};var uy=a(405611),my=a(786096);const py=({login:e,action:t,date:a})=>n.createElement("tr",null,n.createElement("td",{className:ly.loginCell},n.createElement(uy.q,{email:e,size:30}),n.createElement("div",{className:ly.loginText},n.createElement("span",{className:ly.loginTextEmail},e))),n.createElement("td",{className:ly.actionCell},t),n.createElement("td",{className:ly.dateCell},n.createElement(my.v,{date:a})));var _y=a(438042),gy=a(909087),hy=a(293020);const by=500;async function yy(){const e=new Date,t=(0,_y.Z)((0,gy.Z)(e,3)),a=(0,_y.Z)(e),n=await u.C.startAuditLogsQuery({startDateRangeUnix:t,endDateRangeUnix:a});if(n.success)return n;throw(0,v.K)(new c.UserDownloadAuditLogsDataEvent({flowStep:c.FlowStep.Error,auditLogDownloadError:c.AuditLogDownloadError.UnexpectedUnknown})),new Error("[startAuditLogsQuery] - Server Error: Unable to start audit logs query and fetch queryExecutionId")}async function Cy(e,t,a){const n=await u.C.getAuditLogQueryResults({queryExecutionId:e,maxResults:t,nextToken:a});return!n.success||n.data.state!==hy.GetAuditLogQueryResultsState.Running&&n.data.state!==hy.GetAuditLogQueryResultsState.Queued?n:(await new Promise((e=>setTimeout((()=>e()),3e3))),await Cy(e,t,a))}async function wy(e,t,a=1,n){const i=await Cy(t,by,n);if(e(a),i.success){let n=i.data.auditLogs;if(i.data.nextToken){const s=await wy(e,t,a+1,i.data.nextToken);return s&&(n=n.concat(s)),n}return n}throw(0,v.K)(new c.UserDownloadAuditLogsDataEvent({flowStep:c.FlowStep.Error,auditLogDownloadError:c.AuditLogDownloadError.NoLogData})),new Error("[fetchAuditLogsPages] - Server Error: Unable to load audit logs data")}const Ey={display:"block",height:"4px",borderRadius:1,transition:"width 1s ease-out",bg:"successes.4"},vy=({progressPercent:e})=>{const{translate:t}=(0,P.Z)(),a=Math.min(Math.max(e,0),100),n={width:`${a}%`},i=(0,d.jMf)([Ey,n]),s="download-progress-description";return(0,D.tZ)(d.Ejs,{alignItems:"flex-start",flexDirection:"column",fullWidth:!0,sx:{mt:"8px",maxWidth:"100%"}},(0,D.tZ)(d.Ejs,{flexDirection:"row",justifyContent:"space-between",fullWidth:!0,sx:{bg:"primaries.1",maxWidth:"100%"}},(0,D.tZ)("div",{sx:{position:"relative",width:"100%"}},(0,D.tZ)("span",{"aria-describedby":s,"data-testid":"download-progress-bar",role:"img",sx:i}))),(0,D.tZ)(d.nvN,{sx:{mt:"4px",color:d.O9T.dashGreen01},size:"x-small",id:s},t("team_activity_download_modal_progress",{progressPercentage:a})))},Ny=({isOpen:e,progress:t,onClose:a})=>{const{translate:n}=(0,P.Z)();return(0,D.tZ)(d.VqE,{isOpen:e,onClose:a,closeIconName:n("_common_dialog_dismiss_button"),ariaDescribedby:"csv-download-dialog-body",ariaLabelledby:"csv-download-dialog-title"},(0,D.tZ)(d.$N8,{id:"csv-download-dialog-title",title:n("team_activity_download_modal_title")}),(0,D.tZ)("div",{sx:{maxHeight:"fit-content",overflowX:"hidden",overflowY:"auto"}},(0,D.tZ)(vy,{progressPercent:t}),(0,D.tZ)(d.nvN,{size:"medium",sx:{marginTop:5,marginBottom:6,color:d.O9T.grey00}},n("team_activity_download_modal_body")),(0,D.tZ)(d.vDh,{severity:"warning",size:"small",title:n("team_activity_download_modal_warning")})))},Sy=Object.values(ty.AuditLogType),Iy=({lee:e})=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(""),{isStartAuditLogsQueryTriggered:s,isLoading:r,nextToken:o,hasError:l,list:u}=(e=>{const[t,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)([]),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1),_=(0,n.useCallback)((async t=>{try{a(!0);const n=await Cy(t,50,e&&""!==e?e:void 0),i=[hy.GetAuditLogQueryResultsState.Failed,hy.GetAuditLogQueryResultsState.Cancelled];!n.success||i.includes(n.data.state)?s(!0):(o(((e=[])=>[...e,...n.data.auditLogs])),n?.data.nextToken?c(n.data.nextToken):c(null))}catch(e){s(!0)}finally{a(!1)}}),[e]),g=(0,n.useCallback)((async()=>{try{a(!0);const e=await yy(),{queryExecutionId:t}=e.data;await _(t),u(t),p(!0)}catch(e){a(!1),s(!0)}}),[_]);return(0,n.useEffect)((()=>{m?""!==d?_(d):s(!0):g()}),[_]),{isStartAuditLogsQueryTriggered:m,isLoading:t,nextToken:l,hasError:i,list:r}})(a),m=!s&&r,p=s&&r,_=null!==o,g=(0,n.useRef)(null),h=(0,n.useRef)(null);(0,Wb.M)({hasMore:_,scrollContainerRef:g,bottomRef:h,loadMore:()=>{_&&i(o)}});const[b,y]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1),[E,N]=(0,n.useState)(0),[S,I]=(0,n.useState)([]),f=(0,Na.V)(),x=(0,n.useCallback)((()=>{w(!1),(0,v.N)(c.PageView.TacActivityList)}),[]),M=(0,n.useCallback)((e=>{const t=50+e-10;e<=10?N(5*e):e<=40&&e>10&&N(t)}),[]);(0,n.useEffect)((()=>{(async()=>{y(!0);const e=await yy(),t=await wy(M,e.data.queryExecutionId);I(t),y(!1)})()}),[M]);const T=async()=>{w(!0),N(0),y(!0),(0,v.N)(c.PageView.TacActivityDownload),(0,v.K)(new c.UserDownloadAuditLogsDataEvent({flowStep:c.FlowStep.Start,auditLogCount:0}));try{N(100);const e="\ufeff",a=((e,t)=>{const a=[t("team_activity_list_head_admin"),t("team_activity_list_head_action"),t("team_activity_list_head_time_csv")].join(",")+"\n",n=e.filter((e=>Sy.includes(e.log_type))).map((e=>{var a;const n=null!=(a=e.properties?.author_login)?a:"",i=ry(e,t).replace(/\*\*/g,"").replace(/[“”]/g,'"'),s=new Date(e.date_time).toISOString();return`${n},${i},${s.substr(0,10)} ${s.substr(11,8)}`}));return(0,v.K)(new c.UserDownloadAuditLogsDataEvent({flowStep:c.FlowStep.Complete,auditLogCount:n.length})),a+n.join("\n")})(S,t);setTimeout((()=>{try{(0,Xt.S)([e,a],"dashlane-activity-export.csv","text/csv;charset=utf-8"),y(!1),x()}catch(e){(0,v.K)(new c.UserDownloadAuditLogsDataEvent({flowStep:c.FlowStep.Error,auditLogDownloadError:c.AuditLogDownloadError.NoCsv}))}}),500)}catch(t){e.dispatchGlobal((0,Jb.wN)(((e,t)=>{const a="directorySyncKeyValidationError",n=()=>e.dispatchGlobal((0,Jb.FV)(a)),i=d.BLW.ERROR;return{key:a,level:i,textKey:"team_activity_download_modal_alert_error",handleClose:n,handleButtonClick:()=>{t(),n()},buttonTextKey:"team_activity_download_modal_alert_action"}})(e,T))),(0,v.K)(new c.UserDownloadAuditLogsDataEvent({flowStep:c.FlowStep.Error,auditLogDownloadError:c.AuditLogDownloadError.UnexpectedUnknown})),N(0),y(!1),x()}},Z=u.map((e=>((e,t)=>{var a;return oy.includes(e.log_type)?{uuid:e.uuid,date:new Date(e.date_time),activityDescription:ry(e,t),userLogin:null!=(a=e.properties?.author_login)?a:""}:null})(e,t))).filter((e=>null!==e));return(0,D.tZ)(Xb,{isLoading:!C&&m},(0,D.tZ)("div",{className:"container--XdLBgpl4YX",ref:g},(0,D.tZ)("div",{className:"top--RuWypqAKoN"},(0,D.tZ)(d.zxk,{type:"button",nature:"primary",onClick:T,disabled:b},(0,D.tZ)(d._8t,{color:d.O9T.white,sx:{marginRight:"10px"}}),t("team_activity_download_button"))),(0,D.tZ)(dy,null,Z.map((e=>(0,D.tZ)(py,{login:e.userLogin,action:(0,D.tZ)(ey,{text:e.activityDescription}),date:e.date,key:e.uuid})))),l?f.showAlert(t("_common_generic_error"),d.BLW.ERROR):null,(0,D.tZ)("div",{ref:h},p?(0,D.tZ)("div",{sx:{display:"flex",height:"40px",justifyContent:"center",paddingTop:"20px",paddingBottom:"60px"}},(0,D.tZ)(d.HoD,{size:40,color:d.O9T.dashGreen00})):null)),C?(0,D.tZ)(Ny,{isOpen:C,progress:E,onClose:()=>{x()}}):null)};var fy=a(550731);const xy={table:"table--qduhC1TPu3",tableHead:"tableHead--Z4_moYjvml",loginHeadCell:"loginHeadCell--BtAWmwV2jZ",dateHeadCell:"dateHeadCell--KFeTK0q_SH",tableBody:"tableBody--hefVlKDhhp",loginCell:"loginCell--Zam1sAKBC8",loginText:"loginText--TplsICu7bQ",loginTextEmail:"loginTextEmail--rxPAxEiUVd",actionCell:"actionCell--cglSMoOlh7",button:"button--v4n4SCN07C"},My=(0,n.memo)((e=>{const{translate:t}=(0,P.Z)(),{dateFormatter:a}=e,n=[{headerLabel:t("team_master_password_reset_table_head_member"),headerKey:"member"},{headerLabel:t("team_master_password_reset_table_head_time"),headerKey:"time"},{headerLabel:"",headerKey:"actions"}];return(0,D.tZ)("table",{className:xy.table},(0,D.tZ)(cy,{columns:n}),(0,D.tZ)("tbody",{key:"table-body",className:xy.tableBody},e.requests.map((t=>{const n=(0,xt.Z)(t.creationDateUnix),i=a(n);return(0,D.tZ)("tr",{key:(0,he.uniqueId)(),className:xy.loginCell},(0,D.tZ)("td",{className:xy.loginCell},(0,D.tZ)(uy.q,{email:t.login,size:30}),(0,D.tZ)("div",{className:xy.loginText},(0,D.tZ)("span",{className:xy.loginTextEmail},t.login))),(0,D.tZ)("td",{className:xy.dateCell},i),(0,D.tZ)("td",{className:xy.actionCell},(0,D.tZ)("img",{className:xy.button,onClick:()=>e.onDecline(t),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNS41IDEyLjVMMTIuNSA1LjVNMTIuNSAxMi41TDUuNSA1LjVNMC41IDlDMC41IDQuMzA1ODcgNC4zMDU4NyAwLjUgOSAwLjVDMTMuNjk0MSAwLjUgMTcuNSA0LjMwNTg3IDE3LjUgOUMxNy41IDEzLjY5NDEgMTMuNjk0MSAxNy41IDkgMTcuNUM0LjMwNTg3IDE3LjUgMC41IDEzLjY5NDEgMC41IDlaIiBzdHJva2U9IiNGRjAwMkQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}),(0,D.tZ)("img",{className:xy.button,onClick:()=>e.onAccept(t),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNiA5TDcuOTU5MjggMTFMMTEuOTc5NiA3TTAuNSA5QzAuNSA0LjMwNTQ1IDQuMzA2MyAwLjUgOSAwLjVDMTMuNjkzNyAwLjUgMTcuNSA0LjMwNTQ1IDE3LjUgOUMxNy41IDEzLjY5NDYgMTMuNjkzNyAxNy41IDkgMTcuNUM0LjMwNjMgMTcuNSAwLjUgMTMuNjk0NiAwLjUgOVoiIHN0cm9rZT0iIzIwQjQyMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="})))}))))})),Ty="dialogContent--koRKDSa9Ov",Dy="dialogContentStrong--OG0LUgIyIm dialogContent--koRKDSa9Ov";var Zy;var Ay=a(118003);const ky=(e,t)=>a=>n.createElement(bg,{selectedTab:t,lee:a.lee},n.createElement(e,{...a})),Oy=ky((e=>(n.useEffect((()=>{(0,v.N)(c.PageView.TacActivityList)}),[]),n.createElement(Iy,{lee:e.lee}))),"activity"),Ly=ky((({lee:e})=>{var t;const{translate:a}=(0,P.Z)(),{reportTACError:i}=d_(),[s,r]=(0,n.useState)(!1),o={dialogIsVisible:!1,dialogType:null,selectedRequest:null},[l,c]=(0,n.useState)(o),u=(0,n.useCallback)((()=>{const t=(0,Dg.v0)(e.globalState);return t||i(new Error(xg.N)),t}),[]),m=(0,n.useCallback)((async()=>{const e=u();e?.teamId&&await(0,_u.mP)({teamId:e.teamId})}),[u]);(0,n.useEffect)((()=>{(async()=>{try{r(!0);const{teamInfo:{recoveryEnabled:e}}=await(0,w_.I)();e&&(await m(),r(!1))}catch(e){console.error(`RequestsActivity - fetchStatus failed with error ${e}`),r(!1)}})()}),[m]);const _=e=>{c({dialogIsVisible:!0,dialogType:"accept",selectedRequest:e})},g=e=>{c({dialogIsVisible:!0,dialogType:"decline",selectedRequest:e})},h=e=>[a.shortDate(e,Ze._T.l),a.shortDate(e,Ze._T.LT)].join(" - "),b=()=>{c(o)},y=()=>{c(o)};return(0,D.tZ)(Xb,{isLoading:s},(()=>{const t=(()=>{var t;const a=u();if(!a)return[];const{teams:n}=(0,fy.e)(e.globalState),{teamId:i}=a;return null==i?[]:null!=(t=n[i]?.notifications?.accountRecoveryRequests)?t:[]})();return t.length?(0,D.tZ)("div",{className:"container--DRtotEoFLA"},(0,D.tZ)(My,{onAccept:_,onDecline:g,dateFormatter:h,requests:t})):(0,D.tZ)("div",{className:"containerNoItem--U7KH6tddpl container--DRtotEoFLA"},Zy||(Zy=(0,D.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDQwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzMuODMxOCAyNC45MTQ3QzM0LjIxMTggMjUuNDI0NyAzNC41NjE4IDI2LjA4NDcgMzQuNjYxOCAyNi43MDQ4QzM0Ljc1MTggMjcuMDI0NyAzNC43ODE4IDI3LjMxNDcgMzQuNzgxOCAyNy41OTQ3TDM0LjgxMTggMjguMDI0N0MzNC44MTE4IDI4LjE4NDcgMzQuODExOCAyOC4zOTQ3IDM0Ljc4MTggMjguNTc0N0MzNC42MDE4IDMwLjEwNDcgMzMuNDAxOCAzMS40MDQ3IDMxLjkxMTggMzEuNzI0N0MzMS43MzE4IDMxLjc2NDcgMzEuNTQxOCAzMS43OTQ3IDMxLjM1MTggMzEuODA0N0wzMS4wODE4IDMxLjgxNDhIMzAuOTExOEgzMC4yMzE4SDI4Ljg3MThIMjYuMTYxOEgxNS4zMTE4SDkuODkxOEg5LjIxMThIOC44NzE4SDguNjkxOEw4LjQxMTggMzEuODA0N0M3LjY1MTggMzEuNzQ0NyA2LjkyMTggMzEuNDM0NyA2LjM0MTggMzAuOTU0OEM1Ljc2MTggMzAuNDY0OCA1LjMzMTggMjkuODA0NyA1LjEzMTggMjkuMDc0N0M1LjAyMTggMjguNzI0NyA0Ljk5MTggMjguMjk0NyA1LjAwMTggMjcuOTg0N0w1LjA3MTggMjcuMTI0N0M1LjA4OTc3IDI3LjA0NTIgNS4xMDY0MyAyNi45NjU2IDUuMTIzMTEgMjYuODg1OEM1LjE3MTQzIDI2LjY1NDkgNS4yMjAwNCAyNi40MjI2IDUuMzAxOCAyNi4xODQ3QzUuMzI4NyAyNi4xMjMzIDUuMzU0ODcgMjYuMDYxIDUuMzgxMDcgMjUuOTk4N0M1LjQ5MTI0IDI1LjczNjcgNS42MDIxNiAyNS40NzI5IDUuNzcxOCAyNS4yNTQ3QzYuMTAyODcgMjQuNzM2OSA2LjQ5MTU5IDI0LjM5OTMgNi44Mjc4NSAyNC4xMDcyQzYuODg3NyAyNC4wNTUyIDYuOTQ1ODkgMjQuMDA0NiA3LjAwMTggMjMuOTU0OEM3LjczMTggMjMuMzY0NyA4LjEzMTggMjIuOTc0NyA4LjQ3MTggMjIuMzc0N0M5LjE0MTggMjEuMjA0NyA5LjM2MTggMTkuNDk0OCA5LjQ0MTggMTcuODE0OEw5LjQ3MTggMTYuNjg0N0MxMC40NjE4IDE3LjAzNDcgMTEuNDUxOCAxNy40MTQ3IDEyLjQ0MTggMTcuODM0N0wxMi40MzE4IDE4LjIzNDdDMTIuMzcxOCAxOS4yMTQ3IDEyLjI3MTggMjAuMjI0OCAxMi4wNTE4IDIxLjI0NDhDMTEuNzkxOCAyMi4yNjQ4IDExLjQ3MTggMjMuMzM0NyAxMC43OTE4IDI0LjMzNDdDMTAuMjYzIDI1LjE0MzkgOS40OTY4IDI1Ljc3OTggOC45NDU1OCAyNi4yMzcyQzguODA4NzcgMjYuMzUwNyA4LjY4NTIgMjYuNDUzMyA4LjU4MTgxIDI2LjU0NDdDOC41NTM1IDI2LjU3NTYgOC41MjYzNiAyNi42MDQ4IDguNTAwNDEgMjYuNjMyOEM4LjMyNDcgMjYuODIxOSA4LjIwNDA5IDI2Ljk1MTggOC4xNTE4IDI3LjEzNDhDOC4wNzE4MSAyNy4zMzQ4IDguMDIxOCAyNy42MjQ3IDguMDExOCAyNy45NzQ3TDguMDAxOCAyOC4wOTQ3VjI4LjE1NDdWMjguMTU0OEM4LjAwMTggMjguMTk0OCA4LjAwMTggMjguMjM0OCA4LjAxMTggMjguMjQ0OEM4LjAzMTggMjguMzI0OCA4LjA2MTggMjguMzk0OCA4LjEwMTggMjguNDU0OEM4LjE4MTggMjguNTk0NyA4LjMwMTggMjguNjk0NyA4LjQ0MTggMjguNzU0N0M4LjUxMTggMjguNzg0NyA4LjU4MTggMjguNzk0NyA4LjY2MTggMjguODA0N0g4LjcyMThIOC44OTE4SDkuMjQxODFIMTAuNjQxOEgxMy40MzE4SDI0LjYwMThIMzAuMTgxOEMzMS4wNTM3IDI4LjgxMiAzMS4yNzY2IDI4LjgxNCAzMS40NDE1IDI4LjcxNzNDMzEuNTA1NSAyOC42Nzk3IDMxLjU2MDggMjguNjI3NCAzMS42NDE4IDI4LjU1NDdDMzEuNzQxOCAyOC40NDQ3IDMxLjgwMTggMjguMzA0NyAzMS44MjE4IDI4LjE1NDdDMzEuODI5MiAyOC4xMjU0IDMxLjgyMDMgMjguMDA0MiAzMS44MTExIDI3Ljg3ODVDMzEuODA3OCAyNy44MzMxIDMxLjgwNDUgMjcuNzg3MiAzMS44MDE4IDI3Ljc0NDhDMzEuODAxOCAyNy41OTM3IDMxLjc3MzYgMjcuNDc3OSAzMS43NDY5IDI3LjM2NzdDMzEuNzQxNyAyNy4zNDY2IDMxLjczNjYgMjcuMzI1NyAzMS43MzE4IDI3LjMwNDdDMzEuNjcxOCAyNy4wMzQ3IDMxLjU3MTggMjYuODg0NyAzMS4zOTE4IDI2LjY0NDdDMzEuMjYyMiAyNi40ODc4IDMxLjA2NzMgMjYuMjk4MyAzMC44NDIzIDI2LjA3OTNDMzAuNzM3NSAyNS45Nzc0IDMwLjYyNjIgMjUuODY5MSAzMC41MTE4IDI1Ljc1NDdDMjkuNzYxOCAyNS4wNDQ3IDI5LjAzMTggMjQuMDI0NyAyOC42MjE4IDIzLjAyNDdDMjguNDQ4MSAyMi42NjI4IDI4LjMzMiAyMi4yOTU2IDI4LjIxNjYgMjEuOTMwOEMyOC4xNzI2IDIxLjc5MTYgMjguMTI4NyAyMS42NTI4IDI4LjA4MTggMjEuNTE0N0MyOC4wNTE4IDIxLjM4OTcgMjguMDIwNSAyMS4yNjQ3IDI3Ljk4OTMgMjEuMTM5N0MyNy44OTU1IDIwLjc2NDcgMjcuODAxOCAyMC4zODk3IDI3Ljc0MTggMjAuMDE0N0MyNy43MTk4IDE5Ljg2MDQgMjcuNjk2NyAxOS43MDUxIDI3LjY3MzYgMTkuNTQ5NEMyNy42MjM0IDE5LjIxMDggMjcuNTcyOSAxOC44NzA0IDI3LjUzMTggMTguNTM0N0wyNy40MTE4IDE3LjA3NDdDMjcuMzczNCAxNi4zMzY2IDI3LjM1ODYgMTUuNTY4OCAyNy4zNDQ3IDE0Ljg0ODhDMjcuMzQwNSAxNC42MzI0IDI3LjMzNjQgMTQuNDIwNCAyNy4zMzE4IDE0LjIxNDdDMjcuMzIxOCAxMy4zMzQ3IDI3LjI2MTggMTIuNDY0NyAyNy4xMzE4IDExLjY1NDdDMjYuODgxOCAxMC4wMDQ3IDI2LjI1MTggOC42ODQ3NSAyNS4xMjE4IDcuNDU0NzVDMjQuNTQxOCA2LjgxNDc1IDI0LjAwMTggNi4yODQ3NSAyMy4zNjE4IDUuOTA0NzVDMjIuNzMxOCA1LjUxNDc1IDIyLjAzMTggNS4yNTQ3NSAyMS4yODE4IDUuMTE0NzVDMTkuNzYxOCA0Ljg1NDc1IDE4LjEwMTggNS4wMTQ3NSAxNi44MjE4IDUuNzA0NzVDMTYuMTUxOCA2LjA1NDc1IDE1LjY0MTggNi40ODQ3NSAxNS4wMjE4IDcuMTM0NzVDMTQuNDMxOCA3Ljc0NDc1IDEzLjkyMTggOC4zNjQ3NCAxMy41NTE4IDkuMDM0NzRDMTIuNzkxOCAxMC4zMzQ3IDEyLjU0MTggMTEuOTc0NyAxMi40ODE4IDEzLjcyNDdMOS40ODE4IDEzLjYyNDdDOS41NDE4IDExLjc0NDcgOS44MDE4IDkuNjM0NzUgMTAuODQxOCA3LjcyNDc1QzExLjM0MTggNi43NzQ3NSAxMi4wMDE4IDUuOTU0NzUgMTIuNjgxOCA1LjIzNDc1QzEzLjMwMTggNC41NzQ3NSAxNC4xNDE4IDMuNzY0NzUgMTUuMDkxOCAzLjIzNDc1QzE3LjAwMTggMi4xMTQ3NSAxOS4yMjE4IDEuODM0NzUgMjEuMjgxOCAyLjA4NDc1QzIzLjM4MTggMi4zMTQ3NSAyNS41MTE4IDMuNDQ0NzQgMjYuODgxOCA0Ljk2NDc0QzI4LjI3MTggNi4zMTQ3NCAyOS41MTE4IDguMjg0NzUgMjkuOTIxOCAxMC4zMTQ4QzMwLjE1MTggMTEuMzE0OCAzMC4yNTE4IDEyLjMwNDcgMzAuMzAxOCAxMy4yNjQ3QzMwLjMyNDIgMTMuNjIzMyAzMC4zMjk5IDEzLjk4MTggMzAuMzM1NSAxNC4zMzYyQzMwLjMzNzQgMTQuNDU2MyAzMC4zMzkzIDE0LjU3NTggMzAuMzQxOCAxNC42OTQ3TDMwLjM3MTggMTYuMDA0N0MzMC40NDE4IDE3LjcyNDcgMzAuNTgxOCAxOS40NjQ3IDMxLjA1MTggMjAuOTY0N0MzMS4yNzE4IDIxLjcyNDcgMzEuNTkxOCAyMi4zNzQ3IDMyLjAwMTggMjIuOTM0N0MzMi4yMTA2IDIzLjIzNTIgMzIuNDY4NiAyMy40ODg5IDMyLjc3OTggMjMuNzk1QzMzLjA3OTggMjQuMDkgMzMuNDI5MyAyNC40MzM3IDMzLjgzMTggMjQuOTE0N1pNMjQuMTgxOCAzNi4zNTQ3QzIzLjAwMTggMzcuNTM0NyAyMS40NTE4IDM4LjEyNDcgMTkuOTAxOCAzOC4xMjQ3QzE4LjM2MTggMzguMTI0NyAxNi44MTE4IDM3LjUzNDcgMTUuNjQxOCAzNi4zNTQ3TDE0LjU4MTggMzUuMjk0N0wxNi43MDE4IDMzLjE3NDdMMTcuNzYxOCAzNC4yMzQ3QzE4Ljk0MTggMzUuNDI0NyAyMC44NzE4IDM1LjQyNDcgMjIuMDYxOCAzNC4yMzQ3TDIzLjEyMTggMzMuMTc0N0wyNS4yNDE4IDM1LjI5NDdMMjQuMTgxOCAzNi4zNTQ3WiIgZmlsbD0iI0U3RTdFNyIvPgo8L3N2Zz4K"})),(0,D.tZ)("div",{className:"noItemLabel--AypyKunLpo"},a("team_master_password_reset_table_empty_label")),(0,D.tZ)("div",{className:"noItemHelper--c9bX9Yn5sj"},a("team_master_password_reset_table_empty_helper")))})(),(0,D.tZ)(p.o,{isOpen:l.dialogIsVisible&&"accept"===l.dialogType,onRequestClose:b,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:a("team_master_password_reset_dialog_accept_button_ok"),primaryButtonOnClick:()=>{u()&&l.selectedRequest&&(0,_u.Z8)({login:l.selectedRequest.login,recoveryKey:l.selectedRequest.recoveryClientKey,userPublicKey:l.selectedRequest.publicKey}).then((()=>{m(),c(o)})).catch((e=>{console.error(e)}))},secondaryButtonTitle:a("team_master_password_reset_dialog_accept_button_cancel"),secondaryButtonOnClick:b}),title:a("team_master_password_reset_dialog_accept_title")},l.selectedRequest?.login?(0,D.tZ)("p",{className:Dy},a("team_master_password_reset_dialog_accept_content_bold",{login:l.selectedRequest.login})):null,(0,D.tZ)("p",{className:Ty},a("team_master_password_reset_dialog_accept_content"))),(0,D.tZ)(p.o,{isOpen:l.dialogIsVisible&&"decline"===l.dialogType,onRequestClose:y,footer:(0,D.tZ)(d.cNS,{intent:"danger",primaryButtonTitle:a("team_master_password_reset_dialog_decline_button_ok"),primaryButtonOnClick:async()=>{if((0,Dg.v0)(e.globalState)){if(l.selectedRequest)try{await(0,_u.VK)({login:l.selectedRequest.login}),m(),c(o)}catch(e){console.error(e)}}else i(new Error(xg.N))},secondaryButtonTitle:a("team_master_password_reset_dialog_decline_button_cancel"),secondaryButtonOnClick:y}),title:a("team_master_password_reset_dialog_decline_title")},l.selectedRequest?.login?(0,D.tZ)("p",{className:Dy},a("team_master_password_reset_dialog_decline_content_bold",{login:null!=(t=l.selectedRequest?.login)?t:""})):null,(0,D.tZ)("p",{className:Ty},a("team_master_password_reset_dialog_decline_content"))))}),"activity");function zy({path:e}){return n.createElement(i.GB,{path:[e,`${e}/recent`,`${e}/requests`],permission:e=>e.adminAccess.hasFullAccess},n.createElement(i.rs,null,n.createElement(i.l_,{exact:!0,from:`${e}/`,to:`${e}/recent`}),n.createElement(i.Vy,{path:`${e}/requests`,component:Ly,reducer:Ay.Z}),n.createElement(i.Vy,{path:`${e}/recent`,component:Oy})))}a(568030);var jy=a(970238);const Py="flex--NMArBNZ5l_",Ry="heading--RBodOQnn5X",Uy="icon--pEAJkFclEO",By="message--Ia84bnI4ma",Fy=({children:e,onRequestClose:t,footer:a})=>{const{translate:i}=(0,P.Z)(),s=i("team_directory_sync_key_dialog_title");return n.createElement(p.o,{isOpen:!0,showCloseIcon:!0,onRequestClose:t,footer:a,title:s},e)},Gy=e=>{const{translate:t}=(0,P.Z)(),[a,i]=n.useState({inputKey:"",isInputKeyInvalid:!1});return n.createElement(Fy,{onRequestClose:e.handleDismiss,footer:n.createElement(d.cNS,{primaryButtonTitle:t("team_directory_sync_key_dialog_key_input_verify"),primaryButtonOnClick:async()=>{var t;const{publicKey:n=""}=null!=(t=e.checkDirectorySyncKeyRequest())?t:{},s=a.inputKey.replace(/\s/g,"").replace(/\n/g,"");var r;s===n?(()=>{const t=e.checkDirectorySyncKeyRequest();return t?(0,_u.QV)(t,"validated"):Promise.reject(new Error("missing params"))})().then((()=>{e.onSubmitKeySuccess()})).catch(e.handleError):(r=s).length%4==0&&atob(r).includes("</RSAKeyValue>")?e.onSubmitKeyError():i((e=>({...e,isInputKeyInvalid:!0})))},secondaryButtonTitle:t("team_directory_sync_key_dialog_key_input_postpone"),secondaryButtonOnClick:e.handleDismiss,intent:"primary"})},n.createElement("p",{className:"keyInputMessage--jfQAwZvR6u message--Ia84bnI4ma"},t.markup("team_directory_sync_key_dialog_key_input_message_markup")),n.createElement(d.oil,{multiline:!0,fullWidth:!0,placeholder:t("team_directory_sync_key_dialog_key_input_placeholder"),onChange:({target:{value:e}})=>{i({inputKey:e,isInputKeyInvalid:!1})},value:a.inputKey,feedbackText:a.isInputKeyInvalid?t("team_directory_sync_key_dialog_key_input_invalid"):void 0,feedbackType:a.isInputKeyInvalid?"error":void 0}))};var Wy;!function(e){e[e.initial=0]="initial",e[e.keyInput=1]="keyInput",e[e.keySuccess=2]="keySuccess",e[e.keyError=3]="keyError",e[e.keySuspended=4]="keySuspended"}(Wy||(Wy={}));const Vy="team_directory_sync_key_dialog_key_success_header",Hy="team_directory_sync_key_dialog_key_error_header",qy=e=>{var t;const{translate:a}=(0,P.Z)(),[i,s]=n.useState(Wy.initial),r=()=>e.lee.globalState.directorySyncKey.checkDirectorySyncKeyRequest,o=()=>{e.lee.dispatchGlobal((0,jy.M2)())},l=()=>{e.lee.dispatchGlobal((0,jy.HK)())},c=()=>{e.lee.dispatchGlobal((0,jy.er)())},u=()=>{const t="directorySyncKeyValidationError",a=d.BLW.ERROR,n={key:t,level:a,textKey:"team_directory_sync_key_error_markup",handleClose:()=>e.lee.dispatchGlobal((0,Jb.FV)(t))};e.lee.dispatchGlobal((0,Jb.wN)(n)),l()},m=()=>{s(Wy.keyInput)},p=()=>{(()=>{const e=r();return e?(0,_u.QV)(e,"rejected"):Promise.reject(new Error("missing params"))})().then((()=>{s(Wy.keySuspended),c()})).catch(u)},_=()=>{s(Wy.keySuccess),c()},g=()=>{s(Wy.keyError)};switch(i){case Wy.initial:return n.createElement(Fy,{onRequestClose:o,footer:n.createElement(d.cNS,{primaryButtonTitle:a("team_directory_sync_key_dialog_initial_continue"),primaryButtonOnClick:m,secondaryButtonTitle:a("team_directory_sync_key_dialog_initial_postpone"),secondaryButtonOnClick:o,intent:"primary"})},n.createElement("p",{className:By},a.markup("team_directory_sync_key_dialog_initial_message_markup")));case Wy.keyInput:return t||n.createElement(Gy,{onSubmitKeySuccess:_,onSubmitKeyError:g,checkDirectorySyncKeyRequest:r,handleDismiss:o,handleError:u});case Wy.keySuccess:return n.createElement(Fy,{onRequestClose:l,footer:n.createElement(d.cNS,{secondaryButtonTitle:a("team_directory_sync_key_dialog_key_success_close"),secondaryButtonOnClick:l})},n.createElement("div",{className:F()(Py,"success--TaIlsjKW_U")},n.createElement("div",{className:"iconSuccessWrapper--sE1yDBO_VA"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTciIHZpZXdCb3g9IjAgMCA5NyA5NyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNDQuMzc5OCA1OS4wODgyTDY0Ljc0NzQgMzguMDM3OUw2MS4xNTQxIDM0LjU2MTFMNDQuNDMwOSA1MS44NDQ5TDM3LjA4NjcgNDQuMDM3NEwzMy40NDQ4IDQ3LjQ2MzJMNDQuMzc5OCA1OS4wODgyWiIgZmlsbD0iIzIwQjQyMiIvPgogIDxwYXRoIGQ9Ik02OS4xODk4IDc2Ljc0ODVDNjMuMzk0MiA4MS4wMDI5IDU2LjI0MDYgODMuNTE1NiA0OC41IDgzLjUxNTZDMjkuMTcgODMuNTE1NiAxMy41IDY3Ljg0NTYgMTMuNSA0OC41MTU2QzEzLjUgMjkuMTg1NyAyOS4xNyAxMy41MTU2IDQ4LjUgMTMuNTE1NkM2Ny44MyAxMy41MTU2IDgzLjUgMjkuMTg1NyA4My41IDQ4LjUxNTZDODMuNSA1Ni4yNTY1IDgwLjk4NyA2My40MTA0IDc2LjczMjQgNjkuMjA2Mkw4MC4zMDQyIDcyLjc3OEM4NS40NDU4IDY2LjA0ODMgODguNSA1Ny42Mzg2IDg4LjUgNDguNTE1NkM4OC41IDI2LjQyNDIgNzAuNTkxNCA4LjUxNTYyIDQ4LjUgOC41MTU2MkMyNi40MDg2IDguNTE1NjIgOC41IDI2LjQyNDIgOC41IDQ4LjUxNTZDOC41IDcwLjYwNyAyNi40MDg2IDg4LjUxNTYgNDguNSA4OC41MTU2QzU3LjYyMjcgODguNTE1NiA2Ni4wMzIxIDg1LjQ2MTcgNzIuNzYxNiA4MC4zMjA0TDY5LjE4OTggNzYuNzQ4NVoiIGZpbGw9IiMyMEI0MjIiLz4KPC9zdmc+Cg==",className:Uy,alt:a(Vy)})),n.createElement("div",{className:"successContent--UqIINdh92d"},n.createElement("h1",{className:Ry},a(Vy)),n.createElement("p",{className:By},a("team_directory_sync_key_dialog_key_success_message")))));case Wy.keyError:return n.createElement(Fy,{onRequestClose:l,footer:n.createElement(d.cNS,{primaryButtonTitle:a("team_directory_sync_key_dialog_key_error_validate"),primaryButtonOnClick:p,secondaryButtonTitle:a("team_directory_sync_key_dialog_key_error_retry"),secondaryButtonOnClick:m,intent:"danger"})},n.createElement("div",{className:F()(Py,"error--xPuuSFwgXo")},n.createElement("div",{className:"iconErrorWrapper--IOX6ttNhX_"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTciIHZpZXdCb3g9IjAgMCA5NyA5NyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNDguNSA4My41MTU5QzU2LjI0MDYgODMuNTE1OSA2My4zOTQyIDgxLjAwMzEgNjkuMTg5OCA3Ni43NDg4TDcyLjc2MTYgODAuMzIwNkM2Ni4wMzIxIDg1LjQ2MTkgNTcuNjIyNyA4OC41MTU5IDQ4LjUgODguNTE1OUMyNi40MDg2IDg4LjUxNTkgOC41IDcwLjYwNzMgOC41IDQ4LjUxNTlDOC41IDI2LjQyNDUgMjYuNDA4NiA4LjUxNTg3IDQ4LjUgOC41MTU4N0M3MC41OTE0IDguNTE1ODcgODguNSAyNi40MjQ1IDg4LjUgNDguNTE1OUM4OC41IDU3LjYzODkgODUuNDQ1OCA2Ni4wNDg2IDgwLjMwNDIgNzIuNzc4Mkw3Ni43MzI0IDY5LjIwNjRDODAuOTg3IDYzLjQxMDcgODMuNSA1Ni4yNTY3IDgzLjUgNDguNTE1OUM4My41IDI5LjE4NTkgNjcuODMgMTMuNTE1OSA0OC41IDEzLjUxNTlDMjkuMTcgMTMuNTE1OSAxMy41IDI5LjE4NTkgMTMuNSA0OC41MTU5QzEzLjUgNjcuODQ1OCAyOS4xNyA4My41MTU5IDQ4LjUgODMuNTE1OVoiIGZpbGw9IiNGRjAwMkQiLz4KICA8cGF0aCBkPSJNNTcuNTU1NSAzNi41MTU5TDYwLjUwMDUgMzkuNDYwOEw1MS40NDU0IDQ4LjUxNTlMNjAuNTAwNSA1Ny41NzA5TDU3LjU1NTUgNjAuNTE1OUw0OC41MDA1IDUxLjQ2MDhMMzkuNDQ1NCA2MC41MTU5TDM2LjUwMDUgNTcuNTcwOUw0NS41NTU1IDQ4LjUxNTlMMzYuNTAwNSAzOS40NjA4TDM5LjQ0NTQgMzYuNTE1OUw0OC41MDA1IDQ1LjU3MDlMNTcuNTU1NSAzNi41MTU5WiIgZmlsbD0iI0ZGMDAyRCIvPgo8L3N2Zz4K",className:Uy,alt:a(Hy)})),n.createElement("div",{className:"errorContent--iTxSajtDeU"},n.createElement("h1",{className:Ry},a(Hy)),n.createElement("p",{className:By},a("team_directory_sync_key_dialog_key_error_message")))));case Wy.keySuspended:return n.createElement(Fy,{onRequestClose:l,footer:n.createElement(d.cNS,{secondaryButtonTitle:a("team_directory_sync_key_dialog_key_suspended_close"),secondaryButtonOnClick:l})},n.createElement("p",{className:By},a.markup("team_directory_sync_key_dialog_key_suspended_message_markup")))}},Yy=()=>{var e;const{translate:t}=(0,P.Z)(),{queue:a,popAlertFromQueue:i}=d_(),s=()=>{i()},[r]=a;return r?n.createElement(p.o,{isOpen:!0,onRequestClose:s,footer:n.createElement(d.cNS,{secondaryButtonTitle:null!=(e=r.okButtonLabel)?e:t("_common_alert_dismiss_button"),secondaryButtonOnClick:s}),title:r.title},n.createElement("div",null,r.message)):null},Qy={notification:"notification--JlZi_NwcwA"},$y=({level:e=d.BLW.SUCCESS,text:t,buttonTextKey:a,onClose:i,onLinkClick:s,onClickButton:r})=>{const o=n.useRef(null),{translate:l}=(0,P.Z)(),c=(0,n.useCallback)((e=>{if(!s)return;const t=e.target;t&&"a"===t.tagName.toLowerCase()&&s(e)}),[s]);return(0,n.useEffect)((()=>{if(!o||!o.current)return;const e=o.current;return e.addEventListener("click",c),()=>{e.removeEventListener("click",c)}}),[c]),n.createElement("div",{className:Qy.notification},n.createElement(d.bZj,{severity:e,size:d.k3y.SMALL,showIcon:!0,closeIconName:l("_common_alert_dismiss_button"),onClose:i,onAction:r||void 0,actionText:a||void 0},n.createElement("span",{ref:o,className:Qy.text},t)))};var Ky=a(857323);const Xy=({lee:e,notificationKey:t,buttonTextKey:a,level:n,redirectPath:s,onClickButton:r,keyParams:o,notificationName:l})=>{const c={key:t,level:n,textKey:t,buttonTextKey:a,keyParams:o,handleClose:()=>{e.dispatchGlobal((0,Jb.FV)(t)),l&&u.C.markNotificationAsSeen(l)}};s&&(c.handleLinkClick=a=>{a.preventDefault(),(0,b.Tx)(s)?(0,b.Yk)(s,{type:"",action:""}):(e.dispatchGlobal((0,Jb.FV)(t)),(0,i.uX)(s))}),r&&(c.handleButtonClick=()=>{r()}),e.dispatchGlobal((0,Jb.wN)(c))},Jy="TRIAL_PERIOD_0_15D",eC="GRACE_PERIOD_TRIAL",tC="GRACE_PERIOD_PAID",aC="ENABLE_RECOVERY",nC="ADD_ADMINS",iC="TAC_IN_EXTENSION";var sC=a(428694);const rC=({lee:e})=>{const{translate:t}=(0,P.Z)(),{setIsVaultNavigationModalOpen:a}=n.useContext(S_),[i,s]=n.useState([]),r=n.useCallback((t=>{t&&(async({lee:e,teamStatus:t,showTacInExtension:a,translate:n,setIsVaultNavigationModalOpen:i})=>{const s=(({lee:e,teamStatus:t,showTacInExtension:a})=>{const n=new Set;a&&n.add(iC),t.isGracePeriod&&t.isFreeTrial&&n.add(eC),t.isGracePeriod&&!t.isFreeTrial&&n.add(tC),t.isFreeTrial&&!t.isGracePeriod&&((0,Vh.Z)((0,xt.Z)(t.nextBillingDetails.dateUnix),(0,Hh.Z)(new Date,0))<15?n.add("TRIAL_PERIOD_15_30D"):n.add(Jy)),t.info.recoveryEnabled||t.info.ssoEnabled||n.add(aC);const i=(0,Js.ev)(e.globalState)||0,s=e.carbon.spaceData.spaces.find((e=>i===+e.teamId));return s&&s.details.teamAdmins.length<=1&&n.add(nC),n})({lee:e,teamStatus:t,showTacInExtension:a});e.dispatchGlobal((0,Jb.L1)());const r=e.permission.adminAccess.hasFullAccess,o=await u.C.getNotificationStatus();s.has(iC)&&o.tacGetTheExtensionBanner===V.NotificationStatus.Unseen&&Ky.Xh.isSafari(),s.has(eC)&&(({lee:e,spaceTier:t,translate:a})=>{const n=(0,j.Uo)({tier:t,translate:a});Xy({lee:e,notificationKey:"team_notifications_free_trial_grace_period_markup",keyParams:{planTier:n},level:d.BLW.ERROR,redirectPath:e.routes.teamAccountRoutePath})})({lee:e,spaceTier:t.planTier,translate:n}),s.has(tC)&&(e=>{Xy({lee:e,notificationKey:"team_notifications_renewal_grace_period_markup",level:d.BLW.ERROR,redirectPath:e.routes.teamAccountRoutePath})})(e),r&&(s.has(aC)&&o.tacEnableAccountRecoveryBanner===V.NotificationStatus.Unseen&&(e=>{const t=`${e.routes.teamSettingsRoutePath}/master-password-policies`;Xy({lee:e,notificationKey:"team_notifications_enable_account_recovery_markup",level:d.BLW.WARNING,redirectPath:t,notificationName:V.NotificationName.TacEnableAccountRecoveryBanner})})(e),s.has(nC)&&o.tacOnlyOneAdminBanner===V.NotificationStatus.Unseen&&!Ky.Xh.isSafari()&&(e=>{const t=e.routes.teamAccountRoutePath;Xy({lee:e,notificationKey:"team_notifications_add_admins_markup",level:d.BLW.WARNING,redirectPath:t,notificationName:V.NotificationName.TacOnlyOneAdminBanner})})(e)),s.has(Jy)&&(({lee:e,spaceTier:t,translate:a})=>{const n=(0,j.Uo)({tier:t,translate:a});Xy({lee:e,notificationKey:"team_notifications_free_trial_D0_T15_markup",keyParams:{planTier:n},level:d.BLW.SUCCESS,redirectPath:e.routes.teamAccountRoutePath})})({lee:e,spaceTier:t.planTier,translate:n})})({lee:e,teamStatus:t,showTacInExtension:!1,translate:e.translate,setIsVaultNavigationModalOpen:a})}),[]);return n.useEffect((()=>{s((()=>{const t=e.globalState.notifications.list,a=function(e){const t=e.permission.adminAccess.hasFullAccess,a=e.globalState.directorySyncKey;return t&&a.validationPostponed?[{key:"directorySyncPosponedValidation",level:d.BLW.WARNING,textKey:"team_directory_sync_key_postponed_notif_markup",handleLinkClick:t=>{t.preventDefault(),e.dispatchGlobal((0,jy.b3)())},handleClose:()=>e.dispatchGlobal((0,jy.vg)())}]:[]}(e),n=function(e){const t=e.permission.adminAccess.hasFullAccess,a=e.globalState.ieNotifications;return t&&Ky.Xh.isInternetExplorer()&&a.displayIeDropNotification?[{key:"directorySyncPosponedValidation",level:d.BLW.WARNING,textKey:"wac_ie_drop_message_markup",handleClose:()=>e.dispatchGlobal((0,sC.w)())}]:[]}(e);return[...t,...a,...n]})())}),[e.globalState.ieNotifications,e.globalState.directorySyncKey,e.globalState.notifications.list]),n.useEffect((()=>{const t=(0,Dg.v0)(e.globalState);t&&(new Tg.Z).status({auth:t}).then((e=>{if(200!==e.code)return;const{content:{team:t}}=e;r(t)})).catch()}),[e.globalState.user.session.uki]),n.createElement("div",{className:"notifications--SCKfre7VSM"},i.map((e=>n.createElement($y,{key:e.key,level:e.level,text:(0,Ze.t5)(e.textKey)?t.markup(e.textKey,e.keyParams):t(e.textKey),buttonTextKey:e.buttonTextKey?t(e.buttonTextKey):void 0,onClose:e.handleClose,onLinkClick:e.handleLinkClick,onClickButton:e.handleButtonClick}))))};var oC,lC;const cC=e=>{const[t,a]=n.useState(!1);(0,y._)();const i=(0,C.a)(e.lee.dispatchGlobal),s=()=>{const t=e.lee.globalState.carbon.loginStatus?.loggedIn,a=e.lee.globalState.user.session.login,n=e.lee.globalState.user.session.uki,i=e.lee.globalState.carbon.accountInfo?.premiumStatus,s=e.lee.globalState.user.session.permissions?.tacAccessPermissions;return t&&Boolean(a&&n)&&Boolean(i)&&Boolean(s)},r=()=>{const t=e.lee.globalState.user.session.permissions?.tacAccessPermissions;return Boolean(t?.size)};return n.useEffect((()=>{!s()||r()||i()}),[t]),s()&&r()?n.createElement(c_,{globalReportError:e.lee.reportError},n.createElement(x.qc,{lee:e.lee},n.createElement(k_,null,n.createElement(I_,null,n.createElement("div",null,e.children,lC||(lC=n.createElement(Yy,null)),n.createElement(rC,{lee:e.lee}),e.lee.globalState.directorySyncKey.displayDialog?n.createElement(qy,{lee:e.lee}):null,n.createElement("div",{className:"alertPopup--S9uF3SnYTj",id:"alert-popup-portal"})))))):oC||(oC=n.createElement("div",null))},dC=1589932800;let uC;!function(e){e[e.AllTime=0]="AllTime",e[e.Last7Days=1]="Last7Days",e[e.Last30Days=2]="Last30Days"}(uC||(uC={}));const mC=e=>{const t=e.toFixed(1),a=e.toFixed();return parseFloat(a)-parseFloat(t)==0?a:t},pC=({showPasswordHealthScore:e,securityIndex:t,shieldSize:a})=>{let i="";return e?(i=t>=80?pg()["--accessible-validator-green"]:t>=40?pg()["--orange-00"]:pg()["--red-00"],t>=60?n.createElement(n.Fragment,null,n.createElement(d.FjK,{size:a,color:i,viewBox:"5 5 40 40"}),`${mC(t)}%`):n.createElement(n.Fragment,null,n.createElement(d.sQG,{size:a,color:i,viewBox:"5 5 40 40"}),`${mC(t)}%`)):(i=pg()["--dash-green-00"],n.createElement(n.Fragment,null,n.createElement(d.P2E,{size:a,color:i}),"-"))},_C="value--w9XKkttPDT",gC="link--nWXIzseKub";var hC;const bC=({title:e})=>(0,D.tZ)(d.ua7,{sx:{fontSize:2,maxWidth:"180px"},placement:"bottom",content:e},hC||(hC=(0,D.tZ)(d.uMt,{size:13,tabIndex:0}))),yC=({children:e})=>(0,D.tZ)(d.Zbd,{sx:{height:"132px",width:"232px",marginRight:"32px",flexShrink:"0",padding:"16px",overflow:"inherit"}},e),CC=({passwordHealth:e,seats:t,passwordHealthHistoryEmpty:a})=>{const{translate:n}=(0,P.Z)(),{routes:s}=(0,S.Xo)(),{compromised:r,securityIndex:o}=e,l=`${t.used}/${t.provisioned}`;return(0,D.tZ)("section",{className:"cardsRow--UeIGdGJnGY",sx:{display:"flex",justifyContent:"flex-start"}},(0,D.tZ)(yC,null,(0,D.tZ)("header",null,(0,D.tZ)("h1",null,n("team_dashboard_card_health_score")),(0,D.tZ)(bC,{title:n("team_dashboard_card_health_score_info")})),(0,D.tZ)("div",{className:_C},(0,D.tZ)(pC,{showPasswordHealthScore:!a,securityIndex:o,shieldSize:32}))),(0,D.tZ)(yC,null,(0,D.tZ)("header",null,(0,D.tZ)("h1",null,n("team_dashboard_card_compromised")),(0,D.tZ)(bC,{title:n("team_dashboard_card_compromised_info")})),(0,D.tZ)("div",{className:F()(_C,r?"compromised--m8LmAYo_e5":void 0)},r),r?(0,D.tZ)("footer",null,(0,D.tZ)(i.rU,{className:gC,to:s.teamMembersRoutePath},n("team_dashboard_card_compromised_details_link"))):null),(0,D.tZ)(yC,null,(0,D.tZ)("header",null,(0,D.tZ)("h1",null,n("team_dashboard_card_seats_taken")),(0,D.tZ)(bC,{title:n("team_dashboard_card_seats_taken_info")})),(0,D.tZ)("div",{className:F()(_C,{"fontSizeBigger--f83OiWuf4K":l.length>=8})},l),(0,D.tZ)("footer",null,(0,D.tZ)(i.rU,{className:gC,to:s.teamAccountRoutePath},n("team_dashboard_card_seats_buy_link")))),(0,D.tZ)(yC,null,(0,D.tZ)("header",null,(0,D.tZ)("h1",null,n("team_dashboard_card_pending_invitations")),(0,D.tZ)(bC,{title:n("team_dashboard_card_pending_invitations_info")})),(0,D.tZ)("div",{className:_C},t.pending),(0,D.tZ)("footer",null,(0,D.tZ)(i.rU,{className:gC,to:{pathname:s.teamMembersRoutePath,state:t.pending?{openResendPendingInvitationsDialog:!0}:{openSendInvitesDialog:!0}}},t.pending?n("team_dashboard_card_resend_invitations_link"):n("team_dashboard_card_send_invitations_link")))))};var wC=a(617615),EC=a(271327),vC=a(101513),NC=a(264441),SC=a(181037),IC=a(960377),fC=a(433117),xC=a(440934),MC=a(142094),TC=a(93443);const DC=(e,t,a)=>{const n=[];switch(e){case uC.AllTime:{if(a>=5&&a<=8){t.forEach((e=>{const{date:t}=e;1===new Date(t).getDate()&&n.push(t)}));break}const{length:e}=t;if(e<=7){t.forEach((e=>{n.push(e.date)}));break}const i=e/7;let s=e-1;for(;s>=0;)n.push(t[Math.round(s)]?.date),s-=i;break}case uC.Last7Days:t.forEach((e=>{n.push(e.date)}));break;case uC.Last30Days:t.forEach((e=>{const{date:t}=e;0===new Date(t).getDay()&&n.push(t)}));break;default:(0,qr.U)(e)}return n},ZC="legendItem--MoxC6xF4tG",AC="legendIcon--p8Emm90xE4",kC=({active:e,label:t,payload:a})=>{const{translate:i}=(0,P.Z)();if(!e)return null;const s=a?`${mC(a[0]?.value)}%`:null;return n.createElement("div",{className:"customTooltipContainer--iAM2rWgGzw"},n.createElement("time",{className:"date--JuYmIy6PnQ"},t),n.createElement("div",{className:"score--RRdFFcOQCh"},n.createElement("div",{className:ZC},n.createElement("div",{className:AC}),n.createElement("p",null,i("team_dashboard_graph_score_hover_legend"))),n.createElement("p",null,s)))};var OC;const LC=({history:e,passwordHealthHistoryEmpty:t})=>{const[a,i]=(0,n.useState)(uC.AllTime),s=(e=>{const{length:t}=e;if(t<=2)return e;const a=(0,fC.Z)(e[0].date),n=(0,fC.Z)(e[t-1].date),i=(0,Vh.Z)(n,a);if(i===t-1)return e;const s=[];let r=0,o=e[r].securityIndex,l=a,c=a;for(let t=0;t<=i;t++)(0,xC.Z)(c,l)?(s.push(e[r]),o=e[r].securityIndex,r++,l=(0,fC.Z)(e[r]?.date)):s.push({date:c.toISOString().slice(0,10),securityIndex:o}),c=(0,MC.Z)(c,1);return s})(e),r=((e,t)=>{switch(e){case uC.AllTime:return t;case uC.Last7Days:return t.slice(t.length-7,t.length);case uC.Last30Days:return t.slice(t.length-30,t.length);default:(0,qr.U)(e)}})(a,s),{translate:o}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)("section",{className:F()("topSection--nM0XDipPte",{"addMarginTop--fLzJVO2qx1":t})},(0,D.tZ)("div",{className:ZC},(0,D.tZ)("div",{className:AC}),(0,D.tZ)(d.nvN,{size:"x-small"},o("team_dashboard_graph_score_legend"))),(0,D.tZ)(d.G8v,null,s.length>7?(0,D.tZ)(d.yPU,{label:o("team_dashboard_graph_7_days_button"),selected:a===uC.Last7Days,onClick:()=>{i(uC.Last7Days)},size:"small"}):null,s.length>30?(0,D.tZ)(d.yPU,{label:o("team_dashboard_graph_30_days_button"),selected:a===uC.Last30Days,onClick:()=>{i(uC.Last30Days)},size:"small"}):null,(0,D.tZ)(d.yPU,{label:o("team_dashboard_graph_all_time_button"),selected:a===uC.AllTime,onClick:()=>{s.length<=7||i(uC.AllTime)},size:"small"}))),(0,D.tZ)("section",{sx:{width:"100%",height:"100px",flexGrow:1}},(0,D.tZ)(wC.h,{sx:{height:"100%",width:"100%"}},(0,D.tZ)(EC.w,{data:t?[]:r,sx:{position:"relative",right:"18px"}},OC||(OC=(0,D.tZ)(vC.q,{vertical:!1})),(0,D.tZ)(NC.B,{domain:[0,100],tickFormatter:e=>`${e}%`,fontSize:"small"}),(({historyToDisplay:e,passwordHealthHistoryEmpty:t,view:a})=>{const{translate:i}=(0,P.Z)(),s=0!==e.length?(e=>{const t=new Date,a=new Date(e);let n=12*(t.getFullYear()-a.getFullYear());return n-=a.getMonth(),n+=t.getMonth(),n+1})(e[0].date):0;return DC(a,e,s),n.createElement(TC.K,{dataKey:"date",ticks:t?[]:DC(a,e,s),tickSize:4,tickFormatter:t?()=>"":e=>((e,t,a,n)=>{const i=t===uC.AllTime&&a>=5,s=new Date(e),r=n.shortDate(s,i?Ze._T.MMM:Ze._T.L_M_D),o=n.shortDate(s,Ze._T.MMMM);if(i)return r===o||r.endsWith(".")?r:`${r}.`;const[l,c]=r.split(" ");return l===o?r:`${l}. ${c}`})(e,a,s,i),fontSize:"small"})})({historyToDisplay:r,passwordHealthHistoryEmpty:t,view:a}),(0,D.tZ)(SC.u,{content:e=>{const t=o.shortDate((0,fC.Z)(e.label),{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"});return(0,D.tZ)(kC,{...e,label:t})},animationDuration:500,animationEasing:"ease-out",cursor:!t}),(0,D.tZ)(IC.x,{dataKey:"securityIndex",stroke:"#0e6476",strokeWidth:"2",dot:!1,activeDot:{strokeWidth:0,r:4},animationDuration:500,isAnimationActive:!0})))))},zC=({isLoading:e,history:t,creationDateUnix:a,passwordHealthHistoryEmpty:n})=>{const{translate:i}=(0,P.Z)(),s=!e&&n,r=!e&&!n&&a<dC;return(0,D.tZ)("section",{sx:{padding:"3%",flexGrow:1,display:"flex",flexDirection:"column"}},(0,D.tZ)(d.X6q,{size:"x-small",sx:{marginBottom:"1%"}},i("team_dashboard_graph_heading")),s?(0,D.tZ)(d.vDh,{size:"small",sx:{marginBottom:"11px"},title:i("team_dashboard_graph_not_enough_data_warning",{minPasswords:5})}):null,r?(0,D.tZ)(d.vDh,{size:"small",sx:{marginBottom:"11px"},title:i("team_dashboard_graph_no_old_data_warning")}):null,(0,D.tZ)(LC,{history:t,passwordHealthHistoryEmpty:n}))},jC=({title:e,value:t,color:a})=>(0,D.tZ)("div",{sx:{marginRight:"8px",minWidth:"70px"}},(0,D.tZ)("header",null,(0,D.tZ)("h1",null,e)),(0,D.tZ)("div",{sx:{fontSize:"x-large",fontWeight:"bold",color:a}},t)),PC=({compromised:e,passwords:t,reused:a,safe:n,securityIndex:i,weak:s,passwordHealthHistoryEmpty:r})=>{const{translate:o}=(0,P.Z)();return(0,D.tZ)("section",{sx:{borderTop:`1px solid ${d.O9T.grey05}`,display:"flex",padding:"3% 2%"}},(0,D.tZ)("div",{sx:{width:"240px",padding:"0 24px",borderRight:`1px solid ${d.O9T.grey05}`}},(0,D.tZ)("header",null,(0,D.tZ)("h1",null,o("team_dashboard_password_health_breakdown_score"))),(0,D.tZ)("div",{sx:{fontSize:"x-large",fontWeight:"bold",display:"inline-flex","& > svg":{marginRight:"7px"}}},(0,D.tZ)(pC,{showPasswordHealthScore:!r,securityIndex:i,shieldSize:20}))),(0,D.tZ)("div",{sx:{display:"flex",justifyContent:"space-between",padding:"0 24px",width:"100%"}},(0,D.tZ)(jC,{title:o("team_dashboard_password_health_breakdown_total"),value:t}),(0,D.tZ)(jC,{title:o("team_dashboard_password_health_breakdown_safe"),value:n,color:n?d.O9T.accessibleValidatorGreen:void 0}),(0,D.tZ)(jC,{title:o("team_dashboard_password_health_breakdown_weak"),value:s,color:s?d.O9T.orange00:void 0}),(0,D.tZ)(jC,{title:o("team_dashboard_password_health_breakdown_reused"),value:a,color:a?d.O9T.orange00:void 0}),(0,D.tZ)(jC,{title:o("team_dashboard_password_health_breakdown_compromised"),value:e,color:e?d.O9T.accessibleValidatorRed:void 0})))},RC=({isLoading:e,report:t,passwordHealthHistoryEmpty:a,creationDateUnix:n})=>(0,D.tZ)(d.Zbd,{sx:{height:"100%",display:"flex",flexDirection:"column"}},(0,D.tZ)(zC,{isLoading:e,history:t.passwordHealthHistory,passwordHealthHistoryEmpty:a,creationDateUnix:n}),(0,D.tZ)(PC,{...t.passwordHealth,passwordHealthHistoryEmpty:a})),UC="https://support.dashlane.com/hc/articles/4507132108946",BC={HEADING:"team_dashboard_dark_web_insights_heading",SECURITY_INCIDENTS:{LABEL:"team_dashboard_dark_web_insights_security_incidents",TOOLTIP:"team_dashboard_dark_web_insights_security_incidents_tooltip"},EMAILS_AFFECTED:{LABEL:"team_dashboard_dark_web_insights_emails_affected",TOOLTIP:"team_dashboard_dark_web_insights_emails_affected_tooltip"},SUGGESTED_INVITATION:{LABEL:"team_dashboard_dark_web_insights_suggested_invitations",TOOLTIP:"team_dashboard_dark_web_insights_suggested_invitations_tooltip"},RETURNING_USER_CTA:"team_dashboard_dark_web_insights_go_to_cta",RETURNING_USER_VIEW_DOMAIN_GUIDE_CTA:"team_dashboard_dark_web_insights_view_guide_cta",UNVERIFIED_MSG:"team_dashboard_dark_web_insights_domain_unverified_msg",UNVERIFIED_SUBTEXT:"team_dashboard_dark_web_insights_domain_unverified_sub_text",INCIDENT_FREE_MSG:"team_dashboard_dark_web_insights_domain_incident_free_msg",INCIDENT_FREE_SUBTEXT:"team_dashboard_dark_web_insights_domain_incident_free_sub_text",GENERATING_INSIGHTS_MESSAGE:"team_dashboard_dark_web_insights_generating_msg",NEW_INCIDENTS_NOTIFICATION_MSG:{ONE:"team_dashboard_dark_web_insights_notify_new_incidents_one",MANY:"team_dashboard_dark_web_insights_notify_new_incidents_many"},TEAM_NEW_LABEL:"team_new_label"},FC=({count:e,labelAndTooltip:t,primaryColor:a,secondaryColor:n})=>{const{translate:i}=(0,P.Z)();return(0,D.tZ)(d.Ejs,{gap:"6px",sx:{margin:"16px 0"}},(0,D.tZ)(d.X6q,{size:"x-small",color:a,sx:{width:"44px"}},e),(0,D.tZ)(d.ua7,{sx:{fontSize:2,maxWidth:"180px"},placement:"top",content:i(t.TOOLTIP)},(0,D.tZ)(d.nvN,{"aria-label":i(t.LABEL),size:"small",sx:{minWidth:"calc(100% - 70px)",width:"min-content"},color:null!=n?n:a},i(t.LABEL)),(0,D.tZ)(d.uMt,{size:13,tabIndex:0,color:null!=n?n:a})))},GC=({children:e})=>(0,D.tZ)(d.Zbd,{sx:{minHeight:"418px",width:"282px"}},(0,D.tZ)(d.Ejs,{sx:{minHeight:"418px",padding:"20px"},flexDirection:"column",justifyContent:"space-between",alignItems:"start"},e)),WC=({text:e,subtext:t,imgSrc:a})=>(0,D.tZ)(n.Fragment,null,(0,D.tZ)("img",{src:a}),(0,D.tZ)(d.nvN,{size:"medium",bold:!0,sx:{marginBottom:"8px"}},e),(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},t)),VC=({domain:e})=>(0,D.tZ)(d.nvN,{size:"x-small",bold:!0,sx:{padding:"4px 8px",backgroundColor:`${d.O9T.dashGreen06}`,borderRadius:"4px",width:"fit-content",height:"24px",marginBottom:"34px"}},e),HC=({newLeaksCount:e,newLeaksAffectedEmailCount:t})=>{const{translate:a}=(0,P.Z)(),{setHasNewBreaches:i}=O_();(0,n.useEffect)((()=>{e>0&&i(!0)}),[e,i]);const s=e>1?BC.NEW_INCIDENTS_NOTIFICATION_MSG.MANY:BC.NEW_INCIDENTS_NOTIFICATION_MSG.ONE;return e>0?(0,D.tZ)(d.Ejs,{flexDirection:"row",sx:{backgroundColor:d.O9T.pink05,borderRadius:"4px",padding:"5px 8px",marginTop:"25px"}},(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.red00,sx:{width:"calc(100% - 5px)"}},a(s,{numIncidents:e,count:t})),(0,D.tZ)(d.P_k,{dot:!0,ariaLabel:a(BC.TEAM_NEW_LABEL)})):null},qC=({domainInfo:e})=>{const t=e.leaksCount,a=e.emailsImpactedCount,i=e.emailsImpactedCount-e.teamMembersImpactedCount;return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(FC,{count:t,labelAndTooltip:BC.SECURITY_INCIDENTS,primaryColor:d.O9T.dashGreen00,secondaryColor:d.O9T.dashGreen01}),(0,D.tZ)(FC,{count:a,labelAndTooltip:BC.EMAILS_AFFECTED,primaryColor:d.O9T.dashGreen00,secondaryColor:d.O9T.dashGreen01}),(0,D.tZ)(FC,{count:i,labelAndTooltip:BC.SUGGESTED_INVITATION,primaryColor:d.O9T.dashGreen00,secondaryColor:d.O9T.dashGreen01}),(0,D.tZ)(HC,{newLeaksCount:e.newLeaksCount,newLeaksAffectedEmailCount:e.newLeaksAffectedEmailCount}))},YC=({domainName:e,domainInfo:t})=>{const{translate:a}=(0,P.Z)(),{routes:s}=(0,S.Xo)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)("section",{sx:{width:"100%"}},(0,D.tZ)(VC,{domain:e}),t.leaksCount>0?(0,D.tZ)(qC,{domainInfo:t}):(0,D.tZ)(WC,{imgSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIHZpZXdCb3g9IjAgMCA1MiA1MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzMxMTNfMTkwOTY0KSI+CjxyZWN0IHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgcng9IjI2IiBmaWxsPSIjRDlERkUwIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjAuNzIxOSAxMy40NzMzQzE0LjI4MjEgMTQuMjgxNiA5LjcxNjc2IDIwLjE1NzMgMTAuNTI1IDI2LjU5NzJMMTEuMTk1MyAzMS45MzgxTDcuOTg0NDUgMzIuMzQxMUM2Ljg4ODQ4IDMyLjQ3ODYgNi4xMTE1MiAzMy40Nzg2IDYuMjQ5MDggMzQuNTc0Nkw5LjE2NTA4IDU3LjgwOEM5LjMwMjYzIDU4LjkwNCAxMC4zMDI2IDU5LjY4MDkgMTEuMzk4NiA1OS41NDM0TDQwLjI5OTIgNTUuOTE2MUM0MS4zOTUyIDU1Ljc3ODYgNDIuMTcyMSA1NC43Nzg2IDQyLjAzNDYgNTMuNjgyNkwzOS4xMTg2IDMwLjQ0OTJDMzguOTgxIDI5LjM1MzIgMzcuOTgxIDI4LjU3NjIgMzYuODg1MSAyOC43MTM4TDM0LjUxNjEgMjkuMDExMUwzMy44NDU4IDIzLjY3MDJDMzMuMDM3NiAxNy4yMzA0IDI3LjE2MTggMTIuNjY1MSAyMC43MjE5IDEzLjQ3MzNaTTE0LjE3NjUgMjYuNjYxTDE0Ljc4MjQgMzEuNDg3OUwzMC45Mjc1IDI5LjQ2MTVMMzAuMzIxNyAyNC42MzQ2QzI5Ljc2MjIgMjAuMTc2MiAyNS42OTQzIDE3LjAxNTYgMjEuMjM2IDE3LjU3NTJDMTYuNzc3NiAxOC4xMzQ4IDEzLjYxNyAyMi4yMDI2IDE0LjE3NjUgMjYuNjYxWk00Ni43NzUzIDE4LjY1ODZMNDAuNDg1NiAyMi42MTkzTDQxLjkxMTEgMjQuODgyOUw0OC4yMDA3IDIwLjkyMjJMNDYuNzc1MyAxOC42NTg2Wk00My4xODE2IDI3LjI3NjRMNDcuMDcxNyAyNy4zNjhMNDcuMDEwMyAyOS45Nzc3TDQzLjEyMDIgMjkuODg2MUw0My4xODE2IDI3LjI3NjRaTTM3LjQ1NiAxNS43NDIyTDM2LjA3NyAyMC42Nzc3TDM4LjgxNzQgMjEuNDQzNEw0MC4xOTY0IDE2LjUwNzlMMzcuNDU2IDE1Ljc0MjJaIiBmaWxsPSIjMEUzNTNEIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMzExM18xOTA5NjQiPgo8cmVjdCB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIHJ4PSIyNiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",text:a(BC.INCIDENT_FREE_MSG,{domainName:e}),subtext:a(BC.INCIDENT_FREE_SUBTEXT)})),(0,D.tZ)(i.rU,{to:s.teamDarkWebInsightsRoutePath,sx:{textDecoration:"none",color:`${d.O9T.midGreen00}`,marginBottom:"16px","&:hover":{textDecoration:"underline"}},onClick:()=>{(0,v.K)(new c.UserOpenDomainDarkWebMonitoringEvent({accessPath:c.AccessPath.MainDashboardButton,isFirstVisit:!1}))}},a(BC.RETURNING_USER_CTA)))},QC=({domainName:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)("section",{sx:{width:"100%"}},(0,D.tZ)(VC,{domain:e}),(0,D.tZ)(WC,{imgSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUzIiBoZWlnaHQ9IjUzIiByeD0iMjYuNSIgZmlsbD0iI0Q5REZFMCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI2LjgwMDQgMTMuNzUzN0wyNi45NjE2IDEzLjEwOTFDMjcuNjA2MiAxMC42MTEzIDI5Ljg2MjIgOSAzMi4zNjAxIDlDMzUuMzQxMyA5IDM4IDExLjQxNzMgMzggMTQuNDc4OUMzOCAxNi45NzY4IDM2LjMwNzkgMTkuMDcxNiAzMy45NzEyIDE5LjcxNjRWMjAuNzY0SDMwLjc0ODJWMTguODMwM0MzMC43NDgyIDE3Ljc4MjcgMzEuNTU0IDE2LjgxNiAzMi42ODE5IDE2LjczNTRDMzMuODA5OSAxNi41NzQyIDM0Ljc3NjggMTUuNjg3OSAzNC43NzY4IDE0LjQ3OTRDMzQuNzc2OCAxMy4xOTAyIDMzLjY0ODkgMTIuMjIzMyAzMi4zNTk1IDEyLjIyMzNDMzEuMjMxNiAxMi4yMjMzIDMwLjM0NTMgMTIuODY3OSAzMC4wMjI5IDEzLjkxNTRMMjkuODYxNyAxNC41NTk5TDI2LjggMTMuNzU0MkwyNi44MDA0IDEzLjc1MzdaTTM0LjM3NDQgMjMuNzQ1NUMzNC4zNzQ0IDI0Ljg1OCAzMy40NzI2IDI1Ljc2IDMyLjM2MDEgMjUuNzZDMzEuMjQ3NiAyNS43NiAzMC4zNDU2IDI0Ljg1OCAzMC4zNDU2IDIzLjc0NTVDMzAuMzQ1NiAyMi42MzMgMzEuMjQ3NiAyMS43MzEzIDMyLjM2MDEgMjEuNzMxM0MzMy40NzI2IDIxLjczMTMgMzQuMzc0NCAyMi42MzMgMzQuMzc0NCAyMy43NDU1Wk0zNi44NzkxIDM0LjYzMzlDMzYuODc5MSAzMi42MTggMzYuNDE5MyAzMC42ODU5IDM1LjU0MTMgMjguODhMMzEuNjk1OCAyOC44OEwzMi4xOTczIDI5LjcxOTlDMzIuODI0MiAzMC43Njk5IDMzLjIwMDQgMzEuOTAzOSAzMy40MDk0IDMzLjA3OTlMMjkuMzEyOSAzMy4wNzk5QzI5LjI3MTIgMzAuOTggMjguOTc4NCAyOC44OCAyOC41MTg2IDI2LjgyMTlDMjcuNTk4OSAyMy4xNjgxIDI1LjkyNjkgMjEuMzIgMjMuNTAyNCAyMS4zMkMxNi4xMDMyIDIxLjI3OCAxMC4wNDE5IDI3LjI4NDEgMTAuMDAwMiAzNC42NzU5QzkuOTU4NDIgNDIuMDY3NyAxNS44OTQzIDQ4LjE1NzkgMjMuMjkzMyA0OC4xOTk4SDIzLjYyNzhDMzEuMDI2NyA0OC4xMTU4IDM2Ljk2MjUgNDIuMDY3OSAzNi44NzkxIDM0LjYzMzlaTTIxLjAzNjEgMzYuNDRMMjUuOTY4NiAzNi40NEMyNS43NTk1IDQxLjIyNzkgMjQuNzU2NSA0NC44Mzk5IDIzLjUwMjMgNDQuODM5OUMyMi4yNDgyIDQ0LjgzOTkgMjEuMjQ1MSA0MS4yMjc5IDIxLjAzNjEgMzYuNDRaTTIzLjUwMjMgMjQuNjgwM0MyNC43NTY1IDI0LjY4MDMgMjUuNzU5NSAyOC4zMzQyIDI1Ljk2ODYgMzMuMDgwMkgyMS4wMzYxQzIxLjI0NTIgMjguMzM0MiAyMi4yNDgyIDI0LjY4MDMgMjMuNTAyMyAyNC42ODAzWk0xNy42OTE3IDMzLjA4MDJMMTMuNjM2OSAzMy4wODAzQzE0LjA5NjcgMzAuMTQwMSAxNS44OTQxIDI3LjUzNjIgMTguNDg2IDI2LjAyNDJMMTguNzM2OCAyNS44OTgyQzE4LjY1MzEgMjYuMTkyMyAxOC41Njk3IDI2LjQ4NjIgMTguNDg2IDI2LjgyMjJDMTguMDI2MiAyOC44ODAzIDE3LjczMzQgMzAuOTgwMyAxNy42OTE3IDMzLjA4MDJaTTE4LjQ4NiA0Mi42OTgyQzE4LjU2OTcgNDMuMDM0MiAxOC42NTMxIDQzLjMyOCAxOC43MzY4IDQzLjYyMjFMMTguNzM2OCA0My42MjIyQzE3LjEwNjUgNDIuNzQwMSAxNS43MjcgNDEuNDM4MiAxNC44NDkgMzkuODAwMkMxNC4yMjIxIDM4Ljc1MDIgMTMuODQ1OSAzNy42MTYxIDEzLjYzNjkgMzYuNDQwMUgxNy42OTE3QzE3LjczMzQgMzguNTQwMSAxOC4wMjYyIDQwLjY0MDEgMTguNDg2IDQyLjY5ODJaTTI5LjMxMjggMzYuNDQwMUwzMy4zNjc2IDM2LjQ0QzMyLjkwNzggMzkuNDIyMSAzMS4xMTA0IDQxLjk4NDEgMjguNTE4NCA0My40OTYxTDI4LjI2NzcgNDMuNjIyMUMyOC4zNTE0IDQzLjMyOCAyOC40MzQ4IDQzLjAzNDEgMjguNTE4NCA0Mi42OTgxQzI4Ljk3ODMgNDAuNjQgMjkuMjcxMSAzOC41NCAyOS4zMTI4IDM2LjQ0MDFaIiBmaWxsPSIjMEUzNTNEIi8+Cjwvc3ZnPgo=",text:t(BC.UNVERIFIED_MSG),subtext:t(BC.UNVERIFIED_SUBTEXT)})),(0,D.tZ)(d.rUS,{sx:{textDecoration:"none",fontWeight:"lighter",marginBottom:"16px","&:hover":{textDecoration:"underline"}},color:d.O9T.midGreen00,target:"_blank",rel:"noopener noreferrer",href:UC,onClick:()=>{(0,v.K)(new c.UserOpenHelpCenterEvent({helpCenterArticleCta:c.HelpCenterArticleCta.ViewDomainVerificationGuide}))}},t(BC.RETURNING_USER_VIEW_DOMAIN_GUIDE_CTA)))},$C=({domainName:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(VC,{domain:e}),(0,D.tZ)(d.HoD,{size:44,color:d.O9T.dashGreen00,sx:{alignSelf:"center"}}),(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00,sx:{marginBottom:"3em",overflow:"hidden",width:"-webkit-fill-available"}},t(BC.GENERATING_INSIGHTS_MESSAGE)))},KC=({verifiedOrPendingDomain:e,dwiSummaryResponse:t})=>{const{translate:a}=(0,P.Z)(),n=e.status===V.DomainStatus.valid,i=e.name;return(0,D.tZ)(GC,null,(0,D.tZ)(d.X6q,{size:"x-small"},a(BC.HEADING)),n?t?.success?(0,D.tZ)(YC,{domainName:i,domainInfo:t.data[i]}):(0,D.tZ)($C,{domainName:i}):(0,D.tZ)(QC,{domainName:i}))},XC=a.p+"daa928a30146cfbef943.png";var JC,ew;const tw={TEAM_NEW_LABEL:"team_new_label",HEADING:"team_dashboard_dark_web_insights_discovery_heading",SUBTEXT:"team_dashboard_dark_web_insights_discovery_subtext",ALTERNATE_HEADING:"team_dashboard_dark_web_insights_discovery_heading_alternate",ALTERNATE_SUBTEXT:"team_dashboard_dark_web_insights_discovery_subtext_alternate",SECURITY_INCIDENTS:{LABEL:"team_dashboard_dark_web_insights_security_incidents",TOOLTIP:"team_dashboard_dark_web_insights_security_incidents_tooltip"},EMAILS_AFFECTED:{LABEL:"team_dashboard_dark_web_insights_emails_affected",TOOLTIP:"team_dashboard_dark_web_insights_emails_affected_tooltip"},GET_STARTED_CTA:"team_dashboard_dark_web_insights_discovery_get_started_cta"},aw=()=>{const{translate:e}=(0,P.Z)(),{routes:t}=(0,S.Xo)(),a=(0,i.k6)(),{unseen:n}=(0,hc.m)(V.NotificationName.TacDarkWebInsightsNewBadge);return(0,D.tZ)(d.zxk,{type:"button",nature:"primary",key:"primary",onClick:()=>{(0,v.K)(new c.UserOpenDomainDarkWebMonitoringEvent({accessPath:c.AccessPath.MainDashboardButton,isFirstVisit:n})),a.push(t.teamDarkWebInsightsRoutePath)}},e(tw.GET_STARTED_CTA))},nw=({data:e,companyName:t})=>{const{translate:a}=(0,P.Z)(),[n]=Object.keys(e),i=e[n];return(0,D.tZ)(GC,null,(0,D.tZ)(d.Cts,{intent:"info"},a(tw.TEAM_NEW_LABEL)),(0,D.tZ)(d.X6q,{size:"x-small",sx:{marginTop:"1em",width:"100%",overflow:"hidden"}},a(tw.HEADING,{companyName:t})),(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},a(tw.SUBTEXT)),(0,D.tZ)("div",{sx:{backgroundColor:`${d.O9T.dashGreen06}`,padding:"2px 14px",width:"100%",borderRadius:"10px"}},(0,D.tZ)(FC,{count:i.leaksCount,labelAndTooltip:tw.SECURITY_INCIDENTS,primaryColor:d.O9T.dashGreen01}),(0,D.tZ)(FC,{count:i.emailsImpactedCount,labelAndTooltip:tw.EMAILS_AFFECTED,primaryColor:d.O9T.dashGreen01})),JC||(JC=(0,D.tZ)(aw,null)))},iw=({companyName:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(GC,null,(0,D.tZ)("div",{sx:{alignSelf:"end"}},(0,D.tZ)(d.Cts,{intent:"info"},t(tw.TEAM_NEW_LABEL))),(0,D.tZ)("img",{sx:{backgroundColor:`${d.O9T.midGreen05}`,height:"122px",width:"122px",borderRadius:"50%",backgroundImage:`url(${XC})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPositionX:"60%"}}),(0,D.tZ)(d.X6q,{size:"x-small",sx:{width:"100%"}},t(tw.ALTERNATE_HEADING,{companyName:e})),(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},t(tw.ALTERNATE_SUBTEXT)),ew||(ew=(0,D.tZ)(aw,null)))},sw=({dwiSummaryResponse:e})=>{var t;const{spaceDetails:a}=(0,x.fV)(),n=null!=(t=a?.teamName)?t:"-";return e?.success?(0,D.tZ)(nw,{data:e.data,companyName:n}):(0,D.tZ)(iw,{companyName:n})};let rw;!function(e){e.Loading="loading",e.Start="start",e.Pending="pending",e.Validated="validated",e.Deactivating="deactivating"}(rw||(rw={}));const ow=()=>{const[e,t]=(0,n.useState)({domain:null,status:rw.Loading}),a=(0,n.useCallback)((async()=>{try{const e=await u.C.getTeamDomains();if(e.success&&e.domains.length){const a=e.domains.filter((e=>e.status===V.DomainStatus.pending)),n=e.domains.filter((e=>e.status===V.DomainStatus.valid));if(n.length){const e=n[0];t({domain:e,status:rw.Validated})}else if(a.length){const e=a[a.length-1];t({domain:e,status:rw.Pending})}else t({domain:e.domains[e.domains.length-1],status:rw.Pending})}else t({domain:null,status:rw.Start})}catch(e){t({domain:null,status:rw.Start})}}),[]);return{verifiedOrPendingDomain:e,updateDomainState:a,deactivateDomain:async()=>{if(null!==e.domain){t((e=>({domain:e.domain,status:rw.Deactivating})));try{(await u.C.deactivateTeamDomain({domain:e.domain.name})).success?t({domain:null,status:rw.Start}):a()}catch(e){a()}}},tryVerifyDomain:async()=>{await u.C.completeTeamDomainRegistration(),await a()}}};var lw,cw;const dw=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(d.Zbd,{sx:{padding:"16px",width:"286px",minHeight:"171px",flexDirection:"column",display:"flex",justifyContent:"space-evenly",alignItems:"flex-start"}},(0,D.tZ)(d.X6q,{size:"x-small"},e("team_breach_report_need_help")),(0,D.tZ)(d.rUS,{sx:{alignSelf:"center",mr:"auto"},color:d.O9T.midGreen00,target:"_blank",rel:"noopener noreferrer",href:"https://support.dashlane.com/hc/articles/5015658490514",onClick:()=>{(0,v.K)(new c.UserOpenHelpCenterEvent({helpCenterArticleCta:c.HelpCenterArticleCta.LearnAboutDarkWebInsights}))}},e("team_dark_web_insights_learn_more_txt")),(0,D.tZ)(d.rUS,{sx:{alignSelf:"center",mr:"auto"},color:d.O9T.midGreen00,target:"_blank",rel:"noopener noreferrer",href:UC,onClick:()=>{(0,v.K)(new c.UserOpenHelpCenterEvent({helpCenterArticleCta:c.HelpCenterArticleCta.LearnAboutDomainVerification}))}},e("team_breach_report_learn_domain_verification_txt")))},uw=({registerDomain:e=(()=>{}),disabled:t,registrationError:a,clearRegistrationErrors:i=(()=>{}),domainLoadError:s})=>{const{translate:r}=(0,P.Z)(),[o,l]=n.useState(""),c=s?"":r("team_settings_domain_url_placeholder");return n.createElement(n.Fragment,null,n.createElement("div",{className:"domainUrlInput--VQjVVbbN2d"},n.createElement(d.oil,{value:o,placeholder:c,fullWidth:!0,feedbackText:a,feedbackType:a?"error":void 0,onChange:e=>{a&&i(),l(e.target.value)},disabled:!!s||t}),s&&n.createElement("p",{className:"domainLoadErrorText--WEJL2Ne0Pt"},s)),n.createElement(d.zxk,{type:"button",className:F()("domainUrlButton--lFqlfJ3Gzv",{"domainLoadError--ajAHmgDUO9":s}),disabled:t,nature:"secondary",onClick:()=>e(o)},r("team_settings_domain_button_add")))},mw=({domain:e,onConfirm:t,onDismiss:a})=>{const{translate:i}=(0,P.Z)(),[s,r]=(0,n.useState)(!1),o=(0,n.useRef)(!1);return(0,n.useEffect)((()=>()=>{o.current=!0}),[o]),(0,D.tZ)(p.o,{isOpen:!0,onRequestClose:a,footer:(0,D.tZ)(d.cNS,{primaryButtonTitle:i("team_settings_domain_deactivate_button_remove"),primaryButtonOnClick:async()=>{r(!0),await t(),o.current||(r(!1),a())},primaryButtonProps:{disabled:s},secondaryButtonTitle:i("team_settings_domain_deactivate_button_cancel"),secondaryButtonOnClick:a,intent:"primary"}),title:i("team_settings_domain_deactivate_title")},(0,D.tZ)("p",null,i.markup("team_settings_domain_deactivate_description_markup",{domainUrl:e.name})))},pw=({domain:e,deactivateDomain:t,isDisabled:a,disabledTooltipText:i})=>{const[s,r]=(0,n.useState)(!1);return(0,D.tZ)(n.Fragment,null,s?(0,D.tZ)(mw,{domain:e,onConfirm:t,onDismiss:()=>r(!1)}):null,(0,D.tZ)("div",{className:"deactivateTrashcan--nLkrRLE9CS",onClick:()=>{a||r(!0)}},(0,D.tZ)(d.ua7,{passThrough:!a,placement:"top",content:null!=i?i:"",sx:{maxWidth:"180px"}},(0,D.tZ)(d.XHJ,{disabled:a,size:25,color:pg()["--dash-green-00"]}))))},_w="column--QmWD9Od6Ul",gw=({label:e,centerLabel:t,labelHelper:a,children:i})=>n.createElement("div",{className:"row--b0sY7KH6EJ"},n.createElement("div",{className:_w},n.createElement("div",{className:F()("label--IAVg4TIabV",{"centerLabel--kRDzb_3UrS":t})},e),a?n.createElement("div",{className:"labelHelper--ZvFzwTua9S"},a):null),n.createElement("div",{className:_w},i));let hw,bw,yw;!function(e){e[e.ClaimDomain=0]="ClaimDomain",e[e.VerifyDomain=1]="VerifyDomain",e[e.SSOConnector=2]="SSOConnector",e[e.EnableSSO=3]="EnableSSO"}(hw||(hw={})),function(e){e[e.SSOConnector=0]="SSOConnector",e[e.ConfigureIDP=1]="ConfigureIDP",e[e.EnableSSO=2]="EnableSSO"}(bw||(bw={})),function(e){e[e.dismiss=0]="dismiss",e[e.action=1]="action"}(yw||(yw={}));const Cw="team_settings_domain_deactivate_button_tooltip_error",ww=({currentStep:e,deactivateDomain:t,domain:a,isDisabled:i,setCurrentSteps:s,verifyDomain:r})=>{var o;const[l,c]=n.useState(!1),{translate:d}=(0,P.Z)();return n.createElement("div",{className:"domainContainer--uTWD0PQykR",key:a.id},(()=>{if(!a)return null;switch(e){case Sw.Verify:case Sw.VerifyFailed:return n.createElement(n.Fragment,null,n.createElement(Mw,{domain:a,verifyDomain:()=>c(!0),domainStep:e}),n.createElement(pw,{domain:a,deactivateDomain:()=>t(a),isDisabled:i,disabledTooltipText:d(Cw)}));case Sw.Complete:return n.createElement(n.Fragment,null,o||(o=n.createElement(Zw,{domain:a})),n.createElement(pw,{domain:a,deactivateDomain:()=>t(a),isDisabled:i,disabledTooltipText:d(Cw)}));default:return null}})(),(()=>{if(!a||!l)return null;switch(e){case Sw.Verify:return n.createElement(Ow,{domainName:a.name,onConfirm:()=>r(a),onDismiss:()=>c(!1)});case Sw.VerifyFailed:return n.createElement(Lw,{onDismiss:()=>{s((e=>({...e,[a.id]:Sw.Verify}))),c(!1)}});default:return null}})())},Ew=a(465343),vw="team_settings_domain_register_invalid_error",Nw={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support"};let Sw;!function(e){e[e.Register=0]="Register",e[e.Verify=1]="Verify",e[e.VerifyFailed=2]="VerifyFailed",e[e.Complete=3]="Complete"}(Sw||(Sw={}));const Iw=({isTeamSettingsLoading:e,teamSettings:t,setStepComplete:a,uncompleteSteps:i})=>{const{translate:s}=(0,P.Z)(),[r,o]=n.useState(!1),[l,c]=n.useState([]),[d,m]=n.useState(""),[p,_]=n.useState(""),[g,h]=n.useState({}),b=e=>"valid"===e.status,y=()=>l.filter((e=>b(e))),C=t?.ssoEnabled||!1,w=n.useCallback(((e=[])=>{e.forEach((e=>{switch(e.status){case V.DomainStatus.pending:h((t=>({...t,[e.id]:Sw.Verify}))),a(hw.ClaimDomain);break;case V.DomainStatus.valid:h((t=>({...t,[e.id]:Sw.Complete}))),a(hw.ClaimDomain),a(hw.VerifyDomain);break;default:h((t=>({...t,[e.id]:Sw.Register})))}}))}),[]),E=n.useCallback((async()=>{o(!0),_("");const e=await u.C.getTeamDomains();return o(!1),e.success?(c(e.domains),e.domains):(_(s("team_settings_domain_fetch_error")),Promise.resolve(void 0))}),[u.C.getTeamDomains]),v=async e=>{const t=await u.C.completeTeamDomainRegistration();t.success&&t.domains.find((t=>t.name===e.name))&&t.domains.find((t=>t.name===e.name))?.status===V.DomainStatus.valid?(a(hw.VerifyDomain),h((t=>({...t,[e.id]:Sw.Complete})))):h((t=>({...t,[e.id]:Sw.VerifyFailed})))},N=async e=>{e&&(await u.C.deactivateTeamDomain({domain:e.name})).success&&(w(await E()),y().length||i([hw.EnableSSO,hw.SSOConnector,hw.ClaimDomain,hw.VerifyDomain]))};return n.useEffect((()=>{(async()=>{w(await E())})()}),[E,w]),n.createElement(n.Fragment,null,n.createElement(gw,{label:`1. ${s("team_settings_domain_title")}`,labelHelper:s("team_settings_domain_multi_description")},r||e?n.createElement(Qr.Z,{size:20,containerStyle:{alignItems:"normal"}}):n.createElement(uw,{registerDomain:async e=>{if(l.length>=5)return;if(!Ew.isFQDN(e))return void m(s(vw));const t=await u.C.registerTeamDomain({domain:e});if(t.success)w(await E());else if(!t.success){const{error:{code:e}}=t,a=Nw[e];m(s(null!=a?a:vw))}},domainLoadError:p,registrationError:d,disabled:l.length>=5,clearRegistrationErrors:()=>m("")})),r||e||0===l.length?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"divider--SU_Ctssudp"}),n.createElement(gw,{label:s("team_settings_domain_added")},n.createElement("div",{className:"domainsContainer--eO_SBqHaFr"},l.map(((e,t)=>t<5?n.createElement(ww,{key:e.id,currentStep:g[e.id],deactivateDomain:N,domain:e,isDisabled:C&&1===y().length&&b(e),setCurrentSteps:h,verifyDomain:v}):null))))))},{orange00:fw,dashGreen02:xw}=d.O9T,Mw=({verifyDomain:e,domain:t,domainStep:a})=>{const{translate:i}=(0,P.Z)();return n.createElement(d.T5p,{gap:"10px",gridTemplateColumns:"1fr auto"},n.createElement(d.oil,{value:t?t.name:"",fullWidth:!0,readOnly:!0,endAdornment:n.createElement(d.T5p,{gridTemplateColumns:"auto auto",gap:"5px"},n.createElement(d.nvN,{size:"small",color:a===Sw.VerifyFailed?fw:xw},a===Sw.VerifyFailed?i("team_settings_domain_verify_failed"):i("team_settings_domain_not_verified")),n.createElement(d.enX,{color:a===Sw.VerifyFailed?fw:xw})),feedbackType:a===Sw.VerifyFailed?"warning":void 0}),n.createElement(d.zxk,{nature:"secondary",onClick:e,type:"button"},i("team_settings_domain_button_verify")))};var Tw;const{accessibleValidatorGreen:Dw}=d.O9T,Zw=({domain:e})=>n.createElement(d.oil,{value:e.name,endAdornment:Tw||(Tw=n.createElement(d.rE2,{color:Dw})),readOnly:!0,fullWidth:!0});var Aw=a(994825);const kw="team_settings_domain_verify_load_error",Ow=({description:e,isDarkWebInsights:t,secondaryDescription:a,domainName:i,href:s="https://support.dashlane.com/hc/articles/360013149040",linkLabel:r,onClick:o,onDismiss:l,onConfirm:m})=>{const{translate:p}=(0,P.Z)(),[_,g]=(0,n.useState)({id:0,name:""}),[h,b]=(0,n.useState)(""),[y,C]=(0,n.useState)(!1),[w,E]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{C(!0);try{const e=await u.C.getTeamDomains();if(e.success){const t=e.domains.find((e=>e.name===i));t?g(t):b(p(kw))}}catch(e){b(p(kw))}finally{C(!1)}})()}),[i,p]);const{dnsToken:{computedToken:N,challengeDomain:S}={computedToken:"",challengeDomain:""}}=_,I=({id:e,inputValue:t,labelText:a})=>({textInputProps:{id:e,label:a,readOnly:!0,disabled:y,fullWidth:!0,startAdornment:y?(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00}):void 0},iconButtonProps:{disabled:y},inputValue:t});return(0,D.tZ)(d.VqE,{isOpen:!0,onClose:l,closeIconName:p("_common_dialog_dismiss_button")},(0,D.tZ)(d.$N8,{title:p("team_settings_domain_verify_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.T5p,{gap:"32px",gridTemplateColumns:"1fr",gridAutoRows:"auto"},(0,D.tZ)(d.nvN,{color:d.O9T.grey00},e||p.markup("team_settings_domain_verify_description_markup",{domainUrl:i})),h?(0,D.tZ)(d.nvN,{color:d.O9T.red00},h):(0,D.tZ)(n.Fragment,null,(0,D.tZ)(Aw.x,{...I({id:"hostnameInput",labelText:p("team_settings_domain_verify_host"),inputValue:S})}),(0,D.tZ)(Aw.x,{...I({id:"txtValueInput",labelText:p("team_settings_domain_verify_txt"),inputValue:N})})),a?(0,D.tZ)(d.nvN,{color:d.O9T.grey00},a):null)),(0,D.tZ)(d.cNS,{primaryButtonTitle:p("team_settings_domain_verify_confirm"),primaryButtonOnClick:async()=>{E(!0);try{await m()}catch(e){b(e.message),t&&(0,v.K)(new c.UserVerifyDomainEvent({domainVerificationStep:c.DomainVerificationStep.DomainVerificationError}))}finally{E(!1),t&&(0,v.K)(new c.UserVerifyDomainEvent({domainVerificationStep:c.DomainVerificationStep.TapVerifyDomainCtaWithDnsInformation}))}},primaryButtonProps:{disabled:!!h||y||w},intent:"primary"},(0,D.tZ)(d.rUS,{sx:{alignSelf:"center",mr:"auto"},color:d.O9T.midGreen00,target:"_blank",rel:"noopener noreferrer",href:s,onClick:o},r||p("team_settings_domain_verify_setup"))))},Lw=({onDismiss:e,domainName:t})=>{const{translate:a}=(0,P.Z)(),i=t?a.markup("team_settings_domain_verify_failure_title_markup",{domainUrl:t}):a("team_settings_domain_verify_failure_title");return n.createElement(d.VqE,{isOpen:!0,onClose:e},n.createElement(d.$N8,{title:i}),n.createElement(d.a7O,null,a("team_settings_domain_verify_failure_desc")),n.createElement(d.cNS,{primaryButtonTitle:a("team_settings_domain_verify_failure_button"),primaryButtonOnClick:e,intent:"primary"}))},zw=({description:e,isDarkWebInsights:t,secondaryDescription:a,domainName:i,linkLabel:s,href:r,onClick:o,onDismiss:l,onError:c,onSuccess:d})=>{const[m,p]=(0,n.useState)(!1),_=(0,n.useRef)(!1),g=(0,n.useCallback)((async()=>{const e=await u.C.completeTeamDomainRegistration();if(!_.current){if(e.success){const t=e.domains.find((e=>e.name===i));t?.status===V.DomainStatus.valid?d():c&&c()}else p(!0);return()=>{_.current=!0}}}),[i,d,c]);return m?(0,D.tZ)(Lw,{onDismiss:l,domainName:i}):(0,D.tZ)(Ow,{description:e,isDarkWebInsights:t,secondaryDescription:a,linkLabel:s,domainName:i,href:r,onConfirm:g,onDismiss:l,onClick:o})},jw=e=>(0,D.tZ)("div",{className:"container--vE8T8LPnPv"},(0,D.tZ)("img",{src:e.img,className:"img--m_seeXYeAW"}),(0,D.tZ)(d.nvN,{size:"medium",caps:!!e.caps||void 0,sx:{marginTop:"-43px",marginBottom:"11px"}},e.title),(0,D.tZ)(d.nvN,{color:d.O9T.grey00,size:"small"},e.subtitle),(0,D.tZ)("div",{className:"numberContainer--QTEn2wceZi"},(0,D.tZ)("div",{className:"dot--jKi_w8fAhr",style:e.dotStyle}),e.stepLabel&&e.stepNumber?(0,D.tZ)(d.nvN,{size:"small",sx:{textAlign:"left"}},e.stepLabel," ",e.stepNumber):null)),Pw=()=>{const{translate:e}=(0,P.Z)(),t={marginTop:"18px"};return(0,D.tZ)(d.Zbd,{sx:{padding:"12px 12px 48px",minHeight:"200px"}},(0,D.tZ)(d.Ejs,{sx:{justifyContent:"space-between",marginTop:"80px",paddingLeft:"24px",borderBottom:`solid 2px ${d.O9T.grey00}`}},(0,D.tZ)(jw,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi40NTgzIDEuNUMxMi42NzQyIDEuNSAxLjUgMTIuNjc0MiAxLjUgMjYuNDU4M0MxLjUgNDAuMjQyNCAxMi42NzQyIDUxLjQxNjcgMjYuNDU4MyA1MS40MTY3QzQwLjI0MjQgNTEuNDE2NyA1MS40MTY3IDQwLjI0MjQgNTEuNDE2NyAyNi40NTgzQzUxLjQxNjcgMTIuNjc0MiA0MC4yNDI0IDEuNSAyNi40NTgzIDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjEyMTkgMTIuMTIxOSAwLjUgMjYuNDU4MyAwLjVDNDAuNzk0NyAwLjUgNTIuNDE2NyAxMi4xMjE5IDUyLjQxNjcgMjYuNDU4M0M1Mi40MTY3IDQwLjc5NDcgNDAuNzk0NyA1Mi40MTY3IDI2LjQ1ODMgNTIuNDE2N0MxMi4xMjE5IDUyLjQxNjcgMC41IDQwLjc5NDcgMC41IDI2LjQ1ODNaIiBmaWxsPSIjNjE1QjU3Ii8+CjxwYXRoIGQ9Ik0yNi4xMjgzIDMwSDI3LjYxNjNWMjEuMzI0SDI2LjYyMDNDMjYuNTYwMyAyMi4wNSAyNi4wMzgzIDIyLjQ0NiAyNC41MjAzIDIyLjQ0NlYyMy4zMTZIMjYuMTI4M1YzMFoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=",title:e("team_breach_report_verify_domain_stepper_title"),subtitle:e("team_dark_web_insights_stepper_verify_domain_subtitle"),caps:!0,dotStyle:t}),(0,D.tZ)(jw,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi40NTgzIDEuNUMxMi42NzQyIDEuNSAxLjUgMTIuNjc0MiAxLjUgMjYuNDU4M0MxLjUgNDAuMjQyNCAxMi42NzQyIDUxLjQxNjcgMjYuNDU4MyA1MS40MTY3QzQwLjI0MjQgNTEuNDE2NyA1MS40MTY3IDQwLjI0MjQgNTEuNDE2NyAyNi40NTgzQzUxLjQxNjcgMTIuNjc0MiA0MC4yNDI0IDEuNSAyNi40NTgzIDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjEyMTkgMTIuMTIxOSAwLjUgMjYuNDU4MyAwLjVDNDAuNzk0NyAwLjUgNTIuNDE2NyAxMi4xMjE5IDUyLjQxNjcgMjYuNDU4M0M1Mi40MTY3IDQwLjc5NDcgNDAuNzk0NyA1Mi40MTY3IDI2LjQ1ODMgNTIuNDE2N0MxMi4xMjE5IDUyLjQxNjcgMC41IDQwLjc5NDcgMC41IDI2LjQ1ODNaIiBmaWxsPSIjNjE1QjU3Ii8+CjxwYXRoIGQ9Ik0yNC4wMDQ5IDMwSDMwLjEyNDlWMjguNzUySDI1LjYzMDlWMjguNjI2QzI1LjYzMDkgMjYuNTYyIDMwLjEwNjkgMjYuODUgMzAuMTA2OSAyMy43NTRDMzAuMTA2OSAyMi4yMyAyOC45NDI5IDIxLjIwNCAyNy4wODg5IDIxLjIwNEMyNC45NDA5IDIxLjIwNCAyMy44NTQ5IDIyLjQ4MiAyMy44MzA5IDI0LjA2NkgyNS4yNDY5QzI1LjM2MDkgMjMuMDI4IDI2LjA1MDkgMjIuNDQgMjcuMDQ2OSAyMi40NEMyNy45ODI5IDIyLjQ0IDI4LjU3MDkgMjIuOTggMjguNTcwOSAyMy43NkMyOC41NzA5IDI1Ljg2IDI0LjAwNDkgMjUuNzIyIDI0LjAwNDkgMjguODE4VjMwWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",title:e("team_dark_web_insights_view_insights_stepper_title"),subtitle:e("team_dark_web_insights_view_insights_stepper_subtitle"),caps:!0,dotStyle:t}),(0,D.tZ)(jw,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1NCA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi45NDc5IDEuNUMxMi44ODQ0IDEuNSAxLjUgMTIuNjgzMiAxLjUgMjYuNDU4M0MxLjUgNDAuMjMzNSAxMi44ODQ0IDUxLjQxNjcgMjYuOTQ3OSA1MS40MTY3QzQxLjAxMTQgNTEuNDE2NyA1Mi4zOTU4IDQwLjIzMzUgNTIuMzk1OCAyNi40NTgzQzUyLjM5NTggMTIuNjgzMiA0MS4wMTE0IDEuNSAyNi45NDc5IDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjExMyAxMi4zNTAyIDAuNSAyNi45NDc5IDAuNUM0MS41NDU3IDAuNSA1My4zOTU4IDEyLjExMyA1My4zOTU4IDI2LjQ1ODNDNTMuMzk1OCA0MC44MDM3IDQxLjU0NTcgNTIuNDE2NyAyNi45NDc5IDUyLjQxNjdDMTIuMzUwMiA1Mi40MTY3IDAuNSA0MC44MDM3IDAuNSAyNi40NTgzWiIgZmlsbD0iIzYxNUI1NyIvPgo8cGF0aCBkPSJNMjMuNzMzNSAyMy45MjhIMjUuMTQ5NUMyNS4yMDM1IDIyLjgwNiAyNi4wMDE1IDIyLjM2OCAyNi44Nzc1IDIyLjM2OEMyNy45MDk1IDIyLjM2OCAyOC41NjM1IDIyLjg3OCAyOC41NjM1IDIzLjU1QzI4LjU2MzUgMjQuMjgyIDI3Ljg0MzUgMjQuODUyIDI2LjgxNzUgMjQuODgyTDI2LjA3MzUgMjQuOTEyVjI2LjFMMjYuODc3NSAyNi4xMjRDMjcuOTYzNSAyNi4xNDggMjguNzc5NSAyNi42NTIgMjguNzc5NSAyNy41MzRDMjguNzc5NSAyOC4zNTYgMjguMDUzNSAyOC45MjYgMjYuODgzNSAyOC45MjZDMjUuOTQxNSAyOC45MjYgMjUuMjQ1NSAyOC40MzQgMjUuMDc3NSAyNy40MDJIMjMuNjU1NUMyMy42OTE1IDI5LjA4MiAyNC45MDM1IDMwLjEyIDI2Ljg1MzUgMzAuMTMyQzI4LjgwOTUgMzAuMTQ0IDMwLjM0NTUgMjkuMjIgMzAuMzQ1NSAyNy41N0MzMC4zNDU1IDI2LjQxOCAyOS41NTM1IDI1LjcxNiAyOC41MDk1IDI1LjQyOEMyOS42MjU1IDI1LjA0NCAzMC4xMjk1IDI0LjM0OCAzMC4xMjk1IDIzLjQ5QzMwLjEyOTUgMjEuOTcyIDI4Ljc3MzUgMjEuMjA0IDI2Ljg5NTUgMjEuMjA0QzI1LjE0MzUgMjEuMjA0IDIzLjczMzUgMjIuMTQ2IDIzLjczMzUgMjMuOTI4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",title:e("team_breach_report_reduce_risk_title"),subtitle:e("team_breach_report_reduce_risk_subtitle"),caps:!0,dotStyle:t})))};var Rw;const Uw=a(465343),Bw="team_breach_report_domain_register_invalid_error",Fw={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support",DOMAIN_ALREADY_EXISTS:"team_settings_domain_register_duplicated_error"},Gw=({onSuccess:e,onError:t})=>{const{translate:a}=(0,P.Z)(),i=(0,qi.f)(),[s,r]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1),[_,g]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{if(void 0!==i){const e=i.substring(i.lastIndexOf("@")+1);r(e)}}),[i]),(0,D.tZ)(n.Fragment,null,Rw||(Rw=(0,D.tZ)(Pw,null)),(0,D.tZ)("div",null,(0,D.tZ)(d.Zbd,{sx:{padding:"24px",margin:"24px 0"}},(0,D.tZ)(d.X6q,{size:"x-small"},a("team_dark_web_insights_verify_domain_title")),(0,D.tZ)(d.nvN,{sx:{marginBottom:"20px",marginTop:"10px"},color:d.O9T.grey00},a("team_breach_report_verify_domain_description")),(0,D.tZ)(d.Ejs,{gap:"16px"},(0,D.tZ)(d.k$b,{sx:{width:"75%"}},(0,D.tZ)(d.oil,{onChange:e=>{r(e.target.value),l("")},fullWidth:!0,value:s,autoFocus:!0,endAdornment:o||""===s||!Uw.isFQDN(s)?void 0:(0,D.tZ)(d.rE2,{color:d.O9T.accessibleValidatorGreen}),feedbackText:o||void 0,feedbackType:o?"error":void 0})),(0,D.tZ)(d.k$b,{sx:{width:"20%"}},(0,D.tZ)(d.zxk,{type:"button",disabled:""===s||_,onClick:()=>{(async e=>{if(!Uw.isFQDN(e))return void l(a(Bw));g(!0);const t=await u.C.registerTeamDomain({domain:e});if(g(!1),t.success)return l(""),void p(!0);if(!t.success){const{error:{code:e}}=t,n=Fw[e];l(a(null!=n?n:Bw))}})(s),(0,v.K)(new c.UserVerifyDomainEvent({domainVerificationStep:c.DomainVerificationStep.TapContinueCtaWithDomainUrl}))}},a("team_dwi_verify_domain_button"))))),m?(0,D.tZ)(zw,{description:a.markup("breach_report_verify_domain_dialog_description_markup"),secondaryDescription:a("breach_report_verify_domain_dialog_secondary_description"),linkLabel:a("breach_report_verify_domain_href_label"),href:UC,onClick:()=>{(0,v.K)(new c.UserOpenHelpCenterEvent({helpCenterArticleCta:c.HelpCenterArticleCta.ViewDomainVerificationGuide}))},domainName:s,onSuccess:()=>{e(s)},isDarkWebInsights:!0,onError:t,onDismiss:t}):null))};var Ww,Vw,Hw;const qw=({domainName:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(d.Zbd,{sx:{minHeight:"575px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},Ww||(Ww=(0,D.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEzIiBoZWlnaHQ9IjExMyIgdmlld0JveD0iMCAwIDExMyAxMTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjAuNSIgd2lkdGg9IjExMiIgaGVpZ2h0PSIxMTMiIHJ4PSI1NiIgZmlsbD0iI0Y1RjdGNyIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUwLjAzMzggMjYuNTYyMkM0MC45NzkgMjcuNjk4NiAzNC41NiAzNS45NjAyIDM1LjY5NjQgNDUuMDE1TDM2LjY0OTUgNTIuNjA4NUwzMS45OTUyIDUzLjE5MjZDMzAuODk5MiA1My4zMzAyIDMwLjEyMjMgNTQuMzMwMSAzMC4yNTk4IDU1LjQyNjFMMzQuNTYyMSA4OS43MDVDMzQuNjk5NyA5MC44MDEgMzUuNjk5NyA5MS41Nzc5IDM2Ljc5NTYgOTEuNDQwNEw3OS4wNDI4IDg2LjEzOEM4MC4xMzg4IDg2LjAwMDQgODAuOTE1NyA4NS4wMDA1IDgwLjc3ODIgODMuOTA0NUw3Ni40NzU5IDQ5LjYyNTZDNzYuMzM4MyA0OC41Mjk2IDc1LjMzODQgNDcuNzUyNyA3NC4yNDI0IDQ3Ljg5MDJMNjkuNDM5NiA0OC40OTNMNjguNDg2NiA0MC44OTk1QzY3LjM1MDEgMzEuODQ0OCA1OS4wODg1IDI1LjQyNTcgNTAuMDMzOCAyNi41NjIyWk00MC43NDk5IDQ0LjQ2OTlMNDEuNjkxOSA1MS45NzU2TDY0LjM5MjggNDkuMTI2NUw2My40NTA3IDQxLjYyMDhDNjIuNjY0IDM1LjM1MjEgNTYuOTQ0NCAzMC45MDgxIDUwLjY3NTcgMzEuNjk0OUM0NC40MDcxIDMyLjQ4MTcgMzkuOTYzMSAzOC4yMDEyIDQwLjc0OTkgNDQuNDY5OVpNNzguMTg0MiAzMi4yODA4TDc0LjE0ODUgMzYuNDAzNkw3NS43NCAzNy45NjE2TDc5Ljc3NTggMzMuODM4OEw3OC4xODQyIDMyLjI4MDhaTTc3LjI0NzEgNDAuMDg4Mkw3OS45MzA0IDM5LjUxNDhMODAuMjkzMiA0MS4yMTI1TDc3LjYwOTkgNDEuNzg1OUw3Ny4yNDcxIDQwLjA4ODJaTTcxLjA0MTMgMzEuODczOEw3MC44ODg3IDM1Ljg0ODRMNzIuNzg0MiAzNS45MjEyTDcyLjkzNjggMzEuOTQ2Nkw3MS4wNDEzIDMxLjg3MzhaIiBmaWxsPSIjOUZBRUIxIi8+Cjwvc3ZnPgo="})),Vw||(Vw=(0,D.tZ)("br",null)),(0,D.tZ)(d.nvN,{color:d.O9T.black,bold:!0,size:"large"},t("team_dashboard_dark_web_insights_domain_incident_free_title",{domainName:e})),Hw||(Hw=(0,D.tZ)("br",null)),(0,D.tZ)(d.nvN,{color:d.O9T.grey00},t("team_dwi_domain_incident_free_description")))};var Yw,Qw;const $w={minHeight:"575px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},Kw=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(d.Zbd,{sx:$w},(0,D.tZ)(d.HoD,{size:88,color:d.O9T.dashGreen00,strokeWidth:1}),Yw||(Yw=(0,D.tZ)("br",null)),(0,D.tZ)(d.nvN,{color:d.O9T.grey00},e("team_dark_web_insights_scanning_incidents_txt")))},Xw=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(d.Zbd,{sx:$w},(0,D.tZ)(d.HoD,{size:88,color:d.O9T.dashGreen00,strokeWidth:1}),Qw||(Qw=(0,D.tZ)("br",null)),(0,D.tZ)(d.nvN,{color:d.O9T.grey00},e("team_dashboard_dark_web_insights_generating_msg")))};var Jw=a(96805);const eE=({breach:e,id:t,isFirstInGroup:a=!1,isLastInGroup:n=!1,opened:i=!1})=>{const{translate:s}=(0,P.Z)();return(0,D.tZ)("tr",{id:t,sx:{backgroundColor:d.O9T.grey06,borderLeft:`3px solid ${d.O9T.dashGreen00}`,display:i?"table-row":"none",height:"44px","> td":{verticalAlign:"middle",padding:"5px 16px",paddingTop:a?"18px":void 0,paddingBottom:n?"18px":void 0}}},(0,D.tZ)("td",{colSpan:2},(0,D.tZ)(d.nvN,{size:"small",as:"div",sx:{fontWeight:"light",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},(0,D.tZ)("div",{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},e.domain&&""!==e.domain?(0,D.tZ)(d.plG,{size:"small",text:e.domain,backgroundColor:d.O9T.dashGreen00}):null,(0,D.tZ)("div",{title:e.domain,sx:{paddingLeft:"8px",width:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e.domain)))),(0,D.tZ)("td",null,(0,D.tZ)(d.nvN,{sx:{"::first-letter":{textTransform:"uppercase"},textTransform:"lowercase"},size:"x-small",color:d.O9T.grey00},e.types.map((e=>s(aE[e]))).join(", "))),(0,D.tZ)("td",{colSpan:3},(0,D.tZ)(d.nvN,{size:"x-small",as:"span",color:d.O9T.grey00},(0,D.tZ)(my.v,{date:(0,xt.Z)(e.breachDateUnix),format:Ze._T.ll}))))},tE={borderBottom:`1px solid ${d.O9T.dashGreen05}`,height:"55px",position:"relative",borderLeft:"3px solid white","&:hover,:focus-visible":{cursor:"pointer",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.16)"},'&[aria-expanded="true"]':{borderLeftColor:d.O9T.dashGreen00},"> td":{verticalAlign:"middle",padding:"0 16px"}},aE={[Jw.BreachType.Password]:"team_dark_web_insights_incident_data_type_password",[Jw.BreachType.CreditCard]:"team_dark_web_insights_incident_data_type_credit_card",[Jw.BreachType.IPAddress]:"team_dark_web_insights_incident_data_type_ip_address",[Jw.BreachType.MailingAddress]:"team_dark_web_insights_incident_data_type_mailing_address",[Jw.BreachType.Phone]:"team_dark_web_insights_incident_data_type_phone",[Jw.BreachType.Email]:"team_dark_web_insights_incident_data_type_email",[Jw.BreachType.Social]:"team_dark_web_insights_incident_data_type_social",[Jw.BreachType.GeoLocation]:"team_dark_web_insights_incident_data_type_geolocation",[Jw.BreachType.UserName]:"team_dark_web_insights_incident_data_type_username",[Jw.BreachType.PersonalInfo]:"team_dark_web_insights_incident_data_type_personalinfo"},nE=({userReport:e,isPendingMember:t=!1,onInviteAction:a,shouldShowInviteButton:i})=>{const{translate:s}=(0,P.Z)(),[r,o]=(0,n.useState)(!1),l=e.leaks?.map(((t,a)=>`${e.email}-${a}`)).join(" ");return(0,D.tZ)(n.Fragment,null,(0,D.tZ)("tr",{id:e.email,key:e.email,tabIndex:0,"aria-expanded":r,"aria-controls":l,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o((e=>!e)))},onClick:()=>{o((e=>!e))},sx:tE},(0,D.tZ)("td",null,(0,D.tZ)(d.nvN,{size:"x-small",as:"span"},e.email)),(0,D.tZ)("td",null,(0,D.tZ)(d.Ejs,{flexDirection:"row"},(0,D.tZ)(d.nvN,{size:"medium",as:"span",sx:{fontWeight:"bold"}},e.breachesCount),e.viewStatus===Jw.EmailIncidentViewStatus.New?(0,D.tZ)(d.P_k,{dot:!0,ariaLabel:s("team_new_label")}):null)),(0,D.tZ)(d.nvN,{size:"x-small",as:"td",color:d.O9T.grey00,sx:{maxWidth:"160px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textTransform:"lowercase","::first-letter":{textTransform:"uppercase"}}},(e=>{const t=e.leaks.map((e=>e.types.map((e=>s(aE[e])))));return[...new Set(t.flat())].join(", ")})(e)),(0,D.tZ)("td",null,(0,D.tZ)(d.nvN,{size:"x-small",as:"span",color:d.O9T.grey00},(0,D.tZ)(my.v,{date:(0,xt.Z)(e.leaks[0].breachDateUnix),format:Ze._T.ll}))),(0,D.tZ)("td",null,i?(0,D.tZ)(d.zxk,{onClick:()=>{a(e.email)},type:"button",nature:"secondary"},s("team_dark_web_insights_incident_summary_invite_button")):(0,D.tZ)(d.nvN,{size:"x-small",as:"span",color:d.O9T.grey00},s(t?"team_dark_web_insights_incident_summary_pending":"team_dark_web_insights_incident_summary_member"))),(0,D.tZ)("td",{"aria-label":s("team_dark_web_insights_incident_summary_expand")},(0,D.tZ)(d.veu,{sx:{transform:r?"scale3D(1, -1, 1)":"scale3D(1, 1, 1)"}}))),e.leaks.map(((t,a,n)=>{const i=`${e.email}-${t.domain}-${t.breachDateUnix}`;return(0,D.tZ)(eE,{id:i,key:i,breach:t,opened:r,isFirstInGroup:0===a,isLastInGroup:a===n.length-1})})))},iE=({emailsToInvite:e,reports:t,isLoading:a,pendingMembers:n,onInviteAction:i})=>{const{translate:s}=(0,P.Z)(),r=[{headerLabel:s("team_dark_web_insights_table_header_email_affected"),headerKey:"email-affected"},{headerLabel:s("team_dark_web_insights_table_header_incidents"),headerKey:"incidents"},{headerLabel:s("team_dark_web_insights_table_header_data_affected"),headerKey:"data-affected"},{headerLabel:s("team_dark_web_insights_table_header_last_incident"),headerKey:"last-incident"},{headerLabel:s("team_dark_web_insights_table_header_member_status"),headerKey:"member-status"},{headerLabel:"",headerKey:"actions"}];return(0,D.tZ)("div",{sx:{minWidth:"100%",minHeight:"600px"}},a?(0,D.tZ)("div",{sx:{display:"block",width:"950px",height:"600px",position:"absolute",textAlign:"center"}},(0,D.tZ)(d.HoD,{sx:{position:"relative",top:"50%"},size:120,color:d.O9T.dashGreen00,strokeWidth:1})):null,(0,D.tZ)("table",{sx:{minWidth:"100%"}},(0,D.tZ)(cy,{columns:r}),(0,D.tZ)("tbody",{sx:a?{opacity:"0.5"}:{}},t.map((t=>(0,D.tZ)(nE,{key:t.email,userReport:t,onInviteAction:i,isPendingMember:n.includes(t.email),shouldShowInviteButton:e.includes(t.email)}))))))},sE=e=>(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00,sx:{gridArea:e.labelGridArea,alignSelf:"end"}},e.label),(0,D.tZ)(d.T5p,{gridTemplateColumns:"auto 1fr",sx:{gridArea:e.titleGridArea}},(0,D.tZ)(d.X6q,{size:"x-small",sx:{margin:"4px 0"},color:d.O9T.black},e.title),(0,D.tZ)("div",null,(0,D.tZ)(d.ua7,{type:"info",placement:"top",content:e.tooltip},(0,D.tZ)(d.uMt,{sx:{marginTop:"4px",marginLeft:"6px"}}))))),rE=({gridArea:e})=>(0,D.tZ)("div",{sx:{gridArea:e,backgroundColor:d.O9T.dashGreen05,height:"56px",width:"1px",alignSelf:"center"}});var oE,lE;const cE=({reports:e,suggestedInvitees:t,onInviteAll:a})=>{const{translate:n}=(0,P.Z)();return(0,D.tZ)(d.T5p,{gridTemplateColumns:"minmax(1fr,max-content) 1px minmax(1fr,max-content) 1px minmax(1fr,max-content)",gridTemplateRows:"max-content max-content max-content",gridTemplateAreas:'"label-0 divider-left label-1 divider-right label-2" "title-0 divider-left title-1 divider-right title-2" ". divider-left . divider-right invite-all"',sx:{columnGap:"32px",justifyContent:"center",padding:"64px 8px"}},(0,D.tZ)(sE,{labelGridArea:"label-0",label:n("team_dark_web_insights_summary_total_breaches_label"),titleGridArea:"title-0",title:n("team_dark_web_insights_summary_total_breaches",{totalBreaches:e.leaksCount}),tooltip:n("team_dark_web_insights_summary_total_breaches_tooltip")}),oE||(oE=(0,D.tZ)(rE,{gridArea:"divider-left"})),(0,D.tZ)(sE,{labelGridArea:"label-1",label:n("team_dark_web_insights_summary_affected_emails_label"),titleGridArea:"title-1",title:n("team_dark_web_insights_summary_affected_emails",{numEmails:e.emailsImpactedCount}),tooltip:n("team_dark_web_insights_summary_affected_emails_tooltip")}),lE||(lE=(0,D.tZ)(rE,{gridArea:"divider-right"})),(0,D.tZ)(sE,{labelGridArea:"label-2",label:t.length>0?n("team_dark_web_insights_summary_invitations_label"):n("team_dark_web_insights_summary_invitations_label_no_action"),titleGridArea:"title-2",title:n("team_dark_web_insights_summary_invitations",{numInvitations:t.length}),tooltip:n("team_dark_web_insights_summary_invitations_tooltip")}),t.length>0?(0,D.tZ)(d.dDn,{gridArea:"invite-all"},(0,D.tZ)(d.zxk,{type:"button",onClick:a},n("team_dark_web_insights_summary_invite_all_button"))):null)},dE=e=>e.filter((({status:e})=>"removed"!==e)).length;var uE=a(702639),mE=a(447760),pE=a(219515);const _E="counter--NpfuOeApPm",gE="active--VJ5ITGfmuJ";var hE=a(616437);const bE={INVITE_RESTRICTED:"team_invite_result_dialog_refused_member_reason_admin_restricted_markup",PRE_EXISTING_MP_USER:"team_invite_result_dialog_refused_member_reason_pre_existing_mp_user_markup",GENERIC_ERROR:"team_invite_result_dialog_refused_member_reason_generic_error_markup",EMAIL_DOES_NOT_MATCH_SSO_DOMAIN:"team_invite_result_dialog_refused_member_reason_EMAIL_DOES_NOT_MATCH_SSO_DOMAIN",ALREADY_MEMBER:"team_invite_result_dialog_refused_member_reason_already_member",ALREADY_MEMBER_OTHER_TEAM:"team_invite_result_dialog_refused_member_reason_already_member_other_team",HAS_AUTOMATIC_RENEW:"team_invite_result_dialog_refused_member_reason_has_automatic_renew",NO_FREE_SLOT_FREE_PLAN:"team_invite_result_dialog_refused_member_reason_no_free_slot_free_plan",SSO_ALREADY_ACTIVATED:"team_invite_result_dialog_refused_member_reason_sso_already_activated",PENDING_DEACTIVATION_DOMAIN_DOES_NOT_MATCH:"team_invite_result_dialog_refused_member_reason_pending_deactivation_domain_does_not_match"};let yE;function CE(e){const[t,a]=n.useState(!0),[i,s]=n.useState({}),[r,o]=n.useState(null),[l,c]=n.useState(null),[d,u]=n.useState(null);return n.useEffect((()=>{if(void 0===e)return;const t=new AbortController;return(async()=>{a(!0);try{const{teamInfo:{ssoServiceProviderUrl:e,ssoIdpMetadata:a,ssoEnabled:n,recoveryEnabled:i,duoSecretKey:r,duoIntegrationKey:o,duoApiHostname:l,duo:d,activeDirectoryToken:m,activeDirectorySyncType:p,activeDirectorySyncStatus:_,uuid:g},capabilities:h,planTier:b}=await(0,w_.I)();if(t.signal.aborted)return;s({ssoServiceProviderUrl:e,ssoIdpMetadata:a,ssoEnabled:n,recoveryEnabled:i,duoSecretKey:r,duoIntegrationKey:o,duoApiHostname:l,duo:d,activeDirectoryToken:m,activeDirectorySyncType:p,activeDirectorySyncStatus:_,uuid:g}),u(b),c(h)}catch(e){const t=new Error(`useTeamSettings: ${e}`);o(t)}finally{a(!1)}})(),()=>{t.abort()}}),[e]),{teamSettingsLoading:t,teamSettingsError:r,teamSettings:i,updateTeamSettings:async t=>{if(null===e)return;const a={teamId:e,settings:t};try{await(0,_u.jy)(a)}catch(e){var n;throw new Error(null!=(n=e?.additionalInfo?.message)?n:"Failed to save metadata")}const r={...i,...t};s(r)},planTier:d,teamCapabilities:l}}!function(e){e.SSO_ALREADY_ACTIVATED="sso_already_activated",e.USER_HAS_MASTER_PASSWORD="USER_HAS_MASTER_PASSWORD"}(yE||(yE={}));const wE="inviteResultDialogHeader--v_8lOJQXCj",EE="refusedMember--SNbCU5FzB1",vE="reason--jFHJ7kk1d9",NE="irDialogIcon--Rx0OQmu57r";var SE;const IE={invitedMembers:{},refusedMembers:{},show:!1},fE=()=>{const[e,t]=n.useState(IE);return{invitePartialSuccessState:e,setInvitePartialSuccessState:t,handleInvitationResultClosed:()=>{t(IE)}}},xE=({teamId:e,isOpen:t,invitedMembers:a,refusedMembers:i,onClose:s})=>{const{translate:r}=(0,P.Z)(),[o,l]=n.useState([]),[c,u]=n.useState([]),m=Object.keys(a).length,p=Object.keys(i).length,{teamSettings:_,teamSettingsLoading:g}=CE(e),h=_?.ssoEnabled;return n.useEffect((()=>{if(g)return;const e=[],t=[];Object.keys(i).forEach((a=>{const n=i[a];n!==yE.SSO_ALREADY_ACTIVATED||h?n===yE.USER_HAS_MASTER_PASSWORD&&h?t.push({email:a,key:bE.PRE_EXISTING_MP_USER,errorType:n}):e.push({email:a,errorType:n}):t.push({email:a,key:bE.INVITE_RESTRICTED,errorType:n})})),l(e),u(t)}),[g,h,i]),n.createElement(d.VqE,{closeIconName:r("_common_dialog_dismiss_button"),isOpen:t,onClose:s,ariaDescribedby:"refusedList"},n.createElement(d.$N8,{title:r("team_invite_result_dialog_title")}),n.createElement(d.a7O,null,g?SE||(SE=n.createElement(Qr.Z,{size:30})):n.createElement(n.Fragment,null,m?n.createElement("div",{className:"successfulInvitesRatio--Jbd0Eax7op"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNiA5TDcuOTU5MjggMTFMMTEuOTc5NiA3TTAuNSA5QzAuNSA0LjMwNTQ1IDQuMzA2MyAwLjUgOSAwLjVDMTMuNjkzNyAwLjUgMTcuNSA0LjMwNTQ1IDE3LjUgOUMxNy41IDEzLjY5NDYgMTMuNjkzNyAxNy41IDkgMTcuNUM0LjMwNjMgMTcuNSAwLjUgMTMuNjk0NiAwLjUgOVoiIHN0cm9rZT0iIzIwQjQyMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",className:NE}),n.createElement("span",{className:wE},r("team_invite_result_dialog_successful_invites_rate",{proposedMembers:m+p,invitedMembers:m}))):null,n.createElement("div",{className:"refusedMemberListTitle--Omq1aAlxkx"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNS41IDEyLjVMMTIuNSA1LjVNMTIuNSAxMi41TDUuNSA1LjVNMC41IDlDMC41IDQuMzA1ODcgNC4zMDU4NyAwLjUgOSAwLjVDMTMuNjk0MSAwLjUgMTcuNSA0LjMwNTg3IDE3LjUgOUMxNy41IDEzLjY5NDEgMTMuNjk0MSAxNy41IDkgMTcuNUM0LjMwNTg3IDE3LjUgMC41IDEzLjY5NDEgMC41IDlaIiBzdHJva2U9IiNGRjAwMkQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K",className:NE}),n.createElement("span",{id:"refusedList",className:wE},r("team_invite_result_dialog_refused_member_list_title",{count:p}))),n.createElement("ul",{className:"refusedMemberList--pPxtCXVRX3"},o.map((e=>n.createElement("li",{className:EE,key:e.email},e.email,n.createElement("span",{className:vE},": ",bE[e.errorType.toUpperCase()]?r(bE[e.errorType.toUpperCase()]):r.markup(bE.GENERIC_ERROR,{helpCenter:bp.Bw},{linkTarget:"_blank"}))))),c.map((e=>n.createElement("li",{className:EE,key:e.email},e.email,n.createElement("span",{className:vE},": ",(e=>{switch(e){case bE.INVITE_RESTRICTED:return hE.Iu.markup(bE.INVITE_RESTRICTED,{helpCenter:bp.Iw});case bE.PRE_EXISTING_MP_USER:return hE.Iu.markup(bE.PRE_EXISTING_MP_USER,{ssoLimitations:bp.Iw,dashlaneSupport:bp.Bw});default:return hE.Iu.markup(bE.GENERIC_ERROR,{helpCenter:bp.Bw})}})(e.key)))))))),n.createElement(d.cNS,{primaryButtonTitle:r("team_invite_result_dialog_button_ok"),primaryButtonOnClick:s,secondaryButtonTitle:r("team_invite_result_dialog_button_help_center"),secondaryButtonOnClick:()=>(0,b.Yo)(bp.Bw)}))},ME="securityScoreOver80--Hgr2G6S0v_",TE="securityScoreOver60--_JHvGMsVMu",DE="securityScoreOver40--uopteVjbhe",ZE="securityScoreOver20--DGwlRT6aTn",AE="securityScoreOver0--KWOlPM746R",kE="securityScoreUnknown--X1UUUGTTOI",OE="box--b300GjbePX",LE="shield--aR0K8YOyOo",zE="medium--oK53lyprG3",jE="small--Y3Ur7GidSI",PE=e=>{const t="small"===e.size?jE:zE;return n.createElement("div",{className:F()(OE,(a=e.score,a.caseOf({nothing:()=>kE,just:e=>e>=80?ME:e>=60?TE:e>=40?DE:e>=20?ZE:AE})),t)},n.createElement("div",{className:LE}),n.createElement("div",null,e.children));var a},RE=({score:e})=>{const{translate:t}=(0,P.Z)();return(0,Ue.tZ)("div",{className:"separator--Ms8Z6xmqQa"},(0,Ue.tZ)(PE,{score:e,size:"medium"},(0,Ue.tZ)("div",{sx:{color:"ds.text.neutral.standard"}},t("team_members_team_security_score_label"),(0,Ue.tZ)(d.ua7,{placement:"left",content:t("team_account_heading_security_score_update_frequency")},(0,Ue.tZ)("span",null,(0,Ue.tZ)(Ue.JO,{name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"xsmall",color:"ds.text.neutral.standard"})))),(0,Ue.tZ)("div",{className:"score--R6OziY_sED"},e.map((e=>`${mC(e)}%`)).valueOr("–"))))},UE={container:"container--Pih3tFzute",header:"header--sWYs4tJFeg",seatsCount:"seatsCount--nUk1RMEdN1",title:"title--XG6lvelVTY",counter:"counter--qUaIaAvQ63",progressBarBackground:"progressBarBackground--iKhu1za_vU",progressBar:"progressBar--ihAKLss_mc",seatsCountBottomline:"seatsCountBottomline--hr897DNBX6",link:"link--y0d0DGiFaw"},BE=({accountRoute:e,companyName:t,takenSeats:a,totalSeats:s,teamSecurityScore:r,shouldDisplayTeamSecurityScore:o})=>{const{translate:l}=(0,P.Z)();return n.createElement("div",{className:UE.container},n.createElement("div",{className:UE.header},n.createElement("div",{className:UE.seatsCount},n.createElement("div",{className:UE.title},n.createElement("span",{className:UE.counter},l("team_members_header_title_counter",{takenSeats:a,totalSeats:s})),l("team_members_header_title_label",{companyName:t})),n.createElement("div",{className:UE.seatsCountBottomline},n.createElement("div",{className:UE.progressBarBackground},n.createElement("div",{className:UE.progressBar,style:{width:s?Math.round(360*a/s):0}})),n.createElement(i.rU,{to:e,className:UE.link},l("team_members_add_more_seats")))),o&&n.createElement("div",{className:UE.teamSecurityScore},n.createElement(RE,{score:r}))))},FE="menu--svPbw6Qghp";var GE=a(635818),WE=a(781896);const VE={teamCaptain:"team_members_assignment_dialog_admin_description",groupManager:"team_members_assignment_dialog_group_manager_description",member:"team_members_assignment_dialog_member_description"},HE=({member:e,newRole:t,updateUsersRights:a,closeDialog:i})=>{const{translate:s}=(0,P.Z)(),r=(0,Na.V)(),o=$E(e),[l,c]=(0,n.useState)(null!=t?t:o);return(0,Ue.tZ)(d.VqE,{isOpen:!0,onClose:i,closeIconName:s("_common_dialog_dismiss_button")},(0,Ue.tZ)(d.$N8,{title:s("team_members_assignment_dialog_title",{user:e.login})}),(0,Ue.tZ)(d.a7O,null,(0,Ue.tZ)(sh.S,{value:l,onChange:e=>{c(e.target.value)},groupName:"roles"},Object.values(QE).map((e=>(0,Ue.tZ)(sh.E,{key:e,value:e},(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"small"},s(KE[e])),(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},s(VE[e])))))),l===QE.GroupManager?(0,Ue.tZ)(Ue.ke,{mood:"brand",title:s("team_members_assignment_dialog_group_manager_infobox")}):null),(0,Ue.tZ)(d.cNS,{primaryButtonTitle:s("team_members_assignment_dialog_update_button"),primaryButtonOnClick:async()=>{if(l===o)return i();try{const t=await a([{member:e,oldRole:o,newRole:l}]);if(!t)return;if(t.successes.length)r.showAlert(s("team_members_assignment_single_success",{username:e.name||e.login||"Member",previousRole:s(KE[o]),newRole:s(KE[l])}),d.BLW.SUCCESS);else if(t.errors.length)throw t.errors[0].error}catch{r.showAlert(s("team_members_assignment_single_error",{username:e.name||e.login||"Member"}),d.BLW.ERROR)}finally{i()}},primaryButtonProps:{type:"button",style:{padding:"0 20px"},disabled:l===o},secondaryButtonTitle:s("team_members_assignment_dialog_cancel_button"),secondaryButtonOnClick:i,secondaryButtonProps:{type:"button",style:{border:"none",padding:"0 20px",color:"ds.text.neutral.catchy",backgroundColor:"ds.container.expressive.neutral.quiet.idle"}}}))},qE="team_members_assignment_multiple_error",YE=({selectedMembers:e,newRole:t,updateUsersRights:a,closeDialog:n})=>{const{translate:i}=(0,P.Z)(),s=(0,Na.V)();return(0,Ue.tZ)(p.o,{isOpen:!0,footer:(0,Ue.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:i("team_members_assignment_multiple_dialog_submit"),primaryButtonOnClick:async()=>{const r=e.map((e=>({member:e,oldRole:$E(e),newRole:t})));try{const e=await a(r);if(!e)return;const n=i(KE[t]);e.successes.length&&e.errors.length?s.showAlert(i("team_members_assignment_multiple_partial_success",{countSuccess:e.successes.length,countTotal:r.length,newRole:n}),d.BLW.WARNING):e.successes.length?s.showAlert(i("team_members_assignment_multiple_success",{count:e.successes.length,newRole:n}),d.BLW.SUCCESS):e.errors.length&&s.showAlert(i(qE,{count:e.errors.length}),d.BLW.ERROR)}catch{s.showAlert(i(qE,{count:e.length}),d.BLW.ERROR)}finally{n()}},secondaryButtonTitle:i("team_members_assignment_multiple_dialog_cancel"),secondaryButtonOnClick:n}),onRequestClose:n,title:i("team_members_assignment_multiple_dialog_title",{countTotal:e.length,newRole:i(KE[t])})},(()=>{switch(t){case QE.TeamCaptain:return i("team_members_assignment_multiple_dialog_admin_message");case QE.GroupManager:return i("team_members_assignment_multiple_dialog_group_manager_message");default:return i("team_members_assignment_multiple_dialog_member_message")}})())};let QE;!function(e){e.TeamCaptain="teamCaptain",e.GroupManager="groupManager",e.Member="member"}(QE||(QE={}));const $E=e=>e.isTeamCaptain?QE.TeamCaptain:e.isGroupManager?QE.GroupManager:QE.Member,KE={teamCaptain:"team_members_assignment_dialog_admin_label",groupManager:"team_members_assignment_dialog_group_manager_label",member:"team_members_assignment_dialog_member_label"},XE=({selectedMembers:e,newRole:t,lee:a,closeDialog:n})=>{const{reportTACError:i}=d_(),{translate:s}=(0,P.Z)(),{addGroupManager:r,removeGroupManager:o}=(0,R.u7)(GE.permissionsApi),l=async e=>{const t=(0,Dg.v0)(a.globalState);if(!t)return void i(new Error(xg.N));const{teamId:n}=t;if(!n)throw new Error("No team ID when attempting role assignment");const s={errors:[],successes:[]};for await(const{member:t,oldRole:i,newRole:l}of e)try{switch(i){case QE.TeamCaptain:await(0,_u.Lx)({teamId:n,memberLogin:t.login}),a.dispatch(WE.bj(t)),await(0,_u.hh)({teamId:n,action:"adminDemoted",users:[t.login]});break;case QE.GroupManager:await o({memberLogin:t.login,teamId:n}),a.dispatch(WE.vE(t))}switch(l){case QE.TeamCaptain:await(0,_u.JQ)({teamId:n,memberLogin:t.login}),a.dispatch(WE.VW(t)),await(0,_u.hh)({teamId:n,action:"adminPromoted",users:[t.login]});break;case QE.GroupManager:await r({memberLogin:t.login,teamId:n}),a.dispatch(WE.lp(t))}s.successes.push(t.login)}catch(e){s.errors.push({member:t.login,error:e})}return s};return e.length?1===e.length?(0,Ue.tZ)(HE,{member:e[0],newRole:t,updateUsersRights:l,closeDialog:n}):(0,Ue.tZ)(YE,{selectedMembers:e,newRole:null!=t?t:QE.Member,updateUsersRights:l,closeDialog:n}):(0,Ue.tZ)(p.o,{isOpen:!0,footer:(0,Ue.tZ)(d.cNS,{intent:"secondary",secondaryButtonTitle:s("team_members_assignment_nobody_dialog_cancel"),secondaryButtonOnClick:n}),onRequestClose:n,title:s("team_members_assignment_nobody_dialog_title")},s("team_members_assignment_nobody_dialog_message",{newRole:t?s(KE[t]):""}))},JE="team_members_bulk_actions_menu_admin",ev="team_members_bulk_actions_menu_member",tv=({onMembersActionSelect:e,onMultipleReassignActionSelect:t})=>{const{translate:a}=(0,P.Z)(),i=(0,Be.w)("group_manager_prod"),[s,r]=n.useState(!1),o=t=>{e(t),r(!1)},l=e=>{t(e),r(!1)};return n.createElement(nr.j,{onOutsideClick:()=>{r(!1)}},n.createElement("div",{className:"container--zGfanmJ20J"},n.createElement(bd.Z,{label:a("team_members_bulk_actions_menu_label"),onClick:()=>{r(!s)},classNames:["dropdownButton--eX1Pwf6noX"],icon:n.createElement("img",{className:F()("buttonIcon--K7qOhGWIeC",{"flip--CjjllwCv0e":s}),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iNiIgdmlld0JveD0iMCAwIDEwIDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNSAwLjVMNSA1LjVMMC41IDAuNSIgc3Ryb2tlPSIjNkU4NjhCIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg=="}),iconClassName:["iconContainer--_MWkwTD793"],iconPosition:"right"}),s?i?n.createElement("ul",{className:FE},n.createElement("li",{key:"admin",onClick:()=>l(QE.TeamCaptain)},a(JE)),n.createElement("li",{key:"groupManager",onClick:()=>l(QE.GroupManager)},a("team_members_bulk_actions_menu_group_manager")),n.createElement("li",{key:"member",onClick:()=>l(QE.Member)},a(ev))):n.createElement("ul",{className:FE},n.createElement("li",{key:"admin",onClick:()=>o("promote")},a(JE)),n.createElement("li",{key:"member",onClick:()=>o("demote")},a(ev))):null))};var av=a(308696),nv=a(710839);const iv=({member:e,onDismiss:t,onMemberActionSelect:a})=>{const{translate:n}=(0,P.Z)(),i=(0,Be.w)("group_manager_prod"),s=!!e.twoFAInformation&&("totp_device_registration"===e.twoFAInformation.type||"totp_login"===e.twoFAInformation.type);return(0,D.tZ)(nr.j,{onOutsideClick:t},(0,D.tZ)("ul",{className:"menu--tp5V4puFsY"},(()=>{if("removed"===e.status)return(0,D.tZ)("li",{key:"reactivate",id:"reactivate-quick-action",onClick:()=>a("reactivate",e)},(0,D.tZ)(Ue.JO,{name:"ItemEmailOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_reactivate_single_label"));const t=[];return"pending"!==e.status&&"proposed"!==e.status||t.push((0,D.tZ)("li",{key:"resendInvite",id:"reinvite-quick-action",onClick:()=>a("reinvite",e)},(0,D.tZ)(Ue.JO,{name:"ItemEmailOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_resend_invite_label"))),i?"pending"!==e.status&&"proposed"!==e.status&&t.push((0,D.tZ)("li",{key:"reassign",id:"reassign-quick-action",onClick:()=>a("reassign",e)},(0,D.tZ)(Ue.JO,{name:"ItemPersonalInfoOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_change_role_label"))):(e.isTeamCaptain||"pending"===e.status||"proposed"===e.status||t.push((0,D.tZ)("li",{key:"promoteCaptain",id:"promote-quick-action",onClick:()=>a("promote",e)},(0,D.tZ)(Ue.JO,{name:"ItemPersonalInfoOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_promote_captain_label"))),e.isTeamCaptain&&t.push((0,D.tZ)("li",{key:"demoteCaptain",id:"demote-quick-action",onClick:()=>a("demote",e)},(0,D.tZ)(Ue.JO,{name:"ItemPersonalInfoOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_captain_demote_label")))),t.push((0,D.tZ)(d.ua7,{key:"revoke",content:n("team_members_assignment_dialog_remove_billing_contact_tooltip"),placement:"top",passThrough:!e.isBillingAdmin,sx:{whiteSpace:"normal"}},(0,D.tZ)("li",{key:"revoke",id:"revoke-quick-action",onClick:e.isBillingAdmin?void 0:()=>a("revoke",e),sx:e.isBillingAdmin?{cursor:"not-allowed !important",opacity:"0.5"}:void 0},(0,D.tZ)(Ue.JO,{name:"ActionDeleteOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_revoke_single_label")))),s&&"pending"!==e.status&&"proposed"!==e.status&&t.push((0,D.tZ)("li",{key:"generate2FABackupCodes",id:"generate-2fa-recovery-code-quick-action",onClick:()=>a("generateBackupCode",e)},(0,D.tZ)(Ue.JO,{name:"RecoveryKeyOutlined",size:"medium",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_generate_recovery_codes_label"))),t})()))};var sv,rv;const ov="team_members_row_invitation_pending",lv=e=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(null),s=e=>{i(e===a?null:e)},r=(t,n)=>{s(a),e.onMemberActionSelect(t,n)};return(0,D.tZ)("tbody",{className:"tableBody--UVKDDE_osD"},(()=>{const n=(e,t)=>null!=t?t:["pending","removed"].includes(e)?"-":0;return e.members.map((i=>{return(0,D.tZ)("tr",{key:i.login,className:"removed"===i.status?"revoked--DFG0wnOSMX":""},(0,D.tZ)("td",null,i.login!==e.currentLoggedLogin&&"removed"!==i.status&&(0,D.tZ)("span",{className:Array.from(e.checkedMembers).find((e=>e.login===i.login))?"checkboxChecked--VjkXejmzP7 checkbox--akXfXOc5VH":"checkbox--akXfXOc5VH",onClick:()=>e.onMemberToggleCheck(i)})),(0,D.tZ)("td",{className:"loginCell--zmWQn6nt_m"},(0,D.tZ)(uy.q,{email:i.login,size:30}),(0,D.tZ)("div",{className:"loginText--UrH7gOl5S5"},(0,D.tZ)(Uu.Z,{className:"loginTextEmail--_rJiVfje4x",tooltipText:i.login},i.login))),(0,D.tZ)("td",{className:"securityScoreCell--TRrWX93JKm"},(e=>{const a=Z.Maybe.maybe(e.nbrPasswords>=5?e.securityIndex:null);return a.caseOf({just:e=>(0,D.tZ)(PE,{score:a,size:"small"},(0,D.tZ)("div",{className:"securityScoreCellText--uh3PGGldwN"},`${mC(e)}%`)),nothing:()=>(0,D.tZ)(d.Ejs,{gap:"4px"},(0,D.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet",alignItems:"center"},t("team_members_row_security_score_unavailable")),(0,D.tZ)(d.ua7,{placement:"bottom",content:t("team_members_row_security_score_breakdown_less_than_five")},(0,D.tZ)("div",{sx:{display:"flex",alignItems:"center"}},sv||(sv=(0,D.tZ)(Ue.JO,{name:"FeedbackInfoOutlined",color:"ds.text.neutral.quiet",size:"xsmall"})))))})})(i)),(0,D.tZ)("td",{className:"passwordsCell--gft4asedk5"},(0,D.tZ)("span",{className:"passwordsCellIcon--oJaMYYHQ_9"}),(o=i.status,l=i.nbrPasswords,["pending","removed"].includes(o)?"-":!l||l<5?"<5":l)),(0,D.tZ)("td",null,n(i.status,i.safePasswords)),(0,D.tZ)("td",null,n(i.status,i.weakPasswords)),(0,D.tZ)("td",null,n(i.status,i.reused)),(0,D.tZ)("td",null,n(i.status,i.compromisedPasswords)),(0,D.tZ)("td",null,(e=>{switch(!0){case["pending","proposed"].includes(e.status):return t(ov);case Boolean(e.lastUpdateDateUnix||e.revokedDateUnix):return(0,D.tZ)(Ae.Z,{date:(0,xt.Z)(e.lastUpdateDateUnix||e.revokedDateUnix)});case"pending"===e.status:return t(ov);default:return t("team_members_row_never_logged_in")}})(i)),(0,D.tZ)("td",null,i.isBillingAdmin?(0,D.tZ)(d.ua7,{placement:"top",content:t("team_account_heading_billing_admin_tooltip"),sx:{textAlign:"start"}},(0,D.tZ)("div",{sx:{display:"flex",alignItems:"center"}},(0,D.tZ)(d.nvN,{bold:!0,size:"small",sx:{display:"inline-block"}},t("team_account_heading_billing_admin")),(0,D.tZ)(Ue.JO,{name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"small"}))):null,(e=>"removed"===e.status?t("team_members_row_revoked"):e.isTeamCaptain?t("team_members_row_captain"):e.isGroupManager?t("team_members_row_group_manager"):t("team_members_row_member"))(i)),(0,D.tZ)("td",{className:"actionsCell--NotN6ngLnK",style:{position:"relative"}},i.login===a?(e=>(0,D.tZ)(iv,{member:e,onDismiss:()=>s(e.login),onMemberActionSelect:r}))(i):null,i.login!==e.currentLoggedLogin&&(0,D.tZ)(Ue.zx,{id:"users-action-menu-button",onClick:()=>s(i.login),layout:"iconOnly",intensity:"supershy",icon:rv||(rv=(0,D.tZ)(Ue.JO,{name:"SettingsOutlined",size:"medium",color:"ds.text.neutral.standard"}))})));var o,l}))})())},cv=e=>e.filter((e=>["pending","proposed"].includes(e.status)));var dv,uv,mv,pv=a(181508);const _v="team_members_resend_invite_all",gv=e=>{const{translate:t}=(0,P.Z)(),{getInviteLinkDataForAdmin:a}=(0,pv.h)(),n=()=>{e.onMembersActionSelect("reinviteAll",cv(e.members))},i=(0,Be.w)("onboarding_web_teamsignuppage");return(0,Ue.tZ)(d.h_2,{sx:{zIndex:1001},content:i?[(0,Ue.tZ)(d.W7o,{key:"resendInvite",fullWidth:!0,onClick:n},(0,Ue.tZ)(d.Ejs,{gap:"4px"},dv||(dv=(0,Ue.tZ)(Ue.JO,{name:"NotificationOutlined",size:"medium"})),(0,Ue.tZ)("span",null,t(_v)))),(0,Ue.tZ)(d.W7o,{key:"shareInviteLink",onClick:async()=>{const t=await a(),n=!t?.teamKey||t?.disabled?"enableInviteLink":"shareInviteLink";e.onMembersActionSelect(n)},fullWidth:!0},(0,Ue.tZ)(d.Ejs,{gap:"4px"},uv||(uv=(0,Ue.tZ)(Ue.JO,{name:"ActionCopyOutlined",size:"medium"})),(0,Ue.tZ)("span",null,t("team_members_share_invite_link"))))]:[(0,Ue.tZ)(d.W7o,{key:"resendInvite",fullWidth:!0,onClick:n},(0,Ue.tZ)(d.Ejs,{gap:"4px"},t(_v)))]},(0,Ue.tZ)(Ue.zx,{intensity:"quiet",mood:"neutral",size:"medium",layout:"iconOnly",sx:{marginLeft:"16px"},icon:mv||(mv=(0,Ue.tZ)(Ue.JO,{name:"ActionMoreOutlined",size:"medium",color:"ds.text.neutral.standard"}))}))},hv={container:"container--lTIFkRrWrT",top:"top--Ax5tGm_mED",topButton:"topButton--vxY2fF8Lv4",tableHeaderContainer:"tableHeaderContainer--NOzH1jto0x",topContainer:"topContainer--ST6B1mEZjJ",topLeft:"topLeft--viTEuhR25Z",revokeButton:"revokeButton--_sdxTpsqR2 topButton--vxY2fF8Lv4",statusFilters:"statusFilters--SMNEn98faE",topRight:"topRight--YZ2DF7wcrD",topPagination:"topPagination--rTlBiQ0EDF",topPaginationText:"topPaginationText--etP6KJCQ0A",topPaginationTextStrong:"topPaginationTextStrong--VTW8829LEc",addButton:"addButton--qfO5ovYdoU",checkbox:"checkbox--jmvgdO7ugt",checkboxChecked:"checkboxChecked--vFOuF2l2VW checkbox--jmvgdO7ugt",checkboxHeaderChecked:"checkboxHeaderChecked--jVnsRESmiO checkboxChecked--vFOuF2l2VW checkbox--jmvgdO7ugt",checkboxMinus:"checkboxMinus--g44ABlDkh2 checkbox--jmvgdO7ugt",checkboxAdd:"checkboxAdd--GpneSBisBK checkbox--jmvgdO7ugt",table:"table--a8O2px0gHj",bottom:"bottom--b6BPTxGASq",nameColumn:"nameColumn--XYrrfjBTYI",tableHeadContent:"tableHeadContent--V8YR8p9Rji",tableHeadLabel:"tableHeadLabel--uX3llf_9jK"},bv="team_members_heading_name",yv="team_members_heading_security_score",Cv="team_members_heading_password_count",wv="team_members_heading_last_login",Ev="team_members_heading_rights",vv=24;var Nv;!function(e){e[e.TEAM_CAPTAIN=0]="TEAM_CAPTAIN",e[e.GROUP_MANAGER=1]="GROUP_MANAGER",e[e.BILLING_ADMIN=2]="BILLING_ADMIN",e[e.ACCEPTED=3]="ACCEPTED",e[e.PENDING_PROPOSED=4]="PENDING_PROPOSED",e[e.DEFAULT=5]="DEFAULT"}(Nv||(Nv={}));const Sv=({isTeamCaptain:e,isBillingAdmin:t,isGroupManager:a,status:n})=>{switch(!0){case e:return Nv.TEAM_CAPTAIN;case a:return Nv.GROUP_MANAGER;case t:return Nv.BILLING_ADMIN;case"accepted"===n:return Nv.ACCEPTED;case["pending","proposed"].includes(n):return Nv.PENDING_PROPOSED;default:return Nv.DEFAULT}},Iv=(e,t)=>"number"==typeof e?e:t&&["pending","removed"].includes(t)?-1:0,fv=e=>e.map((e=>({...e,filterableStatus:"proposed"===e.status?"pending":e.status,sortableLastActivity:e.revokedDateUnix||e.lastUpdateDateUnix||0,sortablePasswords:Iv(e.nbrPasswords,e.status),sortableRights:Sv(e),sortableSecurityScore:Iv(e.securityIndex,e.status),sortableSafePasswords:Iv(e.safePasswords,e.status),sortableWeakPasswords:Iv(e.weakPasswords,e.status),sortableReused:Iv(e.reused,e.status),sortableCompromisedPasswords:Iv(e.compromisedPasswords,e.status)}))),xv=e=>{var t;const{translate:a}=(0,P.Z)(),i=(0,Be.w)("group_manager_prod"),s=(0,Dg.v0)(e.lee.globalState),r=null!=(t=s?.login)?t:"",[o,l]=(0,n.useState)(fv(e.members)),[c,u]=(0,n.useState)(new Set),[m,p]=(0,n.useState)(0),[_,g]=(0,n.useState)(["accepted","pending","removed"]),[h,b]=(0,n.useState)(""),[y,C]=(0,n.useState)({sortBy:"sortableRights",sortOrder:"asc"});(0,n.useEffect)((()=>{u(new Set),l(fv(e.members))}),[e.members]);const w=()=>{const e=h?.toLocaleUpperCase(),t="asc"===y.sortOrder?ft.ascend:ft.descend;return(0,ft.sortWith)([t((0,ft.prop)(y.sortBy))])(o.filter((e=>e.filterableStatus&&_.includes(e.filterableStatus))).filter((t=>!h||t.login.toLocaleUpperCase().includes(e))))},E=e=>{p(e)},v=e=>{const t=e===y.sortBy&&"asc"===y.sortOrder?"desc":"asc";C({sortBy:e,sortOrder:t})},N=e=>{p(0),g((t=>t.includes(e)?t.filter((t=>t!==e)):t.concat([e])))},S=e=>!e.isBillingAdmin&&["accepted","pending","proposed"].includes(e.status),I=()=>{u(new Set)},f=()=>{const e=m*vv,t=new Set;w().slice(e,e+vv).reduce(((e,t)=>(r===t.login||e.add({...t}),e)),t),Array.from(c).forEach((e=>t.add({...e}))),u(t)},x=m*vv,M=w(),T={first:M.length?x+1:0,last:Math.min(M.length,x+vv)},Z=M.slice(x,x+vv),A=(e=>{const t=e.filter((e=>Array.from(c).find((t=>t.login===e.login)))).length,a=e.find((e=>e.login===r))?e.length-1:e.length;let n,i;return 0===t?(n=hv.checkboxAdd,i=f):a>0&&t===a?(n=hv.checkboxHeaderChecked,i=I):(n=hv.checkboxMinus,i=I),(0,D.tZ)("span",{className:n,onClick:i})})(Z),k=[{headerLabel:"",headerElement:A,headerKey:"checkbox"},{headerLabel:a(bv),tooltipLabel:a(bv),onClick:()=>v("login"),sortOrder:"login"!==y.sortBy?void 0:y.sortOrder,headerKey:"login"},{headerLabel:a(yv),tooltipLabel:a(yv),onClick:()=>v("sortableSecurityScore"),sortOrder:"sortableSecurityScore"!==y.sortBy?void 0:y.sortOrder,headerKey:"security-score"},{headerLabel:a(Cv),tooltipLabel:a(Cv),onClick:()=>v("sortablePasswords"),sortOrder:"sortablePasswords"!==y.sortBy?void 0:y.sortOrder,headerKey:"num-passwords"},{headerLabel:a("team_members_heading_safe"),tooltipLabel:a("team_members_heading_safe_tooltip"),onClick:()=>v("sortableSafePasswords"),sortOrder:"sortableSafePasswords"!==y.sortBy?void 0:y.sortOrder,headerKey:"safe-passwords"},{headerLabel:a("team_members_heading_weak"),tooltipLabel:a("team_members_heading_weak_tooltip"),onClick:()=>v("sortableWeakPasswords"),sortOrder:"sortableWeakPasswords"!==y.sortBy?void 0:y.sortOrder,headerKey:"weak-passwords"},{headerLabel:a("team_members_heading_reused"),tooltipLabel:a("team_members_heading_reused_tooltip"),onClick:()=>v("sortableReused"),sortOrder:"sortableReused"!==y.sortBy?void 0:y.sortOrder,headerKey:"reused-passwords"},{headerLabel:a("team_members_heading_compromised"),tooltipLabel:a("team_members_heading_compromised_tooltip"),onClick:()=>v("sortableCompromisedPasswords"),sortOrder:"sortableCompromisedPasswords"!==y.sortBy?void 0:y.sortOrder,headerKey:"compromised-passwords"},{headerLabel:a(wv),tooltipLabel:a(wv),onClick:()=>v("sortableLastActivity"),sortOrder:"sortableLastActivity"!==y.sortBy?void 0:y.sortOrder,headerKey:"last-login"},{headerLabel:(0,D.tZ)("span",{sx:{display:"flex",alignItems:"center"}},a(Ev)," ",i?(0,D.tZ)(Ue.JO,{name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"small"}):null),tooltipLabel:i?a.markup("team_members_heading_rights_tooltip_markup"):a(Ev),onClick:()=>v("sortableRights"),sortOrder:"sortableRights"!==y.sortBy?void 0:y.sortOrder,headerKey:"permissions"},{headerLabel:"",headerKey:"actions"}];return(0,D.tZ)("div",{className:hv.container},(0,D.tZ)("div",{className:hv.top},(0,D.tZ)("div",{className:hv.tableHeaderContainer},(0,D.tZ)(nv.n,{type:"search",containerStyle:{flexGrow:1,maxWidth:"300px",marginBottom:"15px"},onChange:e=>{p(0),b(e.currentTarget.value)},placeholder:a("team_members_filter_control_search_placeholder"),placeholderIcon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNy4zNzUgMTMuNzY0Nkw0LjM3NSAxNi43NjQ2TTE2LjM3NSA5LjI2NDY1QzE2LjM3NSAxMS43NDk5IDE0LjM2MDMgMTMuNzY0NiAxMS44NzUgMTMuNzY0NkM5LjM4OTcyIDEzLjc2NDYgNy4zNzUgMTEuNzQ5OSA3LjM3NSA5LjI2NDY1QzcuMzc1IDYuNzc5MzcgOS4zODk3MiA0Ljc2NDY1IDExLjg3NSA0Ljc2NDY1QzE0LjM2MDMgNC43NjQ2NSAxNi4zNzUgNi43NzkzNyAxNi4zNzUgOS4yNjQ2NVoiIHN0cm9rZT0iI0NDQzdDMiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KPC9zdmc+Cg=="}),(0,D.tZ)("div",{className:hv.topContainer},(0,D.tZ)("div",{className:hv.topLeft},(0,D.tZ)("div",{className:hv.statusFilters},(0,D.tZ)("span",{className:_.includes("accepted")?hv.checkboxChecked:hv.checkbox,onClick:()=>N("accepted")}),a("team_members_filter_control_include_active"),(0,D.tZ)("span",{className:_.includes("pending")?hv.checkboxChecked:hv.checkbox,onClick:()=>N("pending")}),a("team_members_filter_control_include_invited"),(0,D.tZ)("span",{className:_.includes("removed")?hv.checkboxChecked:hv.checkbox,onClick:()=>N("removed")}),a("team_members_filter_control_include_revoked"))),c.size>0&&[(0,D.tZ)(tv,{key:"dropdown",onMembersActionSelect:t=>{let a=[...c];"demote"===t&&(a=a.filter((e=>e.isTeamCaptain))),"promote"===t&&(a=a.filter((e=>!e.isTeamCaptain&&"accepted"===e.status))),e.onMembersActionSelect(t,a)},onMultipleReassignActionSelect:t=>{let a=[...c];switch(t){case"member":a=a.filter((e=>e.isTeamCaptain||e.isGroupManager));break;case"teamCaptain":a=a.filter((e=>!e.isTeamCaptain&&"accepted"===e.status));break;case"groupManager":a=a.filter((e=>!e.isGroupManager&&"accepted"===e.status))}e.onMembersActionSelect("reassign",a,t)}}),(0,D.tZ)(Te.Z,{key:"button",classNames:[hv.revokeButton],label:a("team_members_revoke_multiple_label"),disabled:![...c].some(S),onClick:()=>{let t=[...c];t=t.filter(S),e.onMembersActionSelect("revoke",t)}})],(0,D.tZ)("div",{className:hv.topRight},(0,D.tZ)("div",{className:hv.topPagination},(0,D.tZ)("div",{className:hv.topPaginationText},(0,D.tZ)("span",{className:hv.topPaginationTextStrong},a("team_members_filter_pagination_top_count",{first:T.first,last:T.last})),a("team_members_filter_pagination_top_total",{total:M.length})),(0,D.tZ)(av.Z,{className:hv.paginationArrows,currentPageIndex:m,isShort:!0,itemsLength:M.length,itemsPerPage:vv,onChange:E})),(0,D.tZ)(d.zxk,{type:"button",className:hv.addButton,onClick:e.onMembersInvite},(0,D.tZ)(d.dtP,{color:pg()["--white"]}),a("team_members_quota_progress_add")),e.members.length>1&&(0,D.tZ)(gv,{members:e.members,onMembersActionSelect:e.onMembersActionSelect}))))),(0,D.tZ)("table",{className:hv.table},(0,D.tZ)(cy,{columns:k}),(0,D.tZ)(lv,{checkedMembers:c,currentLoggedLogin:r,members:Z,onMemberActionSelect:(t,a)=>{e.onMembersActionSelect(t,[a])},onMemberToggleCheck:e=>{u((t=>{const a=Array.from(t).find((t=>t.login===e.login)),n=new Set(t);return a?n.delete(a):n.add({...e}),n}))}})),(0,D.tZ)("div",{className:hv.bottom},(0,D.tZ)(av.Z,{currentPageIndex:m,itemsLength:M.length,itemsPerPage:vv,onChange:E})))},Mv=({handleClickOnRetry:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)("div",{sx:{transform:"translate(-5px, -5px)",margin:"25px 0px"}},(0,D.tZ)(d.enX,{color:Ue.O9.lightTheme.ds.text.danger.quiet,size:75})),(0,D.tZ)(d.$N8,{id:"backup-code-generation-error-dialog-title",title:t("team_members_generate_recovery_codes_error_dialog_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{id:"backup-code-generation-error-dialog-description",sx:{color:Ue.O9.lightTheme.ds.text.neutral.standard}},t("team_members_generate_recovery_codes_error_dialog_description"))),(0,D.tZ)(d.cNS,{primaryButtonTitle:t("team_members_generate_recovery_codes_error_dialog_confirm_button"),primaryButtonProps:{id:"backup-code-generation-error-dialog-try-again-button",type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()}))};var Tv;const Dv=({memberLogin:e,recoveryCodes:t,handleClickOnDone:a})=>{const{translate:n}=(0,P.Z)();return(0,D.tZ)("div",null,(0,D.tZ)(d.$N8,{id:"backup-code-generation-dialog-list-title",title:n("team_members_generate_recovery_codes_dialog_title",{memberLogin:e})}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{id:'id="backup-code-generation-dialog-list-description"',sx:{mb:"24px",mt:"6px",color:Ue.O9.lightTheme.ds.text.neutral.standard}},n("team_members_generate_recovery_codes_dialog_description",{memberLogin:e})),(0,D.tZ)(d.j49,{color:Ue.O9.lightTheme.ds.text.brand.standard,id:'id="backup-code-generation-dialog-list-eyebrow"'},n("team_members_generate_recovery_codes_dialog_codes_label")),(0,D.tZ)(d.Zbd,{sx:{mt:"6px",padding:"8px 12px",width:"100%"}},t?.map(((e,t)=>(0,D.tZ)(d.nvN,{key:e,"data-testid":`two-factor-authentication-backup-code-${t}`},e)))),(0,D.tZ)(d.zxk,{sx:{mt:"24px"},type:"button",nature:"secondary",id:"backup-code-generation-dialog-list-download-button",onClick:()=>{const e=t?.join("\n");(0,Xt.W)(e,Jt)}},(0,D.tZ)(d.Ejs,null,(0,D.tZ)(d.k$b,{sx:{mr:"10px"}},Tv||(Tv=(0,D.tZ)(d._8t,{size:16}))),n("team_members_generate_recovery_codes_dialog_download_button")))),(0,D.tZ)(d.cNS,{primaryButtonTitle:n("team_members_generate_recovery_codes_dialog_confirm_button"),primaryButtonProps:{id:"id=backup-code-generation-dialog-list-done-button",type:"button",autoFocus:!0},primaryButtonOnClick:()=>a()}))};var Zv;const Av=({isOpen:e,memberLogin:t,closeBackupCodeDialog:a})=>{const[i,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(),l=async()=>{const e=await u.C.getRecoveryCodesAsTeamCaptain({login:t});e.success?o(e.data.recoveryCodes):s(!0)},c=()=>{s(!1),o(void 0),a()};(0,n.useEffect)((()=>{e&&!i&&l()}),[e]);const{translate:m}=(0,P.Z)();return(0,D.tZ)(d.VqE,{isOpen:e,closeIconName:i?m("BUTTON_CLOSE_DIALOG"):"",onClose:()=>{c()}},i?(0,D.tZ)(Mv,{handleClickOnRetry:()=>{s(!1),l()}}):r?(0,D.tZ)(Dv,{memberLogin:t,recoveryCodes:r,handleClickOnDone:c}):(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.$N8,{id:"backup-code-generation-dialog-loader-title",title:m("team_members_generate_recovery_codes_dialog_loading_title",{memberLogin:t})}),(0,D.tZ)(d.a7O,null,(0,D.tZ)("div",{sx:{mt:"26px"}},Zv||(Zv=(0,D.tZ)(Qr.Z,{mode:"light",size:75}))))))},kv=({closeDialog:e,resendOrReactivate:t})=>{const{translate:a}=(0,P.Z)(),i=(0,Na.V)(),s=(0,Be.w)("onboarding_web_teamsignuppage"),{getInviteLinkDataForAdmin:r,inviteLinkDataForAdmin:o}=(0,pv.h)(),l=s&&!1===o?.disabled,c=(0,bp.cI)(o?.teamKey);return(0,n.useEffect)((()=>{r()}),[]),(0,D.tZ)(p.o,{showCloseIcon:!0,isOpen:!0,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:(0,D.tZ)(n.Fragment,null,(0,D.tZ)(Ue.JO,{sx:{marginRight:"4px"},name:"NotificationOutlined",size:"medium",color:"ds.text.inverse.catchy"}),a("team_members_resend_invite_dialog_resend_confirm")),secondaryButtonTitle:l?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(Ue.JO,{sx:{marginRight:"4px"},name:"ActionCopyOutlined",size:"medium",color:"ds.text.neutral.catchy"}),a("team_members_resend_copy_invite_link")):void 0,secondaryButtonOnClick:l?()=>{navigator.clipboard.writeText(c),i.showAlert(a("team_members_share_invite_link_copied"),d.BLW.SUCCESS)}:void 0,primaryButtonOnClick:()=>{t()}}),onRequestClose:e,title:a("team_members_reinvite_dialog_title")},(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:4,sx:{marginTop:"12px"}},(0,D.tZ)(d.nvN,null,a("team_members_resend_invite_dialog_message")),l?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,null,a("team_members_resend_invite_link_description")),(0,D.tZ)(d.nvN,{bold:!0,sx:{textDecoration:"underline"}},c)):null))},Ov={REVOKE_ERROR_MSG:"team_members_revoke_error_message",REVOKE_SUCCESS_MSG:"team_members_revoke_success_message",SINGLE:{REVOKE_DIALOG_CONFIRM:"team_members_revoke_single_dialog_confirm",REVOKE_DIALOG_CANCEL:"team_members_revoke_single_dialog_cancel",REVOKE_DIALOG_MSG:"team_members_revoke_single_dialog_message",REVOKE_DIALOG_TITLE:"team_members_revoke_single_dialog_title"},MULTIPLE:{REVOKE_DIALOG_CONFIRM:"team_members_remove_multiple_dialog_confirm",REVOKE_DIALOG_CANCEL:"team_members_revoke_multiple_dialog_cancel",REVOKE_DIALOG_MSG:"team_members_revoke_multiple_dialog_message",REVOKE_DIALOG_TITLE:"team_members_remove_multiple_dialog_title"}},Lv=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,P.Z)(),i=(0,Na.V)(),{reportTACError:s}=d_(),r=1===a.length,o=r?Ov.SINGLE:Ov.MULTIPLE;return(0,D.tZ)(p.o,{isOpen:!0,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:n(o.REVOKE_DIALOG_CONFIRM),primaryButtonOnClick:()=>(async()=>{t();const r=(0,Dg.v0)(e.globalState);if(!r)return void s(new Error(xg.N));const{teamId:o}=r;if(o)try{const t=a.map((e=>e.login)),{content:{removedMembers:s,unproposedMembers:l,refusedMembers:c}}=await(new Tg.Z).revokeMembers({auth:r,memberLogins:t}),u=Object.keys({...s,...l});u.forEach((t=>{const n=a.find((e=>e.login===t));e.dispatch(WE.Rb(n))})),Object.keys(c).forEach((t=>{const s=a.find((e=>e.login===t));if(!s)throw new Error(`member '${t}' not found in members list`);i.showAlert(n(Ov.REVOKE_ERROR_MSG),d.BLW.ERROR),e.dispatch(WE.Jo(s))})),u.length&&(i.showAlert(n(Ov.REVOKE_SUCCESS_MSG,{count:u.length}),d.BLW.SUCCESS),await(0,_u.hh)({teamId:o,action:"memberRevoked",users:u}))}catch(e){s(e)}})(),secondaryButtonTitle:n(o.REVOKE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:r?n(Ov.SINGLE.REVOKE_DIALOG_TITLE):n(Ov.MULTIPLE.REVOKE_DIALOG_TITLE,{count:a.length})},r?n(Ov.SINGLE.REVOKE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(Ov.MULTIPLE.REVOKE_DIALOG_MSG))},zv={CAPTAIN_PROMOTE_ERROR_GENERIC_TITLE:"team_members_captain_promote_error_generic_title",CAPTAIN_PROMOTE_ERROR_GENERIC_MESSAGE:"team_members_captain_promote_error_generic_message",CAPTAIN_PROMOTE_INVITE_ERROR_PK_TITLE:"team_members_captain_promote_invite_error_public_key_title",CAPTAIN_PROMOTE_INVITE_ERROR_PK_MESSAGE:"team_members_captain_promote_invite_error_public_key_message",CAPTAIN_PROMOTE_SUCCESS_MSG:"team_members_captain_promote_success_message",CAPTAIN_MULTIPLE_PROMOTE_DIALOG_MSG_NOBODY:"team_members_captain_multiple_promote_dialog_message_nobody",SINGLE:{PROMOTE_DIALOG_CONFIRM:"team_members_captain_single_promote_dialog_confirm",PROMOTE_DIALOG_CANCEL:"team_members_captain_single_promote_dialog_cancel",PROMOTE_DIALOG_MSG:"team_members_captain_single_promote_dialog_message",PROMOTE_DIALOG_TITLE:"team_members_captain_single_promote_dialog_title"},MULTIPLE:{PROMOTE_DIALOG_CONFIRM:"team_members_captain_multiple_promote_dialog_confirm",PROMOTE_DIALOG_CANCEL:"team_members_captain_multiple_promote_dialog_cancel",PROMOTE_DIALOG_MSG:"team_members_captain_multiple_promote_dialog_message",PROMOTE_DIALOG_TITLE:"team_members_captain_multiple_promote_dialog_title"}},jv=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,P.Z)(),i=(0,Na.V)(),{reportTACError:s,addAlertToQueue:r}=d_(),o=e=>{const t=Hv(e);(e=>{e.forEach((e=>{s(e)}))})(t);const a=t[0],i={title:n(zv.CAPTAIN_PROMOTE_ERROR_GENERIC_TITLE),message:n(zv.CAPTAIN_PROMOTE_ERROR_GENERIC_MESSAGE)},o={title:n(zv.CAPTAIN_PROMOTE_INVITE_ERROR_PK_TITLE),message:n(zv.CAPTAIN_PROMOTE_INVITE_ERROR_PK_MESSAGE)};let l;try{l=JSON.parse(a.message)}catch{l={}}r("MISSING_PUBLIC_KEY"===l?.code?o:i)};if(!a.length)return(0,D.tZ)(p.o,{isOpen:!0,footer:(0,D.tZ)(d.cNS,{intent:"secondary",secondaryButtonTitle:n(zv.MULTIPLE.PROMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(zv.MULTIPLE.PROMOTE_DIALOG_TITLE)},n(zv.CAPTAIN_MULTIPLE_PROMOTE_DIALOG_MSG_NOBODY));const l=1===a.length,c=l?zv.SINGLE:zv.MULTIPLE;return(0,D.tZ)(p.o,{isOpen:!0,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:l?n(zv.SINGLE.PROMOTE_DIALOG_CONFIRM):n(zv.MULTIPLE.PROMOTE_DIALOG_CONFIRM,{count:a.length}),primaryButtonOnClick:async()=>{const r=(0,Dg.v0)(e.globalState);if(!r)return void s(new Error(xg.N));const{teamId:l}=r;if(!l)return;const{errors:c,successes:u}=await Wv(a,(async t=>(await(0,_u.JQ)({teamId:l,memberLogin:t.login}),e.dispatch(WE.VW(t)),i.showAlert(n(zv.CAPTAIN_PROMOTE_SUCCESS_MSG,{username:t.name||t.login||"Member"}),d.BLW.SUCCESS),t.login)));if(u.length)try{await(0,_u.hh)({teamId:l,action:"adminPromoted",users:u})}catch(e){o(e)}finally{t()}c.length&&o(c)},secondaryButtonTitle:n(c.PROMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(c.PROMOTE_DIALOG_TITLE)},l?n(zv.SINGLE.PROMOTE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(zv.MULTIPLE.PROMOTE_DIALOG_MSG))},Pv={CAPTAIN_DEMOTE_FAILURE_MSG:"team_members_captain_demote_failure_message",CAPTAIN_DEMOTE_SUCCESS_MSG:"team_members_captain_demote_success_message",CAPTAIN_MULTIPLE_DEMOTE_DIALOG_MSG_NOBODY:"team_members_captain_multiple_demote_dialog_message_nobody",SINGLE:{DEMOTE_DIALOG_CONFIRM:"team_members_captain_single_demote_dialog_confirm",DEMOTE_DIALOG_CANCEL:"team_members_captain_single_demote_dialog_cancel",DEMOTE_DIALOG_MSG:"team_members_captain_single_demote_dialog_message",DEMOTE_DIALOG_TITLE:"team_members_captain_single_demote_dialog_title"},MULTIPLE:{DEMOTE_DIALOG_CONFIRM:"team_members_captain_multiple_demote_dialog_confirm",DEMOTE_DIALOG_CANCEL:"team_members_captain_multiple_demote_dialog_cancel",DEMOTE_DIALOG_MSG:"team_members_captain_multiple_demote_dialog_message",DEMOTE_DIALOG_TITLE:"team_members_captain_multiple_demote_dialog_title"}},Rv=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,P.Z)(),i=(0,Na.V)(),{reportTACError:s}=d_(),r=e=>{(e=>{e.forEach((e=>{s(e)}))})(Hv(e)),i.showAlert(n(Pv.CAPTAIN_DEMOTE_FAILURE_MSG),d.BLW.ERROR)};if(!a.length)return(0,D.tZ)(p.o,{isOpen:!0,footer:(0,D.tZ)(d.cNS,{intent:"secondary",secondaryButtonTitle:n(Pv.MULTIPLE.DEMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(Pv.MULTIPLE.DEMOTE_DIALOG_TITLE)},n(Pv.CAPTAIN_MULTIPLE_DEMOTE_DIALOG_MSG_NOBODY));const o=1===a.length,l=o?Pv.SINGLE:Pv.MULTIPLE;return(0,D.tZ)(p.o,{isOpen:!0,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:o?n(Pv.SINGLE.DEMOTE_DIALOG_CONFIRM):n(Pv.MULTIPLE.DEMOTE_DIALOG_CONFIRM,{count:a.length}),primaryButtonOnClick:async()=>{const o=(0,Dg.v0)(e.globalState);if(!o)return void s(new Error(xg.N));const{teamId:l}=o;if(!l)return;const{errors:c,successes:u}=await Wv(a,(async t=>(await(0,_u.Lx)({teamId:l,memberLogin:t.login}),e.dispatch(WE.bj(t)),i.showAlert(n(Pv.CAPTAIN_DEMOTE_SUCCESS_MSG,{username:t.name||t.login||"Member"}),d.BLW.SUCCESS),t.login)));if(u.length)try{await(0,_u.hh)({teamId:l,action:"adminDemoted",users:u})}catch(e){r(e)}finally{t()}c.length&&r(c)},secondaryButtonTitle:n(l.DEMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(l.DEMOTE_DIALOG_TITLE)},o?n(Pv.SINGLE.DEMOTE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(Pv.MULTIPLE.DEMOTE_DIALOG_MSG))};var Uv;const Bv=({closeDialog:e})=>{const{translate:t}=(0,P.Z)(),a=(0,Na.V)(),i=(0,Be.w)("onboarding_web_teamsignuppage"),{inviteLinkDataForAdmin:s,getInviteLinkDataForAdmin:r}=(0,pv.h)();(0,n.useEffect)((()=>{r()}),[r]);const o=(0,bp.cI)(s?.teamKey);return(0,D.tZ)(p.o,{showCloseIcon:!0,isOpen:i,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:(0,D.tZ)(n.Fragment,null,Uv||(Uv=(0,D.tZ)(Ue.JO,{name:"ActionCopyOutlined",size:"medium",color:"ds.text.inverse.catchy"})),t("team_memebers_share_link_dialog_copy_link_button")),primaryButtonOnClick:async()=>{await navigator.clipboard.writeText(o),a.showAlert(t("team_members_share_invite_link_copied"),d.BLW.SUCCESS)}}),onRequestClose:e,title:t("team_memebers_share_link_dialog_title")},(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,null,t("team_memebers_share_link_dialog_paragraph")),(0,D.tZ)(d.nvN,{sx:{marginTop:"16px",fontWeight:"600"}},o)))},Fv=({membersWithoutPublicKey:e,onClose:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(p.o,{isOpen:Boolean(e.length),footer:(0,D.tZ)(d.cNS,{intent:"secondary",secondaryButtonTitle:a("team_members_error_popup_public_keys_ok"),secondaryButtonOnClick:t}),onRequestClose:t,title:a("team_members_error_popup_public_keys_title")},(0,D.tZ)("div",null,a("team_members_error_popup_public_keys_message"),(0,D.tZ)("ul",{sx:{listStyleType:"disc",paddingLeft:"40px",marginTop:"1em",marginBottom:"1em"}},e.map((({login:e})=>(0,D.tZ)("li",{key:e},e))))))},Gv=({closeDialog:e,applyActionOnMembers:t})=>{const{translate:a}=(0,P.Z)(),i=(0,Na.V)(),s=(0,Be.w)("onboarding_web_teamsignuppage"),{getInviteLinkDataForAdmin:r,inviteLinkDataForAdmin:o,createInviteLink:l,toggleInviteLink:c}=(0,pv.h)(),{teamInfo:u}=(0,Op.G)();return(0,n.useEffect)((()=>{r()}),[r]),(0,D.tZ)(p.o,{showCloseIcon:!0,isOpen:s,footer:(0,D.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:a("team_activation_dialog_activate_button"),primaryButtonOnClick:()=>(async()=>{var e;const n=null!=(e=u?.teamInfo?.name)?e:"";o?.teamKey?o?.disabled&&await c(!1):await l(n),i.showAlert(a("team_activation_dialog_notification"),d.BLW.SUCCESS),await r(),t("shareInviteLink")})(),secondaryButtonTitle:a("team_activation_dialog_notrightnow_button"),secondaryButtonOnClick:e}),onRequestClose:e,title:a("team_activation_dialog_title")},(0,D.tZ)(d.nvN,null,a("team_activation_dialog_paragrah")))},Wv=async(e,t)=>{const a={errors:[],successes:[]};for await(const n of e)try{const e=await t(n);a.successes.push(e)}catch(e){a.errors.push(e)}return a},Vv=({refusedMembers:e={}}={})=>Object.keys(e).length>0,Hv=e=>(e instanceof Array?e:[e]).map((e=>e instanceof Error?e:e instanceof Object?new Error(JSON.stringify(e)):new Error(e)));var qv;const Yv=["text/*",".csv",".txt"],Qv="team_members_invite_error_message",$v=e=>{var t;const{routes:a}=(0,i.Xo)(),{translate:s}=(0,P.Z)(),r=(0,Na.V)(),{reportTACError:o}=d_(),[l,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1),[_,g]=(0,n.useState)(null!=(t=e.preFilledEmails)?t:new Set([])),[h,b]=(0,n.useState)(0),[y,C]=(0,n.useState)(0),[w,E]=(0,n.useState)(0),[N,S]=(0,n.useState)(0),[I,f]=(0,n.useState)(!1),x=(0,Be.w)("monetization_avalara_b2b_propose_members"),{proposeMembers:M}=(0,R.u7)(uE.teamMembersApi),T=e.lee.carbon.accountInfo.premiumStatus,Z=e.lee.apiMiddleware.teamPlans?e.lee.apiMiddleware.teamPlans:(o(new Error("teamPlans missing in apiMiddleware")),null),{billingDetails:A,amountToPay:k,amountToTax:O,onSeatCountChange:L}=pb({teamPlans:Z,isFreeToPaidUpgrade:e.isFreeTrial,getLatestRequestedSeatCount:null});(0,n.useEffect)((()=>{p(l)}),[l]),(0,n.useEffect)((()=>{var t;g(null!=(t=e.preFilledEmails)?t:new Set([]))}),[e.preFilledEmails]),(0,n.useEffect)((()=>{_.size||E(0)}),[_]);const z=()=>{e.closeInviteDialog(),u(!1),b(0),C(0)},U=async(t,a)=>{var n;a=null!=(n=a)?n:0,C(t.length),u(!0);const i=a+Math.min(t.length-a,500),l=t.slice(a,i),m={};try{const a=await(async t=>{if(!(0,Dg.v0)(e.lee.globalState)){const e=new Error(xg.N);throw o(e),e}if(!e.lee.apiMiddleware.teamPlans)throw new Error("we want to remove this middleware but we can't just yet!");try{if(x){const e=await M({proposedMemberLogins:t,force:!0});if(e.error)throw r.showAlert(s(Qv),d.BLW.ERROR),new Error(s(Qv));return e.data}return await e.lee.apiMiddleware.teamPlans.addMembers(t)}catch(e){const t=e.code&&e.subCode?`invite_error_${e.code}_${e.subCode}`:Qv;throw r.showAlert(s(t),d.BLW.ERROR),new Error(s(t))}})(l);if(b(i),(0,he.merge)(m,a),i<t.length)return U(t,i);if(Vv(m)){e.handleInvitePartialSuccess(m.proposedMembers,m.refusedMembers);const t=Object.keys(m.proposedMembers).length,a=Object.keys(m.refusedMembers).length;(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Complete,inviteCount:t,inviteFailedCount:a,inviteResentCount:0,inviteSuccessfulCount:t-a,isImport:w>0,importSize:w,isResend:!1}))}else e.handleInviteCompleteSuccess(t),N<0?1===_.size?r.showAlert(s("team_members_invite_success_message_with_added_seats_one_invite",{cost:s.price(A.currency,(k+O)/100)}),d.BLW.SUCCESS):r.showAlert(s("team_members_invite_success_message_with_added_seats",{total:_.size,count:-N,cost:s.price(A.currency,(k+O)/100)}),d.BLW.SUCCESS):r.showAlert(s("team_members_invite_success_message_with_count",{count:_.size}),d.BLW.SUCCESS),(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Complete,inviteCount:t.length,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:t.length,isImport:w>0,importSize:w,isResend:!1}));return z()}catch(e){throw(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Error,inviteCount:_.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:w>0,importSize:w,isResend:!1})),z(),e}},B=e=>function(e){if(function(e){const t=e.match(/[\x00-\x09\x0e-\x1F]/g);return!!t&&t.length/e.length>.03}(e))return[];if(!e.includes("@"))return[e];return function(e){const t={};return e.forEach((e=>t[e]=!0)),Object.keys(t)}(e.match(/[^<> ,;:\t\n\r"']+@[a-zA-Z0-9_.-]+/g)||[])}(e).filter((e=>{return t=e,!_.has(t);var t})),G=t=>(0,ns.vV)(t)&&!(t=>!!e.exclude?.includes(t))(t),W=e=>{E(e.length),g(new Set([..._,...e]))},V=e=>{o(e)},H=[..._].filter((e=>!G(e))).length;let q=0===_.size||H>0||N<0&&$h(-N)||I,Y=null;const{slotsTotal:Q,slotsTaken:$}=e;(0,n.useEffect)((()=>{if(Q){const e=Q-(_.size-H)-$;S(e),e<0?(L(-e),T&&(0,j.f1)(T)&&f(!0)):f(!1)}}),[_,Q,$]);const{loading:K,billingCountry:X}=ip();if(K)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const J="US"===X?"team_invite_dialog_input_counter_negative_tax":"team_invite_dialog_input_counter_negative_vat";if(Q){const t=N<0?$h(-N)?s("team_account_teamplan_upgrade_premium_buy_more_seats_than_cap",{seatCap:qh,salesEmail:Yh}):O?s(J,{count:-N,total:Q,cost:s.price(A.currency,(k+O)/100)}):s("team_invite_dialog_input_counter_negative",{count:-N,total:Q,cost:s.price(A.currency,k/100)}):s("team_invite_dialog_input_counter",{count:N,total:Q}),a=s("team_invite_dialog_input_counter_special",{total:Q});let n=t;e.isFreeTrial&&N<1&&(q=N<0||q,n=a);const i=F()(_E,{"alert--WcUXIwBMog":N<1,[gE]:!l});Y=(0,D.tZ)("div",{className:i},n)}return(0,D.tZ)(d.VqE,{isOpen:e.isOpen,closeIconName:l?void 0:s("_common_dialog_dismiss_button"),onClose:()=>{l||((0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Cancel,inviteCount:_.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:w>0,importSize:w,isResend:!1})),z(),g(new Set([])))},ariaDescribedby:"dialogContent"},(0,D.tZ)(d.$N8,{title:s("invite_user_dialog_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)("div",{className:"dialog--QnJrEK3_WD"},(0,D.tZ)("div",{id:"dialogContent",className:"instruction--MOkv4LlYxY"},s(l?"team_invite_dialog_input_label_sending":"invite_user_dialog_input_label")),(0,D.tZ)(mE.Z,{accept:Yv,passClicksThrough:!0,className:"fileDropZone--_MXyrjuinL",onChange:e=>{W(B(e.join("\0")))},onError:V},(0,D.tZ)(pE.L,{key:"tags",setIsOverlayVisible:p,placeholder:s("team_invite_dialog_input_placeholder"),tags:[..._],isOverlayVisible:m,setTags:e=>{g(new Set(e))},formatToTags:B,validate:G})),!I&&Y,I?(0,D.tZ)("div",{className:"alertOverride--o2y2pG7WQg"},(0,D.tZ)(d.bZj,{severity:d.BLW.SUBTLE},(0,D.tZ)("span",{style:{fontSize:"14px",fontWeight:"400"}},s("team_dialog_starter_limit_warning"),qv||(qv=(0,D.tZ)("br",null)),(0,D.tZ)(i.rU,{to:a.teamAccountRoutePath},s("team_dialog_starter_change_plan"))))):null,(0,D.tZ)("div",{className:F()(_E,{[gE]:l})},s("team_invite_dialog_invitations_counter",{count:h,total:y})),(0,D.tZ)("div",{className:F()("import--aJf1GXo5F5",{[gE]:!l})},(0,D.tZ)(mE.Z,{accept:Yv,onChange:e=>{W(B(e.join("\0")))},onError:V},(0,D.tZ)("span",{className:"importTextAction--H7eyxahYri"},s("team_invite_dialog_import_description")))),(0,D.tZ)("div",{className:F()("importHint--xIB2QYXXMo",{[gE]:!l})},s("team_invite_dialog_import_example_text")))),(0,D.tZ)(d.cNS,{primaryButtonTitle:(0,D.tZ)(n.Fragment,null,(0,D.tZ)("span",{sx:{marginRight:"8px"}},(0,D.tZ)(d.bV6,{color:d.O9T.white})),s("invite_user_dialog_button")),primaryButtonOnClick:async()=>{try{await U([..._]),e.setShowTeamSignupPageModal(!0)}catch(e){(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Error,inviteCount:_.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:w>0,importSize:w,isResend:!1})),r.showAlert(s("_common_generic_error"),d.BLW.ERROR)}g(new Set([]))},primaryButtonProps:{disabled:q,type:"button"}}))},Kv=({setShowActivateInviteLinkModal:e,setShowInviteLinkModal:t,setActivateLinkInteracted:a})=>{const{translate:i}=(0,P.Z)(),[s,r]=(0,n.useState)(!0),{getInviteLinkDataForAdmin:o,createInviteLink:l,toggleInviteLink:c}=(0,pv.h)(),{teamInfo:u}=(0,Op.G)(),m=(0,Na.V)();return(0,D.tZ)(d.VqE,{closeIconName:i("_common_dialog_dismiss_button"),isOpen:s,onClose:()=>r(!1)},(0,D.tZ)(d.$N8,{title:i("team_activation_dialog_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{sx:{marginBottom:"15px"},color:d.O9T.dashGreen01},i("team_activation_dialog_paragrah"))),(0,D.tZ)(d.cNS,{primaryButtonTitle:i("team_activation_dialog_activate_button"),primaryButtonOnClick:async()=>{var n;a?.(),r(!1),t(!0);const s=null!=(n=u?.teamInfo?.name)?n:"",p=await o();p?.teamKey?await c(!1):(await l(s),m.showAlert(i("team_activation_dialog_notification"),d.BLW.SUCCESS)),e(!1)},primaryButtonProps:{type:"button"},secondaryButtonTitle:i("team_activation_dialog_notrightnow_button"),secondaryButtonOnClick:()=>{a?.(),r(!1),e(!1),m.showAlert(i("team_activation_dialog_cancel_notification"),d.BLW.SUBTLE)}}))};var Xv=a(306486);const Jv=({isOpen:e,setIsOpen:t})=>{const{translate:a}=(0,P.Z)(),{inviteLinkDataForAdmin:i,getInviteLinkDataForAdmin:s}=(0,pv.h)(),r=(0,Na.V)();return(0,n.useEffect)((()=>{s()}),[s]),(0,D.tZ)(d.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:e,onClose:()=>t(!1)},(0,D.tZ)(d.$N8,{title:a("team_sharing_invite_dialog_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{sx:{marginBottom:"15px"},color:d.O9T.dashGreen01},a("team_sharing_invite_dialog_paragrah")),(0,D.tZ)(d.nvN,{sx:{marginBottom:"15px",fontWeight:"600"},color:d.O9T.dashGreen01},(0,bp.cI)(i?.teamKey))),(0,D.tZ)(d.cNS,null,(0,D.tZ)(Xv.q,{copyValue:(0,bp.cI)(i?.teamKey),buttonText:a("team_sharing_invite_dialog_copy_link"),onClick:()=>{navigator.clipboard.writeText((0,bp.cI)(i?.teamKey)),r.showAlert(a("team_sharing_invite_dialog_copied_notification"),d.BLW.SUCCESS)}})))},eN=({lee:e,teamId:t,isFreeTrial:a,totalSeatCount:i,numSeatsTaken:s,excludedInviteMembers:r,shouldShowInviteDialog:o,handleCloseInviteDialog:l,handleInvitePartialSuccess:c,handleInviteCompleteSuccess:d,invitePartialSuccessState:u,handleInvitationResultClosed:m,preFilledInviteEmails:p})=>{const{inviteLinkDataForAdmin:_,inviteLinkDataLoading:g,getInviteLinkDataForAdmin:h}=(0,pv.h)(),b=(0,Be.w)("onboarding_web_teamsignuppage"),[y,C]=n.useState(!1),{interacted:w,setAsInteracted:E}=(0,hc.d)(V.NotificationName.ActivateInviteLink);return n.useEffect((()=>{h()}),[h]),n.createElement(n.Fragment,null,o?n.createElement($v,{lee:e,slotsTotal:i,slotsTaken:s,exclude:r,isFreeTrial:a,isOpen:o,closeInviteDialog:l,handleInvitePartialSuccess:c,handleInviteCompleteSuccess:d,preFilledEmails:p,setShowTeamSignupPageModal:C}):null,w||!b||!y||g||_?.teamKey?null:n.createElement(Kv,{setActivateLinkInteracted:E,setShowActivateInviteLinkModal:C,setShowInviteLinkModal:C}),b&&y&&!1===_?.disabled?n.createElement(Jv,{isOpen:y,setIsOpen:C}):null,u.show?n.createElement(xE,{teamId:t,isOpen:u.show,onClose:m,invitedMembers:u.invitedMembers,refusedMembers:u.refusedMembers}):null)},tN=({lee:e,isOpen:t,onClose:a,prefilledEmails:i,teamMembers:s,handleInviteCompleteSuccess:r})=>{const o=(0,n.useRef)(!1),{invitePartialSuccessState:l,setInvitePartialSuccessState:c,handleInvitationResultClosed:d}=fE(),{teamId:u}=(0,x.fV)(),m=dE(s),[p,_]=(0,n.useState)(0),[g,h]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const t=(0,Dg.v0)(e.globalState);if(t)return(new Tg.Z).status({auth:t}).then((e=>{o.current||(_(e.content.team.membersNumber+e.content.team.extraFreeSlots),h(e.content.team.isFreeTrial))})).catch(),()=>{o.current=!0}}),[]),(0,D.tZ)(eN,{lee:e,teamId:u,totalSeatCount:p,numSeatsTaken:m,excludedInviteMembers:s.filter((({status:e})=>"removed"!==e)).map((({login:e})=>e)),isFreeTrial:g,shouldShowInviteDialog:t,handleCloseInviteDialog:a,handleInvitePartialSuccess:(e,t)=>c({show:!0,invitedMembers:e,refusedMembers:t}),handleInviteCompleteSuccess:r,invitePartialSuccessState:l,handleInvitationResultClosed:d,preFilledInviteEmails:i})},aN=e=>{const[t,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)([]),[r,o]=(0,n.useState)(null),l=(0,n.useCallback)((async t=>{if(!t?.signal?.aborted)if(null!==e){a(!0);try{const t=await(0,_u.YY)({teamId:e});s(t)}catch(e){const t=new Error(`useTeamMember: ${e}`);o(t)}finally{a(!1)}}else o(new Error("No team id provided"))}),[e]);return(0,n.useEffect)((()=>{const e=new AbortController;return l(),()=>{e.abort()}}),[l]),{teamMembersLoading:t,teamMembersError:r,teamMembers:i,refreshTeamMembers:l}};var nN,iN;const sN=({lee:e,domainName:t})=>{const{translate:a}=(0,P.Z)(),i=(0,Na.V)(),{teamId:s}=(0,x.fV)(),{teamMembers:r,refreshTeamMembers:o}=aN(s),{setHasNewBreaches:l}=O_(),[m,p]=(0,n.useState)(!0),[_,g]=(0,n.useState)(null),[h,b]=(0,n.useState)(!1),[y,C]=(0,n.useState)(1),[w,E]=(0,n.useReducer)((e=>e+1),0),{unseen:N,setAsSeen:S}=(0,hc.m)(V.NotificationName.TacDarkWebInsightsNewBadge),[I,f]=(0,n.useState)(!1),[M,T]=(0,n.useState)(new Set([])),Z=r.filter((e=>["pending","proposed"].includes(e.status))).map((e=>e.login)),A=r.filter((e=>["pending","proposed","accepted"].includes(e.status))).map((e=>e.login)),k=(0,n.useMemo)((()=>{var e;return null!=(e=_?.allImpactedEmails.filter((e=>!A.includes(e))))?e:[]}),[_?.allImpactedEmails,A]),O=async(e,t)=>{try{const a=await async function(e,t,a=0){const n=await u.C.getDarkWebInsightsReportResults({domain:e,offset:a,count:t});if(n?.success)return n.data;throw new Error("[fetchDarkWebInsightsResults] - Server Error: Unable to load dark web insight report results data")}(e,10,t);return!!a&&(g(a),!0)}catch{return!1}};(0,n.useEffect)((()=>{(0,v.N)(c.PageView.TacDarkWebInsights),l(!1),O(t,0).then((()=>{(0,v.K)(new c.UserLoadDarkWebInsightsResultsEvent({})),p(!1)}))}),[l]),(0,n.useEffect)((()=>{N&&_?.emails&&S()}),[N,S,_?.emails]);const L=(0,n.useCallback)((async e=>{b(!0),await O(t,10*(e-1))?C(e):(i.showAlert(a("team_dark_web_insights_generic_error"),d.BLW.ERROR),E()),b(!1)}),[i,t,a]),z=(0,n.useCallback)((()=>{k.length<=0||(f(!0),(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})),T(new Set(k)))}),[k]);return(0,D.tZ)(n.Fragment,null,m?nN||(nN=(0,D.tZ)(Kw,null)):null,!m&&_?.emails?0===_.leaksCount?(0,D.tZ)(qw,{domainName:t}):(0,D.tZ)(d.Zbd,{sx:{padding:5,display:"flex",flexDirection:"column"}},(0,D.tZ)(cE,{reports:_,suggestedInvitees:k,onInviteAll:z}),(0,D.tZ)(iE,{reports:_.emails,isLoading:h,pendingMembers:Z,emailsToInvite:k,onInviteAction:e=>{f(!0),(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})),T(new Set([e]))}}),(0,D.tZ)(d.T5p,{gridTemplateColumns:"1fr auto 1fr",alignItems:"center",sx:{paddingTop:6,paddingBottom:3}},(0,D.tZ)(d.nvN,{color:d.O9T.grey00,size:"x-small"},a("team_dark_web_insights_table_pagination_page_size",{pageSize:10})),(0,D.tZ)(d.tlE,{key:w,totalPages:Math.ceil(_.emailsImpactedCount/10),currentPage:y,onPageChange:L})),(0,D.tZ)(tN,{lee:e,isOpen:I,prefilledEmails:M,onClose:()=>{f(!1),T(new Set([]))},handleInviteCompleteSuccess:()=>o(),teamMembers:r})):null,m||_?.emails||""===t?null:iN||(iN=(0,D.tZ)(Xw,null)))};var rN,oN;const lN=({lastVerificationAttemptDateUnix:e,onRetry:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(d.Ejs,{sx:{justifyContent:"space-between",flexDirection:"column",margin:"30px 0",paddingLeft:"24px",borderLeft:`solid 2px ${d.O9T.grey00}`,gap:5}},(0,D.tZ)(d.nvN,{size:"x-small",bold:!0},a("team_dwi_pending_latest_attempt_label")," ",e?(0,D.tZ)(Ae.Z,{date:(0,xt.Z)(e)}):null),(0,D.tZ)(d.zxk,{type:"button",nature:"ghost",sx:{width:"fit-content",margin:0,padding:0,minWidth:0,height:"fit-content","&:hover":{backgroundColor:"transparent !important",textDecoration:"underline"},"&:focus":{backgroundColor:"transparent !important",textDecoration:"underline"}},onClick:t},(0,D.tZ)(d.Ejs,{sx:{alignItems:"center",flexDirection:"row",gap:2}},rN||(rN=(0,D.tZ)(d.DuK,{size:12})),(0,D.tZ)(d.nvN,{size:"x-small",color:d.O9T.midGreen00},a("team_dwi_pending_retry_button_label")))))},cN=({domain:e,isDeactivating:t,handleDeactivateDomain:a,handleRetryValidateDomain:i})=>{const{translate:s}=(0,P.Z)(),{dnsToken:{computedToken:r,challengeDomain:o}={computedToken:"",challengeDomain:""},lastVerificationAttemptDateUnix:l}=e;return(0,D.tZ)(n.Fragment,null,oN||(oN=(0,D.tZ)(Pw,null)),(0,D.tZ)("div",null,(0,D.tZ)(d.Zbd,{sx:{padding:"24px",margin:"24px 0"}},(0,D.tZ)(d.X6q,{size:"x-small"},s("team_breach_report_domain_verify_pending_title")),(0,D.tZ)(d.nvN,{sx:{marginBottom:"20px",marginTop:"10px"},color:d.O9T.grey00},s("team_dwi_pending_verification_txt")),(0,D.tZ)(lN,{lastVerificationAttemptDateUnix:l,onRetry:i}),(0,D.tZ)(d.Ejs,{gap:"16px"},(0,D.tZ)(d.k$b,{sx:{width:"70%"}},(0,D.tZ)(d.oil,{fullWidth:!0,defaultValue:e.name,disabled:!0})),(0,D.tZ)(d.k$b,null,(0,D.tZ)(d.zxk,{type:"button",disabled:t,nature:"secondary",onClick:a},s("team_dwi_pending_cancel_button_label"))),(0,D.tZ)(d.k$b,null,(0,D.tZ)(d.zxk,{type:"button",disabled:!0,sx:{maxWidth:"120px"}},s("team_breach_report_verifying_txt"))))),(0,D.tZ)(d.UQy,{size:"medium"},(0,D.tZ)(d.UlM,{open:!0},(0,D.tZ)(d._Oh,null,s("team_breach_report_domain_verify_dns_confirm_text")),(0,D.tZ)(d.rN7,null,(0,D.tZ)(d.T5p,{gap:"24px",gridTemplateColumns:"1fr",gridAutoRows:"auto"},(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},s("team_breach_report_domain_verify_dns_description")),(0,D.tZ)(Aw.x,{inputValue:o,textInputProps:{fullWidth:!0,readOnly:!0,label:s("team_settings_domain_verify_host")}}),(0,D.tZ)(Aw.x,{inputValue:r,textInputProps:{fullWidth:!0,readOnly:!0,label:s("team_settings_domain_verify_txt")}}),(0,D.tZ)(d.nvN,{size:"small",sx:{marginBottom:"20px"},color:d.O9T.grey00},s("team_breach_report_domain_verify_dns_secondary_description"))))))))};var dN;const uN={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"0",width:"100%",height:"100%",backgroundColor:`${d.O9T.dashGreen06}`},mN=e=>n.createElement("div",{className:"container--INT3GORhR4"},e.children);var pN=a(284146);const _N=({header:e,children:t})=>(0,D.tZ)(Kb,{header:e},(0,D.tZ)("div",{className:"content--zBGSSVE1dv"},t)),gN="group_name_already_in_use";var hN=a(769573);const bN=({children:e})=>(0,D.tZ)("div",{className:"groupHeader--al0rVgMEDT"},e),yN={nameContainer:"nameContainer--NmQCGqTrTR",nameInput:"nameInput--Vpc7anR7aO",nameEditIcon:"nameEditIcon--Thlp4CT5Bq",spinner:"spinner--QQ6Zpwc8Zd",_errorText:"_errorText--shQIAebNjL",errorMessage:"errorMessage--Btb66DLL6K _errorText--shQIAebNjL",error:"error--UkyphHJLOB _errorText--shQIAebNjL"},CN=e=>{const t=(0,n.useRef)(null),[a,i]=(0,n.useState)(e.defaultValue),[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null);(0,n.useEffect)((()=>{s&&t.current?.focus()}),[s,t]);const c=()=>{const a=t.current?.value.trim();r(!1),i(a||e.defaultValue),e.onNameChanged&&a&&e.onNameChanged(a).then((({success:e,error:t=null})=>{r(!e),l(e?null:t)}))},d=Boolean(o);return(0,D.tZ)("h1",{className:yN.title},!s&&(0,D.tZ)("div",{className:F()(yN.nameContainer,{[yN.hoverableContainer]:e.editable}),onClick:()=>{e.editable&&r(!0)}},a,e.saving?(0,D.tZ)(Qr.Z,{size:20,containerClassName:yN.nameEditIcon}):(0,D.tZ)("img",{className:yN.nameEditIcon,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMTAuMTY3OCAxLjA3MjAzQzEwLjkzMDUgMC4zMDkzMjMgMTIuMTY2OCAwLjMwOTMyMyAxMi45Mjk1IDEuMDcyMDNDMTMuNjkyMyAxLjgzNDc0IDEzLjY5MjMgMy4wNzEwOSAxMi45Mjk1IDMuODM0NzhNMS4xOTA0NCAxMC4wNDlMMC41IDEzLjUwMjJMMy45NTIyMSAxMi44MTE4TDExLjU0ODEgNS4yMTQ5N0w4Ljc4NjI4IDIuNDUzMkwxLjE5MDQ0IDEwLjA0OVoiIHN0cm9rZT0iIzBFNjQ3NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="})),s&&(0,D.tZ)("div",{className:yN.editNameContainer},(0,D.tZ)("input",{ref:t,type:"text",className:F()(yN.nameInput,{[yN.error]:d}),defaultValue:a,onBlur:c,onKeyUp:e=>{13===e.keyCode&&c()}})),s&&d?(0,D.tZ)("div",{className:yN.errorMessage},o):null)};var wN=a(450244);const EN=Z.Maybe.nothing(),vN=e=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(Z.Maybe.nothing()),[s,r]=(0,n.useState)(!1);return(0,D.tZ)(bN,null,(0,D.tZ)("div",{className:"header--pRm7icVETs"},(0,D.tZ)(CN,{defaultValue:e.groupName,editable:!0,saving:s,onNameChanged:async a=>{r(!0);const{error:n}=await e.onRenameGroup(a);return r(!1),n===gN?{success:!1,error:t("team_groups_edit_header_name_already_exists")}:{success:!0}}}),(0,D.tZ)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,D.tZ)(wN.Z,{className:"headerBackLink--NenC6m6cyt _link--wB2UYTtkxK",onClick:t=>{e.onBackLinkClick(t)}},t("team_groups_edit_header_back")),(0,D.tZ)(hN.Z,{linkLabel:t("team_groups_edit_header_delete_group"),cancelButtonLabel:t("team_groups_edit_header_delete_group_cancel_button"),confirmButtonLabel:t("team_groups_edit_header_delete_group_confirm_button"),confirmButtonColor:"red",confirmButtonDisabled:!a.caseOf({just:t=>t===e.groupName,nothing:()=>!1}),onCancelButtonClick:()=>{i(EN)},onConfirmButtonClick:()=>{i(EN),e.onDeleteClick()},linkClassName:"headerDeleteLink--geDtikV0SN _link--wB2UYTtkxK",popupClassName:"confirmPopup--NTDDMjDo4B"},(0,D.tZ)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:12}},(0,D.tZ)(d.nvN,{size:"large"},t.markup("team_groups_edit_header_delete_group_confirm_title_markup",{group:e.groupName})),(0,D.tZ)(d.nvN,{color:"neutrals.8"},t("team_groups_edit_header_delete_group_confirm_subtitle")),(0,D.tZ)(d.oil,{fullWidth:!0,onChange:e=>{const t=e.target.value&&e.target.value.trim();i(Z.Maybe.maybe(t))},type:"text",defaultValue:a.caseOf({just:e=>e,nothing:()=>{}}),autoFocus:!0}))))))};var NN;const SN=e=>n.createElement("svg",{className:e.className,width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"none"},NN||(NN=n.createElement("path",{d:"M13.5 2.5V15.5H2.5V2.5M10.5 2.5V0.5H5.5V2.5M1 2.5H15M5.5 6V11M8 6V11M10.5 6V11",stroke:"#0E6476",strokeLinecap:"round",strokeLinejoin:"round"})));var IN;const fN=n.memo((({member:e,handleRemoveMember:t})=>{const{translate:a}=(0,P.Z)();return n.createElement("tr",null,n.createElement("td",{className:"emailCell--c3avC4hgf6"},n.createElement("div",{className:"emailCellContainer--yFS7a4HnT_"},n.createElement(uy.q,{className:"avatar--XHrkwJbc_C",email:e.alias,size:32}),e.alias)),n.createElement("td",{className:"rightsCell--Z6diiNotCT"},a((i=e.permission,s=e.status,"admin"===i&&"accepted"===s?"team_groups_edit_member_list_rights_manager":"limited"===i&&"accepted"===s?"team_groups_edit_member_list_rights_member":"pending"===s?"team_groups_edit_member_list_rights_pending":""))),n.createElement("td",{className:"plusCell--B02g3LGOlG"},n.createElement("div",{style:{cursor:"pointer"},onClick:()=>t(e)},IN||(IN=n.createElement(SN,null)))));var i,s})),xN=(0,ft.ascend)((0,ft.prop)("permission")),MN=(0,ft.ascend)((0,ft.compose)(ft.toLower,(0,ft.prop)("alias"))),TN=(0,ft.sortWith)([xN,MN]),DN=Z.Maybe.nothing(),ZN=e=>{const{translate:t}=(0,P.Z)(),[a,i]=n.useState(0),[s,r]=n.useState({showRemoveUserDialog:!1,removeMemberCandidate:Z.Maybe.nothing()}),o=e=>{r({showRemoveUserDialog:!0,removeMemberCandidate:Z.Maybe.just(e)})},l=()=>(e.userGroup.users||[]).filter((e=>"accepted"===e.status||"pending"===e.status)),c=()=>{r({showRemoveUserDialog:!1,removeMemberCandidate:DN})},u=(0,ft.map)((e=>n.createElement(fN,{key:e.alias,member:e,handleRemoveMember:o}))),m=[{headerLabel:t("team_groups_edit_member_list_header_email"),headerKey:"email"},{headerLabel:t("team_groups_edit_member_list_header_group_rights"),colSpan:2,headerKey:"group-rights"}];return n.createElement("div",null,n.createElement("table",{className:F()(e.className,"table--hj3WYleNh5")},n.createElement(cy,{columns:m}),n.createElement("tbody",null,(()=>{const e=24*a;return(0,ft.compose)(u,(0,ft.slice)(e,e+24),TN)(l())})())),n.createElement("div",{className:"pagination--Xk8h572zZ7"},n.createElement(av.Z,{currentPageIndex:a,itemsLength:l().length,itemsPerPage:24,onChange:e=>{i(e)}})),n.createElement(p.o,{isOpen:s.showRemoveUserDialog,onRequestClose:c,footer:n.createElement(d.cNS,{primaryButtonTitle:t("team_groups_edit_member_list_action_remove_dialog_cta"),primaryButtonOnClick:()=>{Z.Maybe.sequence({removeMemberCandidate:s.removeMemberCandidate,userGroup:Z.Maybe.just(e.userGroup)}).caseOf({just:({removeMemberCandidate:a,userGroup:n})=>{e.revokeMembers(e.lee.dispatchGlobal,{groupId:n.groupId,revision:n.revision,users:[a.userId]},{title:t("team_groups_edit_revoke_member_from_group_error_title"),message:t("team_groups_edit_revoke_member_from_group_error_message")})},nothing:()=>{}}),r({showRemoveUserDialog:!1,removeMemberCandidate:DN})},secondaryButtonTitle:t("team_groups_edit_member_list_action_remove_dialog_cancel"),secondaryButtonOnClick:c}),title:t("team_groups_edit_member_list_action_remove_dialog_header")},n.createElement("div",null,n.createElement("div",{className:"removeDialogTitle--Zn2JmJtOF0"},t("team_groups_edit_member_list_action_remove_dialog_title",{email:s.removeMemberCandidate.caseOf({just:e=>e.userId,nothing:()=>""})})),n.createElement("div",null,t("team_groups_edit_member_list_action_remove_dialog_subtitle")))))};var AN=a(200225),kN=a(821762);const ON=({lee:e,userGroup:t})=>{const a=(0,n.useRef)(null),{translate:i}=(0,P.Z)(),{teamId:s}=(0,x.fV)(),{teamMembers:r}=aN(s),[o,l]=(0,n.useState)(null),[c,u]=(0,n.useState)([]),{invitePartialSuccessState:m,setInvitePartialSuccessState:p,handleInvitationResultClosed:_}=fE(),g=(0,Na.V)(),h=e=>(0,D.tZ)(uy.q,{className:"avatar--EHLDaADALb",email:e,size:32}),b=()=>Boolean(c.length);return(0,D.tZ)("div",null,(0,D.tZ)(AN.e,{ref:a,buttonLabel:i("team_groups_edit_add_members"),confirmButtonLabel:i("team_groups_edit_add_member_confirm"),cancelButtonLabel:i("team_groups_edit_add_member_cancel"),confirmButtonDisabled:!b(),onCancelButtonClick:()=>{u([]),l(null)},onConfirmButtonClick:async()=>{if(!b())return;const n=c,{groupId:r,revision:o,name:m}=t,_=n.map((e=>({alias:e.toLowerCase(),permission:"limited"})));if(null===s)return void e.reportError(new Error(xg.N));const h=await(0,_u.j_)({teamId:s,groupId:r,revision:o,users:_});if(h.error)return"no_free_slot"===h.error.message||"not_enough_free_slots"===h.error.message?void g.showAlert(i("team_group_edit_add_member_not_enough_slots_error",{count:_.length,groupName:m}),d.BLW.ERROR):void g.showAlert(i("team_groups_edit_invite_member_to_group_error_message_markup"),d.BLW.ERROR);Object.keys(h.refusedMembers).length&&p({invitedMembers:{},refusedMembers:h.refusedMembers,show:!0}),a.current&&a.current.hidePopup(),u([]),l(null)},popupClassName:"addMemberPopup--pQXdA4Vr4x"},(0,D.tZ)("span",{className:"addMemberLabel--ZCKvByej7d"},i("team_groups_edit_add_member_header")),o&&(0,D.tZ)("div",{className:"error--m_ggR8E9ag"},o),(0,D.tZ)(kN.J,{autoFocus:!0,className:"addMemberMultiselect--chwmKj1vG1",dataSource:(()=>{const e=new Set(t.users.filter((({status:e})=>["accepted","pending"].includes(e))).map((({alias:e})=>e)));return r.filter((({login:t,status:a})=>"removed"!==a&&!e.has(t))).map((({login:e})=>({text:e,icon:h(e)})))})(),getCurrentSelectionAvatar:h,defaultValue:c,isItemValid:e=>(0,ns.vV)(e),onChange:e=>{u(e)},onError:e=>l(e?i(`team_groups_edit_error_${e.message}`):null),placeholder:i("team_groups_edit_add_member_input_placeholder")})),(0,D.tZ)(xE,{teamId:(0,Js.ev)(e.globalState),isOpen:m.show,onClose:_,invitedMembers:m.invitedMembers,refusedMembers:m.refusedMembers}))},LN=e=>`{${e.match.params.uuid}}`,zN={userGroup:{live:u.C.liveAdministrableUserGroup,liveParam:LN,query:u.C.getAdministrableUserGroup,queryParam:LN}},jN={strategies:zN},PN=(0,M.$)((0,T.i)((({lee:e,userGroup:t})=>{n.useEffect((()=>{(0,v.N)(c.PageView.TacGroupDetails)}),[]);const{translate:a}=(0,P.Z)(),{addAlertToQueue:s}=d_(),r=(e,t,a,n)=>{try{const e=JSON.parse(n);e.code&&(t.message+=` : ${e.code}`)}finally{e(pN.Qy.error({message:a,content:{error:n}})),s(t)}};if(!t)return null;const o=n.createElement(vN,{onBackLinkClick:()=>{(0,i.uX)(e.routes.teamGroupsRoutePath)},onDeleteClick:()=>{const{groupId:n,revision:s}=t;(0,_u.FU)({groupId:n,revision:s}).then((()=>{(0,i.uX)(e.routes.teamGroupsRoutePath)})).catch((t=>{const n={title:a("team_groups_edit_delete_group_error_title"),message:a("team_groups_edit_delete_group_error_message")};r(e.dispatchGlobal,n,"Group deletion failed",t.message)}))},onRenameGroup:async n=>{if(n===t.name)return{success:!0};const i=(t,n)=>{const i={title:a("team_groups_edit_rename_group_error_title"),message:a("team_groups_edit_rename_group_error_message")};return r(e.dispatchGlobal,i,n,t.message),{success:!1,error:"group_renaming_failed"}};try{if(!await u.C.isGroupNameAvailable(n))return{success:!1,error:gN}}catch(e){return i(e,"Group name availability check failed")}try{const{groupId:e,revision:a}=t;return await(0,_u.J0)({groupId:e,revision:a,name:n}),{success:!0}}catch(e){return i(e,"Group renaming failed")}},groupName:t.name});return n.createElement(_N,{header:o},n.createElement("div",{className:"actionBar--OQ8l_wBoMd"},n.createElement(ON,{lee:e.child(),userGroup:t})),n.createElement(ZN,{lee:e.child(),userGroup:t,revokeMembers:(e,t,a)=>{try{u.C.revokeUserGroupMembers(t).then((({error:t})=>{t&&r(e,a,"Revoke member from group failed",t.message)}))}catch(t){r(e,a,"Revoke member from group failed",t.message)}}}))}),jN),zN);var RN=a(158432);const UN=(0,RN.SP)("edit",{},[]),BN="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNSAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNOC41IDEuMTMyMzJMMTQuNSA3LjEzMjMyTTguNSAxMy4xMzIzTDE0LjUgNy4xMzIzMk0xNC41IDcuMTMyMzJMMC41MDAwMDEgNy4xMzIzMiIgc3Ryb2tlPSIjRDZEMkNFIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",FN="onboardingStepArrow--gqb_E47Df_",GN="onboardingStepPanel--qnDSxlGTtS",WN="onboardingStepCounterPanel--KZLs4foheX",VN="onboardingStepText--K_Kh_SIwEm",HN="circle--mihUuCFcJa";var qN,YN;const QN=()=>{const{translate:e}=(0,P.Z)();return n.createElement("div",{className:"onboardingContainer--rP5364OajH"},n.createElement("div",{className:"onboardingTitlePanel--yGKYcW_2lp"},n.createElement("div",{className:"onboardingTitle--PulZ_ZvXpS"},e("team_groups_list_onboarding_title"))),n.createElement("div",{className:"onboardingStepsContainer--LZ8j5MDbRH"},n.createElement("div",{className:GN},n.createElement("div",{className:WN},n.createElement("div",{className:HN},"1")),n.createElement("div",{className:VN},e("team_groups_list_onboarding_step_1"))),n.createElement("div",{className:FN},qN||(qN=n.createElement("img",{src:BN}))),n.createElement("div",{className:GN},n.createElement("div",{className:WN},n.createElement("div",{className:HN},"2")),n.createElement("div",{className:VN},e("team_groups_list_onboarding_step_2"))),n.createElement("div",{className:FN},YN||(YN=n.createElement("img",{src:BN}))),n.createElement("div",{className:GN},n.createElement("div",{className:WN},n.createElement("div",{className:HN},"3")),n.createElement("div",{className:VN},e("team_groups_list_onboarding_step_3")))))};var $N,KN;const XN="team_groups_list_search_placeholder",JN=(e,t)=>{const a=e.name.toLocaleLowerCase(),n=t.name.toLocaleLowerCase();return a.localeCompare(n)},eS={userGroups:{live:u.C.liveAdministrableUserGroups,query:u.C.getAdministrableUserGroups}},tS={strategies:eS,loadingComponent:n.createElement(Qr.Z,{containerStyle:{minHeight:240}})},aS=(0,M.$)((0,T.i)((({userGroups:e,lee:t})=>{const a=(0,n.useRef)(null),{translate:s}=(0,P.Z)(),{teamId:r}=(0,x.fV)(),{routes:o}=(0,S.Xo)(),{addAlertToQueue:l,reportTACError:m}=d_(),[p,_]=(0,n.useState)(""),[g,h]=(0,n.useState)(!1),[b,y]=(0,n.useState)(""),[C,w]=(0,n.useState)(e);(0,n.useEffect)((()=>{(0,v.N)(c.PageView.TacGroupList)}),[]),(0,n.useEffect)((()=>{const t=[...e].sort(JN),a=b?t.filter((e=>e.name.toLocaleLowerCase().includes(b.trim().toLocaleLowerCase()))):t;w(a)}),[b,e]);const E=async e=>{var t;const a=null!=(t=e.target.value.trim())?t:"",n=""!==a&&await u.C.isGroupNameAvailable(a);_(a),h(n)},N=()=>{_("")},I=async()=>{if(!r)throw new Error("teamId missing when attempting to create group");try{await(0,_u.wZ)(t.dispatchGlobal,{name:p,teamId:r}),a.current?.hidePopup(),_("")}catch(e){let t;try{t=JSON.parse(e.message)?.code}catch{t=`${e?.message}`.toUpperCase()}t!==l_&&l({title:s("team_groups_list_create_group_error_title"),message:s("MISSING_PUBLIC_KEY"===t?"team_groups_list_create_group_missing_public_key_error_message":"team_groups_list_create_group_error_message")}),m(new Error(e.message))}},f=(0,D.tZ)(bN,null,(0,D.tZ)("h1",{className:"title--gMwN9TjgYg"},s("team_groups_list_title")));return(0,D.tZ)(_N,{header:f},(()=>{const t=e?.length?(0,D.tZ)(d.T5p,{gap:"16px",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gridAutoRows:"48px"},(e=>e.map((e=>e?(0,D.tZ)("div",{key:e.groupId,onClick:()=>(e=>{(0,i.uX)(o.teamGroupRoutePath(e.groupId))})(e),className:"groupItem--tRHcTfsj2Z",title:e.name},e.name):null)))(C)):$N||($N=(0,D.tZ)(QN,null)),n=!g&&""!==p;return(0,D.tZ)("div",null,(0,D.tZ)("div",{className:"actionBar--Ud2ilwPvSj"},(0,D.tZ)(Ue.oi,{"aria-label":s(XN),placeholder:s(XN),type:"search",onChange:e=>{var t;return y(null!=(t=e.target.value)?t:"")},prefixIcon:KN||(KN=(0,D.tZ)(Ue.JO,{name:"ActionSearchOutlined"})),sx:{maxWidth:"365px",margin:0}}),(0,D.tZ)(AN.e,{ref:a,buttonLabel:s("team_groups_list_new_group_cta"),confirmButtonLabel:s("team_groups_list_new_group_creation_confirm_btn"),cancelButtonLabel:s("team_groups_list_new_group_creation_cancel_btn"),onConfirmButtonClick:I,onCancelButtonClick:N,confirmButtonDisabled:!g},(0,D.tZ)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:12}},(0,D.tZ)(d.nvN,{as:"label",size:"small"},s("team_groups_list_new_group_creation_header")),(0,D.tZ)(d.oil,{fullWidth:!0,onChange:E,defaultValue:p,type:"text",placeholder:s("team_groups_list_new_group_input_placeholder"),feedbackType:n?"error":void 0,feedbackText:n?s("team_groups_list_create_group_name_already_exists"):void 0,autoFocus:!0})))),t)})())}),tS),eS),nS=(0,RN.SP)("list",{},[]),iS=ky(aS,Z_.GROUPS),sS=ky(PN,Z_.GROUPS);function rS(e){const{path:t,permission:a}=e;return n.createElement(i.GB,{exact:!0,path:[t,`${t}/:uuid`],component:mN,permission:a},n.createElement(i.rs,null,n.createElement(i.Vy,{exact:!0,path:t,component:iS,reducer:nS}),n.createElement(i.Vy,{path:`${t}/:uuid`,component:sS,reducer:UN})))}var oS=a(267667);const lS={settingsPage:"settingsPage--k2Ztg5L3TZ",withoutHeader:"withoutHeader--K7wlLBUI31",settingsContainer:"settingsContainer--nyZHFHWont",settingsPanel:"settingsPanel--F5zpYAN04H",settingsSinglePanel:"settingsSinglePanel--LTsNZL6FmT settingsPanel--F5zpYAN04H",settingsHeader:"settingsHeader--DA5bqRMOyd",settingsRow:"settingsRow--Mid_I3S6Qx",settingsLabel:"settingsLabel--jujfsFLy3D",settingsLabelContainer:"settingsLabelContainer--rCMIUljV94",settingsGreyedLabel:"settingsGreyedLabel--L0ZP86y4UJ",textSettingRow:"textSettingRow--JwyTaO5qbq",selectSettingRow:"selectSettingRow--CRjY3loqBA",switchSettingRow:"switchSettingRow--THK1RoaDKQ",textSettingLabel:"textSettingLabel--NnF9qI1YTv",selectSettingLabel:"selectSettingLabel--GL2kj6tANV",textFieldInputColumn:"textFieldInputColumn--G3ALnYhur_",helperLabelPanel:"helperLabelPanel--gGU7C6m_r2",infoBoxPanel:"infoBoxPanel--TMnBp9xS5d",textWithButtonSettingRow:"textWithButtonSettingRow--rWQRX8E5Np",textWithButtonSettingLabel:"textWithButtonSettingLabel--MRpg3N7VRW",versionContainer:"versionContainer--eWfpg9oE65",versionNumber:"versionNumber--uHC_eBvZbs",confirmationContent:"confirmationContent--C7lnmdM6Vl",title:"title--ZWrCKWwqvU"},cS=({children:e,secondaryContent:t,title:a})=>n.createElement("div",{className:F()(lS.settingsPage,{[lS.withoutHeader]:!a})},n.createElement("div",{className:lS.settingsContainer},a?n.createElement("h1",{className:lS.title},a):null,n.createElement("div",{className:lS.settingsPanel},e),t,n.createElement("div",{className:lS.versionContainer},n.createElement("p",{className:lS.versionNumber},"6.2318.3"))));var dS=a(299228);const uS=({data:e,targetUri:t,...a})=>{const i=(0,n.useRef)(null);return(0,D.tZ)("form",{action:t,method:"post",ref:i,target:"_blank"},(()=>{const t=[];return Object.keys(e).forEach((a=>t.push((0,D.tZ)("input",{defaultValue:e[a],key:String(65535*Math.random()).replace(/\./,""),type:"hidden",name:a})))),(0,D.tZ)("div",null,t)})(),(0,D.tZ)(Te.Z,{onClick:()=>i.current?.submit(),...a}))},mS={uploadCsvLabel:"uploadCsvLabel--sX4DnYKGlL",fileContainer:"fileContainer--M2SFpr0Pvl",file:"file--dJtQQDGzSk",fileIcon:"fileIcon--MKumqlXPl7",fileTitle:"fileTitle--d2cupH4GiA",fileTitleHeader:"fileTitleHeader--jqYDFR_MsK",fileTitleHint:"fileTitleHint--g2OBjT1L4G",fileTitleHintError:"fileTitleHintError--F4iw3QsNVb",fileTitleHintSuccess:"fileTitleHintSuccess--JPyWdw7GS8",fileProgressBackground:"fileProgressBackground--NEs2tyO8Pe",fileProgress:"fileProgress--cr0wc0wF3w",fileProgressAnimation:"fileProgressAnimation--aFpkqnmOMV",fileProgressComplete:"fileProgressComplete--y2f1JLicyr",fileButtons:"fileButtons--ofyh4FIc7u",fileError:"fileError--RHrDBIVtVA",fileErrorTitle:"fileErrorTitle--Jx5QASYwkS",fileErrorTitleIcon:"fileErrorTitleIcon--b8GGJ4i0UT",fileErrorContent:"fileErrorContent--G67_aw40u7"},pS="team_settings_duo_header_general";var _S=a(928091),gS=a(458403);const hS=({content:e,header:t,index:a})=>(0,Ue.tZ)(d.Ejs,{gap:"8px",sx:{flexFlow:"row",flexBasis:"25%"}},(0,Ue.tZ)(d.Ejs,{justifyContent:"center",alignItems:"center",sx:{width:36,height:36,borderRadius:36,flexShrink:0,backgroundColor:"ds.container.expressive.brand.quiet.idle",color:"ds.text.brand.standard"}},a),(0,Ue.tZ)("section",null,(0,Ue.tZ)(d.X6q,{sx:{fontSize:16,fontFamily:"Public Sans, PublicSans-Regular, Public Sans Regular",fontWeight:400,marginBottom:"8px"}},t),(0,Ue.tZ)(d.nvN,{sx:{fontSize:12,lineHeight:"16px",color:"ds.text.neutral.quiet"}},e))),bS=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)("div",{sx:{display:"flex",flexDirection:"row",marginBottom:40,gap:"24px"}},(0,D.tZ)(hS,{index:1,header:e("team_settings_master_password_policies_settings_stepper_step_request_title"),content:e("team_settings_master_password_policies_settings_stepper_step_request_subtitle")}),(0,D.tZ)(hS,{index:2,header:e("team_settings_master_password_policies_settings_stepper_step_approval_title"),content:e("team_settings_master_password_policies_settings_stepper_step_approval_subtitle")}),(0,D.tZ)(hS,{index:3,header:e("team_settings_master_password_policies_settings_stepper_step_recover_title"),content:e("team_settings_master_password_policies_settings_stepper_step_recover_subtitle")}),(0,D.tZ)(hS,{index:4,header:e("team_settings_master_password_policies_settings_stepper_step_login_title"),content:e("team_settings_master_password_policies_settings_stepper_step_login_subtitle")}))};var yS,CS;var wS=a(584480),ES=a(300155),vS=a(233493);var NS,SS;const{accessibleValidatorGreen:IS}=d.O9T,fS=e=>{const{errorMessage:t,isSavingField:a,showSaveFieldFeedbackMessage:i}=e.lee.state;return n.createElement("div",{className:"container--Wz5267l08y"},n.createElement("div",{className:"select--EypTcJ6Y5l"},n.createElement(ES.m,{value:e.value.valueOr(""),disabled:e.isDisabled||e.lee.state.isSavingField||e.value.caseOf({just:()=>!1,nothing:()=>!0}),onChangeExtended:(t,a,n)=>{e.lee.dispatch(vS.B()),e.saveValueFunction(n).then((()=>{e.lee.dispatch(vS.$g()),setTimeout((()=>{e.lee.dispatch(vS.X4())}),1e3)})).catch((t=>e.lee.dispatch(vS.$g(t.message))))},onClick:e.onSelectElementClick,errorText:t.valueOr(""),successText:i?e.successMessage:a?e.savingMessage:"",style:{marginTop:"-1.5em",width:320}},e.options.map((e=>n.createElement(ES.t,{key:e.value,value:e.value,primaryText:e.label,disabled:e.disabled}))))),a||i?n.createElement("div",{className:"feedback--XqG4rKApan"},a?NS||(NS=n.createElement(d.HoD,{color:IS,size:18})):SS||(SS=n.createElement(d.rE2,{size:20,color:IS}))):null)},xS={BUTTON_SAVE_LABEL:"team_settings_button_save_label",SAVING_LABEL:"team_settings_saving_label",BUTTON_EDIT_LABEL:"team_settings_button_edit_label",SAVE_SUCCESS_LABEL:"team_settings_save_success_label",SWITCH_DEFAULT_ERROR:"_common_generic_error"},MS=e=>t=>{e.onClick&&e.onClick(t)};function TS(e,t,a){return n=>new Promise(((i,s)=>{let r=!1;if(e.validator){const t=e.validator(e.serializer?e.serializer(n):n);t&&(r=!0,s(new Error(e.getErrorMessageForKey?.(t))))}if(!r){var o;const r=(0,Dg.v0)(t.globalState);if(!r)return a(new Error(xg.N));const l=[];["disableAutoLoginDomains","idpSecurityGroups","teamDomain"].includes(null!=(o=e.feature)?o:"")?e.value.caseOf({just:t=>{const a=e.serializer?.(n),i=t.filter((e=>!a.some((t=>t===e)))),s=a.filter((e=>!t.some((t=>t===e))));l.push(...i.map((t=>({type:"remove_"+e.serverFeature,value:t})))),l.push(...s.map((t=>({type:"add_"+e.serverFeature,value:"disableAutoLoginDomains"===e.feature?t.toLowerCase():t}))))},nothing:()=>{e.serializer&&l.push(...e.serializer(n).map((t=>({type:"add_"+e.serverFeature,value:t}))))}}):"idp_url"===e.serverFeature&&0===n.length?l.push({type:"unset_"+e.serverFeature}):l.push({type:"set_"+e.serverFeature,value:n}),l.length?function(e,t){return(new Tg.Z).editSettings({auth:e,operations:t})}(r,l).then((()=>{const a=e.serializer?e.serializer(n):n;e.feature&&t.dispatch(wS.qs({feature:e.feature,value:a})),i()})).catch((t=>s(new Error(e.getErrorMessageForKey?.(t.message))))):i()}}))}function DS(e,t,a){return async n=>{e.feature&&t.dispatch(wS.qs({feature:e.feature,value:e.serializer?e.serializer(n):n}));const i=(0,Dg.v0)(t.globalState);if(!i)return a(new Error(xg.N));const s="unset"===n?[{type:"unset_"+e.serverFeature}]:[{type:"set_"+e.serverFeature,value:e.serializer?e.serializer(n):n}];try{await(new Tg.Z).editSettings({auth:i,operations:s})}catch(t){const a=t.data?.content||{},n=e.getErrorMessageForKey?.(a.error);throw new Error(n)}}}function ZS(e,t){return()=>Promise.resolve().then((()=>{t.dispatch(wS.g7(e))}))}function AS(e,t,a){return async()=>{t.dispatch(wS.GQ(e.feature));const n=(0,Dg.v0)(t.globalState);if(!n)return a(new Error(xg.N));const i=[{type:"set_"+e.serverFeature,value:e.value.caseOf({just:t=>{const a=!t;return e.serializer?e.serializer(a):a},nothing:()=>!1})}];if(e.value.valueOr(!1)){const{constraintsFromOtherFields:{requiredFor:a=[]}={}}=e;a.filter((e=>{const a=t.state[e.feature];return Boolean(a?.value)})).forEach((e=>{t.dispatch(wS.GQ(e.feature)),i.push({type:"set_"+e.serverFeature,value:!1})}))}try{await(new Tg.Z).editSettings({auth:n,operations:i})}catch(a){t.dispatch(wS.GQ(e.feature));const n=a.data?.content||429===a.code&&{error:"too_many_requests"}||"not_authorized"===a.message&&{error:"not_authorized"}||{},i=e.getErrorMessageForKey?.(n.error);throw new Error(i)}}}function kS(e,t,a,i){switch(e.type){case"header":return function(e){return n.createElement("p",{key:e.label,className:lS.settingsHeader},e.label)}(e);case"textwithbutton":return s=e,n.createElement("div",{key:s.label,className:F()(lS.settingsRow,lS.textWithButtonSettingRow)},n.createElement("div",null,n.createElement("div",{className:F()(lS.settingsLabel,lS.textWithButtonSettingLabel)},s.label.split("//").map(((e,t)=>t%2?n.createElement("span",{className:lS.settingsGreyedLabel,key:e},e):e))),s.helperLabel?n.createElement("div",{className:lS.helperLabelPanel},s.helperLabel):null),n.createElement("div",null,n.createElement(zg.Z,{label:s.buttonLabel,onClick:MS(s)})));default:return function(e,t,a,i){let s=null,r=lS.settingsRow,o=lS.settingsLabel;switch(e.type){case"text":s=function(e,t,a,i){const s=!!e.multiLine,r=e.deserializer?e.deserializer(e.value):e.value;return n.createElement(Zg.X,{multiLine:s,defaultValue:r.valueOr(void 0),key:e.label,ariaLabelledBy:e.feature,saveBtnLabel:a(xS.BUTTON_SAVE_LABEL),savingBtnLabel:a(xS.SAVING_LABEL),editBtnLabel:a(xS.BUTTON_EDIT_LABEL),placeholder:e.hintText,inputStyle:e.inputStyle,hintStyle:e.hintStyle,successMessage:a(xS.SAVE_SUCCESS_LABEL),onSave:TS(e,t,i),textFieldClassName:lS.textFieldInputColumn})}(e,t,a,i),r=F()(lS.settingsRow,lS.textSettingRow),o=F()(lS.settingsLabel,lS.textSettingLabel);break;case"select":s=function(e,t,a,i){return n.createElement(fS,{key:e.label,lee:t.child(vS.ZP,e.feature),value:e.value.map((e=>e.toString())),saveValueFunction:DS(e,t,i),successMessage:a(xS.SAVE_SUCCESS_LABEL),savingMessage:a(xS.SAVING_LABEL),options:e.options})}(e,t,a,i),r=F()(lS.settingsRow,lS.selectSettingRow),o=F()(lS.settingsLabel,lS.selectSettingLabel);break;case"switch":s=function(e,t,a,i){const s=e.constraintsFromOtherFields?.disabledWhen?e.constraintsFromOtherFields.disabledWhen.reduce(((e,a)=>e.caseOf({just:e=>Z.Maybe.just(e),nothing:()=>{const e=t.state[a.feature];return"not_defined"===a.condition&&e.caseOf({just:e=>!e.length,nothing:()=>!0})||"is_disabled"===a.condition&&e.caseOf({just:e=>!e,nothing:()=>!0})||"is_enabled"===a.condition&&e.caseOf({just:e=>e,nothing:()=>!0})?Z.Maybe.maybe(a.warningMessage):Z.Maybe.nothing()}})),Z.Maybe.nothing()):Z.Maybe.nothing(),r=void 0!==(e.value.valueOr(!1)?e.confirmDisable:e.confirmEnable)?ZS:AS;return n.createElement(dS.Z,{genericErrorMessage:a(xS.SWITCH_DEFAULT_ERROR),ariaLabelledBy:e.feature,key:e.label,value:e.value,isDisabled:s.caseOf({just:()=>!0,nothing:()=>!1}),disabledFeedbackMessage:s.valueOr(null),saveValueFunction:e.customSwitchHandler?e.customSwitchHandler:()=>r(e,t,i)(),successMessage:a(xS.SAVE_SUCCESS_LABEL),savingMessage:a(xS.SAVING_LABEL)})}(e,t,a,i),r=F()(lS.settingsRow,lS.switchSettingRow)}return n.createElement("div",{key:e.feature,className:r},n.createElement("div",null,n.createElement("div",{className:lS.settingsLabelContainer},n.createElement("div",{className:o,id:e.feature},e.label.split("//").map(((e,t)=>t%2?n.createElement("span",{key:e,className:lS.settingsGreyedLabel},e):e))),e.badgeLabel?n.createElement(Ue.Ct,{label:e.badgeLabel,mood:"brand"}):null),e.helperLabel?n.createElement("div",{className:lS.helperLabelPanel},e.helperLabel):null,e.infoBoxTitle&&e.infoBoxDescription?n.createElement("div",{className:lS.infoBoxPanel},n.createElement(Ue.ke,{size:"large",title:e.infoBoxTitle,description:e.infoBoxDescription})):null),s)}(e,t,a,i)}var s}const OS=({lee:e,createFieldListFunction:t,title:a,pageView:i})=>{const{translate:s}=(0,P.Z)(),{reportTACError:r}=d_(),o=async()=>{var t;const a=await(0,_u.RR)({masterPassword:null!=(t=e.state.masterPasswordFieldValue)?t:""});if(e.dispatch(wS.Kq(!a)),!a)return Promise.resolve();const n=e.state.confirmationField;if(!n)return;const i=AS(n,e,r);return e.dispatch(wS.d()),i()},l=t=>{e.dispatch(wS.kE(t.target.value))},c=t=>{"Enter"===t.key&&e.state.masterPasswordFieldValue&&o()};return(0,n.useEffect)((()=>{i&&(0,v.N)(i)}),[i]),(0,n.useEffect)((()=>{e.state.isLoading&&(async()=>{const t=(0,Dg.v0)(e.globalState);if(t)try{var a,n,i,s,o;const r=await(new Tg.Z).status({auth:t});e.dispatch(wS.MP({allowPersistenceForMasterPassword:!r.content.team.info.mpPersistenceDisabled,allowSharing:!r.content.team.info.sharingDisabled,enforce2FA:"newDevice"===r.content.team.info.twoFAEnforced,cryptoForcedPayload:r.content.team.info.cryptoForcedPayload||"",disableAutoLoginDomains:null!=(a=r.content.team.info.autologinDomainDisabledArray)?a:[],enableForcedDomains:!!r.content.team.info.forcedDomainsEnabled,enableRemoveForcedContent:!!r.content.team.info.removeForcedContentEnabled,enableVPN:!!r.content.team.info.secureWifiEnabled,forceAutomaticLogout:Number(r.content.team.info.forceAutomaticLogout||0),idpCertificate:null!=(n=r.content.team.info.idpCertificate)?n:"",idpSecurityGroups:null!=(i=r.content.team.info.idpSecurityGroups)?i:[],idpUrl:null!=(s=r.content.team.info.idpUrl)?s:"",lockOnExit:!!r.content.team.info.lockOnExit,collectSensitiveDataAuditLogsEnabled:!!r.content.team.info.collectSensitiveDataAuditLogsEnabled,ssoEnabled:!!r.content.team.info.ssoEnabled,teamDomain:null!=(o=r.content.team.info.teamDomains)?o:[]}))}catch(e){r(e)}else r(new Error(xg.N))})()}),[]),n.createElement(cS,{title:a?s(a):void 0},t(e,s).map((t=>kS(t,e,s,r))),(()=>{if(!e.state.dialogIsVisible)return null;const t=e.state.confirmationField;if(!t)return null;const a=t.feature&&e.state[t.feature].valueOr(!1)?t.confirmDisable:t.confirmEnable;return a?n.createElement(_S.Z,{isOpen:!0,title:a.title,labelDismiss:a.dismiss,labelConfirm:a.confirm,onDismiss:()=>{e.dispatch(wS.d())},onConfirm:()=>{o()},onChange:l,isMasterPasswordInvalid:e.state.isMasterPasswordInvalid,ctaIsDisabled:!e.state.masterPasswordFieldValue,onKeyDown:c},n.createElement("p",{className:lS.confirmationContent},a.helper1),n.createElement("p",{className:lS.confirmationContent},a.helper2),n.createElement("p",{className:lS.confirmationContent},a.label)):null})())},LS="_common_generic_error",zS=()=>{const{translate:e}=(0,P.Z)(),{inviteLinkDataForAdmin:t,getInviteLinkDataForAdmin:a,createInviteLink:i,toggleInviteLink:s}=(0,pv.h)(),{teamInfo:r}=(0,Op.G)();return(0,n.useEffect)((()=>{a()}),[a]),[{type:"header",label:e("team_settings_header_user_access")},{type:"switch",label:e("team_settings_enable_invite_link_label"),feature:"inviteLink",helperLabel:(0,Ue.tZ)(n.Fragment,null,e("team_settings_disable_enable_invite_link_helper"),!1===t?.disabled?(0,Ue.tZ)(d.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center",gap:"8px",sx:{marginTop:"12px"}},(0,Ue.tZ)(Xv.q,{mood:"neutral",intensity:"supershy",iconProps:{color:"ds.text.neutral.standard"},copyValue:(0,bp.cI)(t.teamKey)}),(0,Ue.tZ)(d.nvN,{bold:!0,size:"x-small",sx:{textDecoration:"underline"}},(0,bp.cI)(t.teamKey))):null),value:Z.Maybe.maybe(!1===t?.disabled),customSwitchHandler:async n=>{const o=r?.teamInfo?.name,l=t?.teamKey;if(l){if(!await s(n.valueOr(!0)))throw Error(e(LS))}else if(!await i(null!=o?o:""))throw Error(e(LS));if(!await a())throw Error(e(LS))}}]},jS=a(465343),PS=255;function RS(e,t){const a=[];return a.push({type:"header",label:t("team_settings_header_team_space_options")},{type:"text",multiLine:!0,label:t("team_settings_team_domain"),helperLabel:t("team_settings_team_domain_helper"),hintText:t("team_settings_team_domain_placeholder"),feature:"teamDomain",serverFeature:"team_domain",value:e.state.teamDomain,serializer:e=>e?e.split(";").map((e=>e.trim().toLowerCase())).filter((e=>Boolean(e.length))):[],deserializer:e=>e.map((e=>e.length?e.join(";"):"")),validator:e=>e.some((e=>!jS.isFQDN(e)))?"wrong_url":e.some((e=>e.length>PS))?"wrong_size":null,getErrorMessageForKey:e=>{switch(e){case"wrong_size":return t("team_settings_team_domain_save_error_msg_wrong_size",{lengthLimit:PS});case"wrong_url":return t("team_settings_team_domain_save_error_msg_wrong_url");case"too_many_requests":return t("team_settings_too_many_requests");default:return t("team_settings_team_domain_save_error_msg_generic_error")}}}),a.push({type:"switch",label:t("team_settings_enable_space_restrictions"),helperLabel:t("team_settings_enable_space_restrictions_helper"),value:e.state.enableForcedDomains,feature:"enableForcedDomains",serverFeature:"forced_domains_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_enable_space_restrictions_save_error_msg_generic_error"),constraintsFromOtherFields:{disabledWhen:[{feature:"teamDomain",condition:"not_defined",warningMessage:t("team_settings_enable_space_restrictions_define_team_domain_first")}],requiredFor:[{feature:"enableRemoveForcedContent",serverFeature:"rm_forced_content_enabled"}]}}),a.push({type:"switch",label:t("team_settings_remove_forced_content"),helperLabel:t("team_settings_remove_forced_content_helper"),value:e.state.enableRemoveForcedContent,feature:"enableRemoveForcedContent",serverFeature:"rm_forced_content_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_remove_forced_content_save_error_msg_generic_error"),constraintsFromOtherFields:{disabledWhen:[{feature:"teamDomain",condition:"not_defined",warningMessage:t("team_settings_remove_forced_content_define_team_domain_first")},{feature:"enableForcedDomains",condition:"is_disabled",warningMessage:t("team_settings_remove_forced_content_enable_forced_domains_first")}]}}),a.push({type:"header",label:t("team_settings_header_browser_settings")},{type:"text",multiLine:!0,label:t("team_settings_disable_auto_login_domains"),helperLabel:t("team_settings_disable_auto_login_domains_helper"),hintText:t("team_settings_disable_auto_login_domains_placeholder"),value:e.state.disableAutoLoginDomains,serializer:e=>(e.length?e.split(";"):[]).filter((e=>!!e.length)).map((e=>e.trim())),deserializer:e=>e.map((e=>e.join(";"))),validator:e=>e.some((e=>!jS.isFQDN(e)))?"wrong_url":e.some((e=>e.length>PS))?"wrong_size":null,feature:"disableAutoLoginDomains",serverFeature:"autologin_domain_disabled",getErrorMessageForKey:e=>{switch(e){case"wrong_size":return t("team_settings_disable_auto_login_domains_save_error_msg_wrong_size",{lengthLimit:PS});case"wrong_url":return t("team_settings_disable_auto_login_domains_save_error_msg_"+e);case"too_many_requests":return t("team_settings_too_many_requests");default:return t("team_settings_disable_auto_login_domains_save_error_msg_generic_error")}}}),e.carbon.accountFeatures.list.onboarding_web_teamsignuppage&&a.push(...zS()),a.push({type:"header",label:t("team_settings_header_security")}),a.push({type:"select",label:t("team_settings_force_auto_logout_after"),helperLabel:t("team_settings_force_auto_logout_after_helper"),value:e.state.forceAutomaticLogout,serializer:e=>Number(e),feature:"forceAutomaticLogout",serverFeature:"force_automatic_logout",options:["unset","15","30","60"].map((e=>({label:t("team_settings_force_auto_logout_after_"+e),value:e}))),getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_force_auto_logout_after_save_error_msg_generic_error")}),a.push({type:"switch",label:t("team_settings_lock_on_exit"),helperLabel:t("team_settings_lock_on_exit_helper"),value:e.state.lockOnExit,feature:"lockOnExit",serverFeature:"lock_on_exit",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_lock_on_exit_save_error_msg_generic_error")}),e.carbon.accountFeatures.list.Audit_Logs_Opt_in_prod&&a.push({type:"switch",label:t("team_settings_collect_sensitive_data_audit_logs_enabled"),badgeLabel:t("team_settings_collect_sensitive_data_audit_logs_beta_label"),helperLabel:t("team_settings_collect_sensitive_data_audit_logs_enabled_helper"),value:e.state.collectSensitiveDataAuditLogsEnabled,feature:"collectSensitiveDataAuditLogsEnabled",serverFeature:"collect_sensitive_data_audit_logs_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_lock_on_exit_save_error_msg_generic_error")}),a.push({type:"select",label:t("team_settings_force_crypto_payload_label"),helperLabel:t("team_settings_force_crypto_payload_helper"),value:e.state.cryptoForcedPayload,feature:"cryptoForcedPayload",serverFeature:"crypto_forced_payload",options:[{label:t("team_settings_force_crypto_payload_option_disabled"),value:""},{label:t("team_settings_force_crypto_payload_option_argon2"),value:"$1$argon2d$16$3$32768$2$aes256$cbchmac$16$"},{label:t("team_settings_force_crypto_payload_option_pbkdf2_advanced"),value:"$1$pbkdf2$16$200000$sha256$aes256$cbchmac$16$"},{label:t("team_settings_force_crypto_payload_option_pbkdf2_standard"),value:"KWC3",disabled:!0}],getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_force_crypto_payload_save_error_msg_generic_error")},{type:"switch",label:t("team_settings_allow_sharing"),helperLabel:t("team_settings_allow_sharing_helper"),value:e.state.allowSharing,feature:"allowSharing",serverFeature:"sharing_disabled",getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_allow_sharing_save_error_msg_generic_error"),serializer:e=>!e}),e.carbon.accountFeatures.list.VPNonTAC&&a.push({type:"switch",label:t("team_settings_vpn"),helperLabel:t("team_settings_vpn_helper"),value:e.state.enableVPN,feature:"enableVPN",serverFeature:"secure_wifi",getErrorMessageForKey:e=>{switch(e){case"too_many_requests":return t("team_settings_too_many_requests");case"not_authorized":return t("team_settings_vpn_disabled_for_free_trial");default:return t("team_settings_vpn_save_error_msg_generic_error")}}}),a.push({type:"switch",label:t("team_settings_enforce_2fa"),helperLabel:t("team_settings_enforce_2fa_helper"),infoBoxTitle:t("team_settings_generate_recovery_codes_infobox_title"),infoBoxDescription:t.markup("team_settings_generate_recovery_codes_infobox_description_markup"),value:e.state.enforce2FA,feature:"enforce2FA",serverFeature:"two_factor_authentication_enforced",confirmEnable:{title:t("team_settings_enforce_2fa_confirm_enable_title"),label:t("team_settings_enforce_2fa_confirm_enable_helper2"),dismiss:t("team_settings_enforce_2fa_confirm_enable_dismiss"),confirm:t("team_settings_enforce_2fa_confirm_enable_confirm")},getErrorMessageForKey:e=>t("too_many_requests"===e?"team_settings_too_many_requests":"team_settings_enforce_2fa_save_error_msg_generic_error"),serializer:e=>e?"newDevice":"disabled"}),a}var US=a(806092),BS=a(785669),FS=a(287279);const GS=({mainContent:e,mainProps:t,secondaryContent:a,secondaryProps:n,...i})=>(0,D.tZ)(d.T5p,{gap:"46px",gridTemplateAreas:["'top' 'bottom'","'top' 'bottom'","'left right'"],gridTemplateColumns:[null,null,"minmax(auto, 800px) 256px"],gridTemplateRows:["auto auto","auto auto","auto"],alignContent:"flex-start",sx:{py:"32px",px:"42px",bg:"white"},...i},(0,D.tZ)(d.dDn,{as:a,alignSelf:"flex-start",gridArea:["top","top","right"],...n}),(0,D.tZ)(d.dDn,{as:e,gridArea:["bottom","bottom","left"],...t})),WS=({backgroundColor:e,paddingSize:t="normal",...a})=>(0,D.tZ)("div",{sx:{bg:null!=e?e:"ds.container.agnostic.neutral.quiet",p:"tight"===t?"24px":"32px 24px",borderRadius:3},...a}),{black:VS,dashDarkerGreen00:HS,dashGreen00:qS,midGreen00:YS}=d.O9T,QS=e=>`url('data:image/svg+xml;utf8,<svg fill="${encodeURIComponent(e)}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6H6V18H18V12H19.9999L20 20H4V4H12V6Z" /><path d="M14 3H21V10H19V6.39133L13.8036 11.5878L12.3894 10.1735L17.5629 5H14V3Z" /></svg>')`,$S=({children:e,href:t,color:a,hoverColor:n,activeColor:i})=>{const{theme:s}=(0,D.B7)(),r=(0,d.hiO)(s,"lineHeights")[(0,d.hiO)(s,"styles.paragraph.size.medium.lineHeight")];return(0,D.tZ)(d.nvN,{as:d.rUS,bold:!0,size:"medium",sx:{position:"relative","::after":{content:'""',backgroundImage:QS(a),ml:"8px",position:"absolute",height:`calc(1em * ${r})`,width:`calc(1em * ${r})`},":hover::after":{backgroundImage:QS(n)},":active::after":{backgroundImage:QS(i)}},href:t,rel:"noopener noreferrer",target:"_blank",color:a,activeColor:i,hoverColor:n},e)},KS=({heading:e,description:t,linkText:a,linkHref:i,backgroundColor:s,...r})=>(0,D.tZ)(WS,{backgroundColor:s,...r},(0,D.tZ)(d.nvN,{sx:{mb:"8px"},color:VS,bold:!0,size:"large",as:"h3"},e),(0,n.isValidElement)(t)?t:(0,D.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"small",sx:{mb:a&&i?"24px":0}},t),a&&i?(0,D.tZ)($S,{href:i,color:YS,hoverColor:qS,activeColor:HS},a):null),XS=new Map([["business",c.B2bPlanTier.Business],["team",c.B2bPlanTier.Team],["legacy",c.B2bPlanTier.Legacy],["entreprise",c.B2bPlanTier.Business]]),JS=({currentBillingPlanTier:e,emailDomainError:t,emailDomainSubmittedCount:a,emailDomainValidatedCount:n,encryptionServicePlatformSelected:i,idpValidationResponse:s,ssoSetupStep:r,ssoSolutionChosen:o,testSsoResponse:l})=>{(0,v.K)(new c.UserSetupSsoEvent({currentBillingPlanTier:e,emailDomainError:null!=t?t:c.EmailDomainError.OtherError,emailDomainSubmittedCount:null!=a?a:0,emailDomainValidatedCount:null!=n?n:0,encryptionServicePlatformSelected:null!=i?i:c.EncryptionServicePlatformSelected.AmazonWebServices,idpValidationResponse:null!=s?s:c.IdpValidationResponse.Success,ssoSetupStep:r,ssoSolutionChosen:o,testSsoResponse:null!=l?l:c.TestSsoResponse.NotTested}))},eI=e=>e&&XS.get(e)||c.B2bPlanTier.Business,tI=e=>{JS({...e,currentBillingPlanTier:eI(e.currentBillingPlanTier),ssoSolutionChosen:c.SsoSolutionChosen.SelfHostedSso})},aI=e=>{JS({...e,currentBillingPlanTier:eI(e.currentBillingPlanTier),ssoSolutionChosen:c.SsoSolutionChosen.NitroSso})},nI=({onClose:e,onConfirm:t,titleText:a,bodyText:i})=>{const{translate:s}=(0,P.Z)(),[r,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),u=s("_common_action_cancel");return(0,Ue.tZ)(d.VqE,{isOpen:!0,disableOutsideClickClose:!0,disableScrolling:!0,closeIconName:u,onClose:e},(0,Ue.tZ)(d.$N8,{title:a}),(0,Ue.tZ)(d.a7O,null,(0,Ue.tZ)(d.nvN,{color:l?"ds.text.danger.standard":"ds.text.neutral.standard"},null!=l?l:i)),(0,Ue.tZ)(d.cNS,null,(0,Ue.tZ)(Ue.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:()=>{e()},disabled:r},u),(0,Ue.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",onClick:async()=>{o(!0),c(null);try{await t(),o(!1),e()}catch(e){c(e instanceof Error?e.message:s("_common_generic_error")),o(!1)}},isLoading:r,disabled:r},"Yes, clear setup")))};var iI=a(605961),sI=a.n(iI);const rI=e=>{const{markdownValue:t="",linkParams:a={},linkProps:i}=e,{linkTarget:s,onLinkClicked:r=(()=>{})}=a,o=t.includes("\n");return n.createElement(sI(),{source:t,allowedTypes:["Text","Link","Emph","Strong","Paragraph","Softbreak","List","Item","Code"],containerTagName:"span",softBreak:"br",renderers:{Paragraph:o?"p":"span",Link:function(e){return n.createElement(wN.Z,{...i,"aria-label":t,href:e.href,target:s,onClick:()=>{r(e.href)}},e.children)}}})};let oI;!function(e){e.ChooseSso="ChooseSso",e.SelfHosted="SelfHosted",e.Nitro="Nitro"}(oI||(oI={}));const lI=({pageContext:e,onSetupClear:t})=>{const{routes:a}=(0,i.Xo)(),s=(0,lm.B)(),{translate:r}=(0,P.Z)(),o=(0,Be.w)("deployment_web_nitroSSOBeta_chooseSSO"),[l,m]=(0,n.useState)(!1),{teamId:p}=(0,x.fV)(),{clearSettings:_,initSsoProvisioning:g}=(0,R.u7)(BS.enclaveSdkApi),{status:h,data:b}=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning");if(h!==R.rq.Success||b.enableSSO.ssoEnabled)return null;const{global:{inferredSsoState:y,ssoCapable:C}}=b;if(!1===C)return(0,Ue.tZ)(Ue.ke,{mood:"neutral",size:"large",title:r("team_settings_es_sso_plan_error_header"),description:r.markup("team_settings_es_sso_plan_error_body_markup"),actions:s?.premiumStatus?[(0,j.wt)(s.premiumStatus)?(0,Ue.tZ)(d.rUS,{key:"business-buy",href:`${bp.ub}?plan=business&subCode=${s?.subscriptionCode}`,target:"_blank"},(0,Ue.tZ)(Ue.zx,null,r("team_account_teamplan_plan_buy_dashlane"))):(0,Ue.tZ)(i.rU,{key:"upgrade",to:`${a.teamAccountChangePlanRoutePath}?plan=business`},(0,Ue.tZ)(Ue.zx,null,r("team_settings_es_sso_plan_missing_button")))]:[]});const w=[BS.InferredSsoState.enum.NitroIncomplete,BS.InferredSsoState.enum.SelfHostedIncomplete];if(e!==oI.ChooseSso&&w.includes(y)){let a=null,i=async()=>{await(t?.()),tI({ssoSetupStep:c.SsoSetupStep.ClearSsoSettings})};e===oI.SelfHosted&&y===BS.InferredSsoState.enum.NitroIncomplete?(a={title:"To use self-hosted SSO, clear Confidential SSO setup",description:"If you want to use self-hosted SSO, which supports SCIM provisioning, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP.",cta:"Clear setup"},i=async()=>{await _(),await g({teamId:`${p}`}),await(t?.())}):e===oI.Nitro&&y===BS.InferredSsoState.enum.SelfHostedIncomplete&&(a={title:"To use Confidential SSO, clear self-hosted SSO setup",description:"If you want to use Confidential SSO, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP.",cta:"Clear setup"},i=async()=>{await u.C.clearSelfHostedESSettings(),await g({teamId:`${p}`}),await(t?.())});const s=[BS.InferredSsoState.enum.NitroComplete,BS.InferredSsoState.enum.SelfHostedComplete];if(a&&!s.includes(y))return(0,Ue.tZ)(n.Fragment,null,l?(0,Ue.tZ)(nI,{onClose:()=>m(!1),onConfirm:i,titleText:"Are you sure?",bodyText:"This action can’t be undone."}):null,(0,Ue.tZ)(Ue.ke,{mood:"neutral",size:"large",title:a.title,description:(0,Ue.tZ)(rI,{markdownValue:a.description}),actions:[(0,Ue.tZ)(Ue.zx,{key:"clear",onClick:()=>m(!0)},a.cta)]}))}return o?(0,Ue.tZ)(Ue.ke,{mood:"warning",size:"large",title:"Switching between SSO options isn't available right now",description:"We're in the process of adding new capabilities to Confidential SSO. During this period, you can't switch between the two options. Before turning on your chosen SSO option, please make sure it meets your organization's needs."}):null};var cI,dI=a(230636);const uI=[{li:"In a separate window, log in to your IdP account."},{li:"Find the section to create a new SSO application."},{li:"To create a new SSO application:",ol:[{li:"Add the ID and URLs provided here to your application."},{li:"Add members who will log in to Dashlane with SSO to your application."}]},{li:"When you’re done, return here and select **Next**."}],mI=({content:e})=>(0,Ue.tZ)("ol",{sx:{color:"ds.text.neutral.quiet"}},e.map((({li:e,ol:t},a)=>(0,Ue.tZ)(d.nvN,{key:a,as:"li",size:"small"},(0,Ue.tZ)(rI,{markdownValue:e}),t?(0,Ue.tZ)(mI,{content:t}):null)))),pI=({disableForm:e})=>{var t,a,i;const s=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),{createTeam:r}=(0,R.u7)(BS.enclaveSdkApi),o=Boolean(e||s.status===R.rq.Success&&s.data.global?.isTeamProvisionedInNitro),l=s.status===R.rq.Loading,[u,m]=(0,n.useState)(!1),p={entityId:null!=(t=s.data?.idpApplication.entityId)?t:"",acsUrl:null!=(a=s.data?.idpApplication.acsUrl)?a:"",signOnUrl:null!=(i=s.data?.idpApplication.signOnUrl)?i:""};return(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"20px"},(0,Ue.tZ)("div",{sx:{ol:{listStyleType:"decimal",ml:"20px",ol:{listStyleType:"lower-alpha"}}}},(0,Ue.tZ)(d.nvN,{as:"h2",color:"ds.text.neutral.standard",sx:{mb:"8px"},bold:!0},"Step 1: Create an SSO application in your identity provider (IdP) account"),cI||(cI=(0,Ue.tZ)(mI,{content:uI}))),(0,Ue.tZ)(Ue.ke,{mood:"brand",size:"small",title:"For help creating an SSO application, refer to your IdP's documentation."}),(0,Ue.tZ)(dI.x,{isLoading:l,value:p.entityId,label:"Entity ID",readOnly:!0}),(0,Ue.tZ)(dI.x,{isLoading:l,value:p.acsUrl,label:"Assertion Consumer Service (ACS) URL",readOnly:!0}),(0,Ue.tZ)(dI.x,{isLoading:l,value:p.signOnUrl,label:"Sign-on URL (optional)",readOnly:!0}),(0,Ue.tZ)(Ue.zx,{sx:{justifySelf:"end"},type:"button",disabled:o||u,isLoading:u,onClick:async()=>{m(!0);try{await(async()=>{try{await r(),aI({ssoSetupStep:c.SsoSetupStep.CreateSsoApplication})}catch(e){}})()}finally{m(!1)}}},"Next"))},_I="ssoIdpMetadata",gI=({disableForm:e=!1})=>{var t;const a=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),{validateMetadata:n,updateMetadata:i}=(0,R.u7)(BS.enclaveSdkApi),s=a.status===R.rq.Loading,r=!a.data?.global.isTeamProvisionedInNitro,o=null!=(t=a.data?.idpMetadata.metadataValue)?t:"",l={ssoIdpMetadata:o},u=async e=>{var t;if(e)try{const a=await n({metadata:e});if(aI({ssoSetupStep:c.SsoSetupStep.ValidateIdpMetadata,idpValidationResponse:(t=a,(0,FS.hx)(t)?Object.values(c.IdpValidationResponse).includes(t.error.tag)?t.error.tag:c.IdpValidationResponse.XmlParseFailed:c.IdpValidationResponse.Success)}),(0,FS.hx)(a))return a.error.tag}catch(e){return e instanceof Error?e.message:"Unknown error"}};return(0,Ue.tZ)(Gt.J9,{initialValues:l,onSubmit:async(e,t)=>{try{await i({metadata:e.ssoIdpMetadata}),aI({ssoSetupStep:c.SsoSetupStep.UpdateIdpSettings})}catch(e){return t.setFieldError(_I,e.message)}},enableReinitialize:!0},(({isSubmitting:t,isValid:n,isValidating:i,dirty:l})=>{const c=r||t||e||s,m=c||!n||i||!l,p=c&&a.data?.global.inferredSsoState!==BS.InferredSsoState.enum.SelfHostedIncomplete;return(0,Ue.tZ)(Gt.l0,{noValidate:!0},(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"},(0,Ue.tZ)(d.nvN,{as:"label",color:"ds.text.neutral.standard",htmlFor:_I,bold:!0},"Step 2: Save your IdP metadata"),(0,Ue.tZ)(Gt.gN,{name:_I,validateOnChange:!0,validate:u},(({field:t,meta:{error:a},form:{setFieldError:n}})=>(0,Ue.tZ)(d.ua7,{passThrough:!e},(0,Ue.tZ)(d.oil,{multiline:!0,required:!0,fullWidth:!0,sx:{resize:"vertical",height:"100px"},id:_I,autoCorrect:"off",autoComplete:"off",placeholder:"Enter metadata...",readOnly:c,feedbackText:null!=a?a:void 0,feedbackType:a?"error":void 0,onFocus:e=>{p&&n(`${e.target.getAttribute("name")}`,"Please complete step 1 before proceeding.")},...t})))),(0,Ue.tZ)(Ue.zx,{type:"submit",sx:{mt:"12px",justifySelf:"end"},mood:o?"neutral":"brand",intensity:o?"quiet":"catchy",disabled:m},"Save metadata")))}))},hI={DOMAIN_ALREADY_PROVISIONED:"Domain was already provisioned by another team",SECURE_CONTENT_NOT_PARSED:"Secure content not parsed properly."},bI="Something went wrong",yI="emailDomain",CI=({disableForm:e})=>{var t,a;const{spaceDetails:i}=(0,x.fV)(),[s,r]=(0,n.useState)(""),[,o]=null!=(t=i?.associatedEmail.split("@"))?t:["",""],{deleteDomain:l,provisionDomain:u}=(0,R.u7)(BS.enclaveSdkApi),m=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning");(0,n.useEffect)((()=>{const e=m.data?.domainSetup[0]?.domainName;e&&r(e)}),[m?.data]);const p=null!=(a=m.data?.global.isTeamProvisionedInNitro)&&a&&m.data?.idpMetadata.metadataValue,_={emailDomain:p?s||o:""};return(0,Ue.tZ)(Gt.J9,{initialValues:_,onSubmit:async(e,t)=>{if(e.emailDomain)try{let a;if(s&&(a=await l({domainName:s})),(void 0===a||(0,FS.d6)(a))&&(a=await u({domainName:e.emailDomain})),aI({ssoSetupStep:c.SsoSetupStep.SubmitEmailDomain,emailDomainSubmittedCount:1}),(0,FS.hx)(a))return aI({ssoSetupStep:c.SsoSetupStep.EmailDomainError,emailDomainSubmittedCount:1}),t.setErrors({[yI]:Object.prototype.hasOwnProperty.call(hI,a.error.tag)?hI[a.error.tag]:bI})}catch(e){var a;return t.setErrors({[yI]:null!=(a=e?.message)?a:bI})}else t.setErrors({[yI]:e.emailDomain?null:"Required"})},enableReinitialize:!0},(({isSubmitting:t,isValidating:a,isValid:n,dirty:i})=>{const r=e||t||!p,o=r||!n||a||!i&&_.emailDomain===s;return(0,Ue.tZ)(Gt.l0,{noValidate:!0},(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"},(0,Ue.tZ)(d.nvN,{as:"label",color:"ds.text.neutral.standard",bold:!0,htmlFor:yI},s?"Step 3: Update the email domain you’ll use for member accounts":"Step 3: Submit the email domain you’ll use for member accounts"),s?(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{mb:"4px"}},"Updating your email domain will replace the domain you already verified with the new domain."):null,(0,Ue.tZ)(Gt.gN,{name:yI},(({field:a,meta:{error:n}})=>(0,Ue.tZ)(d.ua7,{passThrough:!e},(0,Ue.tZ)(Ue.oi,{id:yI,required:!0,autoCorrect:"off",autoComplete:"off",placeholder:"Enter email domain...",readOnly:r,...a,feedback:n&&!t?{text:n,type:"error"}:void 0})))),(0,Ue.tZ)(Ue.zx,{type:"submit",sx:{mt:"12px",justifySelf:"end"},isLoading:t,mood:s?"neutral":"brand",intensity:s?"quiet":"catchy",disabled:o},s?"Update email domain":"Submit email domain")))}))},wI={SECTION_HEADING:"Step 4: Create a DNS TXT record, then verify your domain",SECTION_STEPS:["In a separate window, log in to your public DNS provider account.","Create a TXT record using the subdomain and TXT values provided here.","Wait a few minutes, then return here and select **Verify Domain**."],INFOBOX_MESSAGE:"For help creating a TXT record, refer to your DNS provider's documentation.",SUBDOMAIN_LABEL:"Subdomain",TXT_LABEL:"TXT Value",CTA_VERIFY:"Verify domain",CTA_RETRY:"Retry",VERIFY_PENDING_TITLE:"We couldn’t verify your domain",VERIFY_PENDING_BODY:"Domain verification usually happens quickly, but it can take up to 48 hours. Try again in a few minutes. In the meantime, check that your DNS TXT record is correct, then select **Retry**.",VERIFY_ERROR_TITLE:"Update your DNS TXT record, then retry domain verification",VERIFY_ERROR_INCORRECT_TOKEN_FOUND:e=>`We found an unexpected value: \`${e}\`.\nPlease make sure the DNS TXT record is configured in accordance with the form below, then return here and select **Retry**.`,VERIFY_ERROR_BODY:"If you update your email domain, the hostname changes and we generate a new TXT value. In a new window, update the TXT record or create a new one for the updated domain and then return here and select **Retry**.",DOMAIN_VERIFIED:"Your domain was successfully verified."},EI=({checkingDomainVerification:e,setCheckingDomainVerification:t})=>{var a,i,s,r;const[o,l]=(0,n.useState)(!1),u=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),m=u.status===R.rq.Error?"Something went wrong.":null,p=null!=(a=u.data?.domainSetup[0]?.domainName)?a:"",{checkDNSValidation:_}=(0,R.u7)(BS.enclaveSdkApi),g=null!=(i=u.data?.domainVerificationInfo[p])?i:{txtValue:null,verificationStatus:null,subdomainValue:null,tokenFound:null,pendingReason:null},h=BS.DomainVerificationStatus.enum,b=g.verificationStatus===h?.valid,y=g.verificationStatus===h?.pending,C=g.verificationStatus===h?.invalid,w=y&&g.pendingReason===BS.DomainPendingReason.enum.invalidToken,E=!p||!g.txtValue||b,v=y&&o&&!w,N=(C||w)&&o,S=b&&o;return(0,n.useEffect)((()=>{if((C||y)&&o){const e=w?c.EmailDomainError.IncorrectText:C?c.EmailDomainError.OtherError:c.EmailDomainError.NotFound;aI({ssoSetupStep:c.SsoSetupStep.VerifyDomain,emailDomainSubmittedCount:1}),aI({emailDomainError:e,ssoSetupStep:c.SsoSetupStep.EmailDomainError,emailDomainSubmittedCount:1})}else g.verificationStatus===h?.valid&&o&&aI({ssoSetupStep:c.SsoSetupStep.VerifyDomain,emailDomainSubmittedCount:1,emailDomainValidatedCount:1})}),[g.verificationStatus,o]),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"8px",flexWrap:"nowrap",alignItems:"flex-start"},(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0},wI.SECTION_HEADING),(0,Ue.tZ)("ol",{sx:{listStyleType:"decimal",ml:"20px"}},wI.SECTION_STEPS.map((e=>(0,Ue.tZ)(d.nvN,{key:e,as:"li",size:"small",color:"ds.text.neutral.quiet"},(0,Ue.tZ)(rI,{markdownValue:e}))))),b?null:(0,Ue.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,Ue.tZ)(Ue.ke,{size:"small",mood:"brand",title:wI.INFOBOX_MESSAGE})),(0,Ue.tZ)(dI.x,{label:wI.SUBDOMAIN_LABEL,value:p&&null!=(s=g.subdomainValue)?s:"",disabled:E,readOnly:!0}),(0,Ue.tZ)(dI.x,{label:wI.TXT_LABEL,value:null!=(r=g.txtValue)?r:"",disabled:E,readOnly:!0}),m?(0,Ue.tZ)(d.X6q,{color:"ds.text.danger.quiet"},m):null,v?(0,Ue.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,Ue.tZ)(Ue.ke,{size:"large",mood:"warning",title:wI.VERIFY_PENDING_TITLE,description:(0,Ue.tZ)(rI,{markdownValue:wI.VERIFY_PENDING_BODY})})):null,N?(0,Ue.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,Ue.tZ)(Ue.ke,{size:"large",mood:"danger",title:wI.VERIFY_ERROR_TITLE,description:(0,Ue.tZ)(rI,{markdownValue:w&&g.tokenFound?wI.VERIFY_ERROR_INCORRECT_TOKEN_FOUND(g.tokenFound):wI.VERIFY_ERROR_BODY})})):null,S?(0,Ue.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,Ue.tZ)(d.bZj,{severity:d.BLW.SUCCESS,closeIconName:"Close"},wI.DOMAIN_VERIFIED)):null,(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"auto",sx:{alignSelf:"end",mt:"12px"}},(0,Ue.tZ)(Ue.zx,{type:"button",isLoading:e,disabled:E||e,onClick:async()=>{t(!0),await _({domainName:p}),t(!1),l(!0)}},o?wI.CTA_RETRY:wI.CTA_VERIFY)))},vI=({title:e,body:t,onConfirm:a,onCancel:i})=>{const[s,r]=(0,n.useState)(!1);return(0,Ue.tZ)(p.o,{isOpen:!0,showCloseIcon:!0,onRequestClose:i,footer:(0,Ue.tZ)(d.cNS,null,(0,Ue.tZ)(Ue.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:i,disabled:s},"Cancel"),(0,Ue.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",onClick:async()=>{try{r(!0),await a()}catch{r(!1)}},isLoading:s,disabled:s},"Yes, turn on")),title:e},t)},NI="enableSso",SI=()=>{const{showAlert:e}=(0,Na.V)(),t=(0,Wc.h)(),[a,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),o=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),{enableSso:l}=(0,R.u7)(BS.enclaveSdkApi),u=o.data?.domainSetup[0]?.domainName,m=u?o.data?.domainVerificationInfo[u]:null,p=m?.verificationStatus!==BS.DomainVerificationStatus.enum.valid,_=t.status===W.rq.Success&&t.data.deployment_web_nitroSSOBeta_chooseSSO,g=o.data?.enableSSO.ssoEnabled;(0,n.useEffect)((()=>{i(null!=g&&g)}),[g]);const h=Boolean(p||g),b=async()=>{i(!0);const t=await l();(0,FS.d6)(t)?e("SSO is turned on for all non-admin members.",d.BLW.SUCCESS,(()=>{}),!0,!0):(i(!1),e(t.error.tag,d.BLW.ERROR,(()=>{}),!0,!0))};return(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"3fr 1fr",gridTemplateRows:"auto auto auto auto",gap:"8px"},(0,Ue.tZ)(d.nvN,{as:"label",color:"ds.text.neutral.standard",bold:!0,htmlFor:NI},"Step 6: Turn on SSO"),(0,Ue.tZ)(d.dDn,{sx:{justifySelf:"end"}},(0,Ue.tZ)(Ue.ZD,{id:NI,onClick:async()=>{_?(r(!0),aI({ssoSetupStep:c.SsoSetupStep.TurnOnSso})):(await b(),aI({ssoSetupStep:c.SsoSetupStep.CompleteSsoSetup}))},checked:a,disabled:h})),(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{mb:"4px",gridRow:"2",gridColumn:"1/1"}},"After testing your connection, turn on SSO for all non-admin members. Admins will still need to enter their Master Password to log in."),(0,Ue.tZ)(d.dDn,{gridRow:"5",gridColumn:"1/3"},(0,Ue.tZ)(Ue.ke,{size:"small",mood:"brand",title:"To turn off SSO, contact our Customer Support."}))),s?(0,Ue.tZ)(vI,{title:"Are you sure you want to turn on Confidential SSO?",body:"This action can’t be undone. You won’t be able to switch to self-hosted SSO after this point.",onConfirm:async()=>{await b(),aI({ssoSetupStep:c.SsoSetupStep.CompleteSsoSetup}),r(!1)},onCancel:()=>{r(!1)}}):null)};var II=a(997450);const fI=()=>{var e;const[t,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),{testLoginUserWithEnclaveSSO:l}=(0,R.u7)(BS.enclaveSdkApi),u=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),m=null!=(e=u.data?.domainSetup[0]?.domainName)?e:"",p=u.data?.domainVerificationInfo[m]?.verificationStatus!==BS.DomainVerificationStatus.enum?.valid||!1;return(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"3fr 1fr",gridTemplateRows:"auto",gap:"8px"},(0,Ue.tZ)("div",null,(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0,sx:{mb:"8px"}},"Step 5: Test your SSO connection"),(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{mb:"4px"}},"Before turning on SSO for all non-admin members, test it to make sure it works properly.")),(0,Ue.tZ)(d.dDn,{justifySelf:"end",gridColumn:"2"},(0,Ue.tZ)(II.M,{disabled:p,onClick:async()=>{a(!0);try{const e=await l({domainName:m}),t=(0,FS.d6)(e);aI({ssoSetupStep:c.SsoSetupStep.TestSsoConnection,testSsoResponse:t?c.TestSsoResponse.Success:c.TestSsoResponse.Failure}),s(t),o(!t)}finally{a(!1)}},loading:t,content:"Install the Dashlane extension to test your SSO connection.",neverShowTooltip:!0},"Test SSO")),i?(0,Ue.tZ)(d.dDn,{gridColumn:"1/span 2"},(0,Ue.tZ)(d.bZj,{showIcon:!0,size:d.k3y.SMALL,severity:d.BLW.SUCCESS,onClose:()=>{s(!1)},closeIconName:"Close"},"Your SSO connection was successfully verified.")):null,r?(0,Ue.tZ)(d.dDn,{gridColumn:"1/span 2"},(0,Ue.tZ)(d.bZj,{showIcon:!0,size:d.k3y.SMALL,severity:d.BLW.ERROR,onClose:()=>{o(!1)},closeIconName:"Close"},"We couldn't verify your SSO connection. Please contact our Customer Support.")):null)};var xI,MI,TI,DI,ZI,AI,kI;const{dashDarkerGreen00:OI,dashGreen00:LI,midGreen00:zI}=d.O9T,jI={PAGE_TITLE:"Confidential SSO",BETA_BADGE:"beta",CARD_1_HEADING:"Before you start",CARD_1_BODY_INTRO:"To set up SSO, you'll need:",CARD_1_BODY_POINTS:["Access to your IdP and public DNS provider accounts","A list of members to add to your SSO application","IdP metadata","Email domain"],CARD_1_SUB_HEADING:"Need help?",CARD_1_SUB_BODY:"For help setting up SSO, contact our Customer Support.",CARD_2_HEADING:"After turning on SSO",CARD_2_BODY_FIRST:"After SSO is turned on, non-admin members are required to log in with SSO.",CARD_2_BODY_SECOND:"They must use the browser extension when using Dashlane on a computer. They can also log in with SSO on mobile.",CARD_2_BODY_THIRD:"Admins can't log in with SSO. They still need to enter their Master Password."},PI="support@dashlane.com",RI=()=>{const[e,t]=(0,n.useState)(!1),{status:a,data:i}=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning");if(a!==W.rq.Success)return null;const s=i.global.inferredSsoState,r=[BS.InferredSsoState.enum.SelfHostedIncomplete,BS.InferredSsoState.enum.SelfHostedComplete].includes(s),o=a===W.rq.Success?!i.enableSSO.ssoEnabled:null;return(0,Ue.tZ)("div",null,o?(0,Ue.tZ)(lI,{pageContext:oI.Nitro}):null,(0,Ue.tZ)(d.Zbd,{sx:{mt:o?"24px":""}},(0,Ue.tZ)(d.aYP,{sx:{borderWidth:0,bg:"ds.container.agnostic.neutral.supershy"}},(0,Ue.tZ)(pI,{disableForm:r}),xI||(xI=(0,Ue.tZ)("hr",null)),(0,Ue.tZ)(gI,{disableForm:e}),MI||(MI=(0,Ue.tZ)("hr",null)),(0,Ue.tZ)(CI,{disableForm:e}),TI||(TI=(0,Ue.tZ)("hr",null)),(0,Ue.tZ)(EI,{checkingDomainVerification:e,setCheckingDomainVerification:t}),DI||(DI=(0,Ue.tZ)("hr",null)),ZI||(ZI=(0,Ue.tZ)(fI,null)),AI||(AI=(0,Ue.tZ)("hr",null)),kI||(kI=(0,Ue.tZ)(SI,null)))))},UI=e=>(0,Ue.tZ)(d.Ejs,{gap:"6",...e},(0,Ue.tZ)(KS,{heading:jI.CARD_1_HEADING,description:(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.nvN,{size:"small",sx:{mb:"8px"}},jI.CARD_1_BODY_INTRO),(0,Ue.tZ)(d.nvN,{as:"ul",size:"small",sx:{listStyleType:"disc",ml:"20px",mb:"8px"}},jI.CARD_1_BODY_POINTS.map((e=>(0,Ue.tZ)("li",{key:e},e)))),(0,Ue.tZ)(d.nvN,{size:"large",bold:!0,sx:{mb:"8px"}},jI.CARD_1_SUB_HEADING),(0,Ue.tZ)(d.nvN,{size:"small",sx:{mb:"8px"}},jI.CARD_1_SUB_BODY),(0,Ue.tZ)(d.rUS,{color:zI,hoverColor:LI,activeColor:OI,href:`mailto:${PI}`,sx:{fontSize:"14px"}},PI))}),(0,Ue.tZ)(KS,{heading:jI.CARD_2_HEADING,description:(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.nvN,{size:"small",sx:{mb:"8px"}},jI.CARD_2_BODY_FIRST),(0,Ue.tZ)(d.nvN,{size:"small",sx:{mb:"8px"}},jI.CARD_2_BODY_SECOND),(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.danger.standard"},jI.CARD_2_BODY_THIRD))})),BI=({backRoute:e})=>{const t=(0,Be.F)("deployment_web_nitroSSOBeta_chooseSSO"),{data:a}=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),n=t.status===W.rq.Success&&!t.data,s=t.status===W.rq.Success&&t.data&&!a?.enableSSO.ssoEnabled;return(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},(0,Ue.tZ)("div",{sx:{px:"48px",pt:"32px",pb:"12px"}},(0,Ue.tZ)(Qb,{title:jI.PAGE_TITLE,titleBadge:n?(0,Ue.tZ)(Ue.Ct,{intensity:"catchy",mood:"brand",layout:"labelOnly",label:jI.BETA_BADGE}):null}),s?(0,Ue.tZ)(d.rUS,{color:zI,hoverColor:LI,activeColor:OI,onClick:()=>{aI({ssoSetupStep:c.SsoSetupStep.ReturnToSsoSelection}),(0,i.uX)(e)},sx:{fontSize:"16px",display:"flex",textDecoration:"none",marginTop:"-18px"}},(0,Ue.tZ)(Ue.JO,{name:"ArrowLeftOutlined",size:"small",color:LI,sx:{marginRight:"10px"}})," ","Back"):null),(0,Ue.tZ)(GS,{mainContent:RI,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px"},secondaryContent:UI}))},FI=()=>{const[e,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(),s=(0,n.useCallback)((async()=>{try{return await u.C.getEncryptionServiceConfig()}catch{return{success:!1,error:{code:Vt.UnknownError}}}}),[]),r=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||t(!0);const a=await s();return e.signal.aborted||(a.success&&i(a.data),t(!1)),a}),[s]);return(0,n.useEffect)((()=>{const e=new AbortController;return r(e),()=>{e.abort()}}),[r]),{esConfigLoading:e,esConfig:a,refreshEncryptionServiceConfig:r}};var GI=a(161488),WI=a(98933);const VI=({value:e,disabled:t,error:a,isLoading:i=!1,configRegenRequired:s,lastGeneratedTimeStamp:r})=>{const{translate:o}=(0,P.Z)(),l=r?(0,D.tZ)(d.Ejs,{gap:"4px",sx:{mt:"8px"},justifyContent:"center"},(0,D.tZ)(d.nvN,{size:"x-small",bold:!0},o("team_settings_encryption_service_generate_configuration_timestamp")),(0,D.tZ)(d.nvN,{size:"x-small"},(0,xt.Z)(r).toLocaleString(navigator.language,{...Ze.qG.lll,timeZoneName:"short"}))):null;return(0,D.tZ)(d.T5p,{gridTemplateAreas:"'label button' 'description button' 'timestamp timestamp' 'config buttons'",gridTemplateColumns:"3fr 1fr",sx:{gridColumnGap:"8px"}},(0,D.tZ)(d.dDn,{gridArea:"label",sx:{paddingBottom:"8px"},as:d.nvN,innerAs:"label",size:"medium",bold:!0},o("team_settings_encryption_service_generate_configuration_label")),(0,D.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small"},o("team_settings_encryption_service_generate_configuration_label_helper")),(0,D.tZ)(d.dDn,{gridArea:"button"},(0,D.tZ)(Ue.zx,{disabled:t||i,mood:e&&!s?"neutral":"brand",intensity:e&&!s?"quiet":"catchy",fullsize:!0,type:"submit",isLoading:i},o("team_settings_encryption_service_generate_configuration_button")),s?null:l),e?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.dDn,{gridArea:"config",sx:{marginTop:"18px"}},(0,D.tZ)(d.oil,{multiline:!0,readOnly:!0,fullWidth:!0,disabled:s,value:e,sx:{overflowY:"auto",resize:"vertical",height:"10em"},feedbackType:a?"error":void 0,feedbackText:a})),(0,D.tZ)(d.dDn,{as:d.Ejs,gridArea:"buttons",sx:{marginTop:"18px"},flexDirection:"column",gap:"8px"},(0,D.tZ)(Xv.q,{disabled:s,copyValue:e,buttonText:o("input_copy_button"),fullsize:!0}),(0,D.tZ)(WI.o,{disabled:s,buttonText:o("team_settings_encryption_service_config_download_button"),downloadString:e,fileName:"dashlane-encryption-service-config.txt",fileType:"text/plain",fullsize:!0}))):null)};function HI(e){const t=(0,n.useMemo)((()=>e),[e]),[a,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(),o=(0,n.useCallback)((async()=>{const e={success:!1,error:{code:Vt.UnknownError}};try{return t?await u.C.getTeamDevice({teamDeviceAccessKey:t}):e}catch{return e}}),[t]),l=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||i(!0);const t=await o();return e.signal.aborted||(t.success&&r(t.data.teamDevice),i(!1)),t}),[o]);return(0,n.useEffect)((()=>{const e=new AbortController;return l(e),()=>{e.abort()}}),[l]),{teamDeviceLoading:a,teamDevice:s,refreshTeamDevice:l}}const qI={AWS:"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGN0C8B9HMKRD8J0BSYRAH","Microsoft Azure":"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGMVBAEK5GB0TZJ86K7ZWE"},YI=({context:e="GENERIC",...t})=>{var a,i;const{esConfig:s,esConfigLoading:r}=FI(),{teamDevice:o,teamDeviceLoading:l}=HI(s?.deviceAccessKey),[c,d]=(0,n.useState)(!1),{translate:u}=(0,P.Z)(),m={CONTENT:u.markup("team_settings_encryption_service_restart_failed_info_content_markup",{helpArticle:null!=(a=qI[null!=(i=s?.deploymentLocation)?i:""])?a:"",supportLink:"https://support.dashlane.com/hc/requests/new?utm_source=extension"},{linkTarget:"_blank"})},p={GENERIC:{TITLE:u("team_settings_encryption_service_restart_failed_info_title"),...m},SCIM:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_scim"),...m},ES:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_es"),...m},SSO:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_sso"),...m}};return(0,n.useEffect)((()=>{if(!l&&!r&&o&&s){const t=!o.hasLatestConfig&&"GENERIC"===e||"GENERIC"!==e;d(t)}}),[o,s,l,r,e]),c?(0,Ue.tZ)(Ue.ke,{mood:"warning",size:"large",title:p[e].TITLE,description:p[e].CONTENT,actions:p[e].BUTTON?[(0,Ue.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",key:"primary",onClick:()=>{d(!1)}},p[e].BUTTON)]:void 0,...t}):null};var QI,$I,KI,XI,JI;const ef="team_settings_encryption_service_enter_endpoint_placeholder_aws_linux",tf="_common_generic_error",af="https://",nf={AWS:"https://eu-west-1.console.aws.amazon.com/acm/home?region=eu-west-1#/welcome","Microsoft Azure":"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fget.dashlane.com%2Fazure%2Farm%2Fes%2Fazuredeploy.json"},sf={AWS:"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGN0C8B9HMKRD8J0BSYRAH","Microsoft Azure":"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGMVBAEK5GB0TZJ86K7ZWE"},rf={AWS:"team_settings_encryption_service_go_to_label_helper_aws_markup","Microsoft Azure":"team_settings_encryption_service_go_to_label_helper_azure_markup"},of={AWS:"team_settings_encryption_service_enter_endpoint_helper_aws_linux","Microsoft Azure":"team_settings_encryption_service_enter_endpoint_helper_azure"},lf={"Microsoft Azure":"team_settings_encryption_service_enter_endpoint_placeholder_azure",AWS:ef},cf="config",df="deploymentLocation",uf="encryptionServiceEndpoint",mf="ssoConnectorKey",pf="-sso.azurewebsites.net",{white:_f,midGreen00:gf}=d.O9T,hf=({migratingFromSSOConnector:e=!1,esConfig:t,onSave:a,teamSettings:s,updateTeamSettings:r})=>{var o,l,m;const[p,_]=(0,n.useState)(!1),[g,h]=(0,n.useState)(""),[y,C]=(0,n.useState)(!1),[w,E]=(0,n.useState)(!1),{translate:v}=(0,P.Z)(),{spaceDetails:N,teamId:S}=(0,x.fV)(),{initSsoProvisioning:I}=(0,R.u7)(BS.enclaveSdkApi),f=null!=(o=N?.associatedEmail)?o:"",M=(0,i.k6)(),T=s?.ssoServiceProviderUrl,Z={encryptionServiceEndpoint:(null!=T?T:"").replace(af,""),config:null!=(l=t?.config)?l:"",deploymentLocation:null!=(m=t?.deploymentLocation)?m:"",ssoConnectorKey:""},A=()=>M.goBack(),k=e=>e?null:v("team_settings_encryption_service_error_select_service"),O=e=>{const t=v("team_settings_encryption_service_error_invalid_ssoConnectorKey");try{const[t,a]=e.split("|"),n=atob(a);if(!t||!a||!n||36!==t.length||64!==n.length)throw new Error("Invalid key format")}catch{return t}return null},L=e=>{const t=v("team_settings_encryption_service_error_invalid_endpoint");if(!e)return t;let a;try{a=new URL(`${af}${e}`)}catch(e){return t}return"/"!==a.pathname||""!==a.search||""!==a.hash||a.href.includes("?")?t:null};return(0,D.tZ)(Gt.J9,{onSubmit:async(t,{setFieldValue:n,setFieldTouched:i})=>{h(""),_(!0),E(!1);const{deploymentLocation:s,encryptionServiceEndpoint:o,ssoConnectorKey:l}=t;if(!s)return void i(df);if(e&&!l)return void i(mf);n(cf,"");const d=e=>e.replace(/\/$/,"").toLowerCase();try{const i={deploymentLocation:s,encryptionServiceEndpoint:af+d(o),updateTeamDeviceConfigParams:{}};e&&l&&(i.updateTeamDeviceConfigParams.ssoConnectorKey=l);const m=await u.C.generateAndSaveEncryptionServiceConfig(i);if(!m.success)return void h(v(tf));const p=m.data.basicConfig;if(n(cf,p.config),t[uf]!==Z.encryptionServiceEndpoint&&(await r({ssoServiceProviderUrl:t[uf]?`${af}`+d(`${t[uf]}`):null}),await I({teamId:`${S}`})),_(!1),m.data.encryptionServiceReloadingStatus!==V.EncryptionServiceRestartStatusCodes.OK)return E(!0),C(!1),void a?.();tI({ssoSetupStep:c.SsoSetupStep.GenerateAndSaveConfiguration}),g||a?.()}catch(e){_(!1),h(v(tf))}},initialValues:Z,onReset:A},(a=>{var i,s;return(0,D.tZ)(Gt.l0,{autoComplete:"off"},(0,D.tZ)(GI.X,{dirty:a.dirty&&!p&&!w}),(0,D.tZ)(d.Zbd,null,(0,D.tZ)(d.Ol2,null,v("team_settings_encryption_service_header")),(0,D.tZ)(d.aYP,null,e?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.T5p,{gridTemplateAreas:"'header header' 'description description' 'input button'",gridTemplateColumns:"1fr auto",gap:"10px"},(0,D.tZ)(d.dDn,{as:d.Ejs,gridArea:"header"},(0,D.tZ)(d.nvN,{as:"h3",bold:!0},v("team_settings_encryption_service_migrate_sso_title"))),(0,D.tZ)(d.dDn,{gridArea:"description"},(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00},v.markup("team_settings_encryption_service_migrate_sso_description_markup"))),(0,D.tZ)(d.dDn,{gridArea:"input"},(0,D.tZ)(Gt.gN,{name:mf,validate:O},(({field:{onChange:e,...t},meta:{error:n,touched:i}})=>(0,D.tZ)(d.oil,{onChange:t=>{e(t)},id:"ssoConnectorKey",placeholder:v("team_settings_encryption_service_sso_connector_key_placeholder"),fullWidth:!0,feedbackText:i&&n?n:void 0,feedbackType:i&&n?"error":void 0,"aria-invalid":i&&!!n,readOnly:a.isSubmitting,...t}))))),QI||(QI=(0,D.tZ)("hr",null))):null,(0,D.tZ)(d.T5p,{gridTemplateAreas:"'label select' 'desc select'",gap:"8px"},(0,D.tZ)(d.dDn,{gridArea:"label",as:d.nvN,innerAs:"label",htmlFor:"deploymentLocation",sx:{fontWeight:"bold"}},v("team_settings_encryption_service_deploy_label")),(0,D.tZ)(d.dDn,{gridArea:"desc",as:d.nvN,size:"medium"},v.markup("team_settings_encryption_service_deploy_label_helper_markup",{customerSupport:"https://support.dashlane.com/hc/requests/new?utm_source=extension"},{linkTarget:"_blank"})),(0,D.tZ)(d.dDn,{gridArea:"select"},(0,D.tZ)(Gt.gN,{name:df,validate:k},(({field:{onChange:e,...t},meta:{error:n,touched:i}})=>(0,D.tZ)(d.PhF,{onChange:t=>{a.setFieldValue(uf,((e,t)=>{if(!e||!t)return"";const a=e.replace(/.+@/,"");if("Microsoft Azure"===t){const[e,t,...n]=a.split(".").reverse(),i=t+pf;return i.length<=42?i:t.slice(0,42-pf.length)+pf}return"AWS"===t?"dashlane-sso."+a:""})(f,t.target.value)),C(Z.deploymentLocation!==t.target.value),tI({ssoSetupStep:c.SsoSetupStep.SelectEncryptionServicePlatform,encryptionServicePlatformSelected:"AWS"===t.target.value?c.EncryptionServicePlatformSelected.AmazonWebServices:c.EncryptionServicePlatformSelected.Azure}),e(t)},feedbackId:"deploymentLocationFeedback",selectId:"deploymentLocation",options:Object.keys(of),placeholder:v("team_settings_encryption_service_select_host"),intent:i&&n?"error":void 0,feedbackText:i&&n?n:void 0,readOnly:a.isSubmitting,...t}))))),$I||($I=(0,D.tZ)("hr",null)),(0,D.tZ)(d.T5p,{gridTemplateColumns:"auto",gap:"8px"},(0,D.tZ)(d.dDn,{as:d.nvN,innerAs:"label",htmlFor:"endpointInput",sx:{fontWeight:"bold"}},v("team_settings_encryption_service_enter_endpoint_label")),(0,D.tZ)(d.dDn,{as:d.nvN,size:"small",sx:{mb:"16px"}},v(null!=(i=of[a.values[df]])?i:"team_settings_encryption_service_enter_endpoint_label_helper_no_selection")),e?(0,D.tZ)(d.nvN,{size:"small"},v("team_settings_encryption_service_current_endpoint_label")," ",T):null,(0,D.tZ)(Gt.gN,{name:uf,validate:L},(({field:{onChange:e,...t},meta:{error:n,touched:i},form:{values:{deploymentLocation:s}}})=>{var r;return(0,D.tZ)(d.oil,{sx:{pl:0},onChange:t=>{C(Z.encryptionServiceEndpoint!==t.target.value),e(t)},startAdornment:KI||(KI=(0,D.tZ)(d.nvN,{color:"neutrals.6"},af)),id:"endpointInput",placeholder:v(null!=(r=lf[s])?r:ef),fullWidth:!0,feedbackText:i&&n?n:void 0,feedbackType:i&&n?"error":void 0,"aria-invalid":i&&!!n,readOnly:a.isSubmitting,...t})}))),XI||(XI=(0,D.tZ)("hr",null)),w?(0,D.tZ)(YI,{sx:{marginBottom:"20px"},context:"ES"}):null,(0,D.tZ)(Gt.gN,{name:cf},(({field:n,meta:i,form:{values:{deploymentLocation:s,ssoConnectorKey:r}}})=>{var o;return(0,D.tZ)(VI,{configRegenRequired:y,disabled:!s||e&&!r,lastGeneratedTimeStamp:t?.lastGeneratedTimeStamp,value:n.value,error:(null!=(o=i.error)?o:!a.isSubmitting&&y)?v("team_settings_encryption_service_config_regen_warning"):void 0,isLoading:p||a.isSubmitting})})),JI||(JI=(0,D.tZ)("hr",null)),(0,D.tZ)(d.T5p,{gridTemplateAreas:"'header button' 'description button'",gap:"8px"},(0,D.tZ)(d.dDn,{gridArea:"header",as:d.nvN,sx:{fontWeight:"bold"}},v("team_settings_encryption_service_go_to_label")),(0,D.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small",sx:{mb:"16px"}},((s=a.values.deploymentLocation)||(s="AWS"),v.markup(rf[s],{setupGuide:sf[s]},{linkTarget:"_blank"}))),(0,D.tZ)(d.dDn,{gridArea:"button",as:d.zxk,type:"button",nature:a.values.config&&!y?"primary":"secondary",disabled:!a.values[df]||!a.values[cf]||y,onClick:()=>{tI({ssoSetupStep:c.SsoSetupStep.AddConfigurationToServiceHost}),(0,b.Yo)(nf[a.values[df]])}},v("team_settings_encryption_service_go_to_button"),(0,D.tZ)(d.RTC,{color:a.values.config&&!y?_f:gf,sx:{ml:"4px"}})))),(0,D.tZ)(d.eWM,{flexWrap:"nowrap"},g?(0,D.tZ)(d.j49,{sx:{width:"40%",ml:0,mr:"auto"},color:"errors.5"},g):null,(0,D.tZ)(d.zxk,{nature:"secondary",size:"large",type:"button",onClick:()=>A()},v("team_settings_encryption_service_button_cancel")))))}))};var bf,yf=a(505352);const Cf="team_settings_encryption_service_not_available",{dashGreen00:wf,midGreen00:Ef,midGreen03:vf,midGreen04:Nf,white:Sf}=d.O9T,If=({config:e})=>{var t;const{translate:a}=(0,P.Z)(),{teamDevice:n,refreshTeamDevice:i,teamDeviceLoading:s}=HI(e.deviceAccessKey),r=a.markup("team_settings_encryption_service_tooltip_text_markup",{updateServiceUrl:"https://support.dashlane.com/hc/en-us/articles/360013149040-Dashlane-SSO-Overview-Deployment-steps"},{linkTarget:"_blank"},{color:Sf,hoverColor:Nf,activeColor:vf});return(0,D.tZ)(yf.R,null,s?bf||(bf=(0,D.tZ)(d.HoD,{color:wf})):(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:"5px"},(0,D.tZ)(d.nvN,{size:"x-small"},`${a("team_settings_encryption_service_last_restart")}\n                    ${n?.lastStartDateUnix?(0,xt.Z)(n.lastStartDateUnix).toLocaleString(navigator.language,{...Ze.qG.lll,timeZoneName:"short"}):a(Cf)}`),(0,D.tZ)(d.Ejs,{gap:"8px"},(0,D.tZ)(d.nvN,{size:"x-small"},`\n                   ${a("team_settings_encryption_service_version")}\n                   ${null!=(t=n?.version)?t:a(Cf)}\n                  `),!1===n?.hasLatestVersion?(0,D.tZ)(d.ua7,{content:(0,D.tZ)(d.nvN,{size:"x-small",color:"white"},r),hoverCloseDelay:1e3},(0,D.tZ)(Ue.Ct,{mood:"danger",iconName:"FeedbackWarningOutlined",layout:"iconLeading",label:a("team_settings_encryption_service_new_version")})):null),(0,D.tZ)(d.nvN,{size:"x-small"},(0,D.tZ)(d.rUS,{color:Ef,hoverColor:wf,activeColor:"primaries.5",sx:{textDecoration:"none",fontWeight:"normal"},onClick:()=>i()},(0,D.tZ)(d.DuK,{sx:{display:"inline",marginRight:"5px"},color:Ef,size:12}),a("team_settings_encryption_service_refresh")))))};var ff,xf;const{dashGreen00:Mf,grey00:Tf}=d.O9T,Df=({esConfig:e,loading:t,parentPath:a,disableSetupButton:n})=>{const{translate:s}=(0,P.Z)(),r=(0,i.k6)(),o=!e&&!t;return(0,D.tZ)(d.Zbd,null,(0,D.tZ)(d.T5p,{as:d.aYP,gridTemplateAreas:"'header button' 'description button' 'status .'",gridTemplateColumns:"1fr auto",gap:"8px",sx:{bg:"white",border:"none"}},(0,D.tZ)(d.dDn,{as:d.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},e?null:(0,D.tZ)(d.j49,{color:Tf,sx:{display:"block"}},s("team_settings_encryption_service_get_started")),s("team_settings_encryption_service_header")),(0,D.tZ)(d.dDn,{gridArea:"description"},(0,D.tZ)(d.nvN,{size:"small",color:Tf},s("team_settings_encryption_service_description")),ff||(ff=(0,D.tZ)("br",null)),(0,D.tZ)(d.nvN,{size:"small",as:d.rUS,color:"primaries.7",hoverColor:"primaries.6",activeColor:"primaries.5",href:"https://support.dashlane.com/hc/articles/4404322174482",rel:"noopener noreferrer",target:"_blank"},s("team_settings_encryption_service_more_info_link"))),(0,D.tZ)(d.dDn,{id:"esSetupButton",as:Ue.zx,disabled:t||n,mood:o?"brand":"neutral",intensity:o?"catchy":"quiet",gridArea:"button",type:"button",alignSelf:"center",size:"large",onClick:()=>{tI({ssoSetupStep:c.SsoSetupStep.SetUpEncryptionServiceSettings}),r.push(`${a}/encryption-service-settings`)}},t?xf||(xf=(0,D.tZ)(d.HoD,{color:Mf})):s(e?"team_settings_button_edit_label":"team_settings_encryption_service_set_up")),e?(0,D.tZ)(d.dDn,{gridArea:"status",sx:{mt:"20px"}},(0,D.tZ)(If,{config:e})):null))};var Zf=a(815279),Af=a(590898);const kf=({actions:e,endIcon:t,fieldName:a,feedbackType:n,feedbackText:i,handleAdd:s,...r})=>{const[{value:{name:o},onBlur:l,...c},{error:d},{setValue:u}]=(0,Gt.U$)(a),m=o?null!=i?i:d:void 0,p=(null!=n?n:m)?"error":void 0;return(0,D.tZ)(Af.h,{textInputProps:{id:a,endAdornment:t,feedbackText:m,feedbackType:p,fullWidth:!0,value:o,...c,...r,onChange:({currentTarget:{value:e}})=>{u({name:e})},onKeyPress:e=>{"Enter"===e.key&&(s(),e.preventDefault(),e.stopPropagation())},onBlur:e=>{e.currentTarget.value&&!e.currentTarget.readOnly&&s(),l?.(e)}},tooltipProps:{passThrough:!0},replacementActions:e})};var Of,Lf,zf,jf=a(465343),Pf=a.n(jf);const{accessibleValidatorGreen:Rf,orange00:Uf,dashGreen02:Bf}=d.O9T,Ff="team_settings_domain_register_invalid_error",Gf=({fieldArrayName:e,domainLoadError:t,refreshDomains:a})=>{const{translate:i}=(0,P.Z)(),{values:s}=(0,Gt.u6)(),[r,o]=(0,n.useState)({}),[l,c]=(0,n.useState)({}),[m,p]=(0,n.useState)(""),[_,g]=(0,n.useState)(null),h=(e,t)=>{o((a=>({...a,[e]:t})))},b=async t=>{const a=t.trim();if(!Pf().isFQDN(a))throw new Error(i(Ff));if(s[e].reduce(((e,t)=>t.name===a?e+1:e),0)>1)throw new Error(i("team_settings_domain_register_duplicated_error"));(e=>{c((t=>({...t,[e]:!0})))})(t);const n=await u.C.registerTeamDomain({domain:a});var r;if((e=>{c((({[e]:t,...a})=>a))})(t),!n.success)throw new Error(i(null!=(r={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support"}[n.error.code])?r:Ff))},y=async e=>{await b(e.name),await a()};return t?(0,D.tZ)(d.Ejs,{fullWidth:!0,justifyContent:"center"},(0,D.tZ)(d.j49,{color:"errors.4"},t)):(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,{as:"label",htmlFor:`${e}.${s[e].length-1}`,bold:!0,sx:{display:"inline-block",mb:"8px"}},i("team_settings_domain_title")),(0,D.tZ)(d.nvN,{size:"small",sx:{mb:"24px"}},i("team_settings_es_sso_setup_domain_description")),(0,D.tZ)(Gt.F2,{name:e},(e=>(0,D.tZ)(d.T5p,{justifyContent:"stretch",gridTemplateColumns:"auto",gap:"8px",gridAutoRows:"auto"},s[e.name].map(((t,a)=>{var o,c;const u=l[t.name],m=t.status===V.DomainStatus.valid,_=t.status===V.DomainStatus.pending||t.status===V.DomainStatus.invalid||t.status===V.DomainStatus.expired,b=u?Of||(Of=(0,D.tZ)(d.HoD,{color:"primaries.5",size:20})):m?Lf||(Lf=(0,D.tZ)(d.rE2,{color:Rf})):_?(0,D.tZ)(d.enX,{color:t.status===V.DomainStatus.pending?Bf:Uf}):void 0;return(0,D.tZ)(n.Fragment,{key:`${e.name}.${null!=(o=t.id)?o:a}`},(0,D.tZ)(kf,{placeholder:i("team_settings_es_sso_domain_url_placeholder"),fieldName:`${e.name}.${a}`,readOnly:null!=(c=!!t.status)?c:u,autoFocus:a===s[e.name].length-1,endIcon:b,feedbackType:!t.status&&r[t.name]?"error":void 0,feedbackText:t.status?void 0:r[t.name],handleAdd:async()=>{try{await y(t),p(t.name)}catch(e){h(t.name,e.message)}},actions:(0,D.tZ)(n.Fragment,null,[void 0,V.DomainStatus.pending].includes(t.status)?(0,D.tZ)(d.zxk,{nature:"secondary",type:"button",disabled:u,onClick:()=>(async e=>{try{void 0===e.status&&await y(e),p(e.name)}catch(t){h(e.name,t.message)}})(t)},i(void 0===t.status?"team_settings_es_sso_setup_add_domain":"team_settings_es_sso_setup_verify_button")):null,t.name.length&&void 0!==t.status?(0,D.tZ)(Zf.h,{nature:"secondary",type:"button",disabled:u,onClick:()=>g(t),icon:zf||(zf=(0,D.tZ)(d.XHJ,null))}):null)}))}))))),m?(0,D.tZ)(zw,{domainName:m,onSuccess:async()=>{p(""),await a()},onDismiss:()=>p("")}):null,_?(0,D.tZ)(mw,{domain:_,onDismiss:()=>g(null),onConfirm:async()=>{await(async e=>{if(!e)return;const t=await u.C.deactivateTeamDomain({domain:e});return t.success?void 0:t.error.code})(_.name),await a()}}):null)};var Wf;const Vf=({inputValue:e,labelText:t,disabled:a,loading:n,id:i})=>(0,D.tZ)(Aw.x,{inputValue:e,textInputProps:{fullWidth:!0,readOnly:!0,disabled:a,id:i,startAdornment:n?Wf||(Wf=(0,D.tZ)(d.HoD,{color:"primaries.5"})):void 0,label:(0,D.tZ)(d.nvN,{as:"label",bold:!0,sx:{mb:"4px"},htmlFor:i},t)},iconButtonProps:{disabled:a}}),Hf=e=>{const t=(0,n.useMemo)((()=>{var t,a;return{draft:null!=(t=e?.draft)&&t,deviceAccessKey:null!=(a=e?.deviceAccessKey)?a:""}}),[e?.draft,e?.deviceAccessKey]),[a,i]=(0,n.useState)(!0),[s,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),c=(0,n.useCallback)((async()=>{try{return await u.C.getTeamDeviceEncryptedConfig(t)}catch{return{success:!1,error:{code:Vt.UnknownError}}}}),[t]),d=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||i(!0);const t=await c();return e.signal.aborted||(r(t.success?null:t.error.code),t.success&&l(t.data),i(!1)),t}),[c]),m=(0,n.useCallback)((async e=>{i(!0);try{return await u.C.updateTeamDeviceEncryptedConfig(e)}catch{return{success:!1,error:{code:Vt.UnknownError}}}finally{i(!1)}}),[]);return(0,n.useEffect)((()=>{const e=new AbortController;return d(e),()=>{e.abort()}}),[d]),{teamDeviceConfigLoading:a,loadTeamDeviceConfigErrorCode:s,teamDeviceConfig:o,updateTeamDeviceConfig:m,refreshTeamDeviceConfig:d}};var qf,Yf,Qf,$f;const{grey00:Kf}=d.O9T,Xf="team_settings_es_sso_setup_header",Jf="team_settings_domain_fetch_error",ex={GENERIC_ERROR:"_common_generic_error"},tx=e=>e?`${e}/saml/callback`:"",ax="ssoIdpMetadata",nx=()=>{var e;const{translate:t}=(0,P.Z)(),{teamId:a}=(0,x.fV)(),{updateTeamDeviceConfig:s}=Hf(),[r,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[m,p]=(0,n.useState)([]),_=(0,n.useRef)(null),[g,h]=(0,n.useState)(!1),[b,y]=(0,n.useState)(""),{teamSettings:C={},teamSettingsLoading:w}=CE(a),{ssoIdpMetadata:E,ssoServiceProviderUrl:v=""}=C,N=(0,i.k6)(),S=(0,n.useCallback)((async()=>{try{y("");const e=await u.C.getTeamDomains();if(e.success){const t=e.domains.length?e.domains:[];p([...t,{name:"",id:0}])}else y(t(Jf))}catch(a){var e;y(null!=(e=a.message)?e:t(Jf))}}),[t]);(0,n.useEffect)((()=>{h(!0),S().then((()=>h(!1)))}),[S]);const I={domains:m,ssoIdpMetadata:null!=(e=null!=E?E:_.current?.value)?e:""},f=()=>N.goBack();return w||g?(0,D.tZ)(d.Zbd,null,(0,D.tZ)(d.Ol2,null,t(Xf)),qf||(qf=(0,D.tZ)(d.aYP,null,(0,D.tZ)(d.Ejs,{fullWidth:!0,justifyContent:"center"},(0,D.tZ)(d.HoD,{size:60,color:"primaries.5"}))))):(0,D.tZ)(Gt.J9,{onSubmit:async(e,a)=>{try{var n;o(!0),c(!1);const i=await s({ssoEnabled:!0,[ax]:e[ax],connectorEndpoint:v||void 0,teamDeviceUrl:null!=(n=C.ssoServiceProviderUrl)?n:void 0});if(!i.success){const e=i.error.code.toUpperCase();if("DEACTIVATED_TEAM_DEVICE"===e)return;const n=t(ex[e]?ex[e]:ex.GENERIC_ERROR);return void a.setFieldError(ax,n)}if(i.data.encryptionServiceReloadingStatus!==V.EncryptionServiceRestartStatusCodes.OK)return void c(!0);f()}catch(e){a.setFieldError(ax,t(ex.GENERIC_ERROR))}finally{o(!1)}},initialValues:I,enableReinitialize:!0},(({isSubmitting:e,dirty:a})=>{return(0,D.tZ)(Gt.l0,{autoComplete:"off",noValidate:!0},(0,D.tZ)(GI.X,{dirty:a&&!r&&!l}),(0,D.tZ)(d.Zbd,null,(0,D.tZ)(d.Ol2,null,t(Xf)),(0,D.tZ)(d.aYP,null,(0,D.tZ)(Gf,{fieldArrayName:"domains",domainLoadError:b,refreshDomains:S}),Yf||(Yf=(0,D.tZ)("hr",null)),(0,D.tZ)(Ue.ke,{title:t.markup("team_settings_es_sso_setup_copy_info_to_idp_markup"),sx:{mb:"32px"}}),(0,D.tZ)(d.T5p,{justifyContent:"stretch",gridTemplateColumns:"auto",gap:"32px",gridAutoRows:"auto"},(0,D.tZ)(Vf,{id:"entity-id-input",inputValue:(n=v,n?`${n}/saml/`:""),labelText:t("team_settings_es_sso_entity_id_label"),disabled:w||!v,loading:w}),(0,D.tZ)(Vf,{id:"acs-url-input",inputValue:tx(v),labelText:t("team_settings_es_sso_acs_url_label"),disabled:w||!v,loading:w})),Qf||(Qf=(0,D.tZ)("hr",null)),(0,D.tZ)(d.nvN,{as:"label",bold:!0,htmlFor:"sso-metadata-input"},t("team_settings_es_sso_metadata_label")),(0,D.tZ)(d.nvN,{size:"small",color:Kf,sx:{mt:"8px",mb:"24px"}},t("team_settings_es_sso_metadata_description")),(0,D.tZ)(Gt.gN,{name:ax},(({field:e,meta:{error:t,touched:a}})=>(0,D.tZ)(d.oil,{id:"sso-metadata-input",sx:{height:"10em",resize:"vertical"},...e,ref:_,multiline:!0,fullWidth:!0,feedbackText:a&&t?t:void 0,feedbackType:a&&t?"error":void 0})))),(0,D.tZ)(d.eWM,null,l?(0,D.tZ)(d.Ejs,{sx:{flexGrow:1,justifyContent:"center"}},$f||($f=(0,D.tZ)(YI,{context:"SSO"}))):null,(0,D.tZ)(d.zxk,{disabled:e,nature:"secondary",size:"large",type:"button",onClick:f},t("team_settings_es_sso_setup_cancel")),(0,D.tZ)(d.zxk,{disabled:e,nature:"primary",type:"submit",size:"large"},t("team_settings_es_sso_setup_save")))));var n}))},{grey00:ix}=d.O9T,sx="team_settings_enable_sso_test_button",rx=({actionsDisabled:e,ssoServiceProviderUrl:t})=>{const{translate:a}=(0,P.Z)(),n=t?`${t}/saml/login?redirect=test_idp`:"";return(0,D.tZ)(d.T5p,{gap:"8px",gridTemplateAreas:"'header buttons' 'description buttons' ",gridTemplateColumns:"1fr auto"},(0,D.tZ)(d.dDn,{as:d.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},a("team_settings_enable_sso_test_title")),(0,D.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small",color:ix},a("team_settings_enable_sso_test_description")),(0,D.tZ)(d.T5p,{gap:"8px",gridTemplateAreas:"'test copy'",as:d.dDn,gridArea:"buttons"},(0,D.tZ)(d.dDn,{gridArea:"test"},(0,D.tZ)(II.M,{onClick:()=>{(0,b.Yo)(n)},size:"medium","aria-label":a(sx),disabled:null!=e?e:!n,content:a("team_settings_es_sso_setup_incomplete")},a(sx),(0,D.tZ)(d.RTC,{sx:{ml:"4px"},color:"white"}))),(0,D.tZ)(d.dDn,{gridArea:"copy"},(0,D.tZ)(Xv.q,{buttonText:a("team_settings_copy_sso_url_button"),disabled:null!=e?e:!n,copyValue:null!=n?n:""}))))},ox=({closeDialog:e})=>{const{translate:t}=(0,P.Z)();return n.createElement(p.o,{isOpen:!0,onRequestClose:()=>e(yw.dismiss),footer:n.createElement(d.cNS,{primaryButtonTitle:t("team_settings_enable_sso_dialog_disable_action"),primaryButtonOnClick:()=>e(yw.action),secondaryButtonTitle:t("team_settings_enable_sso_cancel"),secondaryButtonOnClick:()=>e(yw.dismiss),intent:"danger"}),title:t("team_settings_enable_sso_dialog_disable_title")},t("team_settings_enable_sso_dialog_disable_description"))};var lx;const{grey00:cx}=d.O9T,dx=({actionsDisabled:e,ssoEnabled:t,updateTeamSettings:a,loading:i})=>{const{translate:s}=(0,P.Z)(),[r,o]=(0,n.useState)(!1),[l,u]=(0,n.useState)(!1),m=(0,Na.V)(),p=(0,Wc.h)(),_=p.status===W.rq.Success&&p.data.deployment_web_nitroSSOBeta_chooseSSO,g=()=>{m.showAlert(t?s("_common_generic_error"):s.markup("team_settings_enable_sso_action_toggle_warning_markup",void 0,{linkTarget:"_blank"}),d.BLW.ERROR)},h=async()=>{try{await a({ssoEnabled:!0}),tI({ssoSetupStep:c.SsoSetupStep.CompleteSsoSetup})}catch(e){g()}};return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.T5p,{gap:"8px",gridTemplateAreas:"'header buttons' 'description toggle' ",gridTemplateColumns:"1fr auto"},(0,D.tZ)(d.dDn,{as:d.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},s("team_settings_enable_sso_action_title")),(0,D.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small",color:cx},s("team_settings_enable_sso_action_description"),lx||(lx=(0,D.tZ)("br",null)),s("team_settings_enable_sso_action_description_note")),(0,D.tZ)(d.dDn,{gridArea:"toggle"},(0,D.tZ)(Ue.ZD,{disabled:e||i,checked:t,onChange:async()=>{t?o(!0):_?(u(!0),tI({ssoSetupStep:c.SsoSetupStep.TurnOnSso})):await h()}}))),r?(0,D.tZ)(ox,{closeDialog:async e=>{if(o(!1),e!==yw.dismiss)try{const e=!t;await a({ssoEnabled:e})}catch(e){g()}}}):null,l?(0,D.tZ)(vI,{title:"Are you sure you want to turn on self-hosted SSO?",body:"You won’t be able to switch to Confidential SSO while Self-hosted SSO is in use.",onCancel:()=>{u(!1)},onConfirm:async()=>{await h(),u(!1)}}):null)};var ux;const{grey00:mx}=d.O9T;var px;!function(e){e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.COMPLETE="COMPLETE",e.INCOMPLETE="INCOMPLETE",e.NOT_STARTED="NOT_STARTED",e.UNAVAILABLE="UNAVAILABLE",e.ERROR="ERROR"}(px||(px={}));const _x=({disableSetupButton:e,isSsoCapable:t})=>{const{translate:a}=(0,P.Z)(),{teamId:s}=(0,x.fV)(),{teamSettings:r={},updateTeamSettings:o,teamSettingsLoading:l}=CE(s),{ssoEnabled:c=!1,ssoServiceProviderUrl:m="",ssoIdpMetadata:p}=r,[_,g]=(0,n.useState)(px.UNKNOWN),h=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),b=h.data?.global.isTeamProvisionedInNitro;(0,n.useEffect)((()=>{g(px.LOADING),u.C.getTeamDomains().then((e=>{if(!e.success)return void g(px.ERROR);if(!m||b)return void g(px.UNAVAILABLE);const t=e.domains.some((({status:e})=>"valid"===e)),a=e.domains.length>0,n=!!p;switch(!0){case t&&n:g(px.COMPLETE);break;case!a&&n||a&&!n||!t&&a&&n:g(px.INCOMPLETE);break;case!a&&!n:g(px.NOT_STARTED)}}))}),[p,m]);const y=_===px.UNAVAILABLE||l||e,{path:C}=(0,i.$B)(),w=(0,i.k6)(),E=[px.COMPLETE,px.INCOMPLETE].includes(_);return(0,D.tZ)(d.Zbd,null,(0,D.tZ)(d.T5p,{as:d.aYP,gridTemplateAreas:"'header button' 'description button'",gridTemplateColumns:"1fr auto",gap:"8px",sx:{bg:"white",border:"none"}},(0,D.tZ)(d.dDn,{as:d.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},a("team_settings_es_sso_setup_header")),(0,D.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small",color:mx},a("team_settings_es_sso_setup_description")),(0,D.tZ)(d.dDn,{gridArea:"button",alignSelf:"center"},(0,D.tZ)(II.M,{id:"ssoSetupButton",loading:l||_===px.LOADING,disabled:y,type:"button",size:"large",onClick:()=>{w.push(`${C}/sso-settings`)},content:a("team_settings_es_sso_setup_configure_es_tooltip"),neverShowTooltip:!t,mood:E?"neutral":"brand",intensity:E?"quiet":"catchy"},a(E?"team_settings_button_edit_label":"team_settings_es_sso_setup_button")))),E?(0,D.tZ)(d.aYP,{sx:{bg:"white"}},(0,D.tZ)(rx,{actionsDisabled:_!==px.COMPLETE,ssoServiceProviderUrl:m}),ux||(ux=(0,D.tZ)("br",null)),(0,D.tZ)(dx,{actionsDisabled:_!==px.COMPLETE,ssoEnabled:c,loading:l,updateTeamSettings:o})):null)};var gx,hx,bx;const{dashDarkerGreen00:yx,dashGreen00:Cx,dashGreen06:wx,grey01:Ex,midGreen00:vx}=d.O9T,Nx=({backRoute:e})=>{const{translate:t}=(0,P.Z)(),{path:a}=(0,i.$B)(),{esConfig:s,esConfigLoading:r,refreshEncryptionServiceConfig:o}=FI(),{teamId:l}=(0,x.fV)(),{teamSettings:u,updateTeamSettings:m,teamSettingsLoading:p}=CE(l),_=(0,Be.w)("itadmin_tac_encryptionservice_SSOmigration_reset"),{status:g,data:h}=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),b=(0,Be.w)("deployment_web_nitroSSOBeta_chooseSSO");if(g!==R.rq.Success)return null;const{global:{ssoCapable:y,inferredSsoState:C}}=h,w=C===BS.InferredSsoState.enum.NitroIncomplete,E=b&&!h?.enableSSO.ssoEnabled,v=C===BS.InferredSsoState.enum.SsoConnectorIncomplete||C===BS.InferredSsoState.enum.SsoConnectorComplete,N=_||v;return(0,D.tZ)(d.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},(0,D.tZ)("div",{sx:{bg:wx,px:"48px",pt:"32px",pb:"4px"}},(0,D.tZ)(Qb,{title:t("team_settings_es_sso_title")}),E?(0,D.tZ)(d.rUS,{color:vx,hoverColor:Cx,activeColor:yx,onClick:()=>{tI({ssoSetupStep:c.SsoSetupStep.ReturnToSsoSelection}),(0,i.uX)(e)},sx:{fontSize:"16px",display:"flex",textDecoration:"none",marginTop:"-18px"}},(0,D.tZ)(Ue.JO,{name:"ArrowLeftOutlined",size:"small",color:Cx,sx:{marginRight:"10px"}})," ","Back"):null),(0,D.tZ)(GS,{mainContent:d.T5p,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,D.tZ)(n.Fragment,null,(0,D.tZ)(i.rs,null,(0,D.tZ)(i.AW,{exact:!0,path:a},(0,D.tZ)(lI,{pageContext:oI.SelfHosted,onSetupClear:()=>m({ssoServiceProviderUrl:null})}),gx||(gx=(0,D.tZ)(YI,null)),N?(0,D.tZ)(Ue.ke,{title:t("team_settings_es_sso_migration_infobox_title"),description:t("team_settings_es_sso_migration_infobox_body")}):null,(0,D.tZ)(Df,{loading:r||null===y,esConfig:s,parentPath:a,disableSetupButton:!y||w}),(0,D.tZ)(_x,{isSsoCapable:y,disableSetupButton:!y||!s?.config})),(0,D.tZ)(i.AW,{path:`${a}/encryption-service-settings`},r||p?hx||(hx=(0,D.tZ)(d.HoD,null)):(0,D.tZ)(hf,{migratingFromSSOConnector:N,onSave:()=>o(),teamSettings:u,updateTeamSettings:m,esConfig:s})),(0,D.tZ)(i.AW,{path:`${a}/sso-settings`},bx||(bx=(0,D.tZ)(nx,null)))),(0,D.tZ)(d.nvN,{size:"x-small",color:Ex},"6.2318.3"))},secondaryContent:KS,secondaryProps:{description:t("team_settings_es_sso_setup_guide_description"),heading:t("team_settings_es_sso_setup_guide_heading"),linkHref:"https://support.dashlane.com/hc/articles/360013149040",linkText:t("team_settings_es_sso_setup_guide_link_text")}}))},Sx=({closeDialog:e})=>{const{translate:t}=(0,P.Z)(),a=t.markup("team_settings_sso_desktop_infobox_warning_markup",{learnMore:bp.rh},{linkTarget:"_blank"});return n.createElement(d.VqE,{closeIconName:t("_common_dialog_dismiss_button"),isOpen:!0,onClose:()=>e(yw.dismiss)},n.createElement("div",{className:"container--m6KmsQvg_3"},n.createElement(d.$N8,{title:t("team_settings_enable_sso_dialog_activate_title")}),n.createElement(d.a7O,null,n.createElement("div",{className:"toggleInfoBox--y5TmWAMYcl"},a&&n.createElement(d.vDh,{severity:"warning",size:"small",title:a}))),n.createElement(d.cNS,{primaryButtonOnClick:()=>e(yw.action),primaryButtonTitle:t("team_settings_enable_sso_dialog_activate_action"),secondaryButtonOnClick:()=>e(yw.dismiss),secondaryButtonTitle:t("team_settings_enable_sso_cancel")})))},Ix=({closeDialog:e})=>{const{translate:t}=(0,P.Z)();return n.createElement(p.o,{isOpen:!0,onRequestClose:()=>e(yw.dismiss),footer:n.createElement(d.cNS,{primaryButtonTitle:t("team_settings_enable_sso_dialog_disable_action"),primaryButtonOnClick:()=>e(yw.action),secondaryButtonTitle:t("team_settings_enable_sso_cancel"),secondaryButtonOnClick:()=>e(yw.dismiss),intent:"danger"}),title:t("team_settings_enable_sso_dialog_disable_title")},t("team_settings_enable_sso_dialog_disable_description"))},fx=({teamSettings:e,updateTeamSettings:t,teamId:a,planTier:i,setStepComplete:s})=>{var r;const[o,l]=(0,n.useState)(null!=(r=e?.ssoEnabled)&&r),[c,m]=(0,n.useState)(!1),[p,_]=(0,n.useState)(!1),[g,h]=(0,n.useState)([]),[y,C]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(!o)return"legacy"===i||"team"===i?C(!0):void 0;s(hw.EnableSSO)}),[a,g,o,i,s]),(0,n.useEffect)((()=>{(async()=>{const e=await u.C.getTeamDomains();e.success&&h(e.domains.filter((e=>"valid"===e.status)).map((e=>e.name)))})()}),[]);const{translate:w}=(0,P.Z)(),E=async e=>{if(_(!1),e!==yw.dismiss)try{const e=!o;await t({ssoEnabled:e}),l(e)}catch(e){m(!0)}};return n.createElement("div",{className:"enableSSOContainer--VLsANoM8AQ"},n.createElement(gw,{label:w("team_settings_enable_sso_test_title"),labelHelper:w("team_settings_enable_sso_test_description")},n.createElement(d.zxk,{type:"button",nature:"primary",onClick:()=>{(0,b.Yo)(`${e?.ssoServiceProviderUrl}/saml/login?redirect=test_idp`)},disabled:!(e&&e.ssoServiceProviderUrl)},w("team_settings_enable_sso_test_button"))),n.createElement(gw,{label:w("team_settings_enable_sso_action_title"),labelHelper:w("team_settings_enable_sso_action_description")},y?n.createElement(d.zxk,{nature:"primary",onClick:()=>(0,b.Yo)(bp.Bw),type:"button"},w("team_settings_enable_sso_contact_support")):n.createElement("div",null,n.createElement(d.ZDl,{onClick:()=>_(!0),checked:o,disabled:c}),o?n.createElement("div",{className:"toggleDescription--S3OccP6JDd"},w("team_settings_enable_sso_action_toggle_description")):null,c?n.createElement("div",{className:"toggleWarning--TU8a__FJDp"},w.markup("team_settings_enable_sso_action_toggle_warning_markup")):null)),p?o?n.createElement(Ix,{closeDialog:E}):n.createElement(Sx,{closeDialog:E}):null)};var xx=a(907709);const Mx=({isTeamSettingsLoading:e,teamSettings:t})=>{const{translate:a}=(0,P.Z)(),[i,s]=n.useState(""),[r,o]=n.useState(""),[l,c]=n.useState(""),d=t?.ssoServiceProviderUrl;return n.useEffect((()=>{!e&&d&&(s((0,xx.UQ)(d,"saml")),o((0,xx.UQ)(d,"saml/")),c((0,xx.UQ)(d,"saml/callback")))}),[e,d]),n.createElement("div",{className:"configureIDPContainer--ACoVdM7s0N"},n.createElement(gw,{label:a("team_settings_configure_idp_connector_metadata"),centerLabel:!0},n.createElement(Aw.x,{inputValue:i,textInputProps:{fullWidth:!0,readOnly:!0}})),n.createElement(gw,{label:a("team_settings_configure_idp_entity_id"),centerLabel:!0},n.createElement(Aw.x,{inputValue:r,textInputProps:{fullWidth:!0,readOnly:!0}})),n.createElement(gw,{label:a("team_settings_configure_idp_login_url"),centerLabel:!0},n.createElement(Aw.x,{inputValue:l,textInputProps:{fullWidth:!0,readOnly:!0}})))},Tx="connectorInfoContainer--e07d9cT8Hu",Dx="textField--Nk7DpcX8Pp",Zx="loading--sfYFOqhXPS",Ax="installerButtonContainer--iP6MNTnQrn",kx="errorText--snbBoX2meA",Ox=({keyValue:e,onGenerateClicked:t,isGeneratorDisabled:a,generatorDisabledText:i})=>{const{translate:s}=(0,P.Z)(),[r,o]=(0,n.useState)(!1),l=(0,n.useRef)(null);return(0,n.useEffect)((()=>{l.current&&new(Nd())(l.current,{text:()=>e})}),[e]),(0,D.tZ)(gw,{label:s("team_settings_connector_generator_title"),labelHelper:s("team_settings_connector_generator_description")},(0,D.tZ)("div",{className:"generatorContainer--_83Buo4tVF"},(0,D.tZ)(d.ua7,{content:i,passThrough:!a,sx:{maxWidth:"210px"}},(0,D.tZ)("div",{className:a?"generatorDisableContent--Olv4UpdAqY":""},(0,D.tZ)(d.zxk,{type:"button","aria-describedby":"errorKeyWarning",className:"generatorButton--I0z2qEK25R",onClick:()=>{o(!0),t()},disabled:a},s("team_settings_connector_generator_button")),(0,D.tZ)("div",{className:"generatorInputContainer--M4lkXUrCCY"},(0,D.tZ)(Aw.x,{inputValue:e,textInputProps:{readOnly:!0,fullWidth:!0,disabled:a,style:{cursor:a?"not-allowed":"text"}},tooltipProps:{passThrough:a},iconButtonProps:{disabled:a}})),r&&(0,D.tZ)("p",{id:"errorKeyWarning",className:kx},s("team_settings_connector_generator_warning"))))))},Lx="team_settings_connector_installer_tooltip",zx=({isTeamSettingsLoading:e,isSsoEnabled:t,idpMetadata:a,connectorUrl:i})=>{const{translate:s}=(0,P.Z)(),[r,o]=(0,n.useState)(""),[l,c]=(0,n.useState)("");(0,n.useEffect)((()=>{o("")}),[a,i]);const m=Boolean(a&&i&&(l||t));return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(Ox,{keyValue:l,onGenerateClicked:async()=>{const e=await u.C.generateSSOConnectorKey();c(e)},isGeneratorDisabled:t,generatorDisabledText:s("team_settings_connector_generator_instance_help")}),(0,D.tZ)(gw,{label:s("team_settings_connector_installer_title"),labelHelper:s("team_settings_connector_installer_description")},(0,D.tZ)("div",{className:e?Zx:Ax},(0,D.tZ)(d.ua7,{content:s(Lx),passThrough:m,sx:{maxWidth:"210px"}},(0,D.tZ)(d.zxk,{type:"button","aria-describedby":"configError",disabled:!m,onClick:async()=>{o("");const e=await u.C.createSSOConnectorConfig({connectorUrl:i,connectorKey:l,idpMetadata:a});e.success?(0,Xt.S)(e.config,"dashlane-sso-config.txt","text/plain"):e.success||o(e.error.code)}},(0,D.tZ)("div",{className:"downloadIcon--dtf6SHkd51"},(0,D.tZ)(d._8t,{color:pg()["--white"]})),s("team_settings_connector_installer_config_button")),r?(0,D.tZ)("p",{id:"configError",className:kx},s("team_settings_connector_installer_error")):null))),(0,D.tZ)(gw,{label:s("team_settings_connector_installer_setup_title"),labelHelper:s("team_settings_connector_installer_setup_description")},(0,D.tZ)("div",{className:e?Zx:Ax},(0,D.tZ)(d.ua7,{content:s(Lx),passThrough:m,sx:{maxWidth:"210px"}},(0,D.tZ)(d.zxk,{type:"button",disabled:!m,onClick:()=>(0,b.Yo)(bp.nC)},(0,D.tZ)("div",{className:"openIcon--Jft6n3KJTS"},(0,D.tZ)(d.RTC,{color:pg()["--white"]})),s("team_settings_connector_installer_button"))))))},jx="team_settings_connector_edit",Px="team_settings_connector_save",Rx="team_settings_connector_saving",Ux="team_settings_connector_success",Bx=({isTeamSettingsLoading:e,saveConnectorURL:t,saveIdpMetadata:a,teamSettings:i})=>{var s,r;const{translate:o}=(0,P.Z)();return n.createElement(n.Fragment,null,n.createElement(gw,{label:o("team_settings_connector_metadata_title")},n.createElement("div",{className:Tx},n.createElement(Zg.X,{isDisabled:e,multiLine:!0,defaultValue:null!=(s=i?.ssoIdpMetadata)?s:"",saveBtnLabel:o(Px),savingBtnLabel:o(Rx),editBtnLabel:o(jx),placeholder:o("team_settings_connector_metadata_placeholder"),successMessage:o(Ux),onSave:a,inputFieldClassName:"inputField--SXqAbTX3lX",textFieldClassName:Dx}))),n.createElement(gw,{label:o("team_settings_connector_url_title"),labelHelper:o("team_settings_connector_url_description")},n.createElement("div",{className:Tx},n.createElement(Zg.X,{isDisabled:e,defaultValue:null!=(r=i?.ssoServiceProviderUrl)?r:"",saveBtnLabel:o(Px),savingBtnLabel:o(Rx),editBtnLabel:o(jx),placeholder:o("team_settings_connector_url_placeholder"),successMessage:o(Ux),onSave:t,textFieldClassName:Dx}))))},Fx=({setStepComplete:e,isTeamSettingsLoading:t=!1,teamSettings:a,updateTeamSettings:i})=>{var s,r,o;const{translate:l}=(0,P.Z)(),c=n.useCallback((async e=>{try{await i({ssoIdpMetadata:e})}catch(e){throw Error(l("team_settings_connector_metadata_error"))}}),[i,l]),d=n.useCallback((async e=>{try{const t=e?(0,xx.Yw)(e):null;await i({ssoServiceProviderUrl:t})}catch(e){throw Error(l("team_settings_connector_url_error"))}}),[i,l]),u=a?.ssoServiceProviderUrl,m=a?.ssoIdpMetadata;return n.useEffect((()=>{t||m&&u&&e(hw.SSOConnector)}),[t,u,m,e]),n.createElement("div",{className:"ssoConnectorContainer--ndf4jAvwn0"},n.createElement(Bx,{isTeamSettingsLoading:t,teamSettings:a,saveConnectorURL:d,saveIdpMetadata:c}),n.createElement(zx,{isTeamSettingsLoading:t,isSsoEnabled:null!=(s=a?.ssoEnabled)&&s,idpMetadata:null!=(r=a?.ssoIdpMetadata)?r:"",connectorUrl:null!=(o=a?.ssoServiceProviderUrl)?o:""}))},Gx=({lee:e})=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(new Set),[s,r]=(0,n.useState)(new Set),[o,l]=(0,n.useState)(new Set([bw.EnableSSO,bw.SSOConnector]));(0,n.useEffect)((()=>{(0,v.N)(c.PageView.TacSettingsSsoLegacy)}),[]),(0,n.useEffect)((()=>{const e=new Set,t=new Set([bw.EnableSSO,bw.ConfigureIDP,bw.SSOConnector]);a.has(hw.ClaimDomain)&&a.has(hw.VerifyDomain)&&(e.add(bw.SSOConnector),e.add(bw.ConfigureIDP),e.add(bw.EnableSSO),t.delete(bw.SSOConnector),t.delete(bw.ConfigureIDP),t.delete(bw.EnableSSO)),a.has(hw.EnableSSO)&&(e.delete(bw.SSOConnector),e.delete(bw.ConfigureIDP)),r(e),l(t)}),[a]);const u=(0,n.useCallback)((e=>{i((t=>{const a=e=>e.every((e=>t.has(e)));let n=!0;switch(e){case hw.EnableSSO|hw.VerifyDomain:n=!0;break;case hw.SSOConnector:n=a([hw.ClaimDomain,hw.VerifyDomain]);break;case hw.EnableSSO:n=a([hw.ClaimDomain,hw.VerifyDomain,hw.SSOConnector])}return n&&!t.has(e)?new Set([...t,e]):t}))}),[]),m=(0,n.useCallback)((e=>{i((t=>{const a=new Set(t);return e.forEach((e=>{a.delete(e)})),a}))}),[]),p=(0,Js.ev)(e.globalState),{teamSettingsLoading:_,teamSettings:g,updateTeamSettings:h,planTier:y}=CE(p),C=[{label:t("team_settings_sso_connector_title"),component:Fx,locked:o.has(bw.SSOConnector),open:s.has(bw.SSOConnector),index:2},{label:t("team_settings_sso_identity_provider_title"),component:Mx,locked:o.has(bw.ConfigureIDP),open:s.has(bw.ConfigureIDP),index:3},{label:t("team_settings_sso_enable_title"),component:fx,locked:o.has(bw.EnableSSO),open:s.has(bw.EnableSSO),index:4}];return n.createElement(cS,{secondaryContent:_?n.createElement(Qr.Z,{containerClassName:"loadingContainer--Qcn7EL4GD5",size:40}):n.createElement(d.UQy,{size:"large"},C.map((e=>n.createElement(d.UlM,{open:e.open,key:e.label,readOnly:e.locked},n.createElement(d._Oh,null,`${e.index}. ${e.label}`),n.createElement(d.rN7,null,n.createElement("fieldset",{disabled:e.locked},n.createElement(e.component,{isTeamSettingsLoading:_,teamSettings:g,setStepComplete:u,updateTeamSettings:h,teamId:null!=p?p:null,planTier:null!=y?y:null}))))))),title:t("team_settings_menu_title_single_sign_on")},(()=>{if(!g||g.ssoEnabled)return null;if("team"===y||"legacy"===y){const e=t.markup("team_settings_sso_teamplan_infobox_warning_markup"),a=t("team_settings_sso_teamplan_infobox_warning_button");return n.createElement("div",{className:"infoBox--w1PtJInNuc"},n.createElement(d.vDh,{title:e,size:"simple",secondaryLabel:a,secondary:()=>(0,b.Yo)(bp.Bw)}))}return null})(),n.createElement("p",{className:lS.settingsHeader},t("team_settings_sso_title")),n.createElement(gw,{label:t("team_settings_sso_guide_title"),labelHelper:t("team_settings_sso_guide_description")},n.createElement(zg.Z,{label:t("team_settings_sso_setup_button"),onClick:()=>{(0,b.Yo)(bp.nC)}})),n.createElement(Iw,{isTeamSettingsLoading:_,teamSettings:g,setStepComplete:u,uncompleteSteps:m,updateTeamSettings:h,teamId:p,planTier:y}))};var Wx;const Vx={NONE:0,IDP_APPLICATION:1,IDP_METADATA:2,DOMAIN_NAME:3,DOMAIN_VERIFICATION:4,TEST_SSO:5,ENABLE_SSO:6},Hx=Object.keys(Vx).length-1,qx=(e,t,a)=>`step ${t} of ${a}`,Yx=({nitroStateStatus:e,nitroState:t})=>{if(e!==R.rq.Success||!t)return null;const a=(e=>{if(!e.global.isTeamProvisionedInNitro)return Vx.NONE;if(e.enableSSO.ssoEnabled)return Vx.ENABLE_SSO;const t=e.domainSetup[0]?.domainName;return e.domainVerificationInfo[t]?.verificationStatus===BS.DomainVerificationStatus.enum?.valid?Vx.DOMAIN_VERIFICATION:t?Vx.DOMAIN_NAME:e.idpMetadata.metadataValue?Vx.IDP_METADATA:e.global.isTeamProvisionedInNitro?Vx.IDP_APPLICATION:Vx.NONE})(t);return 0===a?Wx||(Wx=(0,Ue.tZ)(Ue.Ct,{label:"new",mood:"brand",intensity:"quiet"})):(0,Ue.tZ)(Ue.Ct,{label:qx`${a}${Hx}`,mood:"neutral",intensity:"quiet"})};var Qx,$x,Kx;let Xx;!function(e){e.Pro="pro",e.Con="con",e.Soon="soon"}(Xx||(Xx={}));const Jx=({title:e,badge:t,infoList:a,ctaText:n,ctaMuted:i,ctaAction:s,ctaDisabled:r})=>(0,Ue.tZ)(d.T5p,{as:WS,backgroundColor:"ds.background.default",paddingSize:"tight",gridTemplateRows:"auto 1fr auto"},(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"1fr auto",alignItems:"center",gap:"8px",sx:{mb:"8px"}},(0,Ue.tZ)(d.nvN,{bold:!0,size:"medium"},e),t),(0,Ue.tZ)("ul",null,a.map(((e,t)=>{var a,n;return(0,Ue.tZ)(d.T5p,{as:"li",key:null!=(a=e.text)?a:t,gridTemplateColumns:"auto 1fr",gap:"8px",sx:{mb:"24px","&:last-of-type":{mb:"38px"}}},(e=>{switch(e){case Xx.Pro:return Qx||(Qx=(0,Ue.tZ)(Ue.JO,{name:"CheckmarkOutlined",color:"ds.text.positive.standard"}));case Xx.Con:return $x||($x=(0,Ue.tZ)(Ue.JO,{name:"ActionCloseOutlined",color:"ds.text.warning.standard"}));case Xx.Soon:return Kx||(Kx=(0,Ue.tZ)(d.vFK,{color:"ds.text.warning.standard"}));default:throw new Error("Unexpected branch")}})(e.type),(0,Ue.tZ)("div",null,(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"medium"},e.text),e.subtext?(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"x-small",sx:null!=(n=e.variation?.subtext)?n:{}},e.subtext):null))}))),(0,Ue.tZ)(Ue.zx,{disabled:r,size:"small",intensity:i?"quiet":"catchy",mood:"brand",sx:{justifySelf:"start"},onClick:s},n)),eM={TITLE:"Self-hosted SSO",CTA:"Set up self-hosted SSO",CONTINUE_CTA:"Continue setup",INFO_LIST:[{text:"Zero-knowledge security architecture",type:Xx.Pro},{text:"Simplified set-up",subtext:"You’ll need to host and manage the encryption service yourself",type:Xx.Con},{text:"Verify multiple domains",type:Xx.Pro},{text:"Supports SCIM directory sync",type:Xx.Pro}]},tM={TITLE:"Confidential SSO",CTA:"Set up Confidential SSO",CONTINUE_CTA:"Continue setup",INFO_LIST:[{text:"Zero-knowledge security architecture",type:Xx.Pro},{text:"Simplified set-up",subtext:"The secure encryption service is hosted on the cloud for you",type:Xx.Pro},{text:"Supports 1 domain",subtext:"Multiple domains coming soon",type:Xx.Pro,variation:{subtext:{fontStyle:"italic"}}},{text:"Supports SCIM directory sync",subtext:"Coming soon",type:Xx.Soon,variation:{subtext:{fontStyle:"italic"}}}]},aM=[{heading:"What is an encryption service?",description:"To maintain a zero-knowledge architecture when integrated with SSO or SCIM provisioning, Dashlane requires an additional layer of security we refer to as an encryption service.",linkText:"Learn more",linkHref:"https://support.dashlane.com/hc/articles/360013149040#encryption?utm_source=extension"},{heading:"What do I need to start?",listIntro:"To set up SSO, you’ll need",list:["Access to your identity provider (IdP) and public DNS provider accounts","A list of members to add to your SSO application","IdP metadata","Email domain"],linkText:"Learn more",linkHref:"https://support.dashlane.com/hc/articles/360013149040?utm_source=extension"}],nM=({listIntro:e,list:t})=>(0,Ue.tZ)("div",null,(0,Ue.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"small"},e),(0,Ue.tZ)("ul",{sx:{listStyleType:"disc",mt:"8px",mb:"24px",ml:"24px"}},t.map(((e,t)=>(0,Ue.tZ)(d.nvN,{as:"li",size:"small",key:null!=e?e:t},e))))),iM=e=>(0,Ue.tZ)(d.Ejs,{gap:"32px",flexDirection:"column",...e},aM.map((({heading:e,description:t,listIntro:a,list:n,linkText:i,linkHref:s})=>{const r=a&&n?(0,Ue.tZ)(nM,{listIntro:a,list:n}):t;return(0,Ue.tZ)(KS,{backgroundColor:"ds.background.default",key:e,heading:e,description:r,linkText:i,linkHref:s})}))),sM=()=>{const{path:e}=(0,i.$B)(),{teamInfo:t}=(0,Op.G)(),a=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning");if((0,n.useEffect)((()=>{(0,v.N)(c.Page.TacSso)}),[]),a.status!==R.rq.Success)return null;const{inferredSsoState:s,ssoCapable:r}=a.data.global,o=!r||s===BS.InferredSsoState.enum.Unknown;return(0,Ue.tZ)(d.T5p,{gap:"32px",alignContent:"start"},(0,Ue.tZ)(lI,{pageContext:oI.ChooseSso}),(0,Ue.tZ)(d.T5p,{gap:"32px",gridTemplateColumns:"1fr 1fr"},(0,Ue.tZ)(Jx,{title:eM.TITLE,infoList:eM.INFO_LIST,ctaText:s===BS.InferredSsoState.enum.SelfHostedIncomplete?eM.CONTINUE_CTA:eM.CTA,ctaAction:()=>{tI({currentBillingPlanTier:t?.planTier||"business",ssoSetupStep:c.SsoSetupStep.ChooseYourSsoSolution}),(0,i.uX)(`${e}${uM.SELF_HOSTED_SSO}`)},ctaMuted:s===BS.InferredSsoState.enum.NitroIncomplete,ctaDisabled:o||s===BS.InferredSsoState.enum.NitroComplete}),(0,Ue.tZ)(Jx,{title:tM.TITLE,badge:(0,Ue.tZ)(Yx,{nitroStateStatus:a.status,nitroState:a.data}),infoList:tM.INFO_LIST,ctaText:s===BS.InferredSsoState.enum.NitroIncomplete?tM.CONTINUE_CTA:tM.CTA,ctaAction:()=>{aI({currentBillingPlanTier:t?.planTier||"business",ssoSetupStep:c.SsoSetupStep.ChooseYourSsoSolution}),(0,i.uX)(`${e}${uM.CONFIDENTIAL_SSO}`)},ctaMuted:s===BS.InferredSsoState.enum.SelfHostedIncomplete,ctaDisabled:o||s===BS.InferredSsoState.enum.SelfHostedComplete})))},rM=()=>(0,Ue.tZ)(d.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",alignItems:"start",fullWidth:!0},(0,Ue.tZ)("div",{sx:{px:"48px",pt:"32px",pb:"4px"}},(0,Ue.tZ)(Qb,{title:"Choose your single sign-on (SSO) configuration"})),(0,Ue.tZ)(GS,{mainContent:sM,secondaryContent:iM,sx:{bg:"ds.container.agnostic.neutral.quiet",pt:"0px"}}));var oM,lM,cM,dM;const uM={SSO_CONNECTOR:"/sso-connector",SELF_HOSTED_SSO:"/self-hosted-sso",CONFIDENTIAL_SSO:"/confidential-sso"},mM=()=>(0,D.tZ)(d.Ejs,{alignItems:"center",justifyContent:"center",fullWidth:!0,sx:{mt:"20vh"}},oM||(oM=(0,D.tZ)(d.HoD,{size:75,color:"ds.border.brand.standard.idle"}))),pM=()=>(0,D.tZ)(d.Ejs,{alignItems:"center",justifyContent:"center",fullWidth:!0,sx:{mt:"20vh"}},(0,D.tZ)(d.nvN,null,"Error loading SSO Provisioning information."));var _M,gM,hM=a(992750),bM=a(553965);const yM="_common_generic_error",{grey06:CM,midGreen00:wM,white:EM,accessibleValidatorRed:vM}=d.O9T,NM={color:vM},SM=({lee:e,teamSettings:t,teamSettingsLoading:a,updateTeamSettings:i,disableForm:s,isNitroSSOInUse:r,adSyncEnabled:o})=>{const{translate:l}=(0,P.Z)(),{reportTACError:u}=d_(),{lastADSyncDateError:m,lastADSyncDateLoading:p,lastADSyncDate:_}=function(){const[e,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(),[s,r]=(0,n.useState)(null),o=(0,n.useCallback)((async e=>{try{e.signal.aborted||t(!0);const a=await(0,w_.H)();e.signal.aborted||(i(a),t(!1),r(null))}catch(a){e.signal.aborted||(t(!1),r(a))}}),[]);return(0,n.useEffect)((()=>{const e=new AbortController;return o(e),()=>{e.abort()}}),[o]),{lastADSyncDateLoading:e,lastADSyncDate:a,lastADSyncDateError:s}}(),g=l.shortDate,[h,b]=(0,n.useState)(!0),[y,C]=(0,n.useState)(!1),[w,E]=(0,n.useState)(!1),[N,S]=(0,n.useState)(!1),[I,f]=(0,n.useState)(!1),{inviteLinkDataForAdmin:M,getInviteLinkDataForAdmin:T}=(0,pv.h)(),[A,k]=(0,n.useState)(!1),{teamId:O}=(0,x.fV)(),L=(0,n.useCallback)((()=>e.apiMiddleware.teamPlans?e.apiMiddleware.teamPlans:(u(new Error("teamPlans service missing from apiMiddleware")),null)),[]);(0,n.useEffect)((()=>{T()}),[T]),(0,n.useEffect)((()=>{a||(async()=>{let a=t.activeDirectoryToken,n=t.activeDirectorySyncStatus;if(!a){const e=await L();if(!e)return;const{activeDirectorySyncStatus:t,activeDirectoryToken:i}=e.getADToken();a=i,n=t}const{activeDirectorySyncType:i}=t;try{const t=e.globalState.carbon.accountFeatures.list,s={activeDirectorySyncStatus:n,activeDirectorySyncType:i,activeDirectoryToken:a,teamId:O,directorySyncFeatureFlipped:"teamAdminConsoleDirectorySync"in t};e.dispatch(hM.vo(s)),E(["full","deprovision-only"].includes(null!=i?i:"")),f(["full","provision-only"].includes(null!=i?i:"")),b(!1)}catch(e){console.error(`ActiveDirectorySettings - fetchData: failed with error: ${e}`)}})()}),[g,a]);const z=(e,t)=>e?t?"full":"provision-only":t?"deprovision-only":null,j=s?{size:"medium",title:l("team_settings_active_directory_scim_warning_heading"),description:l("team_settings_active_directory_scim_warning_description")}:r?{size:"large",title:"Confidential SSO does not currently support SCIM provisioning",description:"Until Confidential SSO supports SCIM, you can provision plan members by setting up Active Directory sync. You can also manually enter emails or upload a CSV or TXT file on the Users page.",actions:[(0,D.tZ)(d.rUS,{key:"learn-more",href:"https://support.dashlane.com/hc/sections/360004143940-Single-sign-on-SSO-?utm_source=extension",target:"_blank"},(0,D.tZ)(Ue.zx,null,"Learn more"))]}:null,R=(0,bp.cI)(M?.teamKey),U=(0,Be.w)("onboarding_web_teamsignuppage");return(0,D.tZ)(n.Fragment,null,U?(0,D.tZ)(Jv,{isOpen:A,setIsOpen:k}):null,(0,D.tZ)(d.T5p,{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet"},gap:"10px",gridTemplateAreas:"'mainContent secondaryContent'",gridTemplateColumns:"auto 1fr",alignContent:"flex-start"},(0,D.tZ)(d.dDn,{gridArea:"mainContent"},(0,D.tZ)(cS,null,j?(0,D.tZ)("div",{className:lS.settingsRow},(0,D.tZ)("div",{sx:"large"===j.size?{}:{paddingRight:"40px",maxWidth:"50%"}},(0,D.tZ)(Ue.ke,{mood:"neutral",...j}))):null,(0,D.tZ)("p",{style:{marginTop:s?"32px":void 0},className:lS.settingsHeader},l("team_settings_active_directory_title_help")),(0,D.tZ)(gw,{label:l("team_settings_active_directory_header_label"),labelHelper:l("team_settings_active_directory_header_helper")},(0,D.tZ)("div",null,(0,D.tZ)(zg.Z,{label:l("team_settings_active_directory_header_button_label"),onClick:()=>{window.open("https://support.dashlane.com/hc/articles/115002155485","_blank")}}))),(0,D.tZ)("p",{className:lS.settingsHeader},l("team_settings_active_directory_title_status")),(0,D.tZ)(gw,{label:l("team_settings_active_directory_last_successful_sync_date_label")},p?_M||(_M=(0,D.tZ)(d.HoD,{color:wM,size:"20px"})):m?`${l("_common_generic_error")} ${m.message.toLowerCase()}`:_?.lastSuccessfulSyncRequestForTeamUnix?g((0,xt.Z)(_.lastSuccessfulSyncRequestForTeamUnix),Ze._T.lll):l("team_settings_active_directory_last_successful_sync_date_value_never")),(()=>{const{activeDirectorySyncStatus:t}=e.state;return t?.failedSyncCount?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(gw,{label:l("team_settings_active_directory_last_error_message_label")},(0,D.tZ)("span",{sx:NM},t.lastFailedSync?.error)),(0,D.tZ)(gw,{label:l("team_settings_active_directory_last_error_date_label")},(0,D.tZ)("span",{sx:NM},t?.lastFailedSync?g((0,xt.Z)(t.lastFailedSync.eventDateUnix),Ze._T.lll):null)),(0,D.tZ)(gw,{label:l("team_settings_active_directory_fail_count_label")},(0,D.tZ)("span",{sx:NM},e.state.activeDirectorySyncStatus.failedSyncCount))):null})(),(0,D.tZ)("p",{className:lS.settingsHeader},l("team_settings_active_directory_title_setup")),(0,D.tZ)(gw,{label:l("team_settings_active_directory_automated_provisioning_label"),labelHelper:l("team_settings_active_directory_automated_provisioning_helper")},(0,D.tZ)(dS.Z,{genericErrorMessage:l(yM),isDisabled:h||N||s,saveValueFunction:async()=>{if(N)return Promise.resolve();S(!0);const t=!I,a=z(t,w);try{await i({activeDirectorySyncType:a}),e.dispatch(hM.dV(a)),f(t),S(!1)}catch(e){u(e)}},value:Z.Maybe.maybe(I)})),(0,D.tZ)(gw,{label:l("team_settings_active_directory_automated_deprovisioning_label"),labelHelper:l("team_settings_active_directory_automated_deprovisioning_helper")},(0,D.tZ)(dS.Z,{genericErrorMessage:l(yM),isDisabled:h||y||s,saveValueFunction:async()=>{if(y)return Promise.resolve();C(!0);const t=!w,a=z(I,t);try{await i({activeDirectorySyncType:a}),e.dispatch(hM.dV(a)),E(t),C(!1)}catch(e){u(e)}},value:Z.Maybe.maybe(w)})),(0,D.tZ)(gw,{label:l("team_settings_active_directory_cron_script_label"),labelHelper:l("team_settings_active_directory_cron_script_helper")},(0,D.tZ)(nv.n,{defaultValue:e.state.activeDirectoryScript,isDisabled:!0,multiLine:!0,style:{backgroundColor:CM,fontSize:"12px",height:"180px",width:"300px"}}),(0,D.tZ)("div",null,(0,D.tZ)(Te.Z,{label:e.state.isCopied?l("team_settings_active_directory_button_copy_feedback"):l("team_settings_active_directory_button_copy_label"),onClick:()=>(navigator.clipboard.writeText(e.state.activeDirectoryScript).then((()=>{e.dispatch(hM.Kk(!0)),window.setTimeout((()=>e.dispatch(hM.Kk(!1))),700)})),void(0,v.N)(c.PageView.TacSettingsDirectorySyncActiveDirectory))}))))),U&&o?(0,D.tZ)(d.dDn,{gridArea:"secondaryContent",sx:{maxWidth:"500px",minWidth:"250px"},alignSelf:"flex-start"},(0,D.tZ)(KS,{backgroundColor:EM,heading:l("team_settings_encryption_service_scim_invite_link_heading"),description:(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{size:"small",sx:{mb:"8px"}},l("team_settings_encryption_service_scim_invite_link_description_first")),(0,D.tZ)(d.rUS,{color:"ds.background.container.primary",hoverColor:"ds.background.container.hover",activeColor:"ds.background.container.active",onClick:e=>{e.preventDefault(),navigator.clipboard.writeText(R),k(!0)},sx:{fontSize:"16px"}},(0,D.tZ)(d.Ejs,{gap:"4px"},(0,D.tZ)("span",null,l("team_settings_encryption_service_scim_invite_link_copy")),gM||(gM=(0,D.tZ)(Ue.JO,{color:"ds.background.container.primary",name:"ActionCopyOutlined",size:"medium"})))))})):null))},IM=a(465343);function fM(e,t){const a=[];return a.push({type:"header",label:t("team_settings_header_setup_guide")},{type:"textwithbutton",analyticsKey:"helpSetupSAML",label:t("team_settings_what_is_saml"),buttonLabel:t("team_settings_learn_more_about_saml"),helperLabel:t("team_settings_what_is_saml_helper"),onClick:()=>{window.open("https://support.dashlane.com/hc/articles/212111089","_blank")}}),a.push({type:"header",label:t("team_settings_header_general")},{type:"text",label:t("team_settings_idp_url"),helperLabel:t("team_settings_idp_url_helper"),feature:"idpUrl",hintText:t("team_settings_idp_url_placeholder"),serverFeature:"idp_url",value:e.state.idpUrl,validator:e=>0===e.length?null:IM.isURL(e,{protocols:["https"],require_protocol:!0})?e.length>255?"idp_url_exceeds_char_limit":null:"invalid_idp_url",getErrorMessageForKey:e=>{switch(e){case"invalid_idp_url":return t("team_settings_idp_url_save_error_msg_invalid_url");case"idp_url_exceeds_char_limit":return t("team_settings_idp_url_save_error_msg_exceeds_char_limit",{lengthLimit:255});default:return t("team_settings_idp_url_save_error_msg_generic_error")}}},{type:"text",label:t("team_settings_idp_certificate"),helperLabel:t("team_settings_idp_certificate_helper"),feature:"idpCertificate",hintText:t("team_settings_idp_certificate_placeholder"),serverFeature:"idp_certificate",value:e.state.idpCertificate,multiLine:!0,inputStyle:{fontSize:12,lineHeight:1.4,minHeight:120},hintStyle:{whiteSpace:"initial"},serializer:e=>e.split("\n").join("\n"),validator:e=>{if(e.length>1e4)return"idp_certificate_exceeds_char_limit";const t=e.split("\n"),a=t.length;return a<3?"idp_certificate_invalid":t[0].includes("BEGIN CERTIFICATE")&&t[a-1].includes("END CERTIFICATE")?t.slice(1,a-1).find((e=>!IM.isBase64(e)))?"idp_certificate_invalid":null:"idp_certificate_invalid"},getErrorMessageForKey:e=>{switch(e){case"idp_certificate_exceeds_char_limit":return t("team_settings_idp_certificate_save_error_msg_exceeds_char_limit",{lengthLimit:1e4});case"idp_certificate_invalid":return t("team_settings_idp_certificate_save_error_msg_invalid_certificate");default:return t("team_settings_idp_certificate_save_error_msg_generic_error")}}},{type:"text",label:t("team_settings_idp_security_groups"),value:e.state.idpSecurityGroups,serializer:e=>(e.length?e.split(";"):[]).filter((e=>!!e.length)).map((e=>e.trim())),deserializer:e=>e.map((e=>e.join(";"))),feature:"idpSecurityGroups",serverFeature:"idp_security_group",hintText:t("team_settings_idp_security_groups_placeholder"),validator:e=>{try{e.forEach((e=>{if(!/^[^<>#,+"\\]+$/.test(e))throw new Error("incorrect_security_group")}))}catch(e){return"invalid_security_group"}return null},getErrorMessageForKey:e=>"invalid_security_group"===e?t("team_settings_idp_security_groups_save_error_msg_invalid_certificate",{forbiddenCharacters:'# , + " \\ < >'}):t("team_settings_idp_security_groups_save_error_msg_generic_error")}),a}const xM=({lee:e})=>n.createElement(OS,{lee:e.child(wS.ZP),createFieldListFunction:fM,pageView:c.PageView.TacSettingsDirectorySyncSamlProvisioning}),MM="SCIM provisioning is not currently supported by Confidential SSO",TM="If you plan to set up both SCIM and single sign-on (SSO), you'll need to use the self-hosted option. Both SCIM and self-hosted SSO require the encryption service you configure and host yourself on AWS or Azure.",DM="Learn more",ZM=({isScimEnabled:e,isSCIMCapable:t,onSetupClear:a})=>{const{routes:s}=(0,i.Xo)(),r=(0,lm.B)(),{translate:o}=(0,P.Z)(),l=(0,Be.w)("deployment_web_nitroSSOBeta_chooseSSO"),[c,u]=(0,n.useState)(!1),{teamId:m}=(0,x.fV)(),{clearSettings:p,initSsoProvisioning:_}=(0,R.u7)(BS.enclaveSdkApi),{data:g,status:h}=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning");if(h!==R.rq.Success)return null;const{global:{inferredSsoState:b}}=g;if(b===BS.InferredSsoState.enum.NitroComplete)throw new Error("Invalid state: cannot access SCIM if the team is using Confidential SSO until the enclave supports SCIM.");if(!1===t)return(0,Ue.tZ)(Ue.ke,{mood:"neutral",size:"large",title:(0,Ue.tZ)("strong",null,o("team_settings_es_scim_plan_missing_header")),description:o.markup("team_settings_es_scim_plan_missing_upgrade_to_business_markup"),actions:r?.premiumStatus?[(0,j.wt)(r.premiumStatus)?(0,Ue.tZ)(d.rUS,{key:"business-buy",href:`${bp.ub}?plan=business&subCode=${r.subscriptionCode}`,target:"_blank"},(0,Ue.tZ)(Ue.zx,null,o("team_account_teamplan_plan_buy_dashlane"))):(0,Ue.tZ)(i.rU,{key:"upgrade",to:`${s.teamAccountChangePlanRoutePath}?plan=business`},(0,Ue.tZ)(Ue.zx,null,o("team_settings_es_scim_plan_missing_upgrade")))]:[]});if(b===BS.InferredSsoState.enum.NitroIncomplete){const e=async()=>{await p(),await _({teamId:`${m}`}),await(a?.())};return(0,Ue.tZ)(n.Fragment,null,c?(0,Ue.tZ)(nI,{onClose:()=>u(!1),onConfirm:e,titleText:"Are you sure?",bodyText:"This action can’t be undone."}):null,(0,Ue.tZ)(Ue.ke,{mood:"neutral",size:"large",title:"To use SCIM, clear Confidential SSO setup",description:(0,Ue.tZ)(rI,{markdownValue:"If you want to use SCIM, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP."}),actions:[(0,Ue.tZ)(Ue.zx,{key:"clear",onClick:()=>u(!0)},"Clear setup")]}))}return l&&b!==BS.InferredSsoState.enum.SelfHostedComplete&&!1===e?(0,Ue.tZ)(Ue.ke,{mood:"neutral",size:"large",title:MM,description:TM,actions:[(0,Ue.tZ)(d.rUS,{key:"learn-more",href:bp.B7,target:"_blank"},(0,Ue.tZ)(Ue.zx,{onClick:()=>{}},DM))]}):null};var AM;const{dashGreen00:kM,midGreen00:OM}=d.O9T,LM=({lastSyncUnix:e,version:t,loading:a,refreshData:n})=>{const{translate:i}=(0,P.Z)();return(0,D.tZ)(yf.R,null,a?AM||(AM=(0,D.tZ)(d.HoD,{color:kM})):(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:"5px"},(0,D.tZ)(d.k$b,{as:d.nvN,size:"x-small"},`${i("team_settings_directory_sync_last_sync")} ${e?(0,xt.Z)(e).toLocaleString(navigator.language,{...Ze.qG.lll,timeZoneName:"short"}):i("team_settings_directory_sync_not_available")}`),(0,D.tZ)(d.k$b,{as:d.nvN,size:"x-small"},`\n                   ${i("team_settings_encryption_service_version")}\n                   ${null!=t?t:i("team_settings_encryption_service_not_available")}\n                  `),(0,D.tZ)(d.k$b,{as:d.nvN,size:"x-small"},(0,D.tZ)(d.rUS,{color:OM,hoverColor:kM,activeColor:"primaries.5",sx:{textDecoration:"none",fontWeight:"normal"},onClick:()=>n()},(0,D.tZ)(d.DuK,{sx:{display:"inline",marginRight:"5px"},color:OM,size:12}),i("team_settings_scim_sync_refresh")))))},{grey00:zM}=d.O9T,jM=({loading:e,parentPath:t,teamSettings:a,esConfig:n,isScimCapable:s,disableSetupButton:r})=>{const o=(0,i.k6)(),{translate:l}=(0,P.Z)(),{teamDeviceConfigLoading:c,teamDeviceConfig:u}=Hf({draft:!1,deviceAccessKey:n?.deviceAccessKey}),{teamDeviceLoading:m,teamDevice:p,refreshTeamDevice:_}=HI(n?.deviceAccessKey),g=e||c,h=!a?.ssoServiceProviderUrl||g||r||!s,b=!u?.configProperties?.scimAuthToken;return(0,D.tZ)(d.Zbd,null,(0,D.tZ)(d.T5p,{as:d.aYP,gap:"8px",gridTemplateAreas:"'header button' 'description button' 'status status'",gridTemplateColumns:"1fr auto",sx:{bg:"white",border:"none"}},(0,D.tZ)(d.dDn,{as:d.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},l("team_settings_directory_sync_scim_header")),(0,D.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small",color:zM},l("team_settings_directory_sync_scim_description")),(0,D.tZ)(d.dDn,{gridArea:"button"},(0,D.tZ)(II.M,{id:"scimSetupButton",loading:g,disabled:h,neverShowTooltip:r,size:"large",onClick:()=>{o.push(`${t}${tT}`)},content:l("team_settings_es_sso_setup_configure_es_tooltip"),mood:b&&!h?"brand":"neutral",intensity:b&&!h?"catchy":"quiet"},l(b?"team_settings_directory_sync_scim_set_up_button":"team_settings_button_edit_label"))),u?.configProperties?.scimEnabled?(0,D.tZ)(d.dDn,{gridArea:"status",sx:{mt:"20px"}},(0,D.tZ)(LM,{loading:m,version:p?.version,refreshData:_,lastSyncUnix:p?.lastActivityDateUnix})):null))};var PM,RM,UM,BM=a(769183);const FM={GENERIC_ERROR:"_common_generic_error"},{grey00:GM,dashGreen00:WM}=d.O9T,VM=({config:e,esEndpoint:t})=>{var a;const{translate:s}=(0,P.Z)(),r=(0,i.k6)(),{teamDeviceConfigLoading:o,teamDeviceConfig:l,updateTeamDeviceConfig:c,refreshTeamDeviceConfig:u,loadTeamDeviceConfigErrorCode:m}=Hf({draft:!1,deviceAccessKey:e?.deviceAccessKey}),p=(0,Wc.h)(),_=p.status===W.rq.Success&&p.data.deployment_web_nitroSSOBeta_chooseSSO,[g,h]=(0,n.useState)(""),[b,y]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1),[E,v]=(0,n.useState)(!1),[N,S]=(0,n.useState)(!1),I=o;(0,n.useEffect)((()=>{const e=m;e&&e!==Vt.TeamDeviceEncryptedConfigNotFound&&h(e)}),[m,s]);const f=()=>r.goBack(),x=async({values:e,resetForm:a})=>{w(!0),y(!1);const n={scimEnabled:e.encryptionServiceSync,teamDeviceUrl:null!=t?t:void 0};!E&&l?.configProperties?.scimAuthToken||(n.scimAuthToken=e.scimToken);const i=await c(n);v(!1),await u(),w(!1),i.success?i.data.encryptionServiceReloadingStatus===V.EncryptionServiceRestartStatusCodes.OK?(a({values:e}),f()):y(!0):h(i.error.code)},M={scimToken:(T=l?.configProperties?.scimAuthToken,null!=(Z=T?.replace(/./g,"*"))?Z:""),scimEndpoint:t?(0,xx.UQ)(t,"scim/2.0"):"",encryptionServiceSync:null!=(a=l?.configProperties?.scimEnabled)&&a};var T,Z;const A=()=>{S(!1)};return(0,D.tZ)(Gt.J9,{onSubmit:async(e,t)=>{_&&e.encryptionServiceSync?S(!0):await x({values:e,resetForm:t.resetForm})},enableReinitialize:!0,initialValues:M},(({values:e,setFieldValue:t,isSubmitting:a,dirty:n,resetForm:i})=>{var r,c;return(0,D.tZ)(Gt.l0,{autoComplete:"off",noValidate:!0},(0,D.tZ)(GI.X,{dirty:n&&!C&&!b}),(0,D.tZ)(d.Zbd,null,(0,D.tZ)(d.Ol2,null,s("team_settings_directory_sync_scim_header")),(0,D.tZ)(d.aYP,null,(0,D.tZ)(d.vDh,{severity:"subtle",title:s("team_settings_directory_sync_scim_infobox")}),(0,D.tZ)(d.T5p,{gridTemplateAreas:"'header button' 'desc button' 'inputField inputField'",gap:"8px",sx:{mt:"32px"}},(0,D.tZ)(d.dDn,{gridArea:"header",as:d.nvN,innerAs:"label",htmlFor:"scimTokenInput",bold:!0},s("team_settings_directory_sync_scim_set_up_token_label")),(0,D.tZ)(d.dDn,{as:d.zxk,gridArea:"button",type:"button",alignSelf:"right",size:"medium",nature:"secondary",disabled:I||a,onClick:()=>(e=>{v(!0),e("scimToken",(0,BM.Z)())})(t)},e.scimToken?s("team_settings_directory_sync_scim_set_up_reset_buttons"):s("team_settings_directory_sync_scim_set_up_generate_buttons")),(0,D.tZ)(d.dDn,{gridArea:"desc",as:d.nvN,size:"medium",sx:{marginBottom:"24px"},color:GM},s("team_settings_directory_sync_scim_set_up_token_description")),(0,D.tZ)(d.dDn,{gridArea:"inputField"},(0,D.tZ)(Gt.gN,{name:"scimToken"},(({field:t})=>t.value?(0,D.tZ)(Aw.x,{inputValue:t.value,iconButtonProps:{disabled:Boolean(e.scimToken)&&!E||a},passwordInputProps:{disabled:Boolean(e.scimToken)&&!E||a,fullWidth:!0,readOnly:!0,...t,id:"scimTokenInput"}}):null)))),(0,D.tZ)(d.T5p,{gridTemplateColumns:"auto",gap:"8px"},(0,D.tZ)(d.dDn,{as:d.nvN,innerAs:"label",htmlFor:"endpointInput",bold:!0,sx:{marginTop:"32px"}},s("team_settings_directory_sync_scim_set_up_endpoint_label")),(0,D.tZ)(Gt.gN,{name:"scimEndpoint"},(({field:e})=>(0,D.tZ)(Aw.x,{inputValue:e.value,textInputProps:{fullWidth:!0,readOnly:!0,...e,id:"endpointInput"}})))),PM||(PM=(0,D.tZ)("hr",null)),(0,D.tZ)(d.T5p,{gridTemplateAreas:"'label toggle' 'desc .'",gap:"8px"},(0,D.tZ)(d.dDn,{gridArea:"label",as:d.nvN,innerAs:"label",htmlFor:"encryptionServiceSync",bold:!0},s("team_settings_directory_sync_scim_set_up_service_label")),(0,D.tZ)(d.dDn,{gridArea:"desc",as:d.nvN,size:"medium",color:GM},s("team_settings_directory_sync_scim_set_up_service_description")),(0,D.tZ)(d.dDn,{gridArea:"toggle"},o?RM||(RM=(0,D.tZ)(d.HoD,{color:WM})):(0,D.tZ)(Ue.ZD,{disabled:I||a,id:"encryptionServiceSync",onChange:e=>((e,t)=>{t("encryptionServiceSync",e.currentTarget.checked)})(e,t),defaultChecked:null!=(r=l?.configProperties?.scimEnabled)&&r})))),(0,D.tZ)(d.eWM,null,g?(0,D.tZ)(d.j49,{sx:{width:"40%",ml:0,mr:"auto"},color:"errors.5"},s(null!=(c=FM?.[g])?c:FM.GENERIC_ERROR)):null,b?(0,D.tZ)(d.Ejs,{sx:{flexGrow:1,justifyContent:"center"}},UM||(UM=(0,D.tZ)(YI,{context:"SCIM"}))):null,(0,D.tZ)(d.zxk,{nature:"secondary",size:"large",type:"button",onClick:f},s("team_settings_directory_sync_scim_set_up_button_cancel")),(0,D.tZ)(d.zxk,{size:"large",type:"submit",disabled:I||a||!n},s("team_settings_directory_sync_scim_set_up_button_save_changes")))),N?(0,D.tZ)(vI,{title:"Are you sure you want to turn on SCIM?",body:"You won’t be able to switch to Confidential SSO while a self-hosted encryption service is in use.",onCancel:A,onConfirm:()=>(async({values:e,resetForm:t})=>{await x({values:e,resetForm:t}),S(!1)})({values:e,resetForm:i})}):null)}))};var HM;const{dashDarkerGreen00:qM,dashGreen00:YM,midGreen00:QM}=d.O9T,$M=e=>{const{translate:t}=(0,P.Z)(),a=(0,Be.w)("onboarding_web_teamsignuppage"),{getInviteLinkDataForAdmin:i}=(0,pv.h)(),[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1);return(0,D.tZ)(d.Ejs,{gap:"6",...e},a?(0,D.tZ)(Jv,{isOpen:s,setIsOpen:r}):null,a&&o?(0,D.tZ)(Kv,{setShowActivateInviteLinkModal:l,setShowInviteLinkModal:r}):null,(0,D.tZ)(KS,{heading:t("team_settings_encryption_service_scim_setup_guide_heading"),description:t("team_settings_encryption_service_scim_setup_guide_description"),linkHref:"https://support.dashlane.com/hc/articles/4404301553938?utm_source=extension",linkText:t("team_settings_encryption_service_scim_setup_guide_link_text")}),a&&e.isScimEnabled?(0,D.tZ)(KS,{heading:t("team_settings_encryption_service_scim_invite_link_heading"),description:(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{size:"small",sx:{mb:"8px"}},t("team_settings_encryption_service_scim_invite_link_description_first")),(0,D.tZ)(d.rUS,{color:QM,hoverColor:YM,activeColor:qM,onClick:async e=>{e.preventDefault();const t=await i();t?.disabled||!t?.teamKey?l(!0):r(!0)},sx:{fontSize:"16px"}},(0,D.tZ)(d.Ejs,{gap:"4px"},(0,D.tZ)("span",null,t("team_settings_encryption_service_scim_invite_link_copy")),HM||(HM=(0,D.tZ)(Ue.JO,{name:"ActionCopyOutlined",size:"medium",color:QM})))))}):null)};var KM,XM;const{grey01:JM}=d.O9T,eT="/encryption-service-settings",tT="/scim-settings",aT=({isScimEnabled:e,isScimCapable:t,teamSettings:a,updateTeamSettings:s,disableForm:r=!1,adSyncEnabled:o,ssoConnectorSetup:l})=>{const{translate:u}=(0,P.Z)(),{path:m}=(0,i.$B)(),{esConfig:p,esConfigLoading:_,refreshEncryptionServiceConfig:g}=FI(),h=(0,Be.w)("itadmin_tac_encryptionservice_SSOmigration_reset"),b=Boolean(h||!_&&l);return(0,n.useEffect)((()=>{(0,v.N)(c.PageView.TacSettingsDirectorySyncScimProvisioning)}),[]),(0,D.tZ)(GS,{mainContent:d.T5p,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,D.tZ)(n.Fragment,null,(0,D.tZ)(i.rs,null,(0,D.tZ)(i.AW,{exact:!0,path:m},KM||(KM=(0,D.tZ)(YI,null)),(0,D.tZ)(ZM,{isScimEnabled:e,isSCIMCapable:t,onSetupClear:()=>s({ssoServiceProviderUrl:null})}),o?(0,D.tZ)(Ue.ke,{size:"medium",mood:"neutral",title:u("team_settings_encryption_service_scim_setup_ad_sync_warning_heading"),description:u("team_settings_encryption_service_scim_setup_ad_sync_warning_description")}):null,b?(0,D.tZ)(Ue.ke,{size:"medium",mood:"brand",title:u("team_settings_es_sso_migration_infobox_title"),description:(0,D.tZ)(d.nvN,null,u("team_settings_es_sso_migration_infobox_body"))}):null,(0,D.tZ)(Df,{parentPath:m,loading:_||null===t,esConfig:p,disableSetupButton:!1===t||r}),(0,D.tZ)(jM,{teamSettings:a,parentPath:m,loading:_||null===t,esConfig:p,isScimCapable:!0===t,disableSetupButton:r})),(0,D.tZ)(i.AW,{path:`${m}${eT}`},_?XM||(XM=(0,D.tZ)(d.HoD,null)):(0,D.tZ)(hf,{migratingFromSSOConnector:b,onSave:()=>g(),teamSettings:a,updateTeamSettings:s,esConfig:p})),(0,D.tZ)(i.AW,{path:`${m}${tT}`},(0,D.tZ)(VM,{config:p,esEndpoint:a?.ssoServiceProviderUrl}))),(0,D.tZ)(d.nvN,{size:"x-small",color:JM},"6.2318.3"))},secondaryContent:$M,additionalProps:{isScimEnabled:e}})},{dashGreen06:nT}=d.O9T,iT="/scim-provisioning",sT="/active-directory",rT="/saml",oT=ky((e=>n.createElement(OS,{lee:e.lee.child(wS.ZP),createFieldListFunction:RS,title:"team_settings_menu_title_policies",pageView:c.PageView.TacSettingsPolicies})),T_.POLICIES),lT=ky((()=>{var e;const{path:t}=(0,i.$B)(),{translate:a}=(0,P.Z)(),s=(0,Be.w)("itadmin_tac_encryptionservice_public_v2"),{esConfig:r,esConfigLoading:o}=FI(),{teamDeviceConfig:l}=Hf({draft:!1,deviceAccessKey:r?.deviceAccessKey}),{teamId:c}=(0,x.fV)(),{teamSettings:u={},teamSettingsLoading:m,updateTeamSettings:p,teamCapabilities:_}=CE(c),{initSsoProvisioning:g}=(0,R.u7)(BS.enclaveSdkApi),{data:h,status:b}=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning");(0,n.useEffect)((()=>{h?.global.inferredSsoState===BS.InferredSsoState.enum.Unknown&&c&&g({teamId:`${c}`})}),[g,h?.global.inferredSsoState,c]);const y=!m&&u.activeDirectorySyncType,C=l?.configProperties.scimEnabled,w=h?.global.inferredSsoState===BS.InferredSsoState.enum.NitroComplete,E=C&&!y,v=h?.global.inferredSsoState===BS.InferredSsoState.enum.NitroIncomplete||y&&!C,N=m||o||b===R.rq.Loading,S=[BS.InferredSsoState.enum.SsoConnectorComplete,BS.InferredSsoState.enum.SsoConnectorIncomplete],I=h?.global.inferredSsoState&&S.includes(h?.global.inferredSsoState),f=s&&!I,M=(0,Be.w)("itadmin_tac_jitprovisioning"),T={isDisabled:w,id:Hb.TAB_SCIM,label:a("team_settings_tab_scim_provisioning"),url:`${t}${iT}`,subPaths:[eT,tT]},Z={id:Hb.TAB_ACTIVE_DIRECTORY,label:a("team_settings_tab_active_directory"),url:`${t}${sT}`},A={id:Hb.TAB_AUTHENTICATION,label:a(f?"team_settings_tab_saml_legacy":"team_settings_tab_authentication"),url:`${t}${rT}`},k=[...f?[T]:[],Z,...M?[A]:[]],O=`${t}${C||f&&!y&&!w?iT:sT}`;return(0,D.tZ)(d.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},N?null:(0,D.tZ)(n.Fragment,null,(0,D.tZ)("div",{sx:{bg:nT,px:"48px",pt:"32px",pb:"4px"}},(0,D.tZ)(Qb,{title:a("team_settings_tab_title_directory_sync"),tabs:k})),(0,D.tZ)(i.rs,null,(0,D.tZ)(i.l_,{exact:!0,from:`${t}/`,to:O}),(0,D.tZ)(i.Vy,{path:`${t}${iT}`,component:aT,additionalProps:{isScimEnabled:null!=C?C:null,isScimCapable:null!=(e=_?.scim.enabled)?e:null,teamSettings:u,updateTeamSettings:p,disableForm:v,adSyncEnabled:y,ssoConnectorSetup:I}}),(0,D.tZ)(i.Vy,{path:`${t}${sT}`,component:SM,additionalProps:{teamSettingsLoading:m,teamSettings:u,updateTeamSettings:p,disableForm:E,isNitroSSOInUse:w,adSyncEnabled:y},reducer:hM.ZP}),(0,D.tZ)(i.Vy,{path:`${t}${rT}`,component:xM,reducer:bM.Z}))))}),T_.DIRECTORY_SYNC),cT=ky((e=>{const{translate:t}=(0,P.Z)(),{reportTACError:a}=d_(),i=n.useRef(null),[s,r]=n.useState(!0),[o,l]=n.useState(!1),[c,d]=n.useState(!1),[u,m]=n.useState(!1),[p,_]=n.useState(!1),[g,h]=n.useState(!1),[b,y]=n.useState(!1),[C,w]=n.useState(!1),[E,v]=n.useState(null),[N,S]=n.useState(!1),[I,f]=n.useState(null),x=e.lee.apiMiddleware.teamPlans?e.lee.apiMiddleware.teamPlans:(a(new Error("teamPlans service not set in apiMiddleware")),null),M=e.lee.apiMiddleware.strongAuth?e.lee.apiMiddleware.strongAuth:(a(new Error("strongAuth service not set in apiMiddleware")),null);return n.useEffect((()=>{(async()=>{try{const{teamInfo:{duo:t,duoIntegrationKey:a,duoSecretKey:n,duoApiHostname:i}}=await(0,w_.I)();e.lee.dispatch(oS.k0({duo:t,duoIntegrationKey:a,duoSecretKey:n,duoApiHostname:i})),r(!1)}catch(e){console.error(`DuoSettings: fetchData failed with error: ${e}`)}})()}),[]),n.createElement(cS,{title:t(pS)},n.createElement("p",{className:lS.settingsHeader},t(pS)),n.createElement(gw,{label:t("team_settings_duo_enable_label"),labelHelper:t("team_settings_duo_enable_helper")},n.createElement(dS.Z,{genericErrorMessage:t("_common_generic_error"),isDisabled:s||o,saveValueFunction:()=>{const t=!e.lee.state.hasDuo;return l(!0),e.lee.dispatch(oS.FC(t)),x?.setSettings({duo:t}).then((()=>l(!1))).catch((()=>{}))},value:Z.Maybe.maybe(e.lee.state.hasDuo)})),n.createElement("p",{className:lS.settingsHeader},t("team_settings_duo_header_setup")),n.createElement(gw,{label:t("team_settings_duo_integration_key_label"),labelHelper:t("team_settings_duo_integration_key_helper")},n.createElement(nv.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoIntegrationKey,isDisabled:c,onBlur:t=>{if(c)return;const a=t.target.value;e.lee.dispatch(oS.a2(a)),d(!0),m(!1),x&&x.setSettings({duoIntegrationKey:a}).then((()=>{d(!1)})).catch((()=>{}))},onFocus:()=>m(!0),placeholder:t("team_settings_duo_integration_key_hint")}),u||c?n.createElement("div",null,n.createElement(Te.Z,{label:t("team_settings_duo_integration_key_button"),loading:c})):null),n.createElement(gw,{label:t("team_settings_duo_secret_key_label"),labelHelper:t("team_settings_duo_secret_key_helper")},n.createElement(nv.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoSecretKey,isDisabled:p,onBlur:(t=>{if(p)return;const a=t.target.value;e.lee.dispatch(oS.E4(a)),_(!0),h(!1),x&&x.setSettings({duoSecretKey:a}).then((()=>{_(!1)})).catch((()=>{}))}).bind(void 0),onFocus:()=>h(!0),placeholder:t("team_settings_duo_secret_key_hint")}),g||p?n.createElement("div",null,n.createElement(Te.Z,{label:t("team_settings_duo_secret_key_button"),loading:p})):null),n.createElement(gw,{label:t("team_settings_duo_api_host_label"),labelHelper:t("team_settings_duo_api_host_helper")},n.createElement(nv.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoApiHostname,isDisabled:b,onBlur:(t=>{if(b)return;const a=t.target.value;e.lee.dispatch(oS.qf(a)),y(!0),w(!1),x&&x.setSettings({duoApiHostname:a}).then((()=>{y(!1)})).catch((()=>{}))}).bind(void 0),onFocus:()=>w(!0),placeholder:t("team_settings_duo_api_host_hint")}),C||b?n.createElement("div",null,n.createElement(Te.Z,{label:t("team_settings_duo_api_host_button"),loading:b})):null),n.createElement("p",{className:lS.settingsHeader},t("team_settings_duo_header_directory")),n.createElement(gw,{label:t("team_settings_duo_upload_csv_label"),labelHelper:n.createElement("ol",{className:mS.uploadCsvLabel},n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_one")),n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_two")),n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_three")))},n.createElement("div",{className:mS.fileContainer},n.createElement("div",{className:mS.file},n.createElement("span",{className:mS.fileIcon}),n.createElement("div",{className:mS.fileTitle},I?[n.createElement("div",{key:"header",className:mS.fileTitleHeader},I),n.createElement("div",{key:"progress",className:mS.fileProgressBackground},n.createElement("div",{className:N?mS.fileProgressComplete:mS.fileProgress})),n.createElement("p",{key:"hint",className:[mS.fileTitleHint,N&&E?mS.fileTitleHintError:mS.fileTitleHintSuccess].join(" ")},t(N?E?"team_settings_duo_upload_csv_feedback_error":"team_settings_duo_upload_csv_feedback_success":"team_settings_duo_upload_csv_feedback_progress"))]:[n.createElement("div",{key:"header",className:mS.fileTitleHeader},"duo_usernames.csv")])),n.createElement("div",{className:mS.fileButtons},n.createElement("input",{type:"file",id:"file",accept:"text/csv, text/plain, .csv",ref:i,style:{display:"none"},onChange:(()=>{var e;I&&f(null);const t=null!=(e=i.current?.files?.[0])?e:{name:""};f(t.name),M&&M.uploadDuoCsv(t).then((()=>{S(!0),setTimeout((()=>f(null)),2e3)})).catch((e=>{v(e.code.toLowerCase()),S(!0)}))}).bind(void 0)}),n.createElement(zg.Z,{label:t("team_settings_duo_upload_csv_button_upload"),onClick:(()=>{i.current?.click()}).bind(void 0)}),n.createElement(uS,{data:{login:e.lee.globalState.user.session.login,uki:e.lee.globalState.user.session.uki},label:t("team_settings_duo_upload_csv_button_download"),style:{marginLeft:"16px"},targetUri:"https://ws1.dashlane.com/3/strongauth/exportDuoUsernames"})),E?n.createElement("div",{className:mS.fileError},n.createElement("div",{className:mS.fileErrorTitle},n.createElement("span",{className:mS.fileErrorTitleIcon},"!"),t("team_settings_duo_upload_csv_error_title")),n.createElement("p",{className:mS.fileErrorContent},t(`team_settings_duo_upload_csv_error_${E}`))):null)))}),T_.DUO),dT=ky((e=>{const[t,a]=(0,n.useState)(!1),[i,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[p,_]=(0,n.useState)(""),[g,h]=(0,n.useState)(!1),{translate:b}=(0,P.Z)(),{reportTACError:y}=d_(),[C,w]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,v.N)(c.PageView.TacSettingsAccountRecovery),(async()=>{if(a(!0),(0,Dg.v0)(e.lee.globalState))try{const{teamInfo:{recoveryEnabled:t}}=await(0,w_.I)();e.lee.dispatch(gS.x({recoveryEnabled:t}));const a=await(async()=>{const t=(0,Dg.v0)(e.lee.globalState);if(t&&t.teamId){const e=await(0,_u.mP)({teamId:t.teamId});return Boolean(e.length)}return y(new Error(xg.N)),!1})();m(a)}catch(e){console.error(e)}finally{a(!1)}else y(new Error(xg.N))})()}),[]);const E=async()=>{const t=!e.lee.state.recoveryEnabled;a(!0);const n=(0,Js.ev)(e.lee.globalState);if(n)try{await(0,_u.jy)({teamId:n,settings:{recoveryEnabled:t}}),e.lee.dispatch(gS.Zn(t)),w(!0),a(!1)}catch(e){a(!1)}else y(new Error(xg.N))},N=async()=>{l((e=>!e))},S=async()=>{r(!0);const e=await(0,_u.RR)({masterPassword:p});r(!1),e?(await Promise.all([N(),E()]),_(""),h(!1)):h(!0)},I=u&&e.lee.state.recoveryEnabled;return(0,D.tZ)(cS,{title:b("team_settings_menu_title_account_recovery")},(0,D.tZ)("div",null,(0,D.tZ)("div",{sx:{position:"relative"}},(0,D.tZ)(d.nvN,{size:"large",as:"h3",sx:{fontWeight:600,marginBottom:"8px",color:"ds.text.neutral.catchy"}},b("team_settings_master_password_policies_settings_recover_label")),(0,D.tZ)(d.nvN,{sx:{fontSize:14,marginBottom:"40px",paddingRight:"80px"}},b("team_settings_master_password_policies_settings_recover_label_helper")),(0,D.tZ)(Ue.ZD,{sx:{position:"absolute",top:0,right:0},disabled:t||I,checked:e.lee.state.recoveryEnabled,onChange:N})),(0,D.tZ)(d.nvN,{size:"large",as:"h3",sx:{fontWeight:600,marginBottom:"24px",color:"ds.text.neutral.catchy"}},b("team_settings_master_password_policies_settings_how_it_works_label")),yS||(yS=(0,D.tZ)(bS,null)),(0,D.tZ)(d.nvN,{sx:{fontSize:14,lineHeight:"20px",marginBottom:"4px",color:"ds.text.neutral.quiet"}},b("team_settings_master_password_policies_settings_how_it_works_label_helper")),(0,D.tZ)(d.rUS,{sx:{fontSize:14,fontWeight:500,lineHeight:"20px",display:"flex",alignItems:"center",gap:"4px",color:"ds.text.brand.standard"},href:s.rI},(0,D.tZ)(d.Ejs,{as:"span"},b("team_settings_master_password_policies_settings_how_it_works_label_helper_link_text")),CS||(CS=(0,D.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.brand.standard"})))),(0,D.tZ)(_S.Z,{isOpen:o,title:e.lee.state.recoveryEnabled?b("team_settings_master_password_policies_dialog_title_disable"):b("team_settings_master_password_policies_dialog_title_enable"),labelDismiss:b("team_settings_master_password_policies_dialog_cta_cancel_label"),labelConfirm:e.lee.state.recoveryEnabled?b("team_settings_master_password_policies_dialog_cta_confirm_label_disable"):b("team_settings_master_password_policies_dialog_cta_confirm_label_enable"),onDismiss:()=>{_(""),h(!1),l(!1)},onConfirm:()=>S(),ctaIsDisabled:i||!p,onChange:e=>{_(e.target.value),h(!1)},isMasterPasswordInvalid:g,onKeyDown:e=>{(async e=>{13===e.keyCode&&p&&await S()})(e)}},e.lee.state.recoveryEnabled&&(0,D.tZ)("div",null,(0,D.tZ)("p",{className:lS.confirmationContent},b.markup("team_settings_master_password_policies_confirmation_dialog_disable_label_markup")),(0,D.tZ)("p",{className:lS.confirmationContent},b("team_settings_master_password_policies_confirmation_dialog_disable_sublabel"))),!e.lee.state.recoveryEnabled&&(0,D.tZ)("div",null,(0,D.tZ)("p",{className:lS.confirmationContent},b.markup("team_settings_master_password_policies_confirmation_dialog_enable_label_markup",{},{linkTarget:"_blank"})),(0,D.tZ)("p",{className:lS.confirmationContent},b("team_settings_master_password_policies_confirmation_dialog_enable_sublabel")))),C?(0,D.tZ)(d.YcA,null,(0,D.tZ)(d.bZj,{actionText:"Undo",closeIconName:"Close alert",onAction:()=>{E()},onClose:()=>w(!1),severity:d.BLW.SUBTLE,size:d.k3y.SMALL},e.lee.state.recoveryEnabled?b("team_settings_master_password_policies_dialog_alert_label_available"):b("team_settings_master_password_policies_dialog_alert_label_unavailable"))):null)}),T_.ACCOUNT_RECOVERY),uT=ky((({lee:e})=>{var t;const a=(0,i.$B)(),s=(0,Wc.h)(),{teamId:r}=(0,x.fV)(),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),{initSsoProvisioning:u}=(0,R.u7)(BS.enclaveSdkApi),{esConfig:m,esConfigLoading:p}=FI(),{teamDeviceConfig:_,teamDeviceConfigLoading:g}=Hf({draft:!1,deviceAccessKey:m?.deviceAccessKey}),h=(0,n.useCallback)((async e=>{if(e)try{const t=await u({teamId:`${e}`});(0,FS.hx)(t)&&d(!0)}catch{d(!0)}finally{l(!0)}}),[u]);(0,n.useEffect)((()=>{h(r)}),[h,r]);const b=(0,R.k$)(BS.enclaveSdkApi,"ssoProvisioning"),{inferredSsoState:y}=null!=(t=b.data?.global)?t:{inferredSsoState:BS.InferredSsoState.enum.Unknown};if(c||s.status===W.rq.Error)return lM||(lM=(0,D.tZ)(pM,null));if(!o||s.status===W.rq.Loading||p||g)return cM||(cM=(0,D.tZ)(mM,null));const{deployment_web_nitroSSOBeta_chooseSSO:C=!1,deployment_web_nitroSSOBeta:w=!1,itadmin_tac_encryptionservice_public_v2:E=!1}=s.data,v=(({hasChoiceFF:e,hasNitroFF:t,hasEsFF:a},n,i,s)=>{const r=`${n.path}${uM.SELF_HOSTED_SSO}`,o=`${n.path}${uM.CONFIDENTIAL_SSO}`,l=`${n.path}${uM.SSO_CONNECTOR}`;return s?r:i===BS.InferredSsoState.enum.NitroComplete?o:i===BS.InferredSsoState.enum.SelfHostedComplete?r:!e&&n.isExact?t?o:a?r:l:null})({hasChoiceFF:C,hasNitroFF:w,hasEsFF:E},a,y,_?.configProperties.scimEnabled);return(0,D.tZ)(i.rs,null,(0,D.tZ)(i.AW,{path:`${a.path}${uM.SELF_HOSTED_SSO}`},(0,D.tZ)(Nx,{backRoute:a.url})),(0,D.tZ)(i.AW,{path:`${a.path}${uM.CONFIDENTIAL_SSO}`},(0,D.tZ)(BI,{backRoute:a.url})),(0,D.tZ)(i.AW,{path:`${a.path}${uM.SSO_CONNECTOR}`},(0,D.tZ)(Gx,{lee:e})),(0,D.tZ)(i.AW,{exact:!0,path:a.path},v?(0,D.tZ)(i.l_,{to:v}):dM||(dM=(0,D.tZ)(rM,null))))}),T_.SSO);function mT({path:e}){return n.createElement(i.GB,{path:e,permission:e=>e.adminAccess.hasFullAccess},n.createElement(i.rs,null,n.createElement(i.l_,{exact:!0,from:e,to:`${e}${s.B9.POLICIES}`}),n.createElement(i.Vy,{path:`${e}${s.B9.POLICIES}`,component:oT,reducer:US.Z}),n.createElement(i.Vy,{path:`${e}${s.B9.DIRECTORY_SYNC}`,component:lT}),n.createElement(i.Vy,{path:`${e}${s.B9.DUO}`,component:cT,reducer:oS.ZP}),n.createElement(i.Vy,{path:`${e}${s.B9.MASTER_PASSWORD_POLICIES}`,component:dT,reducer:gS.ZP}),n.createElement(i.Vy,{path:`${e}${s.B9.SSO}`,component:uT})))}var pT,_T,gT,hT,bT,yT,CT,wT=a(864824);const ET=({title:e,content:t,ctaText:a,ctaAction:n,buttonIcon:i})=>(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:4},(0,Ue.tZ)(Ue.X6,{as:"h1"},e),(0,Ue.tZ)(Ue.nv,null,t),(0,Ue.tZ)(Ue.zx,{onClick:n,sx:{marginTop:"16px"},size:"small",mood:"neutral",intensity:"quiet",layout:i?"iconTrailing":"labelOnly",icon:i},a)),vT=()=>{const{translate:e}=(0,P.Z)(),t=(0,i.Xo)(),a=(0,i.k6)(),s=[(0,Ue.tZ)(ET,{key:"accessGuides",title:e("team_get_started_help_access_guide_title"),content:e("team_get_started_help_access_guide_content"),ctaText:e("team_get_started_help_access_guide_cta"),ctaAction:()=>{(0,b.Yo)(bp.EL)},buttonIcon:pT||(pT=(0,Ue.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined"}))}),(0,Ue.tZ)(ET,{key:"customize",title:e("team_get_started_help_customize_title"),content:e("team_get_started_help_customize_content"),ctaText:e("team_get_started_help_customize_cta"),ctaAction:()=>{a.push(t.routes.teamSettingsRoutePath)}}),(0,Ue.tZ)(ET,{key:"activity",title:e("team_get_started_help_activity_title"),content:e("team_get_started_help_activity_content"),ctaText:e("team_get_started_help_activity_cta"),ctaAction:()=>{a.push(t.routes.teamActivityRoutePath)}}),(0,Ue.tZ)(ET,{key:"deploy",title:e("team_get_started_help_deploy_title"),content:e("team_get_started_help_deploy_content"),ctaText:e("team_get_started_help_deploy_cta"),ctaAction:()=>{(0,b.Yo)("https://support.dashlane.com/hc/en-us/articles/360012482199-Dashlane-deployment-guide-for-admins")},buttonIcon:_T||(_T=(0,Ue.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined"}))}),(0,Ue.tZ)(d.Ejs,{key:"moreHelp",flexDirection:"column",gap:4,justifyContent:"start"},(0,Ue.tZ)(Ue.X6,{as:"h1"},e("team_get_started_help_more_title")),(0,Ue.tZ)(Ue.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:gT||(gT=(0,Ue.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>(0,b.Yo)(bp.EL)},e("team_get_started_help_visit_help_center")),(0,Ue.tZ)(Ue.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:hT||(hT=(0,Ue.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>(0,b.Yo)(bp.VH)},e("team_get_started_help_visit_help_resources")),(0,Ue.tZ)(Ue.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:bT||(bT=(0,Ue.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>(0,b.Yo)(bp.hc)},e("team_get_started_help_visit_help_contact_support")))],[r,o]=(0,n.useState)(0),l=s.length;return(0,Ue.tZ)(d.Zbd,{sx:{padding:"32px",backgroundColor:"ds.container.agnostic.neutral.supershy"}},(0,Ue.tZ)(d.Ejs,{alignItems:"center",sx:{marginBottom:"16px"},flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between"},(0,Ue.tZ)(Ue.nv,{color:"ds.text.neutral.quiet"},r+1,"/",l),(0,Ue.tZ)(d.Ejs,{gap:4},(0,Ue.tZ)(Ue.zx,{onClick:()=>{o((e=>e-1<0?l-1:(e-1)%l))},mood:"neutral",intensity:"supershy",icon:yT||(yT=(0,Ue.tZ)(Ue.JO,{name:"ArrowLeftOutlined"})),layout:"iconOnly"}),(0,Ue.tZ)(Ue.zx,{onClick:()=>{o((e=>(e+1)%l))},mood:"neutral",intensity:"supershy",icon:CT||(CT=(0,Ue.tZ)(Ue.JO,{name:"ArrowRightOutlined"})),layout:"iconOnly"}))),s[r])},NT="team_get_started_task_learn_more",ST=({isCompleted:e,isDisabled:t,title:a,content:n,helpDocLink:i,ctaOnClick:s,ctaText:r,upNextImage:o,disabledText:l,isCtaDisabled:c,disabledCtaTooltipText:u,isUpNext:m,...p})=>{const{translate:_}=(0,P.Z)();return(0,Ue.tZ)(d.Zbd,{key:p.key,sx:{padding:"32px",marginTop:"8px",marginBottom:m?"32px":"auto",backgroundColor:e?"ds.container.agnostic.neutral.standard":"ds.container.agnostic.neutral.supershy",boxShadow:m?"0px 12px 24px rgba(0, 0, 0, 0.24)":"unset"}},(0,Ue.tZ)(d.T5p,{gap:"8px",gridTemplateRows:"auto",gridTemplateColumns:"auto 1fr",gridTemplateAreas:m?"'title image' 'content image' 'cta image'":"'title cta' 'content cta' 'learnMore cta'"},(0,Ue.tZ)(d.dDn,{gridArea:"title"},(0,Ue.tZ)(Ue.X6,{as:"h2",textStyle:m?"ds.title.section.medium":"ds.title.block.medium",sx:{marginBottom:m?"16px":"8px",fontWeight:"bold"},color:e?"ds.text.neutral.quiet":"ds.text.neutral.catchy"},a)),(0,Ue.tZ)(d.dDn,{gridArea:"content"},(0,Ue.tZ)(Ue.nv,{textStyle:m?"ds.body.standard.regular":"ds.body.reduced.regular",color:e?"ds.text.neutral.quiet":"ds.text.neutral.standard"},n)),m?(0,Ue.tZ)(d.dDn,{gridArea:"image"},o):null,(0,Ue.tZ)(d.dDn,{gridArea:"cta",justifySelf:m?"start":"end",sx:{marginTop:m?"32px":"0"}},e||t?(0,Ue.tZ)(Ue.Ct,{label:t?null!=l?l:_("team_get_started_task_disabled"):_("team_get_started_task_completed"),mood:t?"neutral":"positive",intensity:"catchy"}):(0,Ue.tZ)(II.M,{disabled:c,size:m?"medium":"small",mood:m?"brand":"neutral",intensity:m?"catchy":"quiet",onClick:s,content:u},r),m?(0,Ue.tZ)((()=>i?(0,Ue.tZ)(Ue.zx,{sx:{marginLeft:"8px"},mood:"brand",intensity:"supershy",size:"medium",onClick:()=>(0,b.Yo)(i)},_(NT)):null),null):null),m?null:(0,Ue.tZ)(d.dDn,{gridArea:"learnMore"},(0,Ue.tZ)((()=>i?(0,Ue.tZ)(d.k$b,{as:Ue.nv,innerAs:d.rUS,size:"small",color:e?"ds.text.neutral.quiet":"ds.text.brand.standard",rel:"noopener noreferrer",target:"_blank",href:i},_(NT)):null),null))))};function IT(e,t){const a={dataQuery:{sortToken:{sortCriteria:[{field:"name",direction:e}],uniqField:"id"},filterToken:{filterCriteria:[]}},spaceId:t},n=btoa(JSON.stringify(a));return(0,W.qr)({queryConfig:{query:u.C.getUserGroups,queryParam:a},liveConfig:{live:u.C.liveUserGroups,liveParam:n}},[e,t])}const fT=a.p+"f2c931634a3b982f7f78.png",xT=a.p+"2d07f8aaf28eb418a6e1.png",MT=a.p+"b86402fcddc7bfe6ab1b.png";var TT,DT,ZT,AT,kT,OT,LT;const zT="team_get_started_visit_vault_cta",jT="team_get_started_sharing_turned_off";var PT,RT;function UT(e,t){return!t.adminAccess||t.adminAccess.hasPermissionLevel(e)}const BT=ky((()=>{var e,t,a;const{routes:s}=(0,i.Xo)(),{translate:r}=(0,P.Z)(),{teamOffers:o}=(0,km.a)({}),{teamInfo:l}=(0,Op.G)(),u=(0,_m.Y)(),m=u.status===W.rq.Success&&u.data?.planType===vp.PlanType.Invoice,[p,_]=n.useState(0),[g,h]=n.useState(),[b,y]=n.useState(""),[C,w]=n.useState(!0),[E,v]=n.useState(zp.FORM),[N,S]=n.useState();n.useEffect((()=>{const e=(0,i.CN)().get("plan");o&&"business"===e&&h(o.businessOffer)}),[o]);const{alert:I,show:f}=(0,d.VYq)({message:r("team_account_teamplan_changeplan_error_generic"),severity:d.BLW.ERROR,dismissDelay:4e3}),x=null!=(e=o?.businessOffer?.currency)?e:"",M=(null!=(t=l?.seats?.paid)?t:0)+(null!=(a=l?.seats?.extraFree)?a:0),{logChangePlanEvent:T}=_p({selectedOffer:g,hasPromo:!1,currentSeats:M,additionalSeats:p,planChangeStep:c.PlanChangeStep.SelectPlanTier}),{setNavBarChildren:D}=n.useContext(gg),Z=n.createElement(d.k$b,null,n.createElement(d.zxk,{type:"button",nature:"ghost",onClick:()=>(0,i.uX)(s.teamAccountRoutePath)},n.createElement(d.Ejs,{alignItems:"center"},Ng||(Ng=n.createElement(d.xCe,{size:14})),n.createElement(d.nvN,{bold:!0,sx:{marginLeft:"14px",color:d.O9T.dashGreen00}},r("team_account_teamplan_changeplan_back")))));return n.useEffect((()=>(D(Z),()=>{D(null)})),[]),n.createElement(d.Ejs,{sx:{margin:"45px",width:"1180px"}},n.createElement("div",{style:{bottom:"12px",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,width:"600px"}},I),n.createElement(d.Ejs,{flexDirection:"column",gap:"8px"},E===zp.FORM?n.createElement(d.Ejs,{gap:"8px"},n.createElement(d.k$b,{sx:{width:"646px"}},n.createElement(d.Ejs,{flexDirection:"column",gap:"8px"},n.createElement(Jm,{teamOffers:o,selectedOffer:g,handleSelection:e=>{T(e),h(e)}}),m?Sg||(Sg=n.createElement(jp,null)):n.createElement(n.Fragment,null,n.createElement(e_,{b2b:!0,hideUpdateButton:!0,styles:{padding:"32px"}}),n.createElement(Ip,{email:b,emailValid:C,setEmail:y,setEmailValid:w})))),n.createElement(d.k$b,{sx:{width:"470px"}},n.createElement(d.Ejs,{flexDirection:"column",gap:"8px"},n.createElement(a_,{teamOffers:o,currentSeats:M}),n.createElement(Np,{currentSeats:M,additionalSeats:p,currency:x,selectedOffer:g,email:b,emailValid:C,onSuccess:()=>{v((()=>zp.SUCCESS))},onError:f,setAdditionalSeats:_,setOrderSummaryData:S}),Ig||(Ig=n.createElement(fp,null))))):null,E===zp.SUCCESS&&N?n.createElement(d.Ejs,{sx:{display:"flex",flexWrap:"nowrap",gap:"16px"}},n.createElement(d.Ejs,{sx:{display:"flex",flexGrow:"2",maxWidth:"632px",flexDirection:"column"}},n.createElement(kp,{targetPlan:g?.name?.includes("business")?"business":"team"})),n.createElement(d.Ejs,{sx:{display:"flex",flexGrow:"1",gap:"16px",flexDirection:"column"}},n.createElement(Eg,{currency:x,selectedOffer:g,costData:N}),fg||(fg=n.createElement(vg,null)))):null))}),Z_.CHANGE_PLAN),FT=ky((({lee:e})=>{const t=(0,lm.B)(),{reportTACError:a}=d_(),[i,s]=n.useState(!1),r=(0,Be.w)("monetization_extension_invoice_addingCC"),o=(0,_m.Y)(),[l,u]=n.useState(!1),m=n.useCallback((async()=>{const t=(0,Dg.v0)(e.globalState);if(t)try{const a=await(new Mg.Z).status({auth:t,teamInformation:!0,autoRenewal:!0});e.dispatch(wb.Ww({endDate:a.endDate,planName:a.planName}));const n=await(new Tg.Z).status({auth:t});e.dispatch(wb.Ti({billingType:n.content.team.currentBillingInfoLite?n.content.team.currentBillingInfoLite.type:null,creditCardLastDigits:n.content.team.currentBillingInfoLite?n.content.team.currentBillingInfoLite.card_last4:null,isFreeTrial:n.content.team.isFreeTrial,isGracePeriod:n.content.team.isGracePeriod,creationDateUnix:n.content.team.creationDateUnix,lastBillingDateUnix:n.content.team.lastBillingDateUnix,seatsNumber:n.content.team.membersNumber+n.content.team.extraFreeSlots,nextBillingDetails:n.content.team.nextBillingDetails,usersToBeRenewedCount:n.content.team.usersToBeRenewedCount,planTier:n.content.team.planTier}))}catch(e){a(e)}else a(new Error(xg.N))}),[]);n.useEffect((()=>{m(),(0,v.N)(c.PageView.TacAccount)}),[m]);const p=t=>{"open"===t&&((0,v.N)(c.PageView.TacAccountBuy),e.dispatch(wb.Ip(!0))),"close"===t&&((0,v.N)(c.PageView.TacAccount),e.dispatch(wb.Ip(!1)))},{search:_}=(0,L_.TH)(),{billingType:g,endDate:h,isFreeTrial:y,isGracePeriod:C,isTeamUpgradeOpen:w,isTeamUpgradeSuccessOpen:E,lastAdditionalSeatsDetails:N,lastBillingDateUnix:S,lastBillingDetails:I,nextBillingDetails:f,planName:x,planTier:M,seatsNumber:T,usersToBeRenewedCount:D}=e.state;n.useEffect((()=>{_?.includes("showSeatsDialog")&&setTimeout((()=>{(0,v.K)(new c.UserBuySeatEvent({flowStep:c.FlowStep.Start,hasPromo:!1,initialSeatCount:T.valueOr(0),priceAmountCents:f.caseOf({just:e=>e.amount,nothing:()=>0}),priceCurrencyCode:c.PriceCurrencyCode[f.caseOf({just:e=>e.currency,nothing:()=>""})],purchasedSeatCount:T.valueOr(0)})),p("open")}),2e3)}),[]);const Z=()=>{const e="team"===M?"team":"business",a=`${bp.ub}?plan=${e}&subCode=${t?.subscriptionCode}`;(0,b.Yo)(a)},A=()=>{(0,v.N)(c.PageView.TacAccountCustomizeInvoice),s(!0)};if(o.status!==W.rq.Success||!o.data)return n.createElement(d.HoD,{color:d.O9T.midGreen00});const k="invoice"===o.data.planType,O=()=>{r&&k?u(!0):p("open")};return n.createElement("div",{className:"accountPage--ybb29ywtla"},E&&r?null:n.createElement(n.Fragment,null,n.createElement(ih,{lee:e,onRequestBuyMoreSeats:()=>{(0,v.K)(new c.UserBuySeatEvent({flowStep:c.FlowStep.Start,hasPromo:!1,initialSeatCount:T.valueOr(0),priceAmountCents:f.caseOf({just:e=>e.amount,nothing:()=>0}),priceCurrencyCode:c.PriceCurrencyCode[f.caseOf({just:e=>e.currency,nothing:()=>""})],purchasedSeatCount:T.valueOr(0)})),O()},onRequestTeamUpgrade:()=>{Z()},isFreeTrial:y,isGracePeriod:C,seatsNumber:T,usersToBeRenewedCount:D,planTier:M,planName:x,billingType:g}),l?n.createElement(Gb,{lee:e,handleClose:()=>{u(!1)}}):null,n.createElement(Zh,{lee:e.child(Cb.Z),endDate:h,handleGetPastReceipts:A,lastBillingDateUnix:S,nextBillingDetails:f,onRequestTeamUpgrade:()=>{y?Z():O()},planName:x,usersToBeRenewedCount:D,isFreeTrial:y,isGracePeriod:C})),y.bind((t=>S.map((a=>n.createElement(gb,{key:a,isFreeToPaidUpgrade:t,isTeamUpgradeSuccessOpen:E,isOpen:w,lee:e.child(mb.ZP),nextBillingDetails:f,numberOfCurrentPaidSlots:T.valueOr(0),numberOfCurrentUsedSlots:D.valueOr(0),onUpgradeSuccess:(t,a)=>{e.dispatch(wb.HH({additionalSeatsDetails:t,billingDetails:a,isTeamUpgradeSuccessOpen:!0}))},onRequestClose:()=>p("close"),onUserAcknowledgesPlanTypeUpdate:m,planTier:M,onGetPastReceipts:A}))))).caseOf({just:e=>e,nothing:()=>null}),n.createElement(yb,{lee:e.child(hb.ZP),onClose:()=>{(0,v.N)(c.PageView.TacAccount),s(!1)},isOpen:i}),r&&E&&N&&I?n.createElement(Zb,{planTier:M,additionalSeatsDetails:N,billingDetails:I,onGetPastReceipts:A,onNavigate:()=>e.dispatch(wb.HH({isTeamUpgradeSuccessOpen:!1,additionalSeatsDetails:void 0,billingDetails:void 0}))}):null)}),Z_.ACCOUNT),GT=ky((()=>{var e;const t=(0,i.k6)(),{translate:a}=(0,P.Z)(),{teamInfo:s}=(0,Op.G)(),r=(0,Na.V)(),o=(0,i.Xo)(),l=null!=(e=s?.teamInfo?.name)?e:"",[c,m]=(0,n.useState)(!1),{isLoading:_,taskList:g}=(()=>{var e;const{translate:t}=(0,P.Z)(),a=(0,i.Xo)(),s=(0,L_.k6)(),[r,o]=(0,n.useState)(!0),{setIsVaultNavigationModalOpen:l,setOnBeforeNavigateCallback:c}=(0,n.useContext)(S_),{teamInfo:d,isLoading:m}=(0,Op.G)(),{teamId:p,currentSpaceId:_}=(0,x.fV)(),{teamMembers:g}=aN(p),h=dE(g),y=IT("ascend",_),C=null!=(e=d?.teamInfo?.sharingDisabled)&&e,w=h>=5,E=h<=1,v=r||m,{interacted:N,setAsInteracted:S}=(0,hc.d)(z_.NotificationName.TacGetStartedOpenVault),I=!(y.status!==W.rq.Success||!y.data.items?.find((e=>e.itemCount>0))),[f,M]=(0,n.useState)(!1),[T,D]=(0,n.useState)(!1),[Z,A]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=new AbortController;return(async()=>{const t=await u.C.getActiveSpaces(),a=await u.C.getAdministrableUserGroups(),n=await u.C.getReport(),i=a.find((e=>e.users.length>0)),s=t.find((e=>e.teamAdmins.length<=1));e.signal.aborted||(M(!!s),D(!!i),n.success&&A(n.response.passwordHealth.passwords>=5),o(!1))})(),()=>{e.abort()}}),[]),{isLoading:v,taskList:[{isCompleted:!0,renderTaskComponent:({isUpNext:e})=>(0,Ue.tZ)(ST,{key:"createAccount",isUpNext:e,upNextImage:TT||(TT=(0,Ue.tZ)("img",{alt:"",src:fT})),isCompleted:!0,title:t("team_get_started_create_account_title"),content:t("team_get_started_create_account_content"),helpDocLink:"",ctaOnClick:()=>{},ctaText:t(zT)})},{isCompleted:N,renderTaskComponent:({isUpNext:e})=>(0,Ue.tZ)(ST,{key:"visitVault",isUpNext:e,upNextImage:DT||(DT=(0,Ue.tZ)("img",{alt:"",src:xT})),isCompleted:N,title:t("team_get_started_visit_vault_title"),content:t("team_get_started_visit_vault_content"),helpDocLink:"https://support.dashlane.com/hc/en-us/articles/115004367629",ctaOnClick:()=>{c((()=>S)),l(!0)},ctaText:t(zT)})},{isCompleted:!!w,renderTaskComponent:({isUpNext:e})=>(0,Ue.tZ)(ST,{key:"invitePlanMembers",isUpNext:e,upNextImage:ZT||(ZT=(0,Ue.tZ)("img",{alt:"",src:xT})),isCompleted:!!w,title:t("team_get_started_invite_title"),content:t("team_get_started_invite_content"),helpDocLink:"https://support.dashlane.com/hc/en-us/articles/208864325",ctaOnClick:()=>{s.push(a.routes.teamMembersRoutePath)},ctaText:t("team_get_started_invite_cta")})},{isCompleted:!f,renderTaskComponent:({isUpNext:e})=>(0,Ue.tZ)(ST,{key:"assignAdmin",isUpNext:e,upNextImage:AT||(AT=(0,Ue.tZ)("img",{alt:"",src:xT})),isCompleted:!f,isCtaDisabled:E,disabledCtaTooltipText:t("team_get_started_assign_admin_disabled_tooltip"),title:t("team_get_started_assign_admin_title"),content:t("team_get_started_assign_admin_content"),helpDocLink:"https://support.dashlane.com/hc/articles/208022229-Manage-Starter-Team-or-Business-plan-members#title4",ctaOnClick:()=>{s.push(a.routes.teamMembersRoutePath)},ctaText:t("team_get_started_assign_admin_cta")})},{isCompleted:T,renderTaskComponent:({isUpNext:e})=>(0,Ue.tZ)(ST,{key:"createSharingGroup",isUpNext:e,upNextImage:kT||(kT=(0,Ue.tZ)("img",{alt:"",src:xT})),isDisabled:C,disabledText:t(jT),isCtaDisabled:E,disabledCtaTooltipText:t("team_get_started_sharing_group_disabled_tooltip"),isCompleted:T,title:t("team_get_started_sharing_group_title"),content:t("team_get_started_sharing_group_content"),helpDocLink:"https://support.dashlane.com/hc/articles/115003949765#manage",ctaOnClick:()=>{s.push(a.routes.teamGroupsRoutePath)},ctaText:t("team_get_started_sharing_group_cta")})},{isCompleted:I,renderTaskComponent:({isUpNext:e})=>(0,Ue.tZ)(ST,{key:"shareFirstItems",isUpNext:e,upNextImage:OT||(OT=(0,Ue.tZ)("img",{alt:"",src:fT})),isDisabled:C,disabledText:t(jT),isCompleted:I,isCtaDisabled:!T,disabledCtaTooltipText:t("team_get_started_sharing_disabled_tooltip"),title:t("team_get_started_sharing_items_title"),content:t("team_get_started_sharing_items_content"),helpDocLink:"https://support.dashlane.com/hc/en-us/articles/202699021",ctaOnClick:()=>{(0,b.Yo)(`${bp.F1}#${a.routes.userSharingCenter}`)},ctaText:t("team_get_started_sharing_items_cta")})},{isCompleted:Z,renderTaskComponent:({isUpNext:e})=>(0,Ue.tZ)(ST,{key:"checkPasswordHealth",isUpNext:e,upNextImage:LT||(LT=(0,Ue.tZ)("img",{alt:"",src:MT})),isCompleted:Z,title:t("team_get_started_password_health_title"),content:t("team_get_started_password_health_content"),helpDocLink:"https://support.dashlane.com/hc/en-us/articles/360016225300",ctaOnClick:()=>{s.push(a.routes.teamDashboardRoutePath)},ctaText:t("team_get_started_password_health_cta")})}]}})(),{setAsInteracted:h}=(0,hc.d)(z_.NotificationName.TacGetStartedDismissPage),{unseen:y,setAsSeen:C}=(0,hc.m)(z_.NotificationName.TacGetStartedSeenPage);(0,n.useEffect)((()=>{y&&(r.showAlert(a.markup("team_get_started_create_account_task_alert_markup"),d.BLW.SUCCESS),C())}),[y]);const{upNextTask:w,toDoTasks:E,completedTasks:v}=(()=>{const e=g,t=g.findIndex((e=>!e.isCompleted));let a=null;return t>=0&&(a=e[t],e.splice(t,1)),{upNextTask:a,toDoTasks:e.filter((e=>!e.isCompleted)),completedTasks:e.filter((e=>e.isCompleted))}})();return(0,Ue.tZ)(d.Ejs,{sx:{paddingX:"80px",paddingY:"20px"},gap:"8px",flexDirection:"column"},(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,Ue.tZ)(Ue.nv,{textStyle:"ds.specialty.brand.small",sx:{fontWeight:"700"}},a("team_get_started_welcome_title")),(0,Ue.tZ)(Ue.nv,{color:"ds.text.neutral.quiet"},a("team_get_started_welcome_subtitle",{team:l}))),(0,Ue.tZ)(d.T5p,{fullWidth:!0,gap:"64px",gridTemplateColumns:"2fr 1fr",gridTemplateAreas:"'tasks helpTips'"},(0,Ue.tZ)(d.dDn,{gridArea:"tasks"},_?PT||(PT=(0,Ue.tZ)(Qr.Z,null)):(0,Ue.tZ)(n.Fragment,null,w?(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(Ue.X6,{as:"h2",sx:{marginTop:"24px",marginBottom:"8px"}},a("team_get_started_up_next_task_title")),w.renderTaskComponent({isUpNext:!0})):null,(0,Ue.tZ)(d.Ejs,{flexDirection:"column"},E.length?(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(Ue.X6,{as:"h2",sx:{marginTop:"24px",marginBottom:"8px"}},a("team_get_started_tasks_title")),E.map((e=>e.isCompleted?null:e.renderTaskComponent({})))):null,v.length?(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(Ue.X6,{as:"h2",sx:{marginTop:"24px",marginBottom:"8px"}},a("team_get_started_completed_tasks_title")),v.map((e=>e.isCompleted?e.renderTaskComponent({}):null))):null,(0,Ue.tZ)(d.Ejs,{sx:{marginTop:"40px"},gap:"16px",alignItems:"center"},(0,Ue.tZ)(Ue.nv,{color:"ds.text.neutral.quiet"},a("team_get_started_close_guide")),(0,Ue.tZ)(Ue.zx,{onClick:()=>m(!0),size:"small",mood:"neutral",intensity:"quiet"},a("team_get_started_close_guide_cta")))))),RT||(RT=(0,Ue.tZ)(d.dDn,{gridArea:"helpTips"},(0,Ue.tZ)(vT,null)))),(0,Ue.tZ)(p.o,{title:a("team_get_started_close_page_title"),isOpen:c,showCloseIcon:!0,onRequestClose:()=>m(!1),footer:(0,Ue.tZ)(d.cNS,null,(0,Ue.tZ)(Ue.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:()=>m(!1)},a("_common_action_cancel")),(0,Ue.tZ)(Ue.zx,{mood:"danger",intensity:"catchy",onClick:()=>{h(),t.push(o.routes.teamDashboardRoutePath)}},a("team_get_started_close_page_cta")))},a("team_get_started_close_page_content")))}),Z_.GET_STARTED),WT=ky((({lee:e})=>{const[t,a]=(0,n.useState)(!0),[i,s]=(0,n.useState)(dC),[r,o]=(0,n.useState)({seats:{pending:0,provisioned:0,used:0},passwordHealthHistory:[],passwordHealth:{compromised:0,passwords:0,reused:0,safe:0,securityIndex:0,weak:0}}),{reportTACError:l}=d_(),m=(0,Be.w)("itadmin_tac_breachreport_phase1"),p=(0,Be.w)("itadmin_tac_dwi_mvp_v2"),_=m||p,{verifiedOrPendingDomain:g,updateDomainState:h}=ow(),[b,y]=(0,n.useState)(null),C=0===r.passwordHealthHistory.length,w=(0,n.useCallback)((async()=>{const t=(0,Dg.v0)(e.globalState);if(t)try{const e=await(new Tg.Z).status({auth:t});s(e.content.team.creationDateUnix)}catch(e){l(e)}else l(new Error(xg.N))}),[]),E=(0,n.useCallback)((async()=>{const e=await u.C.getDarkWebInsightsSummary();y(e)}),[]);(0,n.useEffect)((()=>{(0,v.N)(c.PageView.TacDashboard),w(),async function(){const e=await u.C.getReport();e.success&&(a(!1),o(e.response))}(),_&&(h(),E())}),[E,w,_,h]);const N=eh({dismissible:!0});return(0,D.tZ)("div",{className:"page--WS_Gm4wHdt"},(0,D.tZ)(d.T5p,{fullWidth:!0,alignItems:"top",gap:"32px",gridTemplateColumns:"auto auto auto auto",gridTemplateRows:"auto auto",gridTemplateAreas:`'cards cards cards cards' '${N?"pwHealth pwHealth pwHealth upgrade":_?"pwHealth pwHealth pwHealth dwi":"pwHealth pwHealth pwHealth pwHealth"}'`},(0,D.tZ)(d.dDn,{gridArea:"cards"},(0,D.tZ)(CC,{passwordHealth:r.passwordHealth,seats:r.seats,passwordHealthHistoryEmpty:C})),(0,D.tZ)(d.dDn,{gridArea:"pwHealth",sx:{height:_?"418px":"535px",width:_?"710px":"1024px"}},(0,D.tZ)(RC,{isLoading:t,report:r,passwordHealthHistoryEmpty:C,creationDateUnix:i})),N?(0,D.tZ)(d.dDn,{gridArea:"upgrade",sx:{width:"282px"}},(0,D.tZ)(d.Zbd,{sx:{padding:"16px"}},lw||(lw=(0,D.tZ)(ah,{dismissible:!0})))):_?(0,D.tZ)(d.dDn,{gridArea:"dwi"},g.status===rw.Loading?cw||(cw=(0,D.tZ)(GC,null)):null!==g.domain?(0,D.tZ)(KC,{verifiedOrPendingDomain:g.domain,dwiSummaryResponse:b}):(0,D.tZ)(sw,{dwiSummaryResponse:b})):null),t?(0,D.tZ)(Qr.Z,{containerClassName:"loadingSpinnerBackground--xx7LY4HiMj"}):null)}),Z_.DASHBOARD),VT=ky((({lee:e,location:t})=>{const a=(0,n.useRef)(!1),{translate:i}=(0,P.Z)(),{reportTACError:s}=d_(),r=(0,Na.V)(),[o,l]=(0,n.useState)(!0),{invitePartialSuccessState:u,setInvitePartialSuccessState:m,handleInvitationResultClosed:p}=fE(),[_,g]=(0,n.useState)(null),[h,b]=(0,n.useState)(!1),[y,C]=(0,n.useState)({showError:!1,membersWithoutPublicKey:[]}),w=(0,n.useCallback)((()=>{const t=(0,Dg.v0)(e.globalState);return t||s(new Error(xg.N)),t}),[e.globalState,s]),E=(0,n.useCallback)((()=>{b(!0),(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1}))}),[]),N=t=>{e.dispatch(WE.eY(t))},S=(e,t)=>{m({show:!0,invitedMembers:e,refusedMembers:t}),N(Object.keys(e))},I=(0,n.useCallback)(((t,a=[],n)=>{const s=async()=>{g(null),a.forEach((t=>{e.dispatch(WE.bh(t))}));const t=w();if(!t)return;const n=a.map((e=>e.login));try{const s=await(new Tg.Z).proposeMembers({auth:t,memberLogins:n});if(Vv(s.content)){const{refusedMembers:t}=s.content;Object.values(t).forEach((t=>{const n=a.find((e=>e.login===t));S(s.content.proposedMembers,s.content.refusedMembers),e.dispatch(WE.S2(n))})),(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Complete,inviteCount:0,inviteFailedCount:Object.keys(t).length,inviteResentCount:n.length,inviteSuccessfulCount:n.length-Object.keys(t).length,isImport:!1,isResend:!0}))}else r.showAlert(i("team_members_invite_success_message"),d.BLW.SUCCESS),(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Complete,inviteCount:0,inviteFailedCount:0,inviteResentCount:n.length,inviteSuccessfulCount:n.length,isImport:!1,isResend:!0}))}catch({message:t="",data:s={}}){const o=i("team_members_invite_error_message_no_free_slot"),l=i("team_members_invite_error_message"),{content:{error:u=t}={}}=s,m=["no_free_slot_free_plan","no_free_slot"].includes(u)?o:l;a.forEach((t=>{e.dispatch(WE.S2(t)),r.showAlert(m,d.BLW.ERROR)})),(0,v.K)(new c.UserSendManualInviteEvent({flowStep:c.FlowStep.Error,inviteCount:0,inviteFailedCount:n.length,inviteResentCount:n.length,inviteSuccessfulCount:0,isImport:!1,isResend:!0}))}},o=a.map((e=>e.login));switch(t){case"demote":return g((0,D.tZ)(Rv,{lee:e,selectedMembers:a,closeDialog:()=>g(null)}));case"promote":return g((0,D.tZ)(jv,{lee:e,selectedMembers:a,closeDialog:()=>g(null)}));case"reassign":return g((0,D.tZ)(XE,{lee:e,selectedMembers:a,newRole:n,closeDialog:()=>g(null)}));case"reactivate":case"reinvite":return void s();case"reinviteAll":return g((0,D.tZ)(kv,{resendOrReactivate:s,closeDialog:()=>g(null)}));case"revoke":return g((0,D.tZ)(Lv,{lee:e,selectedMembers:a,closeDialog:()=>g(null)}));case"generateBackupCode":return g((0,D.tZ)(Av,{memberLogin:o[0],isOpen:!0,closeBackupCodeDialog:()=>g(null)}));case"enableInviteLink":return g((0,D.tZ)(Gv,{closeDialog:()=>g(null),applyActionOnMembers:I}));case"shareInviteLink":return g((0,D.tZ)(Bv,{closeDialog:()=>g(null)}))}}),[r,w,S,i]);(0,n.useEffect)((()=>{if(a.current)return;a.current=!0;const n=w();if(!n)return;const{teamId:i}=n;i&&((new Tg.Z).status({auth:n}).then((t=>{var a;return e.dispatch(WE.xF({extraFreeSlots:t.content.team.extraFreeSlots,membersNumber:t.content.team.membersNumber,isFreeTrial:t.content.team.isFreeTrial,teamName:null!=(a=t.content.team.info.name)?a:"",teamSecurityScore:t.content.team.securityIndex})),(0,_u.YY)({teamId:i})})).then((a=>{e.dispatch(WE.Wq({members:a})),l(!1);const n=a&&1===a.length,i=t.state?.openSendInvitesDialog;if(n||i)E();else if(t.state?.openResendPendingInvitationsDialog)return void I("reinviteAll",cv(a));const s=a.filter((e=>!e.hasPublicKey)).filter((e=>"accepted"===e.status));s.length&&C({showError:!0,membersWithoutPublicKey:s})})).catch(s),(0,v.N)(c.PageView.TacUserList))}),[E,I,w,e,t.state?.openResendPendingInvitationsDialog,t.state?.openSendInvitesDialog,s,i]);const f=dE(e.state.members.valueOr([])),x=e.carbon.accountFeatures.list["TAC-105-master-password-reset"];return(0,D.tZ)("div",{className:"page--mHbRsmxXYZ"},(0,D.tZ)(BE,{accountRoute:e.routes.teamAccountRoutePath,companyName:e.state.teamName.valueOr("—"),takenSeats:f,totalSeats:e.state.totalSeatCount.valueOr(0),teamSecurityScore:e.state.teamSecurityScore,shouldDisplayTeamSecurityScore:x}),(0,D.tZ)("div",{className:"container--FEPnAnU3fL"},o?(0,D.tZ)(Qr.Z,{containerStyle:{minHeight:240}}):(0,D.tZ)(xv,{lee:e,members:e.state.members.valueOr([]),onMembersActionSelect:I,onMembersInvite:()=>E()})),y.showError?(0,D.tZ)(Fv,{membersWithoutPublicKey:y.membersWithoutPublicKey,onClose:()=>C((e=>({...e,showError:!1})))}):null,_,(0,D.tZ)(eN,{lee:e,teamId:(0,Js.ev)(e.globalState),totalSeatCount:e.state.totalSeatCount.valueOr(0),numSeatsTaken:f,excludedInviteMembers:e.state.members.valueOr([]).filter((({status:e})=>"removed"!==e)).map((({login:e})=>e)),isFreeTrial:e.state.isFreeTrial.valueOr(!0),shouldShowInviteDialog:h,handleCloseInviteDialog:()=>b(!1),handleInvitePartialSuccess:S,handleInviteCompleteSuccess:N,invitePartialSuccessState:u,handleInvitationResultClosed:p}))}),Z_.MEMBERS),HT=ky((({lee:e})=>{var t;const{translate:a}=(0,P.Z)(),{verifiedOrPendingDomain:i,updateDomainState:s,deactivateDomain:r,tryVerifyDomain:o}=ow(),l=null!=(t=i.domain?.name)?t:"";return(0,n.useEffect)((()=>{(0,v.N)(c.PageView.TacDarkWebInsights),s()}),[s]),(0,D.tZ)(d.T5p,{sx:{padding:"32px 48px",backgroundColor:d.O9T.dashGreen06},gap:"10px",gridTemplateAreas:"'header header' 'leftContent rightContent' 'footer footer'"},(0,D.tZ)(d.dDn,{sx:{marginBottom:"32px"},gridArea:"header"},(0,D.tZ)(d.X6q,{size:"small"},a("team_dashboard_dark_web_insights_heading")),""!==l?(0,D.tZ)(d.Zbd,{sx:{display:"inline-block",minWidth:"200px",padding:"16px",marginTop:"16px",textAlign:"center",wordWrap:"break-word",backgroundColor:d.O9T.dashGreen05}},(0,D.tZ)(d.nvN,{color:d.O9T.dashGreen00,bold:!0},l)):null),(0,D.tZ)(d.dDn,{gridArea:"leftContent",sx:{minWidth:"800px"}},(0,D.tZ)("div",null,i.status===rw.Loading?(0,D.tZ)("div",{sx:uN},(0,D.tZ)(d.HoD,{size:120,color:d.O9T.dashGreen00,strokeWidth:1})):null===i.domain||i.status===rw.Start?(0,D.tZ)(Gw,{onSuccess:s,onError:s}):i.status===rw.Validated?(0,D.tZ)(sN,{lee:e,domainName:i.domain.name}):(0,D.tZ)(cN,{domain:i.domain,isDeactivating:i.status===rw.Deactivating,handleDeactivateDomain:r,handleRetryValidateDomain:o}))),dN||(dN=(0,D.tZ)(d.dDn,{gridArea:"rightContent"},(0,D.tZ)(dw,null))))}),Z_.DARK_WEB_INSIGHTS),qT=({basePath:e,path:t})=>n.createElement(i.GB,{path:t,reducer:wT.Z,permission:e=>e.loggedIn&&e.adminAccess.hasTACAccess,redirectPath:s.TT,component:cC},n.createElement(i.rs,null,n.createElement(i.l_,{exact:!0,from:`${e}/`,to:`${e}/dashboard`}),n.createElement(i.Vy,{component:BT,path:`${e}/${Z_.CHANGE_PLAN}`,permission:e=>UT("BILLING",e)}),n.createElement(i.Vy,{component:FT,path:`${e}/${Z_.ACCOUNT}`,permission:e=>UT("BILLING",e),reducer:wb.ZP,redirectPath:`${e}/${Z_.GROUPS}`}),n.createElement(i.Vy,{component:GT,path:`${e}/${Z_.GET_STARTED}`,permission:e=>UT("FULL",e),redirectPath:`${e}/${Z_.ACCOUNT}`}),n.createElement(i.Vy,{component:WT,path:`${e}/${Z_.DASHBOARD}`,permission:e=>UT("FULL",e),redirectPath:`${e}/${Z_.ACCOUNT}`}),n.createElement(zy,{path:`${e}/${Z_.ACTIVITY}`}),n.createElement(rS,{path:`${e}/${Z_.GROUPS}`,permission:e=>UT("GROUP_READ",e)}),n.createElement(i.Vy,{component:VT,path:`${e}/${Z_.MEMBERS}`,permission:e=>UT("FULL",e),redirectPath:`${e}/${Z_.ACCOUNT}`,reducer:WE.ZP}),n.createElement(i.Vy,{component:HT,path:`${e}/${Z_.DARK_WEB_INSIGHTS}`,permission:e=>UT("FULL",e),redirectPath:`${e}/${Z_.DARK_WEB_INSIGHTS}`,reducer:WE.ZP}),n.createElement(mT,{path:`${e}/${Z_.SETTINGS}`})));function YT({path:e,routingSchemeOptions:t}){return n.createElement(qT,{basePath:e,path:[e,`${e}/${Z_.ACCOUNT}`,`${e}/${Z_.ACTIVITY}`,`${e}/${Z_.DASHBOARD}`,`${e}/${Z_.GROUPS}`,`${e}/${Z_.MEMBERS}`,`${e}/${Z_.SETTINGS}`,`${e}/${Z_.DARK_WEB_INSIGHTS}`]})}var QT=a(71066);const $T="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMjRDMCAxMC43NDUyIDEwLjc0NTIgMCAyNCAwVjBDMzcuMjU0OCAwIDQ4IDEwLjc0NTIgNDggMjRWMjRDNDggMzcuMjU0OCAzNy4yNTQ4IDQ4IDI0IDQ4VjQ4QzEwLjc0NTIgNDggMCAzNy4yNTQ4IDAgMjRWMjRaIiBmaWxsPSIjQ0ZFMEU0Ii8+CjxwYXRoIGQ9Ik0zNS45OTk4IDMwLjk5NzNDMzUuOTk5MiAzMC45ODUyIDM1Ljk5NjUgMzAuOTMxMSAzNS45ODgyIDMwLjg0MjRDMzUuOTkwMyAzMC44NjUyIDM1Ljk5MjEgMzAuODg1OCAzNS45OTM2IDMwLjkwMzlDMzUuOTk3OCAzMC45NTYyIDM1Ljk5OTQgMzAuOTg4MyAzNS45OTk4IDMwLjk5NzNaIiBmaWxsPSIjMEUzNTNEIi8+CjxwYXRoIGQ9Ik0zMC43ODgxIDI5LjA1MzlDMzAuODA2NCAyOS4wNzc4IDMwLjgyNDUgMjkuMTAxOCAzMC44NDI0IDI5LjEyNTdDMzAuODM1IDI5LjExNTggMzAuODI3NiAyOS4xMDU5IDMwLjgyMDEgMjkuMDk1OUMzMC44MDk1IDI5LjA4MTkgMzAuNzk4OCAyOS4wNjc5IDMwLjc4ODEgMjkuMDUzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTI3LjgxNzIgMjMuODg0NkMyNy44NjkzIDIzLjgwMTQgMjcuOTE4NyAyMy43MTY0IDI3Ljk2NTQgMjMuNjI5N0MyNy45MzIzIDIzLjY5MTIgMjcuODk3OCAyMy43NTE4IDI3Ljg2MiAyMy44MTE2QzI3Ljg0NzMgMjMuODM2MSAyNy44MzIzIDIzLjg2MDQgMjcuODE3MiAyMy44ODQ2WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjkuNDk5NyAyNi45MDM5QzI5LjE0NjggMjYuOTAzOSAyOC44MjMzIDI2LjkyNzQgMjguNTI2NSAyNi45NzA3QzI4LjM4ODcgMjYuODk0NSAyOC4yNDEgMjYuODE4NCAyOC4wODIzIDI2Ljc0M0MyOC42ODUxIDI2LjI4ODYgMjkuMjAzNiAyNS43MTczIDI5LjYwNzcgMjUuMDk2NkMzMS40NjExIDI1LjExNzQgMzIuNzY0NSAyNS42NzMyIDMzLjY4MzIgMjYuNDMxQzM0LjYxMiAyNy4xOTcyIDM1LjE1NDEgMjguMTc1NCAzNS40Njk4IDI5LjAzMzFDMzUuNjcwMSAyOS41NzcgMzUuNzc4NyAzMC4wNzA4IDM1LjgzNzMgMzAuNDI4NUMzNS44NjY1IDMwLjYwNzMgMzUuODgzMiAzMC43NTE5IDM1Ljg5MjYgMzAuODUxNEwzNS44OTczIDMwLjkwMzlIMzEuOTU5MUMzMS43MTkgMzAuMzI4NSAzMS4zOTAzIDI5LjcwNDEgMzAuOTM5OSAyOS4wOTU5SDMzLjUzMjJMMzMuNDQwNSAyOC45MzEzQzMzLjE3MDQgMjguNDQ5NyAzMi43Nzg1IDI3Ljk0MTEgMzIuMTU0IDI3LjU1MzZDMzEuNTI5NCAyNy4xNjYgMzAuNjc5MyAyNi45MDM5IDI5LjQ5OTcgMjYuOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTIwLjE0MzQgMzEuOTc4M0MyMC4yMDk2IDMxLjg2MDMgMjAuMjgzMSAzMS43NDA5IDIwLjM2NTYgMzEuNjIyM0MyMC4zMDA0IDMxLjcxNjEgMjAuMjQwOCAzMS44MTAzIDIwLjE4NiAzMS45MDM5QzIwLjE3MTUgMzEuOTI4OCAyMC4xNTczIDMxLjk1MzYgMjAuMTQzNCAzMS45NzgzWiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMwLjM5MyAzMy44NTE0TDMwLjM5NzcgMzMuOTAzOUgxNy42MDI5TDE3LjYwNzYgMzMuODUxNEMxNy42MTcgMzMuNzUxOSAxNy42MzM3IDMzLjYwNzMgMTcuNjYyOSAzMy40Mjg1QzE3LjcyMTUgMzMuMDcwOCAxNy44MzAxIDMyLjU3NyAxOC4wMzAzIDMyLjAzMzFDMTguMzQ3NyAzMS4xNzEyIDE4Ljg5MzUgMzAuMTg3NiAxOS44MzA3IDI5LjQxOThDMjAuNzY2NCAyOC42NTMyIDIyLjA5ODggMjguMDk1OSAyNC4wMDA1IDI4LjA5NTlDMjUuOTAyMiAyOC4wOTU5IDI3LjIzNDYgMjguNjUzMiAyOC4xNzAzIDI5LjQxOThDMjkuMTA3NCAzMC4xODc2IDI5LjY1MzEgMzEuMTcxMiAyOS45NzA0IDMyLjAzMzFDMzAuMTcwNiAzMi41NzY5IDMwLjI3OTIgMzMuMDcwOCAzMC4zMzc3IDMzLjQyODVDMzAuMzY2OSAzMy42MDczIDMwLjM4MzYgMzMuNzUxOSAzMC4zOTMgMzMuODUxNFpNMjAuMDQ3NCAzMS45NTM0TDE5Ljk2ODUgMzIuMDk1OUgyOC4wMzIzTDI3Ljk1MzUgMzEuOTUzNUwyNy45NDExIDMxLjkzMTJDMjcuNjcxIDMxLjQ0OTcgMjcuMjc5MiAzMC45NDExIDI2LjY1NDggMzAuNTUzNkMyNi4wMzAzIDMwLjE2NiAyNS4xODAxIDI5LjkwMzkgMjQuMDAwNSAyOS45MDM5QzIyLjgyMDkgMjkuOTAzOSAyMS45NzA3IDMwLjE2NiAyMS4zNDYxIDMwLjU1MzZDMjAuNzIxNyAzMC45NDExIDIwLjMyOTggMzEuNDQ5NyAyMC4wNTk3IDMxLjkzMTNMMjAuMDQ3NCAzMS45NTM0WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjQuMDAwMyAxOC45MDM5QzIyLjU2NjYgMTguOTAzOSAyMS40MDQzIDIwLjA2NjIgMjEuNDA0MyAyMS40OTk5QzIxLjQwNDMgMjIuOTMzNyAyMi41NjY2IDI0LjA5NTkgMjQuMDAwMyAyNC4wOTU5QzI0LjMxMjYgMjQuMDk1OSAyNC42MTIzIDI0LjA0MDcgMjQuODg5OSAyMy45Mzk1TDI2LjI0MiAyNS4yOTE2QzI1LjU4NTQgMjUuNjgwNiAyNC44MTkgMjUuOTAzOSAyNC4wMDAzIDI1LjkwMzlDMjEuNTY4IDI1LjkwMzkgMTkuNTk2MyAyMy45MzIyIDE5LjU5NjMgMjEuNDk5OUMxOS41OTYzIDE5LjA2NzcgMjEuNTY4IDE3LjA5NTkgMjQuMDAwMyAxNy4wOTU5QzI2LjQzMjYgMTcuMDk1OSAyOC40MDQzIDE5LjA2NzcgMjguNDA0MyAyMS40OTk5QzI4LjQwNDMgMjIuMzE4NyAyOC4xODEgMjMuMDg1IDI3Ljc5MTkgMjMuNzQxNkwyNi40Mzk5IDIyLjM4OTVDMjYuNTQxMSAyMi4xMTE5IDI2LjU5NjMgMjEuODEyMyAyNi41OTYzIDIxLjQ5OTlDMjYuNTk2MyAyMC4wNjYyIDI1LjQzNCAxOC45MDM5IDI0LjAwMDMgMTguOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTMyLjA5NTkgMTguNDk5OUMzMi4wOTU5IDE3LjA2NjIgMzAuOTMzNiAxNS45MDM5IDI5LjQ5OTkgMTUuOTAzOUMyOC45OTcxIDE1LjkwMzkgMjguNTI3NCAxNi4wNDcgMjguMTI5NiAxNi4yOTQ3QzI3LjYxOTQgMTUuODk3IDI3LjA0OTIgMTUuNTcyNyAyNi40MzQ5IDE1LjMzNzVDMjcuMjI3NyAxNC41Njg5IDI4LjMwODUgMTQuMDk1OSAyOS40OTk5IDE0LjA5NTlDMzEuOTMyMiAxNC4wOTU5IDMzLjkwMzkgMTYuMDY3NyAzMy45MDM5IDE4LjQ5OTlDMzMuOTAzOSAyMC41NzAzIDMyLjQ3NTIgMjIuMzA3MiAzMC41NDk4IDIyLjc3ODFDMzAuNjMxMiAyMi4zNjQgMzAuNjczOSAyMS45MzY2IDMwLjY3MzkgMjEuNDk5OUMzMC42NzM5IDIxLjI3NDcgMzAuNjYyNiAyMS4wNTIgMzAuNjQwNiAyMC44MzI1QzMxLjUwMjMgMjAuNDEwNCAzMi4wOTU5IDE5LjUyNDYgMzIuMDk1OSAxOC40OTk5WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMTguNDMyMyAyNi45MDM5QzE4Ljc4NTEgMjYuOTAzOSAxOS4xMDg2IDI2LjkyNzQgMTkuNDA1NCAyNi45NzA3QzE5LjU0MzIgMjYuODk0NSAxOS42OTA5IDI2LjgxODQgMTkuODQ5NiAyNi43NDNDMTkuMjQ2OCAyNi4yODg2IDE4LjcyODQgMjUuNzE3MyAxOC4zMjQyIDI1LjA5NjZDMTYuNDcwOSAyNS4xMTc0IDE1LjE2NzQgMjUuNjczMiAxNC4yNDg3IDI2LjQzMUMxMy4zMTk5IDI3LjE5NzIgMTIuNzc3OSAyOC4xNzU0IDEyLjQ2MjEgMjkuMDMzMUMxMi4yNjE5IDI5LjU3NyAxMi4xNTMyIDMwLjA3MDggMTIuMDk0NyAzMC40Mjg1QzEyLjA2NTQgMzAuNjA3MyAxMi4wNDg3IDMwLjc1MTkgMTIuMDM5MyAzMC44NTE0TDEyLjAzNDcgMzAuOTAzOUgxNS45NzI4QzE2LjIxMjkgMzAuMzI4NSAxNi41NDE3IDI5LjcwNDEgMTYuOTkyIDI5LjA5NTlIMTQuMzk5N0wxNC40OTE0IDI4LjkzMTNDMTQuNzYxNSAyOC40NDk3IDE1LjE1MzUgMjcuOTQxMSAxNS43Nzc5IDI3LjU1MzZDMTYuNDAyNSAyNy4xNjYgMTcuMjUyNyAyNi45MDM5IDE4LjQzMjMgMjYuOTAzOVoiIGZpbGw9IiMwRTM1M0QiLz4KPHBhdGggZD0iTTE1LjgzNiAxOC40OTk5QzE1LjgzNiAxNy4wNjYyIDE2Ljk5ODMgMTUuOTAzOSAxOC40MzIgMTUuOTAzOUMxOC45MzQ5IDE1LjkwMzkgMTkuNDA0NiAxNi4wNDcgMTkuODAyMyAxNi4yOTQ3QzIwLjMxMjUgMTUuODk3IDIwLjg4MjcgMTUuNTcyNyAyMS40OTcxIDE1LjMzNzVDMjAuNzA0MiAxNC41Njg5IDE5LjYyMzQgMTQuMDk1OSAxOC40MzIgMTQuMDk1OUMxNS45OTk4IDE0LjA5NTkgMTQuMDI4IDE2LjA2NzcgMTQuMDI4IDE4LjQ5OTlDMTQuMDI4IDIwLjU3MDMgMTUuNDU2OCAyMi4zMDcyIDE3LjM4MjEgMjIuNzc4MUMxNy4zMDA3IDIyLjM2NCAxNy4yNTggMjEuOTM2NiAxNy4yNTggMjEuNDk5OUMxNy4yNTggMjEuMjc0NyAxNy4yNjkzIDIxLjA1MiAxNy4yOTE0IDIwLjgzMjVDMTYuNDI5NyAyMC40MTA0IDE1LjgzNiAxOS41MjQ2IDE1LjgzNiAxOC40OTk5WiIgZmlsbD0iIzBFMzUzRCIvPgo8cGF0aCBkPSJNMjQgNDdDMTEuMjk3NSA0NyAxIDM2LjcwMjUgMSAyNEgtMUMtMSAzNy44MDcxIDEwLjE5MjkgNDkgMjQgNDlWNDdaTTQ3IDI0QzQ3IDM2LjcwMjUgMzYuNzAyNSA0NyAyNCA0N1Y0OUMzNy44MDcxIDQ5IDQ5IDM3LjgwNzEgNDkgMjRINDdaTTI0IDFDMzYuNzAyNSAxIDQ3IDExLjI5NzUgNDcgMjRINDlDNDkgMTAuMTkyOSAzNy44MDcxIC0xIDI0IC0xVjFaTTI0IC0xQzEwLjE5MjkgLTEgLTEgMTAuMTkyOSAtMSAyNEgxQzEgMTEuMjk3NSAxMS4yOTc1IDEgMjQgMVYtMVoiIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjAuMSIvPgo8L3N2Zz4K",KT="groupListCellMembers--re9DIUfVxm",XT="groupListRowCellItems--CHGTHJXJQ8",JT=({group:e,itemCount:t})=>{const{translate:a}=(0,P.Z)(),{routes:i}=(0,S.Xo)(),s={link:i.userSharingGroupInfo(e.id),type:"link",data:[{key:"name",content:n.createElement(d.Ejs,{alignItems:"center",gap:"18px"},n.createElement("img",{src:$T,width:48,height:48,className:"nameCellGroupImage--bLwtFIfXOq"}),n.createElement(d.nvN,{size:"medium",color:"ds.text.neutral.standard"},n.createElement("strong",null,e.name)))},{key:"itemsShared",content:a("webapp_sharing_center_item_shared",{count:t}),className:XT},{key:"members",content:(e=>{const t=e.users.length;return n.createElement(d.Ejs,{alignItems:"center"},n.createElement(d.Ejs,{flexDirection:"row-reverse"},e.users.slice(0,5).map((e=>n.createElement("div",{key:e.id,className:"memberIconPlacement--eNktqSBtA1"},n.createElement(QT.S,{email:e.id,avatarSize:36,placeholderTextType:"firstTwoCharacters"}))))),t>5?n.createElement("p",{className:"additionalMemberText--AeGepx5H5l"},`${a("webapp_sharing_center_members_content",{count:t-5})}\n            `):null)})(e),className:KT}]};return n.createElement(Bu.Z,{...s,key:e.id})},eD=({updateGroupSortDirection:e,currentSortDirection:t})=>{const{translate:a}=(0,P.Z)(),i=[{key:"name",sortable:!0,content:a("webapp_sharing_center_group_row_group_title")},{key:"itemsShared",sortable:!1,content:a("webapp_sharing_center_row_items_title"),className:XT},{key:"members",sortable:!1,content:a("webapp_sharing_center_group_row_members_title"),className:KT}],s=n.useCallback((t=>{let a="ascend";t.direction===Lu._.descending&&(a="descend"),e(a)}),[e]);return n.createElement("div",{className:"groupHeader--M7mvKaTaMt"},n.createElement(rm.h,{header:i,onSort:s,options:(()=>{let e=Lu._.ascending;return"descend"===t&&(e=Lu._.descending),{field:"name",direction:e}})()}))},tD=({userGroups:e,updateGroupSortDirection:t,currentSortDirection:a,isGroupsWithItemCountLoading:i})=>{const{translate:s}=(0,P.Z)(),[r,o]=n.useState(e.length>5),[l,c]=n.useState(5),[d,u]=n.useState([]),m=n.useRef(!1);n.useEffect((()=>{i||(u(e),m.current?m.current=!1:(o(e.length>5),c(5)))}),[e,i]);const p=n.useCallback((()=>{l+10<e.length?(o(!0),c((e=>e+10))):(o(!1),c(e.length))}),[e,l]),_=n.useCallback((e=>{m.current=!0,t(e)}),[t]);return n.createElement(n.Fragment,null,n.createElement(eD,{updateGroupSortDirection:_,currentSortDirection:a}),n.createElement("ul",{className:"groupList--Kcgos3LtjH"},d.slice(0,l).map((e=>n.createElement(JT,{key:e.id,group:e,itemCount:e.itemCount})))),r?n.createElement("div",{className:"showMoreButton--_1B1D4GXhw"},n.createElement(Ue.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:p},s("webapp_sharing_center_group_pagination"))):null)},aD=({updateUserSortDirection:e,currentSortDirection:t})=>{const{translate:a}=(0,P.Z)(),i=[{key:"userId",sortable:!0,content:a("webapp_sharing_center_member_row_member_title")},{key:"itemsShared",sortable:!1,content:a("webapp_sharing_center_row_items_title"),className:"itemsShared--QSWkYv0Bky"}];return n.createElement("div",{className:"contentHeader--bNbkU0TIO8"},n.createElement(rm.h,{header:i,onSort:t=>{let a="ascend";t.direction===Lu._.descending&&(a="descend"),e(a)},options:(()=>{let e=Lu._.ascending;return"descend"===t&&(e=Lu._.descending),{field:"userId",direction:e}})()}))},nD=({userLogin:e,itemCount:t})=>{var a;const{translate:i}=(0,P.Z)(),{routes:s}=(0,S.Xo)(),r={link:s.userSharingUserInfo(e),type:"link",data:[{key:"name",content:a||(a=n.createElement(d.Ejs,{alignItems:"center",gap:"18px"},n.createElement(QT.S,{email:e,avatarSize:48,placeholderFontSize:24,placeholderTextType:"firstTwoCharacters"}),n.createElement(d.nvN,{size:"medium",color:"ds.text.neutral.standard"},n.createElement("strong",null,e))))},{key:"itemsShared",content:i("webapp_sharing_center_item_shared",{count:t}),className:"userRowCellItems--Q8jZaDtKHp"}]};return n.createElement(Bu.Z,{...r,key:e})},iD=({sharingUsersWithItemCount:e,isSharingUsersWithItemCountLoading:t,updateUserSortDirection:a,currentSortDirection:i,scrollContainer:s,spaceId:r})=>{const[o,l]=n.useState(30),[c,d]=n.useState(!0),[u,m]=n.useState([]);return n.useEffect((()=>{t||m(e)}),[e,t]),n.useEffect((()=>{l(30),d(!0)}),[r]),n.createElement(n.Fragment,null,n.createElement(aD,{updateUserSortDirection:a,currentSortDirection:i}),n.createElement(Pu.v,{customContainer:s,loadNext:()=>{let t=o+30;t+30>e.length?(t=e.length,d(!1)):d(!0),l(t)},loadPrevious:()=>{},hasNext:c,hasPrevious:!1,isLoading:t},u.slice(0,o).map((({id:e,itemCount:t})=>n.createElement(nD,{key:e,userLogin:e,itemCount:t})))))};var sD;const rD=()=>n.createElement(Sm.Z,{sharing:{permission:"limited",selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedUsers:[],step:Im.N.Elements,tab:Im.f.Passwords}}),oD=n.createElement(n.Fragment,null,n.createElement(Uc.D,null),n.createElement(Bc.E,null)),lD=()=>sD||(sD=n.createElement(Rc.h,{startWidgets:rD,endWidget:oD}));var cD;const dD=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(Xd.H,{icon:cD||(cD=(0,D.tZ)(d.kpp,{size:72,color:"ds.text.neutral.quiet"})),title:e("webapp_sharing_center_empty_title")},(0,D.tZ)("p",{className:"description--RkLCUBHbVC"},e("webapp_sharing_center_empty_description")),(0,D.tZ)(Sm.Z,{hideIcon:!0,tooltipPlacement:"bottom",text:e("webapp_sharing_center_empty_cta"),sharing:{permission:"limited",selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedUsers:[],step:Im.N.Elements,tab:Im.f.Passwords}}))};var uD,mD=a(36250);const pD=({header:e,onClose:t,children:a,headerIconName:n})=>(0,Ue.tZ)(d.Ejs,{flexDirection:"column",sx:{height:"fit-content",width:"342px",borderWidth:"1px",borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"8px",padding:"16px"}},(0,Ue.tZ)(d.Ejs,{flexWrap:"nowrap",gap:"16px"},(0,Ue.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",height:"40px",width:"40px"}},(0,Ue.tZ)(Ue.JO,{name:n,size:"large",color:"ds.text.brand.standard"})),(0,Ue.tZ)(d.X6q,{size:"x-small",color:"ds.text.neutral.catchy"},e),(0,Ue.tZ)(Ue.zx,{layout:"iconOnly",mood:"neutral",intensity:"supershy",icon:uD||(uD=(0,Ue.tZ)(Ue.JO,{name:"ActionCloseOutlined",color:"ds.text.neutral.quiet",size:"small"})),onClick:t})),a);var _D=a(695031);const gD=({onClose:e})=>{const{translate:t}=(0,P.Z)(),a=(0,R.k$)(_D.notificationsApi,"getPlanPricing"),i=a?.data?.plans?.family?.offers?.find((e=>"y"===e.billingPeriod.unit)),s=a?.data?.currency,r=i?.price;return(0,Ue.tZ)(pD,{header:t("webapp_sharing_center_family_dialog_header"),headerIconName:"GroupOutlined",onClose:e},(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{marginTop:"16px"}},t("webapp_sharing_center_family_dialog_copy")),(0,Ue.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",fullsize:!0,sx:{marginTop:"24px"},onClick:()=>window.open("https://www.dashlane.com/pricing?page=personal","_blank")},t("webapp_sharing_center_family_dialog_upgrade_cta")),(0,Ue.tZ)("div",{sx:{flexDirection:"column",display:"flex",marginTop:"8px",p:{textAlign:"center"}}},s&&r?(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.standard"},t("webapp_sharing_center_family_dialog_price",{pricePerMonth:t.price(s,r/100)})),(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.standard"},t("webapp_sharing_center_family_dialog_billed_anually"))):null))},hD=({onClose:e})=>{const{translate:t}=(0,P.Z)();return(0,Ue.tZ)(pD,{header:t("webapp_sharing_center_work_dialog_header"),headerIconName:"ItemCompanyOutlined",onClose:e},(0,Ue.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet",sx:{marginTop:"16px"}},t("webapp_sharing_center_work_dialog_copy")),(0,Ue.tZ)(Ue.zx,{mood:"brand",intensity:"quiet",fullsize:!0,onClick:()=>window.open("https://www.dashlane.com/pricing","_blank"),sx:{marginTop:"24px"}},t("webapp_sharing_center_work_cta_learn_more")))},bD=e=>{const t=(0,Xg.D)();return{addMessage:()=>(0,Jg.Hv)({type:e}),dismissMessage:()=>(0,Jg.ql)({type:e}),hasMessage:!!t.find((t=>t.type===e&&!t.dismissedAt)),hasDismissedMessage:!!t.find((t=>t.type===e&&t.dismissedAt)),messages:t}},yD=({hasSharedUsers:e})=>{const t=(0,_m.Y)(),{hasDismissedMessage:a,dismissMessage:n}=bD(l.UserMessageTypes.SHARING_CENTER_FAMILY),{hasDismissedMessage:i,dismissMessage:s}=bD(l.UserMessageTypes.SHARING_CENTER_WORK),r=t.status===W.rq.Success,o=r&&t.data&&!a&&!(0,j.AF)(t.data)&&!(0,j.ry)(t.data)&&e,c=r&&t.data&&!i&&!(0,j.AF)(t.data)&&e;return o||c?(0,Ue.tZ)("div",null,(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{padding:"60px 32px 0px 8px",position:"sticky",top:"0px"}},o?(0,Ue.tZ)(gD,{onClose:n}):null,c?(0,Ue.tZ)(hD,{onClose:s}):null)):null};var CD,wD,ED;const vD=(e,t)=>{localStorage.setItem(e,t)},ND=e=>{const t=localStorage.getItem(e);return"ascend"===(a=t)||"descend"===a?t:"ascend";var a},SD=({children:e})=>{const{currentSpaceId:t}=(0,x.fV)(),a=n.useRef(null),{translate:i}=(0,P.Z)(),s=(0,oo.a)(),r=s.status===W.rq.Success,o=s.data,{unseen:l,setAsSeen:c}=(0,hc.m)(V.NotificationName.SharingCenterDisabledBanner),[u,m]=n.useState(!1),[p,_]=n.useState(!1),[g,h]=n.useState(ND(zu.x5)),b=IT(g,t),y=n.useCallback((e=>{vD(zu.x5,e),h(e)}),[]),[C,w]=n.useState(ND(zu.J2)),E=(0,mD.Z)(C,t),v=n.useCallback((e=>{vD(zu.J2,e),w(e)}),[]);return n.useEffect((()=>{b.status===W.rq.Success&&m(0!==b.data.items.length)}),[b]),n.useEffect((()=>{E.status===W.rq.Success&&_(0!==E.data.items.length)}),[E]),E.status!==W.rq.Loading&&b.status!==W.rq.Loading||u||p?(0,D.tZ)("div",{sx:{overflowY:"auto",height:"100%"}},(0,D.tZ)("div",null,e,wD||(wD=(0,D.tZ)(lD,null)),(0,D.tZ)("div",{sx:{width:"100%",display:"flex",justifyContent:"center"}},p||u?(0,D.tZ)("div",{sx:{width:"100%"},ref:a},(0,D.tZ)("div",{sx:{backgroundColor:"ds.background.default",display:"grid",gridTemplateColumns:"auto"}},!o&&l&&r?(0,D.tZ)(d.vDh,{severity:"warning",size:"descriptive",layout:"inline",title:(0,D.tZ)("strong",null,i("team_sharing_disabled_banner_title")),actions:[(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",key:"dismiss",onClick:c},i("team_sharing_disabled_banner_dismiss_cta"))],sx:{margin:"0 32px"}},i("team_sharing_disabled_banner_description")):null,u?(0,D.tZ)(tD,{userGroups:b.status===W.rq.Success?b.data.items:[],isGroupsWithItemCountLoading:b.status===W.rq.Loading,updateGroupSortDirection:y,currentSortDirection:g}):null,p?(0,D.tZ)(iD,{sharingUsersWithItemCount:E.status===W.rq.Success?E.data.items:[],isSharingUsersWithItemCountLoading:E.status===W.rq.Loading,updateUserSortDirection:v,currentSortDirection:C,scrollContainer:a,spaceId:t}):null)):ED||(ED=(0,D.tZ)(dD,null)),(0,D.tZ)(yD,{hasSharedUsers:E.status===W.rq.Success&&!!E.data.items.length})))):CD||(CD=(0,D.tZ)(Xd.H,{icon:(0,D.tZ)(Qr.Z,{size:50}),title:""}))},ID=e=>{const{data:t}=(0,R.k$)(wn.passwordHealthApi,"compromisedCredentials",{credentialIds:e});return null!=t?t:[]};var fD=a(847336),xD=a(740368);const MD="webapp_credentials_row_compromised_tooltip",TD=({health:e,compromised:t})=>{const{translate:a}=(0,P.Z)(),n=(0,Be.w)("ims_web_ph_mv3_dev"),i=(0,Be.w)("ims_web_ph_mv3_prod"),s=(0,fD.j)(e);return(n||i?t:s.level===xD.r.Compromised)?(0,D.tZ)("div",{className:"iconWrapper--MSiIM9nDUc"},(0,D.tZ)(d.ua7,{content:a(MD),placement:"bottom"},(0,D.tZ)(d.SI8,{size:24,color:d.O9T.red00,"aria-label":a(MD)}))):null},DD="categoryCell--j8xMGWmPPb",ZD="lastUseCell--Umg2q48FvZ",AD=({credential:e,isCompromised:t,showTitleIcons:a,tag:i})=>{const{title:s,login:r,email:o,autoProtected:l=!1,domainIcon:c,sharingSatus:{isShared:d}}=e;return n.createElement("div",{className:"primaryInfo--_NCHrSWPmM"},n.createElement(Gr.Q,{title:s,showTitleIcons:a,login:r,email:o,shared:d,autoProtected:l,domainIcon:c,tag:i,className:"credentialInfo--b6QOhdRfXC"}),n.createElement("div",{className:"compromisedWrapper--T1uD07vOYt"},n.createElement(TD,{health:e.health,compromised:t})))};var kD=a(691330),OD=a(394222);const LD=({isOpen:e,onDismiss:t,itemGroup:a,originPermission:i,recipient:s,isLoading:r})=>{const[o,l]=n.useState(i),[c,d]=n.useState(OD.L.Permission),[m,p]=n.useState(!1);n.useEffect((()=>{l(i)}),[i]);const _=async()=>{if(p(!0),"revoke"===o?await(async e=>{if(!a)return!1;try{const{success:t}=await u.C.revokeSharing({itemGroupId:a.groupId,recipient:e});return t}catch(e){return!1}})(s):await(async(e,t)=>{if(!a)return!1;try{const{success:n}=await u.C.updateSharingPermission({itemGroupId:a.groupId,recipient:e,permission:t});return n}catch(e){return!1}})(s,o)){const e="revoke"===o?OD.L.RevokeSuccess:OD.L.Success;d(e)}else d(OD.L.Failure);p(!1)};return n.createElement(kD.E,{isOpen:e,loading:m||r,onCancelRevoke:()=>{d(OD.L.Permission)},onConfirmRevoke:_,onDismiss:()=>{d(OD.L.Permission),t()},onSelectPermission:e=>{l(e)},onValidatePermission:()=>{"revoke"===o?d(OD.L.ConfirmRevoke):_()},originPermission:i,permission:o,recipient:s,step:c})};var zD=a(108951),jD=a(230107);const PD=({level:e,tooltipText:t="top",tooltipPlacement:a="right"})=>{const{translate:n}=(0,P.Z)();let i,s;return"admin"===e?(i=n("webapp_sharing_center_panel_items_full_access"),s="brand"):(i=n("webapp_sharing_center_panel_items_limited_access"),s="danger"),(0,Ue.tZ)(d.ua7,{placement:a,content:t,sx:{maxWidth:"200px"}},(0,Ue.tZ)("div",{className:"badgeContainer--yFQQT_dzao"},(0,Ue.tZ)(Ue.Ct,{mood:s,label:i})))},RD=({isDisabled:e,onClick:t,tooltipTitle:a="",tooltipPlacement:n="top"})=>{const{translate:i}=(0,P.Z)(),s=(0,D.tZ)(Ue.zx,{intensity:"supershy",mood:"brand",size:"medium",disabled:e,onClick:t},i("webapp_sharing_center_panel_items_edit_access"));return(0,D.tZ)(d.ua7,{passThrough:!a,placement:n,content:a,sx:{maxWidth:"170px"}},s)},UD={listContainer:"listContainer--Ce9nEZHcSS",emptyView:"emptyView--dh_itz698Y",headerLineContainer:"headerLineContainer--SFUqucl0T8",headerLine:"headerLine--oyrnuDNrbV",nameCell:"nameCell--bSMvrtpDGn",editPermissionContainer:"editPermissionContainer--nLtL29LH8S"},BD="webapp_sharing_center_panel_items_limited_access_info_user_item",FD=({rowIndex:e,item:t,entity:a,isEditPermissionDisabled:s,isCredentialCompromised:r=!1})=>{var o,l;const{translate:c}=(0,P.Z)(),m=(0,zD.b)(t.id),p=function(e,t){let a,n;return(0,jD.yy)(t)?(n={itemId:e,groupId:t.groupId},a={queryConfig:{query:u.C.getUserGroupPermissionLevel,queryParam:n},liveConfig:{live:u.C.liveUserGroupPermissionLevel,liveParam:btoa(JSON.stringify(n))}}):(n={itemId:e,userId:t.alias},a={queryConfig:{query:u.C.getSharingUserPermissionLevel,queryParam:n},liveConfig:{live:u.C.liveSharingUserPermissionLevel,liveParam:btoa(JSON.stringify(n))}}),(0,W.qr)(a,[])}(t.id,a),{pathname:_}=(0,i.TH)(),[g,h]=n.useState(!1),{areProtectedItemsUnlocked:b,openProtectedItemsUnlocker:y}=(0,Lo.t)(),C=(0,jD.X0)(t)&&t.secured&&!b,w=()=>{if(p.status!==W.rq.Success)return null;const i=p.data;if(void 0===i)return null;const s={isCredential:!0,isUserGroup:!0,isAdmin:!1},r={isCredential:!0,isUserGroup:!0,isAdmin:!0},o={isCredential:!0,isUserGroup:!1,isAdmin:!1},l={isCredential:!0,isUserGroup:!1,isAdmin:!0},d={isCredential:!1,isUserGroup:!0,isAdmin:!1},u={isCredential:!1,isUserGroup:!0,isAdmin:!0},m={isCredential:!0,isUserGroup:!0,isAdmin:!1},_={isCredential:!1,isUserGroup:!1,isAdmin:!0},g={isCredential:(0,jD.vF)(t),isUserGroup:(0,jD.yy)(a),isAdmin:"admin"===i};let h=c(BD);switch(!0){case(0,ft.equals)(r,g):h=c("webapp_sharing_center_panel_items_full_access_info_group_password");break;case(0,ft.equals)(s,g):h=c("webapp_sharing_center_panel_items_limited_access_info_group_password");break;case(0,ft.equals)(l,g):h=c("webapp_sharing_center_panel_items_full_access_info_user_password");break;case(0,ft.equals)(o,g):h=c("webapp_sharing_center_panel_items_limited_access_info_user_password");break;case(0,ft.equals)(u,g):h=c("webapp_sharing_center_panel_items_full_access_info_group_item");break;case(0,ft.equals)(d,g):h=c("webapp_sharing_center_panel_items_limited_access_info_group_item");break;case(0,ft.equals)(_,g):h=c("webapp_sharing_center_panel_items_full_access_info_user_item");break;case(0,ft.equals)(m,g):h=c(BD)}return n.createElement(PD,{level:i,tooltipText:h,tooltipPlacement:0===e?"bottom":"right"})},{routes:E}=(0,S.Xo)(),v=(0,i.k6)();return n.createElement(Bu.Z,{onClick:()=>{const e=(0,jD.vF)(t),a=E.userVaultItem(t.id,e?xl.VaultItemType.Credential:xl.VaultItemType.SecureNote,_);e?(0,Ir.kb)(t.id):(0,Ir.X0)(t.id),C?y({action:tn.P7.Show,itemType:tn.Ru.SecureNote,successCallback:()=>{v.push({pathname:a})}}):v.push({pathname:a})},data:[{key:"name",className:UD.nameCell,content:n.createElement(d.Ejs,{flexDirection:"row",justifyContent:"space-between"},n.createElement("div",{className:UD.titleContainer},(0,jD.vF)(t)?o||(o=n.createElement(AD,{credential:t,showTitleIcons:!1,tag:n.createElement(w,null),isCompromised:r})):null,(0,jD.X0)(t)?l||(l=n.createElement(Qu,{note:t,showTitleIcons:!1,tag:n.createElement(w,null)})):null))}],actions:n.createElement("div",{className:UD.editPermissionContainer},n.createElement(RD,{onClick:()=>{h(!0)},isDisabled:s,tooltipTitle:s?(0,jD.vF)(t)?c("webapp_sharing_center_panel_items_limited_access_info_you_password"):c("webapp_sharing_center_panel_items_limited_access_info_you_item"):"",tooltipPlacement:0===e?"bottom":"top"}),n.createElement(LD,{isOpen:g,onDismiss:()=>h(!1),isLoading:m.status===W.rq.Loading||p.status===W.rq.Loading,itemGroup:m.status===W.rq.Success?m.data:void 0,originPermission:p.status===W.rq.Success?p.data:"limited",recipient:a})),key:t.id})},GD=e=>{const t=1===ID([e.item.id]).length;return n.createElement(FD,{...e,isCredentialCompromised:t})},WD=e=>{const t=(0,Be.w)("ims_web_ph_mv3_dev"),a=(0,Be.w)("ims_web_ph_mv3_prod");return(t||a)&&(0,jD.vF)(e.item)?n.createElement(GD,{...e}):n.createElement(FD,{...e})};var VD;const HD=()=>{const{translate:e}=(0,P.Z)();return n.createElement(Xd.H,{icon:VD||(VD=n.createElement(d.LIc,{size:92,color:"ds.text.neutral.quiet"})),title:e("webapp_sharing_center_panel_empty_search_title")},n.createElement(d.nvN,null,e("webapp_sharing_center_panel_empty_search_description")))};var qD;const YD=e=>{if((0,jD.vF)(e)){if(e.sharingSatus.isShared&&"admin"!==e.sharingSatus.permission)return!0}else if(e.sharingStatus.isShared&&"admin"!==e.sharingStatus.permission)return!0;return!1},QD=({credentials:e,notes:t,entity:a})=>{const i=(e=>e.sort(((e,t)=>{const a=e=>e.title;return a(e).localeCompare(a(t))})))([...e,...t]);return n.createElement("div",{className:F()(UD.listContainer,{[UD.emptyView]:0===i.length})},0===i.length?qD||(qD=n.createElement(HD,null)):n.createElement(n.Fragment,null,n.createElement("hr",{className:UD.headerLine}),i.map(((e,t)=>n.createElement(WD,{key:e.id,rowIndex:t,item:e,entity:a,isEditPermissionDisabled:YD(e)})))))},$D=({member:e})=>n.createElement(Bu.Z,{data:[{key:"name",className:"nameCell--ael8Ms1qIt",content:n.createElement(d.Ejs,{alignItems:"center"},n.createElement(QT.S,{email:e.id,avatarSize:36,placeholderFontSize:18,placeholderTextType:"firstTwoCharacters"}),n.createElement("h2",{className:"nameTitle--eHwnKrh06d"},e.id))}],key:e.id}),KD=({permissionLevel:e})=>{const{translate:t}=(0,P.Z)(),a=[{key:"name",sortable:!0,content:t("admin"===e?"webapp_sharing_center_panel_members_admins":"webapp_sharing_center_panel_members_others")}];return n.createElement(rm.h,{header:a})};var XD,JD,eZ;const tZ=({members:e})=>{const{admins:t,others:a}=e.reduce(((e,t)=>("admin"===t.permission?e.admins.push(t):e.others.push(t),e)),{admins:[],others:[]});return n.createElement("div",{className:F()("listContainer--cl74B2lgbW",{"emptyView--zOxF4QtboD":0===e.length})},0===e.length?XD||(XD=n.createElement(HD,null)):n.createElement(n.Fragment,null,t.length?n.createElement(n.Fragment,null,JD||(JD=n.createElement(KD,{permissionLevel:"admin"})),t.map((e=>n.createElement($D,{key:e.id,member:e})))):null,a.length?n.createElement(n.Fragment,null,eZ||(eZ=n.createElement(KD,{permissionLevel:"limited"})),a.map((e=>n.createElement($D,{key:e.id,member:e})))):null))},aZ=({selectedGroups:e=[],selectedUsers:t=[],onClose:a})=>{const{translate:n}=(0,P.Z)();return(0,Ue.tZ)("div",{className:"bottomBarContainer--Yi0w7sxreR"},(0,Ue.tZ)(Sm.Z,{sharing:{permission:"limited",selectedCredentials:[],selectedGroups:e,selectedNotes:[],selectedUsers:t,step:Im.N.Elements,tab:Im.f.Passwords},tooltipPlacement:"top-start",text:n("webapp_sharing_center_share_item_panel")}),(0,Ue.tZ)(Ue.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:a},n("webapp_sharing_center_share_item_panel_close")))},nZ=({input:e,children:t})=>(0,Ue.tZ)(d.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{padding:"30px 0",overflow:"auto",flexGrow:1}},(0,Ue.tZ)("div",{sx:{marginLeft:"32px"}}," ",e),t);var iZ;let sZ;!function(e){e[e.ITEMS=0]="ITEMS",e[e.MEMBERS=1]="MEMBERS"}(sZ||(sZ={}));const rZ=({onClose:e,match:t})=>{const{currentSpaceId:a}=(0,x.fV)(),i=(s=t.params?.uuid,`{${null!=s?s:""}}`);var s;const[r,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[m,p]=(0,n.useState)(sZ.ITEMS),[_,g]=(0,n.useState)(!1),{translate:h}=(0,P.Z)(),b=function(e){return(0,W.qr)({queryConfig:{query:u.C.getUserGroup,queryParam:e}},[])}(i),y=(0,Vo.e)(u.C.getNotes,u.C.liveNotes,{spaceId:a,filterQuery:""===r?null:r,additionalFilters:[{field:"groupIds",type:"contains",value:i}]}),C=(0,Vo.e)(u.C.getCredentials,u.C.liveCredentials,{spaceId:a,filterQuery:""===r?null:r,additionalFilters:[{field:"groupIds",type:"contains",value:i}]}),w=function(e,t,a="ascend"){const n=[];""!==t&&n.push({type:"matches",value:t});const i={groupId:e,dataQuery:{sortToken:{sortCriteria:[{field:"id",direction:a}],uniqField:"id"},filterToken:{filterCriteria:n}}};return(0,W.qr)({queryConfig:{query:u.C.getUserGroupMembers,queryParam:i}},[a,t])}(i,l);(0,n.useEffect)((()=>{b.status===W.rq.Loading||y.status===W.rq.Loading||C.status===W.rq.Loading||w.status===W.rq.Loading?g(!0):g(!1)}),[b,y,C,w]);const E=[{active:m===sZ.ITEMS,label:h("webapp_sharing_center_panel_items_shared"),onClick:()=>{p(sZ.ITEMS)}},{active:m===sZ.MEMBERS,label:h("webapp_sharing_center_panel_members"),onClick:()=>{p(sZ.MEMBERS)}}],v=m===sZ.ITEMS?h("webapp_sharing_center_panel_items_search"):h("webapp_sharing_center_panel_members_search");return(0,Ue.tZ)(k.s_,{onNavigateOut:e,ignoreClickOutsideClassName:A.Ht},(0,Ue.tZ)(k.V9,{icon:(0,Ue.tZ)("img",{src:$T,width:98,height:98,className:"groupImgIcon--wwwXS0nFWg"}),title:b.status===W.rq.Success&&b.data?b.data.name:"",tabs:E}),(0,Ue.tZ)(nZ,{input:(0,Ue.tZ)(Ue.oi,{"aria-label":v,placeholder:v,prefixIcon:iZ||(iZ=(0,Ue.tZ)(d.W1M,null)),width:300,onChange:e=>{m===sZ.ITEMS?o(e.currentTarget.value):c(e.currentTarget.value)}})},_?(0,Ue.tZ)(Qr.Z,{size:30,containerStyle:{height:"100%"}}):m===sZ.ITEMS?(0,Ue.tZ)(QD,{credentials:C.status===W.rq.Success?C.data.items:[],notes:y.status===W.rq.Success?y.data.items:[],entity:{type:"userGroup",name:b.status===W.rq.Success?b.data?.name:"",groupId:i}}):(0,Ue.tZ)(tZ,{members:w.status===W.rq.Success?w.data.items:[]}),(0,Ue.tZ)(aZ,{onClose:e,selectedGroups:[i]})))};var oZ;const lZ="webapp_sharing_center_panel_items_search",cZ=({onClose:e,match:t})=>{var a;const{currentSpaceId:i}=(0,x.fV)(),s=null!=(a=t.params?.id)?a:"",[r,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(""),{translate:m}=(0,P.Z)(),p=(0,Vo.e)(u.C.getNotes,u.C.liveNotes,{spaceId:i,filterQuery:""===l?null:l,additionalFilters:[{field:"sharingUserIds",type:"contains",value:s}]}),_=(0,Vo.e)(u.C.getCredentials,u.C.liveCredentials,{spaceId:i,filterQuery:""===l?null:l,additionalFilters:[{field:"sharingUserIds",type:"contains",value:s}]});return(0,n.useEffect)((()=>{p.status===W.rq.Loading||_.status===W.rq.Loading?o(!0):o(!1)}),[p,_]),(0,n.useEffect)((()=>{p.status===W.rq.Success&&_.status===W.rq.Success&&0===p.data.items.length&&0===_.data.items.length&&""===l&&e()}),[p,_,e]),(0,Ue.tZ)(k.s_,{onNavigateOut:e,ignoreClickOutsideClassName:A.Ht},(0,Ue.tZ)(k.V9,{icon:(0,Ue.tZ)(QT.S,{email:s,avatarSize:98,placeholderFontSize:40,placeholderTextType:"firstTwoCharacters",avatarStyleOptions:{border:"1px solid rgba(0, 0, 0, 0.1)"}}),title:s}),(0,Ue.tZ)(nZ,{input:(0,Ue.tZ)(Ue.oi,{"aria-label":m(lZ),placeholder:m(lZ),onChange:e=>c(e.target.value),prefixIcon:oZ||(oZ=(0,Ue.tZ)(d.W1M,null))})},r?(0,Ue.tZ)(Qr.Z,{size:30,containerStyle:{height:"100%"}}):(0,Ue.tZ)(QD,{credentials:_.status===W.rq.Success?_.data.items:[],notes:p.status===W.rq.Success?p.data.items:[],entity:{type:"user",alias:s}}),(0,Ue.tZ)(aZ,{onClose:e,selectedUsers:[s]})))},dZ=({path:e})=>{const t=()=>{(0,i.uX)(e)};return n.createElement(i.GB,{path:[e,`${e}/group/:uuid`,`${e}/user/:id`],component:SD},n.createElement(i.ZB,{path:`${e}/group/:uuid([-a-zA-Z\\d]{36})`,component:rZ,additionalProps:{onClose:t}}),n.createElement(i.ZB,{exact:!0,path:`${e}/user/:id`,component:cZ,additionalProps:{onClose:t}}))},uZ={panel:"panel--N1ouXgaC8W",panelContent:"panelContent--jS21l5dIX6",container:"container--yiXjg9JYcE",panelText:"panelText--xkj8_k3Y_c",goPremiumCta:"goPremiumCta--3TYkklwo6a"};var mZ,pZ;const _Z=e=>n.createElement(zg.Z,{classNames:[uZ.goPremiumCta],onClick:()=>{(0,b.Yk)(e.target,{type:"upsellScreen",action:"goPremium"})},label:e.label}),gZ=({target:e})=>{const{translate:t}=(0,P.Z)();return n.createElement("div",{className:uZ.panelText},n.createElement("h1",null,t("webapp_upsell_header")),n.createElement("p",null,t("webapp_upsell_instructions_introduction")),n.createElement("ul",null,n.createElement("li",null,t.markup("webapp_upsell_instructions_bulletpoint_synchronisation_markup")),n.createElement("li",null,t.markup("webapp_upsell_instructions_bulletpoint_backup_markup")),n.createElement("li",null,t.markup("webapp_upsell_instructions_bulletpoint_sharing_markup")),n.createElement("li",null,t.markup("webapp_upsell_instructions_bulletpoint_support_markup"))),n.createElement(_Z,{label:t("webapp_upsell_cta"),target:e}))},hZ=()=>n.createElement("div",{className:uZ.panelIllustration},mZ||(mZ=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMy40NDkxIDk4LjIxMjNINDYuNDAzNVY5MS4yNDQzSDMzLjQ0OTFWOTguMjEyM1oiIGZpbGw9IiNFMEREREEiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00My40MTQgODAuMjk0NVY0Mi40NjhIMTU0LjAyNVYxMDYuMTc2TDE2MSA5OS4yMDc4VjM1LjVIMzYuNDUwMlYzNy4yNzQ4QzM2LjQ0MjUgMzcuMzQ1OCAzNi40Mzg2IDM3LjQxNzkgMzYuNDM4NiAzNy40OTA5VjgwLjI5NDVIMjQuNDgwN0MyMS40NTM4IDgwLjI5NDUgMTkgODIuNzQ1NyAxOSA4NS43Njk0VjEzOC41MjdDMTkgMTQxLjU1MSAyMS40NTM4IDE0NC4wMDIgMjQuNDgwNyAxNDQuMDAySDU1LjM3MTlDNTguMzk4OCAxNDQuMDAyIDYwLjg1MjYgMTQxLjU1MSA2MC44NTI2IDEzOC41MjdWMTIwLjExMkg4Mi41NDcxTDc3LjM4NDQgMTM3LjUzMkg2Ni4zMzMzVjE0NC41SDEzNy4wODRWMTM3LjUzMkgxMjcuOTg3TDEyMi4zNTUgMTIwLjExMkgxNTkuMDA3QzE1OS4wODEgMTIwLjExMiAxNTkuMTU0IDEyMC4xMDggMTU5LjIyNiAxMjAuMUgxNjFWMTEzLjE0NEw2MC44NTI2IDExMy4xNDRWODUuNzY5NEM2MC44NTI2IDgyLjc0NTcgNTguMzk4OCA4MC4yOTQ1IDU1LjM3MTkgODAuMjk0NUg0My40MTRaTTg0LjY1OTEgMTM3LjUzMkw4OS44MjE4IDEyMC4xMTJIMTE1LjAyNUwxMjAuNjU3IDEzNy41MzJIODQuNjU5MVpNMjUuOTc1NCAxMzcuMDM0Vjg3LjI2MjZINTMuODc3MlYxMzcuMDM0SDI1Ljk3NTRaIiBmaWxsPSIjRTBERERBIi8+Cjwvc3ZnPgo=",alt:""}))),bZ=e=>{const{routes:t}=(0,S.Xo)(),a=t.userGoPremium(e.lee.carbon.accountInfo.subscriptionCode);return n.createElement("div",{className:uZ.panel},n.createElement("div",{className:uZ.panelContent},n.createElement("div",{className:uZ.container},n.createElement(gZ,{target:a}),pZ||(pZ=n.createElement(hZ,null)))))};function yZ({path:e}){return n.createElement(i.Vy,{path:e,component:bZ})}var CZ=a(617509);const wZ=()=>{(0,v.K)(new c.UserOpenHelpCenterEvent({helpCenterArticleCta:c.HelpCenterArticleCta.GetAntiphishingTips}))},EZ=e=>{(0,v.K)(new c.UserAntiphishingRedirectEvent({})),Promise.all([(0,c.hashDomain)((0,CZ.extractRootDomain)(e)),(0,c.hashDomain)("dashlane.com")]).then((e=>{(0,v.K)(new c.AnonymousAntiphishingRedirectEvent({phishingDomain:{type:c.DomainType.Web,id:e[0]},redirectDomain:{type:c.DomainType.Web,id:e[1]}}))}))},vZ=/^[_a-zA-Z0-9-\.]*$/im,NZ=`${ia.tb}/dont-take-the-bait-password-managers-can-help-shield-you-from-phishing-attacks/`,SZ="app.dashlane.com",IZ=({location:e})=>{const{routes:{clientRoutesBasePath:t}}=(0,S.Xo)(),{translate:a}=(0,P.Z)(),[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),u=(0,Ue.tZ)(L_.l_,{to:t}),m=(0,n.useMemo)((()=>{if(!e.search)return null;const t=(0,i.zN)(e.search).get("token");return t?(e=>{try{return e?decodeURIComponent(atob(e)):null}catch(e){return null}})(t):null}),[e.search]),{isAutoRedirected:p,addToAutoRedirectedDomain:_}=(e=>{const{addAutoRedirectedDomain:t}=(0,R.u7)(wn.antiphishingApi);return{isAutoRedirected:(0,R.k$)(wn.antiphishingApi,"isAutoRedirectedDomain",{domain:e}),addToAutoRedirectedDomain:async()=>{await t({domain:e})}}})(m),g=(0,n.useMemo)((()=>!vZ.test(null!=m?m:"")),[m]);return(0,n.useEffect)((()=>(0,v.N)(c.Page.AntiphishingRedirect,c.BrowseComponent.MainApp)),[]),p.status!==R.rq.Success?null:!m||p.data?(m&&EZ(m),u):s?u:(0,Ue.tZ)("div",{sx:{padding:"80px 32px 16px 32px"}},(0,Ue.tZ)("div",{sx:{width:"100%",height:"100%",maxWidth:"560px",margin:"0 auto"}},(0,Ue.tZ)(d.D1W,{size:d.r1z.Size48,color:d.vei.DashGreen}),(0,Ue.tZ)(d.X6q,{size:"medium",sx:{marginTop:"56px",marginBottom:"16px"}},a("anti_phishing_title")),(0,Ue.tZ)(d.nvN,{size:"large",sx:{marginBottom:"40px"}},a.markup("anti_phishing_description_markup",{targetedDomain:SZ})),(0,Ue.tZ)(d.Ejs,{flexDirection:"row",flexWrap:"nowrap",gap:24,sx:{marginBottom:"24px"}},(0,Ue.tZ)(Ue.oi,{value:m,label:a("anti_phishing_phishing_domain"),sx:{"> div":{borderColor:"ds.border.danger.standard.idle"},"> label":{color:"ds.text.danger.quiet"},input:{fontWeight:600}}}),(0,Ue.tZ)(Ue.oi,{value:SZ,label:a("anti_phishing_targeted_domain"),sx:{"> div":{borderColor:"ds.border.positive.standard.idle"},"> label":{color:"ds.text.positive.quiet"},input:{fontWeight:600}}})),g?(0,Ue.tZ)(Ue.ke,{size:"small",title:a("anti_phishing_punycode_info")}):null,(0,Ue.tZ)(d.rUS,{sx:{color:"ds.text.brand.standard",margin:"40px 0",display:"block"},target:"_blank",onClick:wZ,href:NZ},a("anti_phishing_blog_link"),(0,Ue.tZ)(d.RTC,{color:"ds.text.brand.standard",size:16,sx:{marginLeft:"4px",verticalAlign:"bottom",display:"inline"}})),(0,Ue.tZ)(Ue.XZ,{sx:{marginBottom:"40px"},checked:o,onClick:()=>{l(!o)},label:a("anti_phishing_redirect_checkbox")}),(0,Ue.tZ)(d.Ejs,{flexDirection:"row-reverse"},(0,Ue.tZ)(Ue.zx,{type:"button",mood:"brand",onClick:async()=>{o&&await _(),EZ(m),r(!0)}},a("anti_phishing_go_to_dashlane_link")))))},fZ=({path:e})=>(0,Ue.tZ)(i.Vy,{path:e,component:IZ}),xZ={panelsContainer:"panelsContainer--QuPEzUMzze",marketingPanel:"marketingPanel--FBBxAYPlIg",marketingInner:"marketingInner--buejDttvJa",heading:"heading--Y5zdWF6c4E",description:"description--JTzyzaTvhO",listItem:"listItem--PQ7Lq15Dod",listItemDescription:"listItemDescription--dnQy55ktYc",illustrationPanel:"illustrationPanel--wIg8QCqsIj",illustration:"illustration--wiqIBl8yXG",illustrationDescription:"illustrationDescription--inT5apE0cx",buttonWrapper:"buttonWrapper--ic0ev57iYP"},MZ=parseInt(we()["--icon-size-default"],10),TZ=()=>{const{translate:e}=(0,P.Z)(),{routes:t}=(0,S.Xo)();return n.createElement("div",{className:xZ.panelsContainer},n.createElement("div",{className:xZ.marketingPanel},n.createElement("div",{className:xZ.lockupWrapper},n.createElement(d.D1W,{color:d.vei.DashGreen,size:d.r1z.Size39,title:e("_common_dashlane_logo_title")})),n.createElement("div",{className:xZ.marketingInner},n.createElement("h1",{className:xZ.heading},e("chrome_welcome_marketing_panel_heading")),n.createElement("p",{className:xZ.description},e("chrome_welcome_marketing_panel_description")),n.createElement("ul",{className:xZ.list},n.createElement("li",{className:xZ.listItem},n.createElement(d.Gn,{size:MZ,color:d.O9T.midGreen00,title:"Reveal Icon"}),n.createElement("p",{className:xZ.listItemDescription},e("chrome_welcome_marketing_panel_list_item_reveal_heading"))),n.createElement("li",{className:xZ.listItem},n.createElement(d.HfT,{size:MZ,color:d.O9T.midGreen00,title:"Password Changer Icon"}),n.createElement("p",{className:xZ.listItemDescription},e("chrome_welcome_marketing_panel_list_item_open_website_heading"))),n.createElement("li",{className:xZ.listItem},n.createElement(d.Gzy,{size:MZ,color:d.O9T.midGreen00,title:"Web Icon"}),n.createElement("p",{className:xZ.listItemDescription},e("chrome_welcome_marketing_panel_list_item_generator_heading")))))),n.createElement("div",{className:xZ.illustrationPanel},n.createElement("img",{className:xZ.illustration,src:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM2MiIgdmlld0JveD0iMCAwIDU5OCAzNjIiIHdpZHRoPSI1OTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxmaWx0ZXIgaWQ9ImEiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBoZWlnaHQ9IjM3IiB3aWR0aD0iNTk4IiB4PSIwIiB5PSI0NCI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeT0iMSIvPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAuOTM3NzI1IDAgMCAwIDAgMC45NDQxMDUgMCAwIDAgMCAwLjk1Njg2MyAwIDAgMCAxIDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvdyIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PGZpbHRlciBpZD0iYiIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGhlaWdodD0iMTY4IiB3aWR0aD0iMzM0IiB4PSIyNjQiIHk9IjEwNy41Ij48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR5PSI0Ii8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNCIvPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjE2IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvdyIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PGZpbHRlciBpZD0iYyIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGhlaWdodD0iMjQuMTg1MyIgd2lkdGg9IjIyLjQ4MjYiIHg9IjUzNS40MzciIHk9IjIwMS41Ij48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR5PSIxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMS41Ii8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48Y2xpcFBhdGggaWQ9ImQiPjxwYXRoIGQ9Im0wIDQ0aDU5OHYzNmgtNTk4eiIvPjwvY2xpcFBhdGg+PGNsaXBQYXRoIGlkPSJlIj48cGF0aCBkPSJtMjcyIDExMS41aDMxOHYxNTJoLTMxOHoiLz48L2NsaXBQYXRoPjxwYXRoIGQ9Im0wIDBoNTk4djM2MmgtNTk4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0wIDBoNTk4djM2MWgtNTk4eiIgZmlsbD0iI2ZmZiIvPjxnIGNsaXAtcGF0aD0idXJsKCNkKSI+PHBhdGggZD0ibTAgMGg1OTh2MzZoLTU5OHoiIGZpbGw9IiNmNWY0ZjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgNDQpIi8+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cGF0aCBkPSJtMCA0NGg1OTh2MzZoLTU5OHoiIGZpbGw9IiNmZmYiLz48L2c+PHJlY3QgZmlsbD0iI2VmZjFmNCIgaGVpZ2h0PSIyOCIgcng9IjE0IiB3aWR0aD0iNDUyIiB4PSIxMDMiIHk9IjQ4Ii8+PHBhdGggZD0ibTUzNyA1NS42MjkgMS4zMTEgNC4wNjUxLjExMi4zNDczLjM2NS0uMDAwOCA0LjI3MS0uMDA5My0zLjQ2MSAyLjUwMy0uMjk2LjIxMzguMTE0LjM0NjkgMS4zMjkgNC4wNTkzLTMuNDUtMi41MTgyLS4yOTUtLjIxNTEtLjI5NS4yMTUxLTMuNDUgMi41MTgyIDEuMzI5LTQuMDU5My4xMTQtLjM0NjktLjI5Ni0uMjEzOC0zLjQ2MS0yLjUwMyA0LjI3MS4wMDkzLjM2NS4wMDA4LjExMi0uMzQ3M3oiIHN0cm9rZT0iIzRiNGQ1MiIvPjxwYXRoIGQ9Im0wIDBoMjh2MjhoLTI4eiIgZmlsbD0iI2ZmZiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQgNDgpIi8+PHBhdGggZD0ibTc4IDY3LjVjMi42OTYxIDAgNC45MzkxLTEuOTM5OSA1LjQwOTMtNC41aDEuNTE5OGMtLjQ4NTIgMy4zOTIzLTMuNDAyNiA2LTYuOTI5MSA2LTMuODY2IDAtNy0zLjEzNC03LTdzMy4xMzQtNyA3LTdjMi4xODc3IDAgNC4xNDEgMS4wMDM1IDUuNDI0NiAyLjU3NTRsMS41NzU0LTEuNTc1NHY1aC01bDIuMzU3LTIuMzU3Yy0xLjAwNTctMS4zMDM0LTIuNTgzMy0yLjE0My00LjM1Ny0yLjE0My0zLjAzNzYgMC01LjUgMi40NjI0LTUuNSA1LjVzMi40NjI0IDUuNSA1LjUgNS41eiIgZmlsbD0iIzRiNGQ1MiIvPjxwYXRoIGQ9Im0wIDBoMjh2MjhoLTI4eiIgZmlsbD0iI2ZmZiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzIgNDgpIi8+PHBhdGggZD0ibTQwIDYxLjc1aDEybTAgMC01LjUtNS43NW01LjUgNS43NS01LjUgNS4yNSIgc3Ryb2tlPSIjYTlhZWI4IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggZD0ibTAgMGgyOHYyOGgtMjh6IiBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDQ4KSIvPjxwYXRoIGQ9Im0yMCA2MS43NWgtMTJtMCAwIDUuNS01Ljc1bS01LjUgNS43NSA1LjUgNS4yNSIgc3Ryb2tlPSIjNGI0ZDUyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtNTcwIDU2YzAtMS4xMDQ2Ljg5NS0yIDItMnMyIC44OTU0IDIgMnYxaDJjMS4xMDUgMCAyIC44OTU0IDIgMnYyaDFjMS4xMDUgMCAyIC44OTU0IDIgMnMtLjg5NSAyLTIgMmgtMXYyYzAgMS4xMDQ2LS44OTUgMi0yIDJoLTJ2LTFjMC0xLjEwNDYtLjg5NS0yLTItMnMtMiAuODk1NC0yIDJ2MWgtMmMtMS4xMDUgMC0yLS44OTU0LTItMnYtMmgxYzEuMTA1IDAgMi0uODk1NCAyLTJzLS44OTUtMi0yLTJoLTF2LTJjMC0xLjEwNDYuODk1LTIgMi0yaDJ6IiBmaWxsPSIjNjA2MzY3IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L2c+PHBhdGggZD0ibTAgNi40YzAtMi4yNDAyMSAwLTMuMzYwMzEuNDM1OTc0LTQuMjE1OTYuMzgzNDkzLS43NTI2NS45OTU0MTYtMS4zNjQ1NzMgMS43NDgwNjYtMS43NDgwNjYuODU1NjUtLjQzNTk3NCAxLjk3NTc1LS40MzU5NzQgNC4yMTU5Ni0uNDM1OTc0aDU4NS4yYzIuMjQgMCAzLjM2IDAgNC4yMTYuNDM1OTc0Ljc1My4zODM0OTMgMS4zNjUuOTk1NDE2IDEuNzQ4IDEuNzQ4MDY2LjQzNi44NTU2NS40MzYgMS45NzU3NS40MzYgNC4yMTU5NnYzMy42aC01OTh6IiBmaWxsPSIjZTFlNGViIi8+PHBhdGggZD0ibTMzOCAyNGgxMG0tNS01djEwIiBzdHJva2U9IiM0YjRkNTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHBhdGggZD0ibTg5IDE2YzAtNC40MTgzIDMuNTgxNy04IDgtOGgyMjRjNC40MTggMCA4IDMuNTgxNyA4IDh2MjRoLTI0MHoiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJtMzEyIDIxIDYgNm0wLTYtNiA2IiBzdHJva2U9IiM0YjRkNTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBkPSJtMzM3IDQwaC04di04YzAgNC40MTgzIDMuNTgyIDggOCA4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im04MSA0MGg4di04YzAgNC40MTgzLTMuNTgxNyA4LTggOHoiIGZpbGw9IiNmZmYiLz48Y2lyY2xlIGN4PSI2MSIgY3k9IjIyIiBmaWxsPSIjNjRjMjU1IiByPSI2Ii8+PGNpcmNsZSBjeD0iNjEiIGN5PSIyMiIgcj0iNS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iLjE2IiBzdHJva2Utd2lkdGg9Ii41Ii8+PGNpcmNsZSBjeD0iNDEiIGN5PSIyMiIgZmlsbD0iI2ZmZDE3MSIgcj0iNiIvPjxjaXJjbGUgY3g9IjQxIiBjeT0iMjIiIHI9IjUuNzUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9Ii4xNiIgc3Ryb2tlLXdpZHRoPSIuNSIvPjxjaXJjbGUgY3g9IjIxIiBjeT0iMjIiIGZpbGw9IiNmZjc5NmYiIHI9IjYiLz48Y2lyY2xlIGN4PSIyMSIgY3k9IjIyIiByPSI1Ljc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIuMTYiIHN0cm9rZS13aWR0aD0iLjUiLz48cGF0aCBkPSJtMCA4Mmg1OTh2Mjc5aC01OTh6IiBmaWxsPSIjOTk5NTkyIi8+PHBhdGggZD0ibTU2Ny4yNTggOTUuMDg4LTkuMjU4IDE2LjQxMmgyMmwtOS4yNTgtMTYuNDEyYy0uNzY1LTEuMzU2NS0yLjcxOS0xLjM1NjUtMy40ODQgMHoiIGZpbGw9IiNmZmYiLz48ZyBjbGlwLXBhdGg9InVybCgjZSkiIGZpbHRlcj0idXJsKCNiKSI+PHBhdGggZD0ibTAgMGgzMTh2MTUyaC0zMTh6IiBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzIgMTExLjUpIi8+PHJlY3QgZmlsbD0iI2NjYzdjMiIgaGVpZ2h0PSIxNCIgb3BhY2l0eT0iLjQiIHJ4PSIyIiB3aWR0aD0iNjUiIHg9IjI4NyIgeT0iMTMyLjUiLz48ZyBmaWxsPSIjZWJlOWU3Ij48cmVjdCBoZWlnaHQ9IjE0IiByeD0iMiIgd2lkdGg9IjEwOCIgeD0iMzEyLjc1IiB5PSIyMzYuNSIvPjxwYXRoIGQ9Im0zMDAuOTYzIDI0My41ODhjLjAyNS0uMTg4LjAzNy0uMzgyLjAzNy0uNTg4IDAtLjItLjAxMi0uNC0uMDQ0LS41ODdsMS4yNjktLjk4OGMuMTEzLS4wODcuMTQ0LS4yNTYuMDc1LS4zODFsLTEuMi0yLjA3NWMtLjA3NS0uMTM4LS4yMzEtLjE4MS0uMzY5LS4xMzhsLTEuNDkzLjZjLS4zMTMtLjIzNy0uNjQ0LS40MzctMS4wMTMtLjU4N2wtLjIyNS0xLjU4OGMtLjAyNS0uMTUtLjE1LS4yNTYtLjMtLjI1NmgtMi40Yy0uMTUgMC0uMjY5LjEwNi0uMjk0LjI1NmwtLjIyNSAxLjU4OGMtLjM2OC4xNS0uNzA2LjM1Ni0xLjAxMi41ODdsLTEuNDk0LS42Yy0uMTM3LS4wNS0uMjk0IDAtLjM2OS4xMzhsLTEuMTkzIDIuMDc1Yy0uMDc1LjEzMS0uMDUuMjk0LjA3NS4zODFsMS4yNjguOTg4Yy0uMDMxLjE4Ny0uMDU2LjM5My0uMDU2LjU4N3MuMDEzLjQuMDQ0LjU4OGwtMS4yNjkuOTg3Yy0uMTEyLjA4OC0uMTQ0LjI1Ni0uMDc1LjM4MWwxLjIgMi4wNzVjLjA3NS4xMzguMjMxLjE4Mi4zNjkuMTM4bDEuNDk0LS42Yy4zMTIuMjM3LjY0My40MzcgMS4wMTIuNTg3bC4yMjUgMS41ODhjLjAzMS4xNS4xNS4yNTYuMy4yNTZoMi40Yy4xNSAwIC4yNzUtLjEwNi4yOTQtLjI1NmwuMjI1LTEuNTg4Yy4zNjktLjE1LjcwNi0uMzUgMS4wMTItLjU4N2wxLjQ5NC42Yy4xMzguMDUuMjk0IDAgLjM2OS0uMTM4bDEuMi0yLjA3NWMuMDc1LS4xMzcuMDQ0LS4yOTMtLjA3NS0uMzgxem0tNC40NjMgMS42NjJjLTEuMjM3IDAtMi4yNS0xLjAxMi0yLjI1LTIuMjUgMC0xLjIzNyAxLjAxMy0yLjI1IDIuMjUtMi4yNSAxLjIzOCAwIDIuMjUgMS4wMTMgMi4yNSAyLjI1IDAgMS4yMzgtMS4wMTIgMi4yNS0yLjI1IDIuMjV6Ii8+PHJlY3QgaGVpZ2h0PSIxNCIgb3BhY2l0eT0iLjQiIHJ4PSIyIiB3aWR0aD0iMjg0IiB4PSIyODciIHk9IjE1MS41Ii8+PHJlY3QgaGVpZ2h0PSIxNCIgb3BhY2l0eT0iLjQiIHJ4PSIyIiB3aWR0aD0iNjUiIHg9IjI4NyIgeT0iMTcxLjUiLz48L2c+PHBhdGggZD0ibTMwMy4zNDQgMjA0LjExOWMwLS4xMDEtLjEwMS0uMjAxLS4yNDEtLjI0MWwtMS42ODQtLjYyMmMtLjI4MS0uMTItLjYwMS4wMi0uNjAxLjIyMXY3LjMyOWMuMDA3LjA1Ny4wMy4xMTEuMDY1LjE1Ni4wMzUuMDQ2LjA4Mi4wODIuMTM1LjEwNGwxLjcyNC42MjJjLjI2MS4xLjYwMi0uMDQuNjAyLS4yNjF6bS00LjI3MiA1LjU4NGMwLS4xMDEtLjEtLjIwMS0uMjQxLS4yNDFsLTEuNjg0LS42MjJjLS4yOC0uMTItLjYwMS4wMjEtLjYwMS4yMjF2NC41NzFjLjAwOC4wNTguMDMuMTEyLjA2NS4xNTcuMDM2LjA0Ni4wODIuMDgyLjEzNS4xMDRsMS43MjUuNjIyYy4yNi4xLjYwMS0uMDQuNjAxLS4yNjF6bTAtOS4zNDRjMC0uMS0uMS0uMi0uMjQxLS4yNDFsLTEuNjg0LS42MjFjLS4yOC0uMTItLjYwMS4wMi0uNjAxLjIydjQuNTcyYy4wMDguMDU3LjAzLjExMS4wNjUuMTU3LjAzNi4wNDYuMDgyLjA4MS4xMzUuMTA0bDEuNzI1LjYyMWMuMjYuMS42MDEtLjA0LjYwMS0uMjYxem0tNC4yNS0uMzUxYzAtLjEtLjEwMS0uMi0uMjQxLS4yNGwtMS42ODQtLjYyMmMtLjI4MS0uMTItLjYwMi4wMi0uNjAyLjIyMXYxNC42MzZjLjAwOC4wNTcuMDMxLjExMi4wNjYuMTU3LjAzNS4wNDYuMDgyLjA4Mi4xMzUuMTA0bDEuNzI0LjYyMmMuMjYxLjEuNjAyLS4wNDEuNjAyLS4yNjF6IiBmaWxsPSIjMGU2NDc2Ii8+PHJlY3QgZmlsbD0iIzk5OTU5MiIgaGVpZ2h0PSIxNCIgcng9IjIiIHdpZHRoPSIxNjUiIHg9IjMxMi43NSIgeT0iMjAwLjUiLz48cGF0aCBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Im01MjcuNSAyMDIuNWg3djEuNWgtMXY0bDEuNSAxLjV2MS41aC0zLjV2NC41aC0xdi00LjVoLTMuNXYtMS41bDEuNS0xLjV2LTRoLTF6bTIuMzg5IDEuNXY0LjU3N2wtLjg4OS40NjF2LjQ2Mmg0di0uNDYybC0uODg5LS40NjF2LTQuNTc3eiIgZmlsbD0iI2M0YzRjNCIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHBhdGggZD0ibTUzNC41IDIwMi41aC03djEuNWgxdjRsLTEuNSAxLjV2MS41aDMuNXY0LjVoMXYtNC41aDMuNXYtMS41bC0xLjUtMS41di00aDF6IiBmaWxsPSIjNmQ5ZGU5Ii8+PHBhdGggZD0ibTU3MSAyMDQuNWMwIC41NTIuNDQ4IDEgMSAxczEtLjQ0OCAxLTEtLjQ0OC0xLTEtMS0xIC40NDgtMSAxeiIgZmlsbD0iI2M0YzRjNCIvPjxwYXRoIGQ9Im01NzEgMjA3LjVjMCAuNTUyLjQ0OCAxIDEgMXMxLS40NDggMS0xLS40NDgtMS0xLTEtMSAuNDQ4LTEgMXoiIGZpbGw9IiNjNGM0YzQiLz48cGF0aCBkPSJtNTcxIDIxMC41YzAgLjU1Mi40NDggMSAxIDFzMS0uNDQ4IDEtMS0uNDQ4LTEtMS0xLTEgLjQ0OC0xIDF6IiBmaWxsPSIjYzRjNGM0Ii8+PHBhdGggZD0ibTI3MiAyMjZoMzIxIiBzdHJva2U9IiNkYWRjZGYiLz48ZyBmaWx0ZXI9InVybCgjYykiPjxwYXRoIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTU0Ny44NDEgMjE0LjAxNiA0LjY0Ni0xLjY1MS0xMi40ODctNi44NjUgMy42NCAxMy43NzYgMi43MjYtNC4xMDggMy4yNjQgNC4xNzcgMS40NzQtMS4xNTJ6IiBmaWxsPSIjMzYzYjNlIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48ZyBzdHJva2U9IiNmZmYiPjxwYXRoIGQ9Im01NDguNjYyIDIxNC4yNTUgMy45OTItMS40MTkgMS4wNDktLjM3My0uOTc2LS41MzYtMTIuNDg2LTYuODY1LTEuMDIyLS41NjIuMjk4IDEuMTI4IDMuNjQgMTMuNzc2LjI4NCAxLjA3Ny42MTYtLjkyOCAyLjM0Mi0zLjUzMSAyLjgzNyAzLjYzMS4zMDguMzk0LjM5NC0uMzA4IDEuNDc0LTEuMTUyLjM5NC0uMzA3LS4zMDgtLjM5NHoiLz48cGF0aCBkPSJtNTQ4LjY2MiAyMTQuMjU1IDMuOTkyLTEuNDE5IDEuMDQ5LS4zNzMtLjk3Ni0uNTM2LTEyLjQ4Ni02Ljg2NS0xLjAyMi0uNTYyLjI5OCAxLjEyOCAzLjY0IDEzLjc3Ni4yODQgMS4wNzcuNjE2LS45MjggMi4zNDItMy41MzEgMi44MzcgMy42MzEuMzA4LjM5NC4zOTQtLjMwOCAxLjQ3NC0xLjE1Mi4zOTQtLjMwNy0uMzA4LS4zOTR6Ii8+PHBhdGggZD0ibTU0OC42NjIgMjE0LjI1NSAzLjk5Mi0xLjQxOSAxLjA0OS0uMzczLS45NzYtLjUzNi0xMi40ODYtNi44NjUtMS4wMjItLjU2Mi4yOTggMS4xMjggMy42NCAxMy43NzYuMjg0IDEuMDc3LjYxNi0uOTI4IDIuMzQyLTMuNTMxIDIuODM3IDMuNjMxLjMwOC4zOTQuMzk0LS4zMDggMS40NzQtMS4xNTIuMzk0LS4zMDctLjMwOC0uMzk0eiIvPjwvZz48L2c+PC9nPjwvc3ZnPg==",alt:e("chrome_welcome_illustration_img_alt")}),n.createElement("p",{className:xZ.illustrationDescription},e("chrome_welcome_illustration_panel_description")),n.createElement("div",{className:xZ.buttonWrapper},n.createElement(d.zxk,{type:"submit",size:"large",onClick:()=>{(0,i.uX)(t.userOnboarding)}},e("chrome_welcome_illustration_panel_button")))))},DZ=({path:e})=>n.createElement(i.Vy,{exact:!0,path:e,component:TZ});var ZZ,AZ,kZ,OZ;const LZ=({onClickAddNew:e})=>{const{translate:t}=(0,P.Z)(),{routes:a}=(0,i.Xo)(),s=(0,i.k6)();return n.createElement(Xd.H,{icon:ZZ||(ZZ=n.createElement("img",{"aria-hidden":!0,alt:"",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTY2LjY5MzMgMzYuMDE2Nkw2MS4zNzI3IDM3Ljc5MDFWMzUuNjYxOUM2MS4zNzI3IDM0Ljk1MjUgNjEuMzcyNyAzNC41OTc4IDYxLjM3MjcgMzMuODg4NEM2MS4zNzI3IDMzLjUzMzcgNjEuMzcyNyAzMi44MjQzIDYxLjM3MjcgMzIuNDY5NkM2MS4zNzI3IDMxLjQwNTQgNjEuMDE4IDMwLjM0MTQgNjAuNjYzMyAyOS42MzJDNTkuOTUzOSAyNy44NTg0IDU4LjUzNTEgMjYuMDg0OCA1Ny4xMTYzIDI0LjY2NkM1NC4yNzg2IDIxLjgyODMgNTAuMDIyMiAyMC43NjQyIDQ1Ljc2NTcgMjEuNDczN0M0MS44NjM5IDIyLjE4MzEgMzguMzE2OSAyNS4wMjA3IDM2LjU0MzMgMjguNTY3OEMzNS40NzkyIDMwLjM0MTMgMzUuMTI0NSAzMi40Njk2IDM1LjEyNDUgMzQuMjQzMVYzNS42NjE5TDI5LjQ0OTIgMzguMTQ0OVYzNS42NjE5QzI5LjQ0OTIgMzMuMTc4OSAyOS44MDM5IDMwLjM0MTQgMzAuODY4IDI3Ljg1ODRDMzEuOTMyMiAyNS4zNzU1IDMzLjM1MSAyMi44OTI1IDM1LjQ3OTIgMjEuMTE4OUMzOS4zODEgMTcuMjE3MiA0NS4wNTYzIDE1LjQ0MzcgNTAuMzc2OSAxNi4xNTMxQzU1LjY5NzQgMTYuODYyNSA2MC42NjMzIDIwLjA1NDggNjMuNTAxIDI0LjY2NkM2NC45MTk4IDI2Ljc5NDIgNjUuOTgzOSAyOS42MzE5IDY2LjMzODYgMzIuMTE0OEM2Ni4zMzg2IDMyLjgyNDIgNjYuMzM4NiAzMy41MzM3IDY2LjMzODYgMzQuMjQzMUw2Ni42OTMzIDM2LjAxNjZaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik00Mi4yMTg5IDYwLjg0NTdWNTUuNTI1MUg0Ny4xODQ4SDQ5LjMxM0g1MC4zNzcxQzUwLjM3NzEgNTUuODc5OCA1MC4zNzcxIDU2LjIzNDUgNTAuMzc3MSA1Ni41ODkyVjYwLjg0NTdWNjUuMTAyMkw0NS4wNTY1IDY2Ljg3NTdWNjQuMzkyN1Y2MC44NDU3SDQyLjIxODlaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik03My43ODcgNzguMjI2NUw2OC40NjY1IDgwVjY4LjY0OTVWNDcuNzIxOEgyNy4zMjA2Vjc0LjY3OTRINjEuMzcyM0w2My4xNDU5IDgwSDUxLjc5NTNIMjJWNDIuNDAxMkg3My43ODdWNzguMjI2NVoiIGZpbGw9IiNFMEREREEiLz4KPC9zdmc+Cg=="})),title:t("webapp_credentials_empty_view_title")},n.createElement("p",null,t("webapp_credentials_empty_view_description")),AZ||(AZ=n.createElement("br",null)),n.createElement(d.Ejs,{gap:4,justifyContent:"center"},n.createElement(Ue.zx,{layout:"iconLeading",icon:kZ||(kZ=n.createElement(Ue.JO,{name:"ActionAddOutlined"})),onClick:e},t("credentials_header_add_password")),n.createElement(Ue.zx,{layout:"iconLeading",icon:OZ||(OZ=n.createElement(d._8t,null)),mood:"neutral",intensity:"quiet",onClick:()=>s.push(a.importData)},t("webapp_account_root_import_data"))))},zZ=(0,n.createContext)({}),jZ=(0,n.createContext)({}),PZ=({children:e})=>{const[t,a]=(0,n.useState)([]),i=(0,Be.F)("webproduct_multi_select_delete_release"),s=(e,t)=>{const a=t.findIndex((t=>t.id===e.id));-1===a?t.push(e):t.splice(a,1)},r=(0,n.useMemo)((()=>({clearSelection:()=>a([]),toggleSelectItem:e=>{a((t=>{const a=[...t];return s(e,a),a}))},toggleSelectItems:e=>{a((t=>{const a=[...t];return e.forEach((e=>{e.sharingSatus.isShared||s(e,a)})),a}))}})),[]);if(i.status!==W.rq.Success)return null;const o={selectedItems:t,isMultiselectEnabled:i.data};return n.createElement(zZ.Provider,{value:o},n.createElement(jZ.Provider,{value:r},e))},RZ=()=>(0,n.useContext)(zZ),UZ=()=>(0,n.useContext)(jZ);var BZ,FZ=a(549012),GZ=a(22827),WZ=a.n(GZ);const{dashGreen00:VZ,dashGreen02:HZ}=d.O9T,qZ=n.memo((({dispatchGlobal:e,userCredentialRoute:t,credential:a})=>{const{translate:i}=(0,P.Z)(),s=!a.url,r=i("webapp_credentials_row_no_website_tooltip");return n.createElement("div",{className:"quickActionContainer--qigA5HmYM2"},n.createElement("div",{className:"actionContainer--UzhPOlbmHF"},n.createElement(d.ua7,{content:r,placement:"bottom",passThrough:!s},n.createElement(FZ.Z,{"aria-label":s?r:void 0,label:i("webapp_credentials_row_open_website"),type:"button",name:"hiddenAction",disabled:s,classNames:["disabledCursorButton--L4_yEP6Hi4"],onClick:()=>{(e=>{(0,Vr.k)(e),(0,b.Yo)(e.redirectUrl)})(a)},icon:n.createElement(d.RTC,{color:s?HZ:VZ})}))),n.createElement(yo,{credential:a,dispatchGlobal:e,userCredentialRoute:t,renderRoot:e=>n.createElement(FZ.Z,{iconButton:!0,"aria-label":i("webapp_credentials_row_accessibility_actions_menu"),label:BZ||(BZ=n.createElement(WZ(),null)),onClick:e})}))})),YZ=(0,n.createContext)({}),QZ=(0,n.createContext)({}),$Z=({children:e})=>{const[t,a]=(0,n.useState)([]),i=(0,n.useMemo)((()=>({clearSelection:()=>a([]),toggleSelectCollection:e=>{a((t=>{const a=[...t];return((e,t)=>{const a=t.findIndex((t=>t.id===e.id));-1===a?t.push(e):t.splice(a,1)})(e,a),a}))}})),[]);return n.createElement(YZ.Provider,{value:{selectedCollections:t,isCollectionSelected:e=>t.some((t=>t.id===e))}},n.createElement(QZ.Provider,{value:i},e))},KZ=()=>(0,n.useContext)(YZ),XZ=()=>{const{isCollectionsEnabled:e,collections:t}=(0,Il.b)(),{selectedCollections:a,isCollectionSelected:i}=KZ(),{toggleSelectCollection:s}=(0,n.useContext)(QZ);return e?(0,Ue.tZ)(Al.zT,{sx:{marginLeft:"32px",...a.length>0?{visibility:"visible"}:{visibility:"hidden",maxHeight:"0px"}},collectionListItems:t.map((e=>(0,Ue.tZ)(Al.cF,{key:`selected_collections_list_${e.id}`,isVisible:i(e.id)},(0,Ue.tZ)(Al.Au,{onClick:()=>s(e)},e.name))))}):null},JZ=({vaultItemId:e,categoryName:t})=>{const{translate:a}=(0,P.Z)(),{collections:n,isCollectionsEnabled:i}=(0,Il.b)();if(!i)return(0,Ue.tZ)(Uu.Z,null,t||a("webapp_credentials_row_no_category"));if(!n.length)return null;const s=n.filter((t=>t.vaultItems.some((t=>t.id===e))));return(0,Ue.tZ)(Al.zT,{sx:{margin:"14px 0"},collectionListItems:s.map((e=>(0,Ue.tZ)(Al.cF,{key:`vault_row_item_collections_list_${e.id}`},(0,Ue.tZ)(Al.KH,null,e.name))))})};let eA;const tA=e=>(eA||(eA=e.dispatchGlobal),eA),aA=(0,n.memo)((({credential:e,isCompromised:t,lee:a,onSelectCredential:n,isSelectable:s,isSelected:r})=>{const{translate:o}=(0,P.Z)(),{routes:l}=(0,i.Xo)(),{pathname:u}=(0,i.TH)();return(0,D.tZ)(Bu.Z,{link:l.userVaultItem(e.id,xl.VaultItemType.Credential,u),type:"link",style:r?{backgroundColor:d.O9T.grey06}:void 0,checkable:s&&(0,D.tZ)(d.ua7,{passThrough:!e.sharingSatus.isShared,placement:"right",content:o("webapp_multiselect_disabled_checkbox_tooltip"),sx:{maxWidth:"200px",whiteSpace:"normal"}},(0,D.tZ)("span",{sx:{marginRight:"16px"}},(0,D.tZ)(Ue.XZ,{"aria-label":""!==e.url?e.url:e.login,sx:{position:"relative",gap:"0"},checked:r,onChange:()=>n(e),readOnly:e.sharingSatus.isShared}))),data:[{key:"title",content:(0,D.tZ)(AD,{credential:e,isCompromised:t})},{key:"lastUse",content:(0,D.tZ)(Uu.Z,null,e.lastUse?(0,D.tZ)(Ae.Z,{date:(0,xt.Z)(e.lastUse)}):o("webapp_credentials_row_last_used_never")),className:ZD},{key:"category",content:(0,D.tZ)(JZ,{categoryName:e.category?.categoryName,vaultItemId:e.id}),className:DD}],actions:(0,D.tZ)(qZ,{dispatchGlobal:tA(a),userCredentialRoute:l.userCredential,credential:e}),onClick:()=>{(0,v.N)(c.PageView.ItemCredentialDetails),(0,Ir.kb)(e.id)}})})),nA=({credential:e,isCompromised:t,...a})=>{const{isMultiselectEnabled:n,selectedItems:i}=RZ(),{toggleSelectItem:s}=UZ(),r=i.some((t=>t.id===e.id));return r&&e.sharingSatus.isShared?(s(e),null):(0,D.tZ)(aA,{credential:e,isCompromised:t,isSelectable:n,isSelected:r,...a})},iA=({lee:e,credentials:t,compromisedCredentials:a=[],...i})=>{const{toggleSelectItem:s,toggleSelectItems:r}=UZ(),o=(0,n.useRef)(!1),l=(0,n.useRef)(0);(0,n.useEffect)((()=>{const e=e=>{e.shiftKey&&(o.current=!0)},t=()=>{o.current=!1};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]);const c=e=>{const a=t.findIndex((t=>t.id===e.id));if(!o.current)return l.current=a,void s(e);let n,i;a>l.current?(n=a,i=l.current+1):(n=l.current,i=a),l.current=a,r(t.slice(i,n+1))},d=e=>a.some((t=>t===e));return(0,D.tZ)("div",{sx:{height:"100%",overflow:"hidden"}},(0,D.tZ)(Pu.v,{hasNext:i.hasNext,hasPrevious:i.hasPrevious,isLoading:i.isLoading,loadNext:i.loadNext,loadPrevious:i.loadPrevious},t.map((t=>(0,D.tZ)(nA,{key:`credentials_list_credentialId_${t.id}`,isCompromised:d(t.id),credential:t,onSelectCredential:c,lee:e})))))},sA=({credentials:e,...t})=>{const a=ID(e.map((e=>e.id)));return(0,D.tZ)(iA,{credentials:e,...t,compromisedCredentials:a})},rA={tokenEndpoint:u.C.getCredentialsPaginationToken,pageEndpoint:u.C.getCredentialsPage,batchLiveEndpoint:u.C.liveCredentialsBatch},oA=(0,ju.G)(rA,(e=>{const t=[...e.paginatedData.values()].flat(),a=(0,Be.w)("ims_web_ph_mv3_dev"),n=(0,Be.w)("ims_web_ph_mv3_prod");return a||n?(0,D.tZ)(sA,{credentials:t,...e}):(0,D.tZ)(iA,{credentials:t,...e})})),lA="16px",cA=({children:e,positioning:t,withArrow:a})=>(0,Ue.tZ)("aside",{sx:{display:"flex",flexDirection:"column",gap:lA,position:"absolute",...t,maxWidth:"400px",maxHeight:"60vh",padding:lA,borderRadius:"4px",backgroundColor:"ds.container.agnostic.inverse.standard",whiteSpace:"normal","&:before":a&&{content:'""',position:"absolute",top:"14px",left:"0",transform:"translate(-100%)",border:"10px solid transparent",borderRightColor:"ds.container.agnostic.inverse.standard"},"@keyframes fadeIn":{"0%":{opacity:0,transform:"scale3d(0, 0, 1)"},"100%":{opacity:1,transform:"scale3d(1, 1, 1)"}},animation:"fadeIn 250ms ease-out",transformOrigin:"top"}},e),dA=({description:e,image:t,notificationName:a,title:n,positioning:i,withArrow:s=!1})=>{const{translate:r}=(0,P.Z)(),{interacted:o,setAsInteracted:l}=(0,hc.d)(a),c=(0,Bd.E)(656);return o?null:(0,Ue.tZ)(cA,{positioning:i,withArrow:s},(0,Ue.tZ)(d.X6q,{size:"x-small",as:"h2",color:"ds.text.inverse.catchy"},n),(0,Ue.tZ)("p",{sx:{color:"ds.text.inverse.standard"}},e),c&&t,(0,Ue.tZ)(d.zxk,{type:"button",onClick:l,sx:{alignSelf:"end"}},r("webapp_credentials_multiselect_shift_tooltip_button")))};var uA;const mA=()=>uA||(uA=n.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 360 227",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"360",height:"227",rx:"2",fill:"#EFF0F0"}),n.createElement("rect",{x:"43.5",y:"204",width:"273",height:"3",rx:"1.5",fill:"#6EA2AD",fillOpacity:"0.2"}),n.createElement("path",{d:"M66.5 46.0617C66.5 37.7434 73.2434 31 81.5617 31H277.288C285.601 31 292.342 37.7346 292.35 46.0474L292.5 204H66.5V46.0617Z",fill:"#6EA2AD",fillOpacity:"0.2"}),n.createElement("path",{d:"M76.5 51.0412C76.5 45.4956 80.9956 41 86.5412 41H272.459C278.004 41 282.5 45.4956 282.5 51.0412V204H76.5V51.0412Z",fill:"white"}),n.createElement("path",{d:"M76.5 90H282.5V118H76.5V90Z",fill:"#A2A3A3",fillOpacity:"0.2"}),n.createElement("path",{d:"M76.5 145H282.5V173H76.5V145Z",fill:"#A2A3A3",fillOpacity:"0.2"}),n.createElement("rect",{x:"118.5",y:"158",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"118.5",y:"185",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"118.5",y:"104",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"118.5",y:"132",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"87.5",y:"177",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"88.1276",y:"177.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("rect",{x:"87.5",y:"150",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"88.1276",y:"150.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M102.542 152.375H91.4583C90.5875 152.375 89.875 153.087 89.875 153.958V165.042C89.875 165.913 90.5875 166.625 91.4583 166.625H102.542C103.413 166.625 104.125 165.913 104.125 165.042V153.958C104.125 153.087 103.413 152.375 102.542 152.375ZM95.4167 163.458L91.4583 159.652L92.5667 158.587L95.4167 161.327L101.433 155.542L102.542 156.607L95.4167 163.458Z",fill:"#0E6173"}),n.createElement("rect",{x:"87.5",y:"123",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"88.1276",y:"123.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("rect",{x:"87.5",y:"95",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"88.1276",y:"95.6276",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M102.542 97.375H91.4583C90.5875 97.375 89.875 98.0875 89.875 98.9583V110.042C89.875 110.913 90.5875 111.625 91.4583 111.625H102.542C103.413 111.625 104.125 110.913 104.125 110.042V98.9583C104.125 98.0875 103.413 97.375 102.542 97.375ZM95.4167 108.458L91.4583 104.652L92.5667 103.587L95.4167 106.327L101.433 100.542L102.542 101.607L95.4167 108.458Z",fill:"#0E6173"}),n.createElement("path",{d:"M87.5 52C87.5 49.7909 89.2909 48 91.5 48H267.5C269.709 48 271.5 49.7909 271.5 52V78C271.5 80.2091 269.709 82 267.5 82H91.5C89.2909 82 87.5 80.2091 87.5 78V52Z",fill:"#F5F5F5"}),n.createElement("rect",{x:"100.5",y:"64",width:"66",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("path",{d:"M261.5 60H243.5V62H245.5H261.5V60Z",fill:"#0E6173"}),n.createElement("path",{d:"M247.5 58V56H257.5V58H247.5Z",fill:"#0E6173"}),n.createElement("path",{d:"M255.5 65.0168L253.5 65.0168V70.2001L255.5 69.0001L255.5 65.0168Z",fill:"#0E6173"}),n.createElement("path",{d:"M251.5 65H249.5V70.2001L251.5 69.0001V65Z",fill:"#0E6173"}),n.createElement("path",{d:"M255.7 75L254.5 73H247.5V62H245.5V75H255.7Z",fill:"#0E6173"}),n.createElement("path",{d:"M257.5 75H259.5V62H257.5V75Z",fill:"#0E6173"})));var pA;const _A=()=>{const{translate:e}=(0,P.Z)();return n.createElement(dA,{description:e("webapp_multiselect_guide_tooltip_description_delete"),image:pA||(pA=n.createElement(mA,null)),notificationName:V.NotificationName.MultiselectGuideDelete,title:e("webapp_multiselect_guide_tooltip_title_delete"),positioning:{top:"66px",left:"68px"},withArrow:!0})};var gA;const hA=()=>gA||(gA=n.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 368 227",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"368",height:"227",rx:"2",fill:"#EFF0F0"}),n.createElement("rect",{x:"47.5",y:"204",width:"273",height:"3",rx:"1.5",fill:"#6EA2AD",fillOpacity:"0.2"}),n.createElement("path",{d:"M70.5 46.0617C70.5 37.7434 77.2434 31 85.5617 31H281.288C289.601 31 296.342 37.7346 296.35 46.0474L296.5 204H70.5V46.0617Z",fill:"#6EA2AD",fillOpacity:"0.2"}),n.createElement("path",{d:"M80.5 51.0412C80.5 45.4956 84.9956 41 90.5412 41H276.459C282.004 41 286.5 45.4956 286.5 51.0412V204H80.5V51.0412Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.6395 103.303L45.9415 97.986L46.9981 97L54.5 104L46.9981 111L45.9415 110.014L51.6395 104.697L38.5 104.697L38.5 103.303L51.6395 103.303Z",fill:"#0E6173"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.6395 158.303L45.9415 152.986L46.9981 152L54.5 159L46.9981 166L45.9415 165.014L51.6395 159.697L38.5 159.697L38.5 158.303L51.6395 158.303Z",fill:"#0E6173"}),n.createElement("rect",{x:"65.5",y:"90",width:"83",height:"2",rx:"0.999998",transform:"rotate(90 65.5 90)",fill:"#0E6173"}),n.createElement("path",{d:"M80.5 90H286.5V173H80.5V90Z",fill:"#A2A3A3",fillOpacity:"0.2"}),n.createElement("rect",{x:"122.5",y:"158",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"122.5",y:"185",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"122.5",y:"104",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"122.5",y:"132",width:"143",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("rect",{x:"91.5",y:"177",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"92.1276",y:"177.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("rect",{x:"91.5",y:"150",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"92.1276",y:"150.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.542 152.375H95.4583C94.5875 152.375 93.875 153.087 93.875 153.958V165.042C93.875 165.913 94.5875 166.625 95.4583 166.625H106.542C107.413 166.625 108.125 165.913 108.125 165.042V153.958C108.125 153.087 107.413 152.375 106.542 152.375ZM99.4167 163.458L95.4583 159.652L96.5667 158.587L99.4167 161.327L105.433 155.542L106.542 156.607L99.4167 163.458Z",fill:"#0E6173"}),n.createElement("rect",{x:"91.5",y:"123",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"92.1276",y:"123.628",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.542 125.375H95.4583C94.5875 125.375 93.875 126.087 93.875 126.958V138.042C93.875 138.913 94.5875 139.625 95.4583 139.625H106.542C107.413 139.625 108.125 138.913 108.125 138.042V126.958C108.125 126.087 107.413 125.375 106.542 125.375ZM99.4167 136.458L95.4583 132.652L96.5667 131.587L99.4167 134.327L105.433 128.542L106.542 129.607L99.4167 136.458Z",fill:"#0E6173"}),n.createElement("rect",{x:"91.5",y:"95",width:"19",height:"19",rx:"2.5",fill:"#6EA2AD",fillOpacity:"0.1"}),n.createElement("rect",{x:"92.1276",y:"95.6276",width:"17.7449",height:"17.7449",rx:"1.87243",stroke:"#5B97A6",strokeOpacity:"0.4",strokeWidth:"1.25514"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.542 97.375H95.4583C94.5875 97.375 93.875 98.0875 93.875 98.9583V110.042C93.875 110.913 94.5875 111.625 95.4583 111.625H106.542C107.413 111.625 108.125 110.913 108.125 110.042V98.9583C108.125 98.0875 107.413 97.375 106.542 97.375ZM99.4167 108.458L95.4583 104.652L96.5667 103.587L99.4167 106.327L105.433 100.542L106.542 101.607L99.4167 108.458Z",fill:"#0E6173"}),n.createElement("path",{d:"M91.5 52C91.5 49.7909 93.2909 48 95.5 48H271.5C273.709 48 275.5 49.7909 275.5 52V78C275.5 80.2091 273.709 82 271.5 82H95.5C93.2909 82 91.5 80.2091 91.5 78V52Z",fill:"#F5F5F5"}),n.createElement("rect",{x:"104.5",y:"64",width:"66",height:"2",rx:"1",fill:"#232425",fillOpacity:"0.92"}),n.createElement("path",{d:"M265.5 60H247.5V62H249.5H265.5V60Z",fill:"#0E6173"}),n.createElement("path",{d:"M251.5 58V56H261.5V58H251.5Z",fill:"#0E6173"}),n.createElement("path",{d:"M259.5 65.0168L257.5 65.0168V70.2001L259.5 69.0001L259.5 65.0168Z",fill:"#0E6173"}),n.createElement("path",{d:"M255.5 65H253.5V70.2001L255.5 69.0001V65Z",fill:"#0E6173"}),n.createElement("path",{d:"M259.7 75L258.5 73H251.5V62H249.5V75H259.7Z",fill:"#0E6173"}),n.createElement("path",{d:"M261.5 75H263.5V62H261.5V75Z",fill:"#0E6173"}),n.createElement("g",{filter:"url(#filter0_d_66_45098)"},n.createElement("rect",{x:"35.5",y:"44",width:"62",height:"35",rx:"4",fill:"#0E6173",shapeRendering:"crispEdges"}),n.createElement("path",{d:"M59.6505 66.1121C59.2583 66.1121 58.8754 66.0635 58.5018 65.9664C58.1283 65.8655 57.7884 65.718 57.4821 65.5237C57.1795 65.3258 56.9274 65.0811 56.7257 64.7897C56.5239 64.4946 56.4007 64.151 56.3559 63.7588H57.7678C57.8276 64.0314 57.9453 64.2612 58.1208 64.4479C58.2964 64.6347 58.5149 64.7767 58.7764 64.8738C59.0416 64.9709 59.3311 65.0195 59.6449 65.0195C59.9811 65.0195 60.2836 64.9746 60.5526 64.885C60.8253 64.7953 61.0401 64.6646 61.1969 64.4928C61.3576 64.3209 61.4379 64.1099 61.4379 63.8596C61.4379 63.6392 61.38 63.4525 61.2642 63.2993C61.1484 63.1461 60.9859 63.021 60.7767 62.9239C60.5713 62.823 60.3303 62.7427 60.0539 62.683L58.5635 62.358C57.9621 62.2347 57.4858 61.9956 57.1347 61.6408C56.7836 61.2859 56.6043 60.8134 56.5968 60.2232C56.5931 59.7339 56.7219 59.308 56.9834 58.9457C57.2486 58.5796 57.6091 58.2976 58.0648 58.0996C58.5205 57.8979 59.036 57.797 59.6113 57.797C60.2836 57.797 60.8496 57.9072 61.309 58.1276C61.7722 58.3443 62.1215 58.6356 62.3568 59.0017C62.5959 59.3678 62.7173 59.7693 62.721 60.2064H61.3426C61.309 59.8851 61.2119 59.6293 61.0513 59.4388C60.8944 59.2482 60.6927 59.1119 60.4461 59.0297C60.1996 58.9475 59.9269 58.9065 59.6281 58.9065C59.4039 58.9065 59.1948 58.9326 59.0005 58.9849C58.8063 59.0372 58.6363 59.1138 58.4906 59.2146C58.345 59.3155 58.231 59.4388 58.1489 59.5844C58.0704 59.7264 58.0312 59.8889 58.0312 60.0719C58.0312 60.3334 58.1171 60.5463 58.2889 60.7107C58.4645 60.8713 58.7913 61.0076 59.2695 61.1197L60.7263 61.4447C61.1783 61.5343 61.5425 61.6688 61.8189 61.8481C62.0953 62.0274 62.3064 62.2328 62.452 62.4644C62.5977 62.6923 62.6948 62.9258 62.7434 63.1648C62.792 63.4039 62.8162 63.6318 62.8162 63.8484C62.8162 64.2705 62.6855 64.6534 62.424 64.997C62.1663 65.3407 61.8002 65.6134 61.3258 65.8151C60.8552 66.0131 60.2967 66.1121 59.6505 66.1121ZM69.6702 62.4028H65.748V66H64.3864V57.8979H65.748V61.243H69.6702V57.8979H71.0317V66H69.6702V62.4028ZM72.9881 57.8979H74.3496V66H72.9881V57.8979ZM76.3149 57.8979H81.6155L81.6099 59.0521H77.6989V61.383H81.1504V62.5205H77.6989V66H76.3149V57.8979ZM82.683 59.125V57.8979H89.0034V59.125H86.5716V66H85.2044V59.125H82.683Z",fill:"white"}),n.createElement("path",{d:"M47.4535 57.2369C47.5235 57.1622 47.6081 57.1025 47.7021 57.0618C47.7961 57.021 47.8974 57 47.9999 57C48.1023 57 48.2037 57.021 48.2977 57.0618C48.3917 57.1025 48.4763 57.1622 48.5463 57.2369L53.2957 62.3044C53.7448 62.782 53.4049 63.5642 52.7492 63.5642H50.6197V65.8097C50.6197 66.0082 50.5408 66.1986 50.4005 66.339C50.2601 66.4794 50.0697 66.5582 49.8712 66.5582H46.1286C45.9301 66.5582 45.7397 66.4794 45.5993 66.339C45.4589 66.1986 45.3801 66.0082 45.3801 65.8097V63.5642H43.2498C42.5956 63.5642 42.2558 62.782 42.7034 62.3037L47.4535 57.2369ZM52.75 62.8156L47.9999 57.7489L43.2498 62.8156H45.3801C45.5786 62.8156 45.769 62.8945 45.9094 63.0349C46.0497 63.1753 46.1286 63.3656 46.1286 63.5642V65.8097H49.8712V63.5642C49.8712 63.3656 49.95 63.1753 50.0904 63.0349C50.2308 62.8945 50.4212 62.8156 50.6197 62.8156H52.75Z",fill:"white"}),n.createElement("path",{d:"M47.4535 57.2369C47.5235 57.1622 47.6081 57.1025 47.7021 57.0618C47.7961 57.021 47.8974 57 47.9999 57C48.1023 57 48.2037 57.021 48.2977 57.0618C48.3917 57.1025 48.4763 57.1622 48.5463 57.2369L53.2957 62.3044C53.7448 62.782 53.4049 63.5642 52.7492 63.5642H50.6197V65.8097C50.6197 66.0082 50.5408 66.1986 50.4005 66.339C50.2601 66.4794 50.0697 66.5582 49.8712 66.5582H46.1286C45.9301 66.5582 45.7397 66.4794 45.5993 66.339C45.4589 66.1986 45.3801 66.0082 45.3801 65.8097V63.5642H43.2498C42.5956 63.5642 42.2558 62.782 42.7034 62.3037L47.4535 57.2369ZM52.75 62.8156L47.9999 57.7489L43.2498 62.8156H45.3801C45.5786 62.8156 45.769 62.8945 45.9094 63.0349C46.0497 63.1753 46.1286 63.3656 46.1286 63.5642V65.8097H49.8712V63.5642C49.8712 63.3656 49.95 63.1753 50.0904 63.0349C50.2308 62.8945 50.4212 62.8156 50.6197 62.8156H52.75Z",stroke:"black"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_66_45098",x:"27.5",y:"40",width:"78",height:"51",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"4"}),n.createElement("feGaussianBlur",{stdDeviation:"4"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_66_45098"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_66_45098",result:"shape"})))));var bA;const yA=()=>{const{translate:e}=(0,P.Z)();return n.createElement(dA,{description:e("webapp_multiselect_guide_tooltip_description_shift"),image:bA||(bA=n.createElement(hA,null)),notificationName:V.NotificationName.MultiselectGuideShift,title:e("webapp_multiselect_guide_tooltip_title_shift"),positioning:{top:"24px",right:"30px"}})};var CA,wA;const EA=()=>{const{isMultiselectEnabled:e,selectedItems:t}=RZ();return e?(0,Ue.tZ)(n.Fragment,null,CA||(CA=(0,Ue.tZ)(_A,null)),!(0,mc.isFirefox)()&&!!t.length&&(wA||(wA=(0,Ue.tZ)(yA,null)))):null},vA=({amountToBeDeleted:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)("header",null,(0,D.tZ)(d.X6q,{size:"small",sx:{marginBottom:"14px"}},t("webapp_credentials_multiselect_delete_confirm_dialog_title",{count:e})),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet"},t("webapp_credentials_multiselect_delete_confirm_dialog_desc")))};var NA=a(699718);const SA=({credentialsToBeDeleted:e,onConfirm:t,onCancel:a,isLoading:i})=>{const{translate:s}=(0,P.Z)();return i?(0,D.tZ)(d.HoD,{color:"ds.text.brand.standard",size:"60px",sx:{margin:"40px auto 20px"}}):(0,D.tZ)(n.Fragment,null,(0,D.tZ)("ul",{sx:{margin:"16px 0",marginRight:"-16px",overflowY:"auto",maxHeight:"50vh",...NA.W}},e.map((e=>(0,D.tZ)("li",{key:`bulkdelete_dialog_list_${e.id}`,sx:{borderBottom:"1px solid",borderBottomColor:"ds.border.neutral.quiet.idle",padding:"12px 0",marginRight:"32px","&:last-child":{borderBottom:"none"}}},(0,D.tZ)(Gr.Q,{size:Gr.o.SMALL,sx:{overflow:"hidden",userSelect:"none"},title:e.title,email:e.email,login:e.login,domainIcon:e.domainIcon,shared:e.sharingSatus.isShared}))))),(0,D.tZ)("footer",null,(0,D.tZ)(d.cNS,{intent:"danger",primaryButtonTitle:s("webapp_credentials_multiselect_delete_confirm_dialog_delete_button"),primaryButtonOnClick:t,secondaryButtonTitle:s("webapp_credentials_multiselect_delete_confirm_dialog_cancel_button"),secondaryButtonOnClick:a})))},IA=({credentialsToBeDeleted:e,onClose:t,clearMultiSelection:a})=>{const{translate:i}=(0,P.Z)(),s=(0,Na.V)(),[r,o]=(0,n.useState)(!1);return n.createElement(d.VqE,{isOpen:!0,disableOutsideClickClose:!0,disableScrolling:!0,closeIconName:r?void 0:i("_common_dialog_dismiss_button"),onClose:t},n.createElement(vA,{amountToBeDeleted:e.length}),n.createElement(SA,{credentialsToBeDeleted:e,isLoading:r,onCancel:t,onConfirm:async()=>{o(!0);const n=e.map((e=>e.id));u.C.deleteCredentialsInBulk({credentialList:n}).then((t=>{t.success?(a(),s.showAlert(i("webapp_credentials_multiselect_delete_success_alert",{count:e.length}),d.BLW.SUCCESS)):t.notRemoved?s.showAlert(i("webapp_credentials_multiselect_delete_warning_alert_items_deleted",{loginsDeleted:e.length-t.notRemoved,totalNumberOfLogins:e.length}),d.BLW.WARNING):s.showAlert(i("webapp_credentials_multiselect_delete_error_alert",{count:e.length}),d.BLW.ERROR)})).finally((()=>{o(!1),t()}))}}))},fA=({visible:e,children:t})=>(0,D.tZ)("div",{sx:{position:"absolute",top:"0",left:"0",right:"0",zIndex:"50",display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 16px",margin:"8px",borderRadius:"8px",backgroundColor:"inherit",backgroundImage:`linear-gradient(${Ue.uH.colors.ds.container.expressive.neutral.quiet.idle} 100%, white)`,visibility:e?"visible":"hidden",transform:e?"scale3d(1,1,1)":"scale3d(1,0,1)",transformOrigin:"top",transition:"all 250ms"}},t);var xA;const MA=({onClick:e})=>{const{translate:t}=(0,P.Z)();return n.createElement(Ue.zx,{size:"small",layout:"iconLeading",mood:"neutral",onClick:e,icon:xA||(xA=n.createElement(d.XHJ,{color:"ds.background.default"}))},t("webapp_panel_edition_generic_delete"))},TA={ACTIONS_LIST:{display:"flex",gap:"16px",alignItems:"center",marginLeft:"auto"},CLOSE_BUTTON:{cursor:"pointer",backgroundColor:"transparent"},CLOSE_ICON:{fill:"ds.text.neutral.quiet",transition:"fill 250ms","&:hover":{fill:"ds.text.neutral.catchy"}}},DA=()=>{const{translate:e}=(0,P.Z)(),{isMultiselectEnabled:t,selectedItems:a}=RZ(),{clearSelection:i}=UZ(),{openBulkDeletionDialog:s}=(()=>{const{openDialog:e,closeDialog:t}=(0,Pa.R)();return{openBulkDeletionDialog:(0,n.useCallback)(((a,i)=>{e(n.createElement(IA,{credentialsToBeDeleted:a,onClose:t,clearMultiSelection:i}))}),[e,t])}})(),r=a.length,o=()=>{s(a,i)};return(0,n.useEffect)((()=>{const e=e=>{const{key:t}=e;("Backspace"===t||"Delete"===t)&&r>0&&o()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[r]),t?(0,D.tZ)(fA,{visible:r>0},(0,D.tZ)("span",null,e("webapp_credentials_multiselect_selected_count",{count:r||1})),(0,D.tZ)("ul",{sx:TA.ACTIONS_LIST},(0,D.tZ)("li",null,(0,D.tZ)(MA,{onClick:o})),(0,D.tZ)("li",{sx:{display:"flex"}},(0,D.tZ)("button",{sx:TA.CLOSE_BUTTON,onClick:i,"data-testid":"closeButton"},(0,D.tZ)(d.ua7,{content:e("webapp_credentials_multiselect_menu_close_button"),placement:"bottom"},(0,D.tZ)(d.Two,{sx:TA.CLOSE_ICON})))))):null};var ZA,AA,kA;const OA="vault_web_collection_labelling_dev",LA="vault_web_collection_labelling_prod",zA=({lee:e,additionalCredentialFilterCriteriums:t})=>{const{translate:a}=(0,P.Z)(),[i,s]=(0,n.useState)({field:"title",direction:Lu._.ascending}),{selectedCollections:r}=KZ(),{currentSpaceId:o}=(0,x.fV)(),l=(0,R.vF)([OA,LA]),c=l.status===R.rq.Success&&(l.data[OA]||l.data[LA]);(0,n.useEffect)((()=>{const e=localStorage.getItem(zu.bC);try{if(e){const t=JSON.parse(e);s(t)}}catch(e){}}),[]);const d={sortCriteria:(e=>{const{field:t,direction:a}=e;return[{direction:a===Lu._.ascending?"ascend":"descend",field:t}]})(i),filterCriteria:(()=>{const e=[];return null!==o&&e.push({field:"spaceId",type:"equals",value:o}),r.forEach((t=>{e.push({field:"collectionIds",type:"contains",value:t.id})})),t&&e.push(...t),e})(),initialBatchSize:20};return n.createElement(n.Fragment,null,ZA||(ZA=n.createElement(DA,null)),n.createElement("div",{style:{position:"relative",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"}},AA||(AA=n.createElement(XZ,null)),n.createElement(rm.h,{header:[{key:"title",sortable:!0,content:a("webapp_credentials_header_row_name"),logSubaction:"name"},{key:"lastUse",sortable:!0,content:a("webapp_credentials_header_row_last_used"),className:ZD,logSubaction:"lastUsed"},{key:"category",sortable:!c,content:a("webapp_credentials_header_row_category"),className:DD,logSubaction:"category"}],onSort:e=>{s(e),(e=>{localStorage.setItem(zu.bC,JSON.stringify(e))})(e)},options:i,containerClassName:"credentialHeaderContainer--QyO0Nl8Kfg"}),n.createElement(oA,{lee:e,tokenParams:d}),kA||(kA=n.createElement(EA,null))))},jA=e=>n.createElement(PZ,null,n.createElement($Z,null,n.createElement(zA,{...e}))),PA=n.createElement(n.Fragment,null,n.createElement(Uc.D,null),n.createElement(Bc.E,null));var RA;const UA=e=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(!1);return n.createElement(n.Fragment,null,n.createElement(Fd,{onClick:()=>i(!0),icon:RA||(RA=n.createElement(Ue.JO,{name:"ActionEditOutlined"}))},t("_common_action_edit")),n.createElement(Yl,{isOpen:a,onClose:()=>i(!1),...e}))};var BA;const FA=e=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(!1);return n.createElement(n.Fragment,null,n.createElement(Fd,{onClick:()=>i(!0),icon:BA||(BA=n.createElement(Ue.JO,{name:"ActionDeleteOutlined"}))},t("collections_delete_button_text")),n.createElement(Hl,{isOpen:a,onClose:()=>i(!1),...e}))},GA=e=>n.createElement(Rc.h,{startWidgets:()=>n.createElement(n.Fragment,null,n.createElement(UA,{...e}),n.createElement(FA,{collectionId:e.id,collectionName:e.name})),endWidget:PA}),WA=({lee:e})=>{const{routes:t}=(0,i.Xo)(),a=(0,L_.k6)(),s=`{${(0,L_.UO)().collectionId}}`,{currentSpaceId:r}=(0,x.fV)(),{data:o,status:l}=(0,R.k$)(xl.vaultOrganizationApi,"queryCollections",{ids:[s]});if(n.useEffect((()=>{(0,v.N)(c.PageView.CollectionDetails)}),[]),l!==W.rq.Success)return null;const d=o.collections[0];if(!d||null!==r&&d.spaceId!==r)return n.createElement(L_.l_,{to:t.userCredentials});const{vaultItems:u,...m}=d;return n.createElement(n.Fragment,null,n.createElement(GA,{...m}),u.length>0?n.createElement(jA,{lee:e,additionalCredentialFilterCriteriums:[{field:"collectionIds",type:"contains",value:s}]}):n.createElement(LZ,{onClickAddNew:()=>a.push(t.userAddWebsiteCredential)}))},VA=({path:e})=>n.createElement(i.Vy,{path:`${e}/:collectionId`,component:WA});var HA=a(250866),qA=a(970449),YA=a(259522);const QA=({children:e,lee:t,credentialsCount:a,shareableCredentialsCount:s})=>{const[r,o]=(0,n.useState)(t.carbon.webOnboardingMode),{translate:d}=(0,P.Z)(),{routes:u}=(0,i.Xo)(),{shouldShowAtOrOverLimitContent:p}=(0,N.v0)(),_=(0,qA.s)(),g=(0,i.k6)(),[h,b]=(0,n.useState)(!1),y=a>0,C=()=>{p?b(!0):g.push(u.userAddWebsiteCredential)};(0,n.useEffect)((()=>{t.dispatch(HA.CG()),(0,v.N)(c.PageView.ItemCredentialList)}),[]),(0,n.useEffect)((()=>{{const e=t.carbon.webOnboardingMode;if(!r||!e)return void o(e);o(e)}}),[t.carbon.webOnboardingMode]);const w=()=>{Qs({activeOnboardingType:"loginWeb",leelooStep:l.WebOnboardingLeelooStep.SHOW_LOGIN_USING_EXTENSION_NOTIFICATION})};return n.createElement(Rd.Z,{lee:t,editPanel:e},n.createElement(n.Fragment,null,n.createElement(Nm,{tooltipPassThrough:!p,tooltipContent:d("webapp_paywall_password_limit_tooltip"),handleAddNew:C,addNewDisabled:!_||p,shareButtonElement:(()=>{if(s<=0)return null;const e={...(0,Hr.j8)(),tab:Im.f.Passwords};return n.createElement(Sm.Z,{sharing:e,text:d("credentials_header_share_password")})})(),shouldDisplayPasswordHistoryButton:!0,shouldDisplayAddButton:y,shouldDisplayNewAccountImportButton:y}),n.createElement(mm,{noticeType:dm.Credentials,customSx:{margin:"0 32px 30px"}}),n.createElement(YA.e,{isVisible:h,handleDismiss:()=>{b(!1)}})),n.createElement("div",{className:"contentWrapper--tSoFLe_2_Z"},(()=>{const{leelooStep:e,completedSteps:a}=t.carbon.webOnboardingMode;return n.createElement(m.T,{style:{left:"32px",top:"190px"},arrowPosition:"topLeft",title:d("webapp_onboarding_notification_password_save_success_title"),description:d("webapp_onboarding_notification_password_save_success_description"),show:a?.saveCredentialOnWeb&&e===l.WebOnboardingLeelooStep.SHOW_PASSWORD_SAVE_SUCCESS,confirmLabel:d("webapp_onboarding_notification_password_save_success_confirmation"),onConfirm:w})})(),y?n.createElement(jA,{lee:t}):n.createElement(LZ,{onClickAddNew:C})))};var $A;const KA={sortToken:{sortCriteria:[],uniqField:"id"},filterToken:{filterCriteria:[]}},XA=()=>KA,JA=(0,ft.compose)(btoa,JSON.stringify,XA),ek={query:u.C.getCredentialsCount,queryParam:XA,live:u.C.liveCredentialsCount,liveParam:JA},tk=()=>({...KA,filterToken:{filterCriteria:[{field:"hasAttachments",type:"equals",value:!1},{field:"isLimited",type:"equals",value:!1}]}}),ak=(0,ft.compose)(btoa,JSON.stringify,tk),nk={credentialsCount:ek,shareableCredentialsCount:{query:u.C.getCredentialsCount,queryParam:tk,live:u.C.liveCredentialsCount,liveParam:ak}},ik={strategies:nk},sk=(0,M.$)((0,T.i)((e=>n.createElement(n.Fragment,null,$A||($A=n.createElement("div",{id:"dashlane-credentials-dialog"})),n.createElement(Pa.r,{dialogId:"dashlane-credentials-dialog"},n.createElement(QA,{...e})))),ik),nk),rk=({path:e})=>n.createElement(i.Vy,{path:e,component:sk,reducer:HA.ZP});var ok=a(244846);const lk=({path:e})=>n.createElement(i.Vy,{path:[e,`${e}/filter/:credentialId`],component:ok.Z}),ck="monitoredEmail--sHhuob4G1t",dk=({email:e})=>{const{translate:t}=(0,P.Z)(),{setAsSeen:a}=(0,hc.m)(V.NotificationName.DWMb2bAutoEnrollTooltip);return(0,D.tZ)(d.ua7,{placement:"left",trigger:"persist",sx:{display:"flex",flexDirection:"column",padding:"16px",zIndex:1},content:(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.nvN,{size:"large",color:d.O9T.white,sx:{textAlign:"left",fontWeight:"bold"}},t("webapp_darkweb_bussiness_email_monitoring_title")),(0,D.tZ)(d.nvN,{size:"x-small",color:d.O9T.white,sx:{textAlign:"left",padding:"8px 0px 16px 0px"}},t.markup("webapp_darkweb_bussiness_email_monitoring_description_markup",{email:e})),(0,D.tZ)(d.zxk,{size:"small",sx:{alignSelf:"flex-end"},type:"button",onClick:a},t("webapp_darkweb_bussiness_email_notification_ok")))},(0,D.tZ)("div",null,(0,D.tZ)(uy.q,{email:e,size:36})))},uk=({email:e,handleOnDismiss:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(d.Ejs,{flexDirection:"column",alignItems:"flex-start",sx:{textAlign:"left",padding:"16px",width:"100%"}},(0,D.tZ)(d.Ejs,{flexWrap:"nowrap",alignItems:"center"},(0,D.tZ)(d.tWY,{size:24,color:d.O9T.dashGreen00}),(0,D.tZ)(d.X6q,{size:"x-small",sx:{ml:"10px",fontWeight:"600",color:d.O9T.black}},a("webapp_darkweb_email_verify_email_title"))),(0,D.tZ)(d.nvN,{sx:{mt:"8px",color:d.O9T.dashGreen01}},a("webapp_darkweb_email_sent_email")),(0,D.tZ)(d.nvN,{sx:{fontWeight:"900",mt:"8px",mr:"24px",color:d.O9T.midGreen00,textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"327px",overflow:"hidden"},title:e},e),(0,D.tZ)(d.nvN,{sx:{mt:"8px",color:d.O9T.dashGreen01}},a("webapp_darkweb_email_verify_email_content")),(0,D.tZ)(d.zxk,{sx:{mt:"32px",mr:"16px",alignSelf:"flex-end"},type:"submit",onClick:t},a("webapp_darkweb_email_verify_email_confirmation")))},mk=({children:e,email:t,handleOnClosePendingNotification:a})=>(0,D.tZ)(d.ua7,{"data-testid":"Pending notification tooltip",placement:"bottom-start",trigger:"persist",content:(0,D.tZ)(uk,{email:t,handleOnDismiss:a}),sx:{minWidth:"376px",bg:"white","> div":{borderColor:"white"}}},(0,D.tZ)("div",{sx:{width:"min-content"}},e)),pk=({children:e})=>{const{translate:t}=(0,P.Z)();return(0,D.tZ)(d.ua7,{"data-testid":"Pending verification tooltip",placement:"bottom",content:t("webapp_darkweb_email_pending_tooltip"),sx:{fontSize:3,maxWidth:"296px"}},(0,D.tZ)("div",{sx:{width:"min-content"}},e))},_k=e=>{const{children:t,showPendingNotification:a,showPendingTooltip:i}=e;return i?(0,D.tZ)(pk,{...e},t):a?(0,D.tZ)(mk,{...e},t):(0,D.tZ)(n.Fragment,null,t)};var gk,hk;const bk=e=>{switch(e){case V.DataLeaksEmailStatus.ACTIVE:case V.DataLeaksEmailStatus.DISABLED:return"textColorActive--w7oNmEniuS";case V.DataLeaksEmailStatus.PENDING:return"textColorInactive--BJa2CEfdes";default:return null}},yk=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(d.ua7,{content:e("webapp_darkweb_bussiness_email_tooltip"),placement:"bottom","data-testid":"autoEnroll-tooltip"},gk||(gk=(0,D.tZ)(d.uMt,{size:16,"data-testid":"b2b-auto-enroll-email"})))},Ck=({statusText:e,textClass:t,enabledRemoval:a})=>{const{translate:n}=(0,P.Z)();return a?(0,D.tZ)("span",{className:F()("status--cetuyUm4w0",t)},e):(0,D.tZ)("div",null,(0,D.tZ)(d.nvN,{size:"small",sx:{display:"flex",position:"relative",width:"max-content",fontSize:"12px"},className:F()(t)},e," • ",n("webapp_darkweb_bussiness_email_monitoring_info")))},wk=({children:e,enabledRemoval:t})=>t?(0,D.tZ)(n.Fragment,null,e):(0,D.tZ)(d.Ejs,{sx:{gap:"5px"}},e,hk||(hk=(0,D.tZ)(yk,null))),Ek=e=>{var t;const{translate:a}=(0,P.Z)(),{state:n,canEmailBeRemoved:i}=e,s=(e=>{switch(e){case V.DataLeaksEmailStatus.ACTIVE:return"webapp_darkweb_email_active_monitoring";case V.DataLeaksEmailStatus.DISABLED:return"webapp_darkweb_email_disabled_monitoring";case V.DataLeaksEmailStatus.PENDING:return"webapp_darkweb_email_pending_verification";default:return null}})(n),r={textClass:null!=(t=bk(n))?t:"",statusText:s?a(s):"",enabledRemoval:i};return(0,D.tZ)(wk,{enabledRemoval:i},n===V.DataLeaksEmailStatus.PENDING?(0,D.tZ)(_k,{...e},(0,D.tZ)(Ck,{...r})):(0,D.tZ)(Ck,{...r}))};var vk;const Nk="webapp_darkweb_email_remove_tooltip",Sk=({email:e,state:t,handleOnRemoveClick:a,handleOnClosePendingNotification:i,showPendingTooltip:s,showPendingNotification:r,canEmailBeRemoved:o})=>{const{translate:l}=(0,P.Z)(),{unseen:c}=(0,hc.m)(V.NotificationName.DWMb2bAutoEnrollTooltip),u=(0,n.useCallback)((()=>a(e)),[a,e]);return(0,D.tZ)("li",{className:ck},!o&&c?(0,D.tZ)(dk,{email:e}):(0,D.tZ)(uy.q,{email:e,size:36}),(0,D.tZ)("div",{className:"emailData--MaUXzDzHAA"},o?(0,D.tZ)(d.nvN,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",color:d.O9T.dashGreen01,marginRight:"8px"}},e):(0,D.tZ)(d.Ejs,null,(0,D.tZ)(d.nvN,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",color:d.O9T.dashGreen01,marginRight:"8px"}},e),(0,D.tZ)(d.UnL,{size:16,sx:{paddingTop:"3px"}})),(0,D.tZ)(Ek,{email:e,state:t,showPendingTooltip:s,showPendingNotification:r,canEmailBeRemoved:o,handleOnClosePendingNotification:i})),o?(0,D.tZ)(d.ua7,{content:l(Nk),placement:"left",sx:{marginLeft:"16px"}},(0,D.tZ)(d.hU,{"aria-label":l(Nk),icon:vk||(vk=(0,D.tZ)(d.Two,null)),onClick:u,disabled:!o})):null)},Ik=({active:e=!1})=>n.createElement("div",{className:e?"iconActive--dWzG4K62Od":"iconInactive--roWQJlNbft"},n.createElement(d.d3S,{color:e?pg()["--white"]:pg()["--dash-green-00"],size:20}));var fk;const xk=()=>{const{translate:e}=(0,P.Z)(),t=F()("emailAddress--NOKtoY9UJo","inactive--yGikd42i66");return n.createElement("li",{className:ck},fk||(fk=n.createElement(Ik,null)),n.createElement("span",{className:t},e("webapp_darkweb_email_placeholder")))},Mk=({email:e,handleOnRemoveEmail:t,handleOnCloseDialog:a})=>{const{translate:i}=(0,P.Z)(),s=n.useCallback((()=>{t(e)}),[e,t]);return n.createElement(p.o,{isOpen:!0,onRequestClose:a,footer:n.createElement(d.cNS,{primaryButtonTitle:i("webapp_darkweb_email_stop_monitoring_action"),primaryButtonOnClick:s,secondaryButtonTitle:i("webapp_darkweb_email_removal_cancel_action"),secondaryButtonOnClick:a,intent:"danger"}),title:i("webapp_darkweb_email_stop_monitoring_dialog_title")},n.createElement(d.nvN,{className:"subtitle--HrSBLmvZhD"},i.markup("webapp_darkweb_email_stop_monitoring_dialog_content_markup",{email:e})))},Tk="monitoredEmails--cmnmuS8cX2",Dk="header--id1g9gUw6E",Zk="title--FkW0uYekCm",Ak="infoIcon--ST0NaV2pyG",kk="list--IPf9w0CS6n",Ok="footer--JvaaiTQZWB",Lk="availableSpots--kfVyS5s39p",zk="addButtonWrapper--PeXUoz1WUx",jk="addButton--_rlOFw_YnO";var Pk=a(710334);const Rk=()=>{const e=(0,R.k$)(wn.emailMonitoringApi,"emailList"),t=(0,Pk.E)(),{optinEmail:a,optoutEmail:n}=(0,R.u7)(wn.emailMonitoringApi),i=e=>a({email:e}),s=e=>n({email:e});if(t.status===W.rq.Loading||e.status===W.rq.Loading)return{isLoading:!0,limit:5,b2bAssociatedEmail:null,optinEmail:i,optoutEmail:s};const r=t.status===W.rq.Success&&t.data.length>0?t?.data[0].associatedEmail:null;return{isLoading:!1,emails:e.data,limit:5,b2bAssociatedEmail:r,optinEmail:i,optoutEmail:s}};var Uk;const Bk=(e,t)=>!t||e<=0,Fk=({emails:e,b2bAssociatedEmail:t,availableEmailSpots:a,onOpenAddDialog:i,removalOutcomeAlert:s,setNewlyAddedEmail:r,newlyAddedEmail:o,hasDataLeakCapability:l})=>{const{translate:c}=(0,P.Z)(),{optoutEmail:u}=Rk(),[m,p]=(0,n.useState)(null),_=e=>{p(e)},g=(0,n.useCallback)((()=>{r(null)}),[r]),h=(0,n.useCallback)((()=>{p(null)}),[p]),b=(0,n.useCallback)((e=>{s.setMessage(c("webapp_darkweb_email_stop_monitoring_dialog_email_success_alert",{email:e})),s.setSeverity(d.BLW.SUCCESS),s.show()}),[c,s]),y=(0,n.useCallback)((()=>{s.setMessage(c("webapp_darkweb_email_stop_monitoring_dialog_error")),s.setSeverity(d.BLW.ERROR),s.show()}),[c,s]);return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.Zbd,{className:Tk},(0,D.tZ)("header",{className:Dk},(0,D.tZ)("h2",{className:Zk},c("webapp_darkweb_email_monitored_emails_title")),(0,D.tZ)("div",{className:Ak},(0,D.tZ)(d.ua7,{content:c((()=>{switch(e?.length){case 0:return"webapp_darkweb_email_monitored_emails_tooltip_zero";case 1:return"webapp_darkweb_email_monitored_emails_tooltip_one";default:return"webapp_darkweb_email_monitored_emails_tooltip"}})()),placement:"bottom"},Uk||(Uk=(0,D.tZ)(d.uMt,{size:16}))))),(0,D.tZ)("ul",{className:kk},e?e.map((({email:e,state:a})=>(0,D.tZ)(Sk,{key:e,email:e,state:a,canEmailBeRemoved:e!==t,handleOnRemoveClick:_,handleOnClosePendingNotification:g,showPendingNotification:e===o,showPendingTooltip:e!==o}))):null,[...Array(a)].map(((e,t)=>(0,D.tZ)(xk,{key:t})))),(0,D.tZ)("footer",{className:Ok},(0,D.tZ)("div",{className:Lk},a>0?c.markup("webapp_darkweb_email_available_spots_count_markup",{count:a}):c("webapp_darkweb_email_no_available_spots")),(0,D.tZ)("div",{className:zk},(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",disabled:Bk(a,l),onClick:i,className:jk},c("webapp_darkweb_email_add_action"))))),m?(0,D.tZ)(Mk,{email:m,handleOnCloseDialog:()=>{h()},handleOnRemoveEmail:async e=>{const t=await u(e);h(),(0,FS.d6)(t)?b(e):y()}}):null)};var Gk=a(982509),Wk=a(631069);const Vk=({domain:e})=>{const{icon:t}=(0,Wk.z)(e),a=t?.urls["46x30@2x"],i=(0,Gk.d)({backgroundColor:t?.backgroundColor,mainColor:t?.mainColor,iconSource:a});return n.createElement(d.plG,{size:"small",backgroundColor:i,text:null!=e?e:"?",iconSource:a||void 0})};let Hk;!function(e){e[e.DAY=0]="DAY",e[e.MONTH=1]="MONTH",e[e.YEAR=2]="YEAR",e[e.INVALID=3]="INVALID"}(Hk||(Hk={}));const qk=(e,t,a)=>{const n=(e=>{switch(e.length){case 4:return Hk.YEAR;case 7:return Hk.MONTH;case 10:return Hk.DAY;default:return Hk.INVALID}})(e);if(n===Hk.INVALID)return{date:"",precision:Hk.INVALID};const i=a.shortDate(new Date(e),((e,t)=>{switch(e){case Hk.DAY:return"short"===t?Ze._T.ll:Ze._T.LL;case Hk.MONTH:return"short"===t?Ze._T.MMM_YYYY:Ze._T.MMMM_YYYY;case Hk.YEAR:return Ze._T.YYYY;case Hk.INVALID:return;default:return(0,qr.U)(e)}})(n,t));return{date:i,precision:n}};function Yk(e){return e.name?e.name:function({domains:e}){return e?e.find((e=>e)):void 0}(e)}const Qk={privateBreachRow:"privateBreachRow--V1s7MOrhUy",hoverActions:"hoverActions--wLslwMyiJW",privateBreachStatus:"privateBreachStatus--FFsQ8FVN7U",privateBreachContent:"privateBreachContent--k649NbXxDZ",privateBreachInfo:"privateBreachInfo--D5JLfLPn3f",privateBreachTextInfo:"privateBreachTextInfo--KnU5_zFcJW",privateBreachTitle:"privateBreachTitle--V1FFrWZkCX",privateBreachEmail:"privateBreachEmail--E2jV5v97_Z",privateBreachStatusIcon:"privateBreachStatusIcon--AQWIqdJvun",privateBreachActions:"privateBreachActions--Sfay0iYP9P",privateBreachDynamicHoverContent:"privateBreachDynamicHoverContent--iEahOqWfQI"},$k=e=>{(0,v.K)(new c.UserDismissSecurityAlertEvent({itemTypesAffected:[c.ItemType.SecurityBreach],securityAlertItemId:e,securityAlertType:c.SecurityAlertType.DarkWeb}))},Kk=e=>{(0,v.K)(new c.UserReceiveSecurityAlertEvent({itemTypesAffected:[c.ItemType.SecurityBreach],securityAlertItemId:e,securityAlertType:c.SecurityAlertType.DarkWeb}))},Xk=()=>{const{dismissBreach:e,markBreachAsSeen:t}=(0,R.u7)(wn.breachesApi);return{dismissBreach:t=>($k(t),e({id:t})),markBreachAsSeen:e=>(Kk(e),t({id:e}))}};var Jk;const eO="webapp_darkweb_leaks_view_delete_alert",tO=({eventDate:e,status:t})=>{const{translate:a}=(0,P.Z)(),{date:i,precision:s}=qk(e,"short",a);return(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)("span",{className:Qk.privateBreachStatusIcon},(0,Ue.tZ)(Ue.JO,{name:t===V.BreachStatus.ACKNOWLEDGED?"FeedbackSuccessOutlined":"FeedbackWarningOutlined",size:"small",color:(()=>{switch(t){case V.BreachStatus.ACKNOWLEDGED:return"ds.text.positive.quiet";case V.BreachStatus.PENDING:return"ds.text.danger.standard";default:return"ds.text.neutral.quiet"}})()})),t===V.BreachStatus.ACKNOWLEDGED?a("webapp_darkweb_leaks_acknowledged_status"):(()=>{switch(s){case Hk.INVALID:return null;case Hk.DAY:return a.markup("webapp_darkweb_leaks_breached_markup",{date:i});case Hk.MONTH:return a("webapp_darkweb_leaks_breached_markup_month_year",{date:i});case Hk.YEAR:return a("webapp_darkweb_leaks_breached_markup_year",{date:i});default:return(0,qr.U)(s)}})())},aO=({onDelete:e,onView:t})=>{const{translate:a}=(0,P.Z)();return(0,Ue.tZ)("div",{className:Qk.privateBreachActions},(0,Ue.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:t},a("webapp_darkweb_leaks_view_details_button")),(0,Ue.tZ)(d.ua7,{content:a(eO),placement:"left"},(0,Ue.tZ)(d.hU,{"aria-label":a(eO),size:"medium",icon:Jk||(Jk=(0,Ue.tZ)(d.Two,null)),onClick:e})))},nO=({breachItemView:e,handleOnViewDetails:t})=>{const{translate:a}=(0,P.Z)(),{dismissBreach:i}=Xk(),{domains:s,eventDate:r,impactedEmails:o,status:l}=e,u=(0,n.useCallback)((()=>{(0,v.N)(c.Page.ToolsDarkWebMonitoringAlert),t(e)}),[t,e]);return(0,Ue.tZ)("li",{className:Qk.privateBreachRow},(0,Ue.tZ)("div",{className:Qk.privateBreachContent},(0,Ue.tZ)("div",{className:Qk.privateBreachInfo},(0,Ue.tZ)(Vk,{domain:s?.[0]}),(0,Ue.tZ)("div",{className:Qk.privateBreachTextInfo},(0,Ue.tZ)(d.Ejs,{as:"strong",className:Qk.privateBreachTitle,gap:"4px"},null!=(m=Yk(e))?m:a("webapp_darkweb_leaks_unknown_website_title"),e.status===V.BreachStatus.PENDING?(0,Ue.tZ)(Ue.Ct,{mood:"danger",intensity:"quiet",layout:"labelOnly",label:a("webapp_darkweb_leaks_new_badge")}):null),o.length>0?(0,Ue.tZ)("span",{className:Qk.privateBreachEmail},o.length>1?a("webapp_darkweb_leaks_view_multiple_emails",{count:o.length}):o[0]):null)),(0,Ue.tZ)("div",{className:Qk.privateBreachDynamicHoverContent},(0,Ue.tZ)("div",{className:Qk.hoverActions},(0,Ue.tZ)(aO,{onDelete:()=>{i(e.id)},onView:u})),(0,Ue.tZ)("div",{className:Qk.privateBreachStatus},(0,Ue.tZ)(tO,{eventDate:r,status:l})))));var m},iO={[V.BreachLeakedDataType.Address]:"webapp_darkweb_alert_data_address",[V.BreachLeakedDataType.CreditCard]:"webapp_darkweb_alert_data_credit_card",[V.BreachLeakedDataType.Email]:"webapp_darkweb_alert_data_email",[V.BreachLeakedDataType.IP]:"webapp_darkweb_alert_data_ip_address",[V.BreachLeakedDataType.Location]:"webapp_darkweb_alert_data_location",[V.BreachLeakedDataType.Password]:"webapp_darkweb_alert_data_password",[V.BreachLeakedDataType.PersonalInfo]:"webapp_darkweb_alert_data_personal_info",[V.BreachLeakedDataType.Phone]:"webapp_darkweb_alert_data_phone",[V.BreachLeakedDataType.SocialNetwork]:"webapp_darkweb_alert_data_social_network_info",[V.BreachLeakedDataType.SSN]:"webapp_darkweb_alert_data_social_security_number",[V.BreachLeakedDataType.Username]:"webapp_darkweb_alert_data_username"},sO=(e,t,a)=>e.filter((e=>!a||e!==V.BreachLeakedDataType.Password)).map((e=>t(iO[e]))).join(", "),rO={content:"content--hsAExhurDX",section:"section--c0g_oZOVGf",adviceBox:"adviceBox--D3gL8EuMA5",dialogHeader:"dialogHeader--N0g8c8SDR8",dialogSubtitle:"dialogSubtitle--eAhJErKbF4",icon:"icon--n3hEQ1zuwq",title:"title--FdlzAT3fXG"},oO=({passwords:e,leakedData:t,domain:a})=>{const{translate:i}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,(0,D.tZ)("section",{className:rO.section},(0,D.tZ)(d.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},i("webapp_darkweb_alert_label_password2",{count:e.length})),e.map((e=>(0,D.tZ)(d.WUg,{key:e,hidePasswordTooltipText:i("webapp_darkweb_alert_password_hide"),showPasswordTooltipText:i("webapp_darkweb_alert_password_show"),value:e,readOnly:!0}))),(0,D.tZ)(d.vDh,{className:rO.adviceBox,title:i(void 0===a?"webapp_darkweb_alert_advice_avoid_password":"webapp_darkweb_alert_advice_change_password",{count:e.length})})),t.length>1?(0,D.tZ)("section",{className:rO.section},(0,D.tZ)(d.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},i("webapp_darkweb_alert_label_other_data")),(0,D.tZ)("div",{className:F()(rO.content,rO.data)},sO(t,i,!0))):null)},lO=({isPasswordLeaked:e,isCreditCardLeaked:t,leakedData:a,domain:n})=>{const{translate:i}=(0,P.Z)();return(0,D.tZ)("section",{className:rO.section},(0,D.tZ)(d.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},i("webapp_darkweb_alert_label_data")),(0,D.tZ)("div",{className:F()(rO.content,rO.data)},sO(a,i)),e||t?(0,D.tZ)(d.vDh,{className:rO.adviceBox,title:e?i(void 0===n?"webapp_darkweb_alert_advice_avoid_password":"webapp_darkweb_alert_advice_change_password",{count:1}):i("webapp_darkweb_alert_advice_reach_out_credit_card",{domain:n})}):null)};var cO=a(383967);const dO=({breachId:e,onDismissClick:t})=>{const{translate:a}=(0,P.Z)(),{breach:i}=(e=>{const{data:t}=(0,R.k$)(wn.breachesApi,"breach",{id:e});return{breach:null!=t?t:null}})(e),[s,r]=(0,n.useState)(null),o=(0,n.useCallback)((e=>r(e)),[]),l=(0,n.useCallback)((()=>{r(null),t()}),[t]);if(!i)return null;const{eventDate:c,leakedData:u,domains:m,impactedEmails:p,leakedPasswords:_,compromisedCredentialIds:g}=i,[h]=m,b=u.includes(V.BreachLeakedDataType.Password),y=u.includes(V.BreachLeakedDataType.CreditCard),{date:C}=qk(c,"long",a);return(0,D.tZ)(n.Fragment,null,s?(0,D.tZ)(cO.R,{credentialId:s,dismissCallback:l}):null,(0,D.tZ)(d.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:!0,onClose:t,disableOutsideClickClose:!!s},(0,D.tZ)(d.$N8,null,(0,D.tZ)("div",{className:rO.dialogHeader},(0,D.tZ)("div",{className:rO.icon},(0,D.tZ)(Vk,{domain:h})),(0,D.tZ)("div",{className:rO.title},null!=h?h:a("webapp_darkweb_alert_header_unknown_website")))),(0,D.tZ)(d.a7O,null,(0,D.tZ)("section",{className:rO.dialogSubtitle},a("webapp_darkweb_alert_description")),(0,D.tZ)("section",{className:rO.section},(0,D.tZ)(d.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},a("webapp_darkweb_alert_label_date")),(0,D.tZ)("div",{className:rO.content},C)),(0,D.tZ)("section",{className:rO.section},(0,D.tZ)(d.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},a("webapp_darkweb_alert_label_email2",{count:p.length})),(0,D.tZ)("div",{className:rO.content},(0,D.tZ)("ul",null,p.map((e=>(0,D.tZ)("li",{key:e},e)))))),0===_.length?(0,D.tZ)(lO,{isPasswordLeaked:b,isCreditCardLeaked:y,leakedData:u,domain:h}):(0,D.tZ)(oO,{passwords:_,leakedData:u,domain:h})),1===g.length?(0,D.tZ)(d.cNS,{primaryButtonTitle:a("webapp_darkweb_alert_action_dismiss"),primaryButtonOnClick:t,secondaryButtonTitle:a("webapp_darkweb_alert_action_change_password"),secondaryButtonOnClick:()=>{o(g[0])}}):(0,D.tZ)(d.cNS,{primaryButtonTitle:a("webapp_darkweb_alert_action_close"),primaryButtonOnClick:t})))},uO=n.createContext({openBreachDetailsDialog:()=>{}}),mO=({children:e})=>{const[t,a]=n.useState(null),i=n.useCallback((()=>{a(null)}),[]);return n.createElement(uO.Provider,{value:{openBreachDetailsDialog:({breach:e})=>{a(e)}}},e,t&&n.createElement(dO,{breachId:t,onDismissClick:i}))},pO=({emails:e,availableEmailSpots:t,hasDataLeakCapability:a,onOpenAddDialog:i,premiumUrl:s})=>{const{translate:r}=(0,P.Z)(),o=n.useCallback((()=>a?0===e?.length?"webapp_darkweb_leaks_empty_leaks_no_email":"webapp_darkweb_leaks_empty_leaks_no_leak":"webapp_darkweb_leaks_empty_leaks_go_premium_text"),[e,a]);if(!e)return null;const l=a&&0===e?.length,c=!a,u=a&&t>0;return n.createElement("div",{className:"container--wF8euccGYE"},n.createElement(d.blU,{size:96,color:d.O9T.dashGreen04}),n.createElement("div",{className:"textInfo--EnuvHMqDbk"},r(o())),l?n.createElement(d.zxk,{nature:"primary",type:"button",disabled:!u,onClick:i},r("webapp_darkweb_leaks_empty_leaks_add_email")):null,c?n.createElement(d.zxk,{nature:"primary",onClick:e=>{e.preventDefault(),(0,b.Yk)(s,{type:"darkWebMonitoring",action:"goPremium"})},type:"button"},r("webapp_darkweb_leaks_empty_leaks_go_premium_button")):null)},_O=()=>{const{translate:e}=(0,P.Z)();return vn()?(0,D.tZ)(Ue.ke,{title:e("webapp_darkweb_leaked_master_password_title"),description:e("webapp_darkweb_leaked_master_password_description"),mood:"danger",size:"large",sx:{marginBottom:"8px"},actions:[(0,D.tZ)(Ue.zx,{key:"hc-link",mood:"danger",intensity:"quiet",onClick:()=>(0,b.Yo)(ia.dx),size:"small"},e("webapp_darkweb_leaked_master_password_blog_link")),(0,D.tZ)(Ue.zx,{key:"settings",mood:"danger",onClick:()=>(0,b.nL)("https://app.dashlane.com/#security-settings"),size:"small"},e("webapp_darkweb_leaked_master_password_action_open_settings"))]}):null},gO="monitoredLeaks--o1VOaUlpF5",hO="header--YJ_59hVxMS",bO="title--EteOKWvXES",yO="listContainer--hyFi8EzHwi";var CO;const wO={tokenEndpoint:u.C.getBreachesPaginationToken,pageEndpoint:u.C.getBreachesPage,batchLiveEndpoint:u.C.liveBreachesBatch},EO=(0,ju.G)(wO,(({hasDataLeakCapability:e,hasNext:t,hasPrevious:a,isLoading:i,loadNext:s,loadPrevious:r,paginatedData:o,emails:l,availableEmailSpots:d,onOpenAddDialog:u,premiumUrl:m})=>{var p;const{translate:_}=(0,P.Z)(),{markBreachAsSeen:g}=Xk(),{openBreachDetailsDialog:h}=n.useContext(uO),b=n.useMemo((()=>[...o.values()]),[o]),y=n.useCallback((e=>{e.status===V.BreachStatus.PENDING&&g(e.id),h({breach:e.id})}),[g,h]);n.useEffect((()=>{(0,v.N)(c.PageView.ToolsDarkWebMonitoringList)}),[]);const C=n.useCallback((e=>e.map((e=>n.createElement(nO,{key:e.id,breachItemView:e,handleOnViewDetails:y})))),[y]);return n.createElement("section",{className:gO},n.createElement("header",{className:hO},n.createElement("h2",{className:bO},_("webapp_darkweb_leaks_monitored_leaks_title"))),n.createElement(Lg.h,{featureFlips:["ims_web_leaked_mp_prod"]},CO||(CO=n.createElement(_O,null))),(()=>{const o=b.some((e=>e.length>0));return n.createElement(Pu.v,{hasNext:t,hasPrevious:a,isLoading:i,loadNext:s,loadPrevious:r},n.createElement("div",{className:yO},o?b.map(C):p||(p=n.createElement(pO,{hasDataLeakCapability:e,availableEmailSpots:d,emails:l,onOpenAddDialog:u,premiumUrl:m}))))})())})),vO={sortCriteria:[{field:"eventDate",direction:"descend"}],filterCriteria:[{field:"breachType",type:"equals",value:"private"},{field:"status",type:"differs",value:V.BreachStatus.ACKNOWLEDGED}],initialBatchSize:20},NO=e=>n.createElement(EO,{tokenParams:vO,...e}),SO={tips:"tips--niSDjxY5xc",header:"header--tUWuYKOgbA",title:"title--mT2BKHyi4u",description:"description--jqvJUVhSWn"},IO=()=>{const{translate:e}=(0,P.Z)();return n.createElement(d.Zbd,{className:SO.tips},n.createElement("header",{className:SO.header},n.createElement("h2",null,e("webapp_darkweb_tips_monitored_tips_title"))),n.createElement("div",{className:SO.content},n.createElement("h3",{className:SO.title},e("webapp_darkweb_tips_monitored_tips_base_card_title")),n.createElement("span",{className:SO.description},e("webapp_darkweb_tips_monitored_tips_base_card_description"))))},fO="webapp_darkweb_add_email_dialog_error_already_monitoring",xO="webapp_darkweb_add_email_dialog_error_already_pending",MO="webapp_darkweb_add_email_dialog_error_invalid_email",TO="webapp_darkweb_add_email_dialog_error_generic",DO="webapp_darkweb_add_email_dialog_input_placeholder_text",ZO="webapp_darkweb_add_email_dialog_first_description_info",AO={TITLE:"webapp_darkweb_add_email_dialog_title",DESCRIPTION:"webapp_darkweb_add_email_dialog_description_count_markup",CANCEL_BUTTON:"webapp_darkweb_add_email_dialog_cancel",CONFIRM_BUTTON:"webapp_darkweb_add_email_dialog_confirm"},kO={TITLE:"webapp_darkweb_add_email_dialog_first_title",DESCRIPTION:"webapp_darkweb_add_email_dialog_first_description_markup",CANCEL_BUTTON:"webapp_darkweb_add_email_dialog_first_close",CONFIRM_BUTTON:"webapp_darkweb_add_email_dialog_first_confirm"};var OO;!function(e){e[e.EMAIL_ALREADY_MONITORED=0]="EMAIL_ALREADY_MONITORED",e[e.EMAIL_ALREADY_PENDING=1]="EMAIL_ALREADY_PENDING",e[e.NONE=2]="NONE"}(OO||(OO={}));const LO=({availableSpots:e,userLogin:t,existingEmails:a,error:i,resetError:s,handleOnAddEmail:r,handleOnCloseDialog:o})=>{const{translate:l}=(0,P.Z)(),c=a&&a.length>0,[u,m]=n.useState(c?null:t),[_,g]=n.useState(OO.NONE),h=n.useCallback((e=>{const t=e.target.value;let n=OO.NONE;if(a&&t&&(0,ns.vV)(t)){const e=a.find((e=>e.email===t));if(e)switch(e.state){case wn.DataLeaksEmailStatus.ACTIVE:n=OO.EMAIL_ALREADY_MONITORED;break;case wn.DataLeaksEmailStatus.PENDING:n=OO.EMAIL_ALREADY_PENDING}}g(n),m(t)}),[a,m]),b=n.useCallback((()=>{null!==i&&s()}),[i,s]),y=n.useCallback((()=>{null!==u&&(0,ns.vV)(u)&&r(u)}),[u,r]),C=n.useCallback((e=>{e.preventDefault(),y()}),[y]),w=null===u||!(0,ns.vV)(u)||_!==OO.NONE,E=c?AO:kO;return n.createElement(p.o,{isOpen:!0,onRequestClose:o,footer:n.createElement(d.cNS,{primaryButtonTitle:l(E.CONFIRM_BUTTON),primaryButtonOnClick:y,primaryButtonProps:{disabled:w},secondaryButtonTitle:l(E.CANCEL_BUTTON),secondaryButtonOnClick:o,intent:"primary"}),title:l(E.TITLE)},(()=>{const t=function(e){if(!e)return null;switch(e){case wn.OptinDataLeaksResultErrorCode.INVALID_EMAIL:return MO;case wn.OptinDataLeaksResultErrorCode.ALREADY_SUBSCRIBED:return fO;default:return TO}}(i)||(()=>{switch(_){case OO.EMAIL_ALREADY_MONITORED:return fO;case OO.EMAIL_ALREADY_PENDING:return xO;case OO.NONE:default:return null}})();return n.createElement("div",{className:"dialog--jL7pxdADK2"},n.createElement("p",{className:"description--YBrfIzqkak"},l.markup(E.DESCRIPTION,{count:e})),!c&&n.createElement("div",{className:"firstEmailInfo--gty7qXFic5"},n.createElement(d.vDh,{title:l(ZO)})),n.createElement("form",{onSubmit:C},n.createElement(d.oil,{autoFocus:!0,fullWidth:!0,feedbackType:t?"error":void 0,feedbackText:t?l(t):void 0,onChange:h,onInput:b,placeholder:l(DO),defaultValue:u||void 0})))})())},zO=()=>{const[e,t]=n.useState(!1),[a,i]=n.useState(null);return{isOpen:e,open:n.useCallback((()=>{i(null),t(!0)}),[i]),optInError:a,close:n.useCallback((()=>{i(null),t(!1)}),[i]),setOptInError:i}},jO={margin:"32px 0 0 32px"},PO={marginBottom:"76px"},RO={marginBottom:"100px"},UO={width:"100%",height:"100%",position:"absolute",top:"0px",overflow:"auto",backgroundColor:"ds.text.brand.standard",zIndex:2},BO={display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:"4px",background:"ds.container.agnostic.neutral.supershy",padding:"88px"},FO=({title:e,contentTitle:t,contentSubtitle:a,children:n,actions:i,daysRemaining:s})=>{const{translate:r}=(0,P.Z)(),o=(0,Ue.jM)([jO,s?PO:RO]);return(0,Ue.tZ)("div",{sx:UO},(0,Ue.tZ)("div",{sx:o},(0,Ue.tZ)(d.X6q,{color:d.O9T.white},e),void 0!==s?(0,Ue.tZ)("div",{sx:{color:"#fe9d85",marginTop:"4px",lineHeight:"20px"}},r("webapp_darkweb_onboarding_free_trial_warning",{days:s})):null),(0,Ue.tZ)("div",{sx:{display:"flex",justifyContent:"center"}},(0,Ue.tZ)("div",{sx:{display:"flex",justifyContent:"center",margin:" 0 10% 0 10%",maxWidth:"784px"}},(0,Ue.tZ)("div",{sx:BO},(0,Ue.tZ)(d.X6q,null,t),(0,Ue.tZ)("div",{sx:{color:"ds.text.neutral.quiet",marginTop:"8px"}},a),n,i))))},GO=({onActionClick:e,premiumDaysRemaining:t})=>{const{translate:a}=(0,P.Z)(),n=(0,Ue.tZ)("div",{sx:{display:"flex",justifyContent:"flex-end",marginTop:" 36px"}},(0,Ue.tZ)(d.zxk,{type:"button",nature:"primary",onClick:e},a("webapp_darkweb_onboarding_premium_cta")));return(0,Ue.tZ)(FO,{title:a("webapp_darkweb_onboarding_title"),contentTitle:a("webapp_darkweb_onboarding_premium_title"),contentSubtitle:a("webapp_darkweb_onboarding_description"),actions:n,daysRemaining:t},(0,Ue.tZ)("ul",{sx:{marginTop:"8px"}},(0,Ue.tZ)("li",{sx:{marginTop:"16px"}},(0,Ue.tZ)(d.Ejs,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6},(0,Ue.tZ)(d.k$b,null,(0,Ue.tZ)(d.blU,{"aria-hidden":!0,size:35,color:d.O9T.dashGreen02})),(0,Ue.tZ)(d.k$b,null,(0,Ue.tZ)(d.j49,{size:"large",caps:!1},a("webapp_darkweb_onboarding_surveillance_title")),(0,Ue.tZ)(d.nvN,{color:d.O9T.dashGreen02},a("webapp_darkweb_onboarding_surveillance_description"))))),(0,Ue.tZ)("li",{sx:{marginTop:"16px"}},(0,Ue.tZ)(d.Ejs,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6},(0,Ue.tZ)(d.k$b,null,(0,Ue.tZ)(d._uz,{"aria-hidden":!0,size:35,color:d.O9T.dashGreen02})),(0,Ue.tZ)(d.k$b,null,(0,Ue.tZ)(d.j49,{size:"large",caps:!1},a("webapp_darkweb_onboarding_alerts_title")),(0,Ue.tZ)(d.nvN,{color:d.O9T.dashGreen02},a("webapp_darkweb_onboarding_alerts_description"))))),(0,Ue.tZ)("li",{sx:{marginTop:"16px"}},(0,Ue.tZ)(d.Ejs,{alignItems:"center",justifyContent:"space-around",flexWrap:"nowrap",gap:6},(0,Ue.tZ)(d.k$b,null,(0,Ue.tZ)(d.tWY,{"aria-hidden":!0,size:35,color:d.O9T.dashGreen02})),(0,Ue.tZ)(d.k$b,null,(0,Ue.tZ)(d.j49,{size:"large",caps:!1},a("webapp_darkweb_onboarding_advice_title")),(0,Ue.tZ)(d.nvN,{color:d.O9T.dashGreen02},a("webapp_darkweb_onboarding_advice_description")))))))},WO="rootContainer--nwbgtUxWaI",VO="content--XG5DmrQ5M5",HO="leftContent--LqnhR7ejcQ",qO="rightContent--hknph8sGqY",YO="onboardingContainer--sBwlMOv7X3",QO="freeTrialWarning--Cujl3rZdLJ";var $O,KO,XO;const JO=({lee:e})=>{var t;const{translate:a}=(0,P.Z)(),i=(0,_m.Y)(),r=(0,lm.B)(),{isLoading:o,emails:l,limit:u,b2bAssociatedEmail:m,optinEmail:p}=Rk(),{close:_,setOptInError:g,isOpen:h,optInError:b,open:y}=zO(),{onboardingState:C,updateOnboardingState:w}=(()=>{const{dismissOnboardingNotification:e}=(0,R.u7)(wn.emailMonitoringApi);return{updateOnboardingState:e,onboardingState:(0,R.k$)(wn.emailMonitoringApi,"onboardingNotificationState")}})(),E=(0,d.VYq)({message:"",dismissDelay:5e3,closeIconName:a("_common_alert_dismiss_button")}),N=(0,cm.gW)(["dataLeak"]);(0,n.useEffect)((()=>{(0,v.N)(c.PageView.ToolsDarkWebMonitoring)}),[]);const[S,I]=(0,n.useState)(null),f=(0,n.useCallback)((()=>{null!==b&&g(null)}),[b,g]);if(i.status===W.rq.Loading||N.status===W.rq.Loading||C.status===W.rq.Loading||null===r||o)return(0,D.tZ)(Qr.Z,{size:50,containerStyle:{height:"100%"}});const x=N.status===W.rq.Success&&N.data,M=C.status===W.rq.Success&&C.data===wn.DarkWebOnboardingState.NOT_SEEN,T=(null!=l?l:[]).filter((e=>e.email!==m)).length>0,Z=x&&M&&!T,A=null!=l?l:[],k=Math.max(u-(null!=(t=l?.length)?t:0),0),{login:L}=e.globalState.carbon.loginStatus,z=(0,O.aH)(s.G9,r?.subscriptionCode),U=i.status===W.rq.Success&&i.data?(0,j.B$)(i.data):void 0;return(0,D.tZ)(Rd.Z,{lee:e},(0,D.tZ)(mO,null,(0,D.tZ)(gc.QR,{mode:"fullscreen",paywall:gc.qd.DarkWebMonitoring},(0,D.tZ)("div",{className:YO},Z&&(0,D.tZ)(GO,{onActionClick:()=>{w(),y()},premiumDaysRemaining:U}),(0,D.tZ)("div",{className:WO},Z?null:(0,D.tZ)(Rc.h,{startWidgets:()=>(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.X6q,null,a("webapp_darkweb_dashboard_title")),void 0!==U?(0,D.tZ)("div",{className:QO},a("webapp_darkweb_dashboard_title_free_trial_warning",{days:U})):null),endWidget:(0,D.tZ)(n.Fragment,null,$O||($O=(0,D.tZ)(Uc.D,null)),KO||(KO=(0,D.tZ)(Bc.E,null)))}),(0,D.tZ)("div",{className:VO},(0,D.tZ)("div",{className:HO},(0,D.tZ)(NO,{hasDataLeakCapability:x,availableEmailSpots:k,emails:A,onOpenAddDialog:y,premiumUrl:z})),(0,D.tZ)("div",{className:qO},(0,D.tZ)(Fk,{emails:A,b2bAssociatedEmail:m,availableEmailSpots:k,onOpenAddDialog:y,removalOutcomeAlert:E,newlyAddedEmail:S,setNewlyAddedEmail:I,hasDataLeakCapability:x}),XO||(XO=(0,D.tZ)(IO,null)),h?(0,D.tZ)(LO,{existingEmails:A,userLogin:L,availableSpots:k,error:b,resetError:f,handleOnCloseDialog:()=>{_()},handleOnAddEmail:async e=>{const t=await p(e);(0,FS.d6)(t)?(_(),setTimeout((()=>{I(e)}),800)):g(t?.error?.tag)}}):null)))),(0,D.tZ)(d.YcA,null,E.alert))))};var eL;const tL=(e,t)=>!t||e<=0,aL=({emails:e,b2bAssociatedEmail:t,refreshEmails:a,availableEmailSpots:i,onOpenAddDialog:s,removalOutcomeAlert:r,setNewlyAddedEmail:o,newlyAddedEmail:l,hasDataLeakCapability:c})=>{const{translate:m}=(0,P.Z)(),[p,_]=(0,n.useState)(null),g=e=>{_(e)},h=(0,n.useCallback)((()=>{o(null)}),[o]),b=(0,n.useCallback)((()=>{_(null)}),[_]),y=(0,n.useCallback)((e=>{r.setMessage(m("webapp_darkweb_email_stop_monitoring_dialog_email_success_alert",{email:e})),r.setSeverity(d.BLW.SUCCESS),r.show()}),[m,r]),C=(0,n.useCallback)((()=>{r.setMessage(m("webapp_darkweb_email_stop_monitoring_dialog_error")),r.setSeverity(d.BLW.ERROR),r.show()}),[m,r]),w=(0,n.useCallback)((async e=>{try{await async function(e){if(!(await u.C.optoutDataLeaksMonitoring({email:e})).success)throw new Error("email optout error")}(e),y(e),await a()}catch(e){C()}b()}),[b,y,a,C]);return(0,n.useEffect)((()=>{if(e?.some((({state:e})=>e===V.DataLeaksEmailStatus.PENDING))){const e=setInterval(a,6e4);return()=>clearInterval(e)}}),[e,a]),(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.Zbd,{className:Tk},(0,D.tZ)("header",{className:Dk},(0,D.tZ)("h2",{className:Zk},m("webapp_darkweb_email_monitored_emails_title")),(0,D.tZ)("div",{className:Ak},(0,D.tZ)(d.ua7,{content:m((()=>{switch(e?.length){case 0:return"webapp_darkweb_email_monitored_emails_tooltip_zero";case 1:return"webapp_darkweb_email_monitored_emails_tooltip_one";default:return"webapp_darkweb_email_monitored_emails_tooltip"}})()),placement:"bottom"},eL||(eL=(0,D.tZ)(d.uMt,{size:16}))))),(0,D.tZ)("ul",{className:kk},e?e.map((({email:e,state:a})=>(0,D.tZ)(Sk,{key:e,email:e,state:a,canEmailBeRemoved:e!==t,handleOnRemoveClick:g,handleOnClosePendingNotification:h,showPendingNotification:e===l,showPendingTooltip:e!==l}))):null,[...Array(i)].map(((e,t)=>(0,D.tZ)(xk,{key:t})))),(0,D.tZ)("footer",{className:Ok},(0,D.tZ)("div",{className:Lk},i>0?m.markup("webapp_darkweb_email_available_spots_count_markup",{count:i}):m("webapp_darkweb_email_no_available_spots")),(0,D.tZ)("div",{className:zk},(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",disabled:tL(i,c),onClick:s,className:jk},m("webapp_darkweb_email_add_action"))))),p?(0,D.tZ)(Mk,{email:p,handleOnCloseDialog:()=>{b()},handleOnRemoveEmail:w}):null)},nL=({domain:e,domainIcon:t})=>{const a=t?.urls["46x30@2x"],i=(0,Gk.d)({backgroundColor:t?.backgroundColor,mainColor:t?.mainColor,iconSource:a});return n.createElement(d.plG,{size:"small",backgroundColor:i,text:null!=e?e:"?",iconSource:a||void 0})};var iL;const sL="webapp_darkweb_leaks_view_delete_alert",rL=({eventDate:e,status:t})=>{const{translate:a}=(0,P.Z)(),{date:i,precision:s}=qk(e,"short",a);return t===V.BreachStatus.ACKNOWLEDGED?n.createElement(n.Fragment,null,n.createElement("span",{className:Qk.privateBreachStatusIcon},n.createElement(d.rE2,{size:20,color:d.O9T.validatorGreen})),a("webapp_darkweb_leaks_acknowledged_status")):n.createElement(n.Fragment,null,n.createElement("span",{className:Qk.privateBreachStatusIcon},n.createElement(d.SI8,{size:20,color:d.O9T.red00})),(()=>{switch(s){case Hk.INVALID:return null;case Hk.DAY:return a.markup("webapp_darkweb_leaks_breached_markup",{date:i});case Hk.MONTH:return a("webapp_darkweb_leaks_breached_markup_month_year",{date:i});case Hk.YEAR:return a("webapp_darkweb_leaks_breached_markup_year",{date:i});default:return(0,qr.U)(s)}})())},oL=({onDelete:e,onView:t})=>{const{translate:a}=(0,P.Z)();return n.createElement("div",{className:Qk.privateBreachActions},n.createElement(d.zxk,{type:"button",nature:"secondary",onClick:t},a("webapp_darkweb_leaks_view_details_button")),n.createElement(d.ua7,{content:a(sL),placement:"left"},n.createElement(d.hU,{"aria-label":a(sL),size:"medium",icon:iL||(iL=n.createElement(d.Two,null)),onClick:e})))},lL=({breachItemView:e,handleOnViewDetails:t})=>{const{translate:a}=(0,P.Z)(),{domains:i,domainIcon:s,eventDate:r,impactedEmails:o,status:l}=e,d=n.useCallback((()=>{(0,v.N)(c.Page.ToolsDarkWebMonitoringAlert),t(e)}),[t,e]),m=n.useCallback((()=>{$k(e.id),u.C.updateBreachStatus({id:e.id,status:V.BreachStatus.ACKNOWLEDGED})}),[e]);return n.createElement("li",{className:F()(Qk.privateBreachRow,{[Qk.new]:l===V.BreachStatus.PENDING})},n.createElement("div",{className:Qk.privateBreachContent},n.createElement("div",{className:Qk.privateBreachInfo},n.createElement(nL,{domain:i?.[0],domainIcon:s}),n.createElement("div",{className:Qk.privateBreachTextInfo},n.createElement("strong",{className:Qk.privateBreachTitle},Yk(e)||a("webapp_darkweb_leaks_unknown_website_title")),o.length>0?n.createElement("span",{className:Qk.privateBreachEmail},o.length>1?a("webapp_darkweb_leaks_view_multiple_emails",{count:o.length}):o[0]):null)),n.createElement("div",{className:Qk.privateBreachDynamicHoverContent},n.createElement("div",{className:Qk.hoverActions},n.createElement(oL,{onDelete:m,onView:d})),n.createElement("div",{className:Qk.privateBreachStatus},n.createElement(rL,{eventDate:r,status:l})))))},cL=({breachId:e,onDismissClick:t})=>{const{translate:a}=(0,P.Z)(),[i,s]=n.useState(null),r=n.useCallback((e=>s(e)),[]),o=n.useCallback((()=>{s(null),t()}),[t]),l=(e=>(0,W.qr)({queryConfig:{query:u.C.getBreach,queryParam:e},liveConfig:{live:u.C.liveBreach,liveParam:e}},[e]))(e);if(l.status!==W.rq.Success||!l.data)return null;const{eventDate:c,leakedData:m,domainIcon:p,domains:_,impactedEmails:g,leakedPasswords:h,compromisedCredentialIds:b}=l.data,[y]=_,C=m.includes(V.BreachLeakedDataType.Password),w=m.includes(V.BreachLeakedDataType.CreditCard),{date:E}=qk(c,"long",a);return(0,D.tZ)(n.Fragment,null,i?(0,D.tZ)(cO.R,{credentialId:i,dismissCallback:o}):null,(0,D.tZ)(d.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:!0,onClose:t,disableOutsideClickClose:!!i},(0,D.tZ)(d.$N8,null,(0,D.tZ)("div",{className:rO.dialogHeader},(0,D.tZ)("div",{className:rO.icon},(0,D.tZ)(nL,{domain:_?.[0],domainIcon:p})),(0,D.tZ)("div",{className:rO.title},null!=y?y:a("webapp_darkweb_alert_header_unknown_website")))),(0,D.tZ)(d.a7O,null,(0,D.tZ)("section",{className:rO.dialogSubtitle},a("webapp_darkweb_alert_description")),(0,D.tZ)("section",{className:rO.section},(0,D.tZ)(d.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},a("webapp_darkweb_alert_label_date")),(0,D.tZ)("div",{className:rO.content},E)),(0,D.tZ)("section",{className:rO.section},(0,D.tZ)(d.j49,{as:"header",size:"small",color:"primaries.5",sx:{marginBottom:"4px"}},a("webapp_darkweb_alert_label_email2",{count:g.length})),(0,D.tZ)("div",{className:rO.content},(0,D.tZ)("ul",null,g.map((e=>(0,D.tZ)("li",{key:e},e)))))),0===h.length?(0,D.tZ)(lO,{isPasswordLeaked:C,isCreditCardLeaked:w,leakedData:m,domain:y}):(0,D.tZ)(oO,{passwords:h,leakedData:m,domain:y})),1===b.length?(0,D.tZ)(d.cNS,{primaryButtonTitle:a("webapp_darkweb_alert_action_dismiss"),primaryButtonOnClick:t,secondaryButtonTitle:a("webapp_darkweb_alert_action_change_password"),secondaryButtonOnClick:()=>{r(b[0])}}):(0,D.tZ)(d.cNS,{primaryButtonTitle:a("webapp_darkweb_alert_action_close"),primaryButtonOnClick:t})))},dL=n.createContext({openBreachDetailsDialog:()=>{}}),uL=({children:e})=>{const[t,a]=n.useState(null),i=n.useCallback((()=>{a(null)}),[]);return n.createElement(dL.Provider,{value:{openBreachDetailsDialog:({breach:e})=>{a(e)}}},e,t&&n.createElement(cL,{breachId:t,onDismissClick:i}))};var mL;const pL={tokenEndpoint:u.C.getBreachesPaginationToken,pageEndpoint:u.C.getBreachesPage,batchLiveEndpoint:u.C.liveBreachesBatch},_L=(0,ju.G)(pL,(({hasDataLeakCapability:e,hasNext:t,hasPrevious:a,isLoading:i,loadNext:s,loadPrevious:r,paginatedData:o,emails:l,availableEmailSpots:d,onOpenAddDialog:m,premiumUrl:p})=>{var _;const{translate:g}=(0,P.Z)(),{openBreachDetailsDialog:h}=n.useContext(dL),b=n.useMemo((()=>[...o.values()]),[o]),y=n.useCallback((e=>{e.status===V.BreachStatus.PENDING&&(u.C.updateBreachStatus({id:e.id,status:V.BreachStatus.VIEWED}),Kk(e.id)),h({breach:e.id})}),[h]);n.useEffect((()=>{(0,v.N)(c.PageView.ToolsDarkWebMonitoringList)}),[]);const C=n.useCallback((e=>e.map((e=>n.createElement(lL,{key:e.id,breachItemView:e,handleOnViewDetails:y})))),[y]);return n.createElement("section",{className:gO},n.createElement("header",{className:hO},n.createElement("h2",{className:bO},g("webapp_darkweb_leaks_monitored_leaks_title"))),n.createElement(Lg.h,{featureFlips:["ims_web_leaked_mp_prod"]},mL||(mL=n.createElement(_O,null))),(()=>{const o=b.some((e=>e.length>0));return n.createElement(Pu.v,{hasNext:t,hasPrevious:a,isLoading:i,loadNext:s,loadPrevious:r},n.createElement("div",{className:yO},o?b.map(C):_||(_=n.createElement(pO,{hasDataLeakCapability:e,availableEmailSpots:d,emails:l,onOpenAddDialog:m,premiumUrl:p}))))})())})),gL={sortCriteria:[{field:"eventDate",direction:"descend"}],filterCriteria:[{field:"breachType",type:"equals",value:"private"},{field:"status",type:"differs",value:V.BreachStatus.ACKNOWLEDGED}],initialBatchSize:20},hL=e=>n.createElement(_L,{tokenParams:gL,...e}),bL=()=>{const e=(()=>{const e=(0,Pk.E)();return e.status===R.rq.Success&&e.data.length>0?e?.data[0].associatedEmail:null})(),[t,a]=(0,n.useState)(null);async function i(){try{await u.C.refreshDataLeaksEmailStatusList();const e=await u.C.getDataLeaksEmailStatusList();a(e)}catch(e){a([])}}return n.useEffect((()=>{i()}),[]),{emails:t,getEmails:i,limit:5,b2bAssociatedEmail:e}};async function yL(e){await u.C.updateDarkWebOnboardingState(e)}var CL,wL,EL;const vL=({lee:e})=>{const{translate:t}=(0,P.Z)(),a=(0,_m.Y)(),{emails:i,getEmails:r,limit:o,b2bAssociatedEmail:m}=bL(),{close:p,setOptInError:_,isOpen:g,optInError:h,open:y}=zO(),{onboardingState:C,updateOnboardingState:w}={updateOnboardingState:yL,onboardingState:(0,W.qr)({queryConfig:{query:u.C.getDarkWebOnboardingState},liveConfig:{live:u.C.liveDarkWebOnboardingState}},[])},E=(0,d.VYq)({message:"",dismissDelay:5e3,closeIconName:t("_common_alert_dismiss_button")}),N=(0,O.aH)(s.G9,e.carbon.accountInfo.subscriptionCode),S=Math.max(o-(i?.length||0),0),[I,f]=(0,n.useState)(null),x=(0,n.useCallback)((async e=>{const t=await u.C.optinDataLeaksMonitoring({email:e});t.success?(await r(),p(),setTimeout((()=>{f(e)}),800)):_(t.error?.code||"GENERIC_ERROR")}),[p,r,_]),M=(0,n.useCallback)((()=>{null!==h&&_(null)}),[h,_]),{login:T}=e.globalState.carbon.loginStatus;(0,n.useEffect)((()=>{(0,v.N)(c.PageView.ToolsDarkWebMonitoring)}),[]);const Z=a.status===W.rq.Success&&a.data?(0,j.B$)(a.data):void 0,A=(0,cm.gW)(["dataLeak"]),k=A.status===W.rq.Success&&A.data,L=a.status===W.rq.Loading||A.status===W.rq.Loading||C.status===W.rq.Loading,z=C.status===W.rq.Success&&C.data===V.DarkWebOnboardingState.NOT_SEEN,R=k&&z;return L?null:(0,D.tZ)(Rd.Z,{lee:e},(0,D.tZ)(uL,null,(0,D.tZ)(gc.QR,{mode:"fullscreen",paywall:gc.qd.DarkWebMonitoring},(0,D.tZ)("div",{className:YO},R&&(0,D.tZ)(GO,{onActionClick:()=>{a.status===W.rq.Success&&a.data&&(a.data.statusCode!==l.PremiumStatusCode.NO_PREMIUM?(w(V.DarkWebOnboardingState.SEEN),y()):(0,b.Yk)(N,{type:"DarkWebMonitoring",action:"goPremium"}))}}),(0,D.tZ)("div",{className:WO},!R&&(0,D.tZ)(Rc.h,{startWidgets:()=>(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.X6q,null,t("webapp_darkweb_dashboard_title")),void 0!==Z?(0,D.tZ)("div",{className:QO},t("webapp_darkweb_dashboard_title_free_trial_warning",{days:Z})):null),endWidget:(0,D.tZ)(n.Fragment,null,CL||(CL=(0,D.tZ)(Uc.D,null)),wL||(wL=(0,D.tZ)(Bc.E,null)))}),(0,D.tZ)("div",{className:VO},(0,D.tZ)("div",{className:HO},(0,D.tZ)(hL,{hasDataLeakCapability:k,availableEmailSpots:S,emails:i,onOpenAddDialog:y,premiumUrl:N})),(0,D.tZ)("div",{className:qO},(0,D.tZ)(aL,{emails:i,b2bAssociatedEmail:m,refreshEmails:r,availableEmailSpots:S,onOpenAddDialog:y,removalOutcomeAlert:E,newlyAddedEmail:I,setNewlyAddedEmail:f,hasDataLeakCapability:k}),EL||(EL=(0,D.tZ)(IO,null)),g?(0,D.tZ)(LO,{existingEmails:i,userLogin:T,availableSpots:S,error:h,resetError:M,handleOnCloseDialog:()=>{p()},handleOnAddEmail:x}):null)))),(0,D.tZ)(d.YcA,null,E.alert))))},NL=({path:e})=>n.createElement(Lg.h,{featureFlips:["ptu_web_dwm_mv3"],legacy:n.createElement(i.Vy,{path:e,component:vL})},n.createElement(i.Vy,{path:e,component:JO}));var SL;const IL={borderRadius:"4px",margin:"12px 12px 12px 0",cursor:"pointer",width:"336px",padding:"8px",".card-quick-actions":{display:"none"},":focus":{outline:"none",boxShadow:e=>`\n    0 0 0 2px ${e.colors.ds.container.expressive.neutral.quiet.hover},\n    0 0 0 3px ${e.colors.ds.container.expressive.neutral.quiet.active}\n  `},":focus:not(:focus-visible)":{outline:"none",boxShadow:"none"},":hover, :focus, :focus-within":{bg:"ds.container.expressive.neutral.quiet.hover",".card-quick-actions":{display:"inherit"},".card-contents":{display:"none"}}},fL=({text:e})=>e?(0,D.tZ)(d.nvN,{as:"span",size:"x-small",color:"ds.text.neutral.quiet",sx:{marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e):null,xL=({text:e,criticality:t})=>{const a="normal"!==t;return e?(0,D.tZ)(d.nvN,{as:"span",size:"x-small",color:(n=t,n?["expired","daysleft"].includes(n)?"ds.text.danger.quiet":"monthsleft"===t?"ds.text.warning.quiet":"ds.text.neutral.quiet":"ds.text.neutral.quiet"),bold:a},e):null;var n},ML=(0,n.memo)((({itemId:e,title:t,description:a,country:n,additionalDescription:s,criticalityDescription:r,editRoute:o,hasAttachment:l,type:c,copiableValue:u})=>{const{translate:m}=(0,P.Z)(),p=(0,Be.w)("techweek_web_attachmentsForIds_v1");return(0,D.tZ)(d.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center",tabIndex:0,sx:IL,onClick:()=>{(0,Ir.Q_)(e,Ir.Ab[c]),(0,i.uX)(o)},as:"article"},(0,D.tZ)(No.e,{size:Zo.sk.Large,country:n,type:c}),(0,D.tZ)(d.Ejs,{flexDirection:"column",flexWrap:"nowrap",sx:{height:"100%",minWidth:0,padding:"16px",width:"100%"}},(0,D.tZ)(i.rU,{sx:{marginBottom:"4px",outline:"none",textDecoration:"none"},to:o,title:t},(0,D.tZ)(d.nvN,{bold:!0,as:"strong",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t||(0,pl.bx)(c,n,m))),(0,D.tZ)(d.Ejs,{className:"card-contents",flexDirection:"column",flexWrap:"nowrap",sx:{minWidth:0}},(0,D.tZ)(fL,{text:a}),(0,D.tZ)(xL,{text:s,criticality:r}),p&&l&&(SL||(SL=(0,D.tZ)(d.FKb,{size:12})))),(0,D.tZ)("span",{sx:{marginTop:"4px"},className:"card-quick-actions"},(0,D.tZ)(Do,{itemId:e,copyValue:u,editRoute:o,variant:"list",type:c}))))})),TL=({item:e,route:t})=>{const a=e.country===l.Country.FR?e.teledeclarantNumber:void 0;return n.createElement(ML,{itemId:e.id,title:e.idNumber,hasAttachment:e.hasAttachments,description:a,country:e.country,type:"fiscalIds",editRoute:t(e.id),copiableValue:e.idNumber})},DL={alignItems:"center",color:d.O9T.dashGreen03,background:d.O9T.white,borderBottomColor:d.O9T.grey05,borderBottomStyle:"solid",borderBottomWidth:1,bottom:"12px",display:"flex",height:"60px",margin:"0 32px",userSelect:"none"},ZL={padding:"0 32px 16px 32px"},AL=(0,n.memo)((({headerTitle:e,items:t,render:a})=>(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.j49,{sx:DL,as:"h2"},e),(0,D.tZ)(d.Ejs,{flexWrap:"wrap",justifyContent:"start",sx:ZL},t.map(a)))));var kL=a(265995);let OL;!function(e){e.EXPIRED="expired",e.DAYSLEFT="daysleft",e.MONTHSLEFT="monthsleft"}(OL||(OL={}));const LL=(e,t,a,n)=>{if(!e)return[void 0,void 0];const i=(0,Vh.Z)(new Date(1e3*e),new Date),s=(0,kL.Z)(new Date(1e3*e),new Date),r=a?((e,t)=>e<0?OL.EXPIRED:0===t?OL.DAYSLEFT:t<6?OL.MONTHSLEFT:void 0)(i,s):void 0,o=r?((e,t,a,n)=>e===OL.EXPIRED?n(a.EXPIRED):e===OL.DAYSLEFT?n(a.EXPIRES_DAYS):e===OL.MONTHSLEFT?n(a.EXPIRES_MONTHS,{months:(t+1).toString()}):void 0)(r,s,t,n):n(t.EXPIRES,{date:(0,wg.Z)(1e3*e,"MM/yy")});return[o,r]},zL={EXPIRES:"webapp_ids_id_cards_id_card_expires",EXPIRED:"webapp_ids_id_cards_id_card_expired",EXPIRES_DAYS:"webapp_ids_id_cards_id_card_expires_days",EXPIRES_MONTHS:"webapp_ids_id_cards_id_card_expires_months"},jL=({item:e,route:t})=>{const{translate:a}=(0,P.Z)(),i=(0,Be.w)("techweek_web_expiredLabelforID_dev"),[s,r]=LL(e.expirationDate,zL,i,a);return n.createElement(ML,{itemId:e.id,title:e.name,hasAttachment:e.hasAttachments,description:e.idNumber,additionalDescription:s,criticalityDescription:r,country:e.country,type:"idCards",editRoute:t(e.id),copiableValue:e.idNumber})},PL=({item:e,route:t})=>{const{translate:a}=(0,P.Z)(),i=e.country!==l.Country.UNIVERSAL&&e.country!==l.Country.NO_TYPE?e.country:void 0;return n.createElement(ML,{itemId:e.id,title:e.name,hasAttachment:e.hasAttachments,description:e.idNumber,additionalDescription:i?a(`country_name_${i}`):void 0,country:e.country,type:"passports",editRoute:t(e.id),copiableValue:e.idNumber})},RL=({item:e,route:t})=>n.createElement(ML,{itemId:e.id,title:e.name,hasAttachment:e.hasAttachments,description:e.idNumber,country:e.country,type:"socialSecurityIds",editRoute:t(e.id),copiableValue:e.idNumber}),UL={EXPIRES:"webapp_ids_id_cards_id_card_expires",EXPIRED:"webapp_ids_driver_licences_driver_licence_expired",EXPIRES_DAYS:"webapp_ids_driver_licences_driver_licence_expires_days",EXPIRES_MONTHS:"webapp_ids_driver_licences_driver_licence_expires_months"},BL=({item:e,route:t})=>{const{translate:a}=(0,P.Z)(),i=(0,Be.w)("techweek_web_expiredLabelforID_dev"),[s,r]=LL(e.expirationDate,UL,i,a);return n.createElement(ML,{itemId:e.id,title:e.name,hasAttachment:e.hasAttachments,description:e.idNumber,additionalDescription:s,criticalityDescription:r,country:e.country,type:"driverLicenses",editRoute:t(e.id),copiableValue:e.idNumber})};var FL,GL;const WL=e=>n.createElement("div",{className:"contentWrapper--LXdkyZYTqP","data-testid":"ids-documents-grid-items"},n.Children.toArray(e.children)),VL=()=>{const{translate:e}=(0,P.Z)();return n.createElement(Xd.H,{icon:FL||(FL=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI1LjAwMDIgMzZIMzEuMDAwMlY0MkgyNS4wMDAyVjM2WiIgZmlsbD0iI0UwREREQSIvPgo8cGF0aCBkPSJNNzcgMzBMNzcuMDAwMiA3Mkw4MyA3Mkw4MyAyNEgxM0wxMyA3Mkw3MS4wMDAyIDcyTDY3LjAwMDIgNjZMMTkgNjZMMTkgMzBMNzcgMzBaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik02My4wMDAyIDQySDM3VjM2SDY3TDYzLjAwMDIgNDJaIiBmaWxsPSIjRTBERERBIi8+CjxwYXRoIGQ9Ik02My4yNTAxIDU1SDM3VjQ5SDY3TDYzLjI1MDEgNTVaIiBmaWxsPSIjRTBERERBIi8+Cjwvc3ZnPgo=",alt:""})),title:e("webapp_ids_empty_view_title")},n.createElement("p",null,e("webapp_ids_empty_view_description")))},HL=({currentSpaceId:e,userEditDocumentRoute:t,currentCountry:a})=>{const{translate:i}=(0,P.Z)(),s=ml(e,"idCards"),r=ml(e,"socialSecurityIds"),o=ml(e,"driverLicenses"),l=ml(e,"passports"),d=ml(e,"fiscalIds");n.useEffect((()=>{(0,v.N)(c.PageView.ItemIdList)}),[]);const u=n.useCallback((e=>n.createElement(jL,{item:e,key:e.id,route:t.bind(null,"idCards")})),[t]),m=n.useCallback((e=>n.createElement(RL,{item:e,key:e.id,route:t.bind(null,"socialSecurityIds")})),[t]),p=n.useCallback((e=>n.createElement(BL,{item:e,key:e.id,route:t.bind(null,"driverLicenses")})),[t]),_=n.useCallback((e=>n.createElement(PL,{item:e,key:e.id,route:t.bind(null,"passports")})),[t]),g=n.useCallback((e=>n.createElement(TL,{item:e,key:e.id,route:t.bind(null,"fiscalIds")})),[t]),h=[{data:s,key:"webapp_ids_id_cards_grid_header_title",render:u},{data:r,key:"webapp_ids_social_security_ids_grid_header_title",render:m},{data:o,key:"webapp_ids_driver_licences_grid_header_title",label:o.status===W.rq.Success?(b=i.getLocale(),y=a,C=o.data.matchingCount,pl.Rd.has(y)&&"en"===b?1===C?"Driver's licence":`Driver's licences (${C})`:null):null,render:p},{data:l,key:"webapp_ids_passports_grid_header_title",render:_},{data:d,key:"webapp_ids_fiscal_ids_grid_header_title",render:g}];var b,y,C;return h.some((e=>e.data.status===W.rq.Success&&e.data.data.matchingCount>0))?n.createElement(WL,null,h.map((e=>{var t;return e.data.status===W.rq.Success&&e.data.data.matchingCount>0?n.createElement(AL,{key:e.key,headerTitle:null!=(t=e.label)?t:i(e.key,{count:e.data.data.matchingCount}),items:e.data.data.items,render:e.render}):null}))):h.some((e=>e.data.status===W.rq.Loading))?null:GL||(GL=n.createElement(VL,null))};var qL,YL,QL,$L,KL,XL,JL;const ez={[l.Country.BR]:"webapp_id_creation_socialsecurity_new_btn_br",[l.Country.CA]:"webapp_id_creation_socialsecurity_new_btn_ca",[l.Country.GB]:"webapp_id_creation_socialsecurity_new_btn_gb",[l.Country.IE]:"webapp_id_creation_socialsecurity_new_btn_ie",[l.Country.IT]:"webapp_id_creation_socialsecurity_new_btn_it",[l.Country.JP]:"webapp_id_creation_socialsecurity_new_btn_jp",[l.Country.NL]:"webapp_id_creation_socialsecurity_new_btn_nl",[l.Country.NO]:"webapp_id_creation_socialsecurity_new_btn_no",[l.Country.PT]:"webapp_id_creation_socialsecurity_new_btn_pt",[l.Country.SE]:"webapp_id_creation_socialsecurity_new_btn_se"},tz=({currentLocation:e})=>{var t;const{translate:a}=(0,P.Z)(),{routes:s}=(0,S.Xo)(),r=(0,pl.lt)(e),o=e=>()=>{(0,i.uX)(s.userAddIdDocument(e))},l=[{icon:qL||(qL=n.createElement(Ue.JO,{name:"ItemIdOutlined",color:"ds.oddity.brand"})),label:a("webapp_id_creation_idcard_new_btn_default"),onClick:o("idCards")},{icon:YL||(YL=n.createElement(Ue.JO,{name:"ItemSocialSecurityOutlined",color:"ds.oddity.brand"})),label:a(null!=(t=ez[r])?t:"webapp_id_creation_socialsecurity_new_btn_default"),onClick:o("socialSecurityIds")},{icon:QL||(QL=n.createElement(Ue.JO,{name:"ItemDriversLicenseOutlined",color:"ds.oddity.brand"})),label:a("webapp_id_creation_driverlicense_new_btn_default"),onClick:o("driverLicenses")},{icon:$L||($L=n.createElement(Ue.JO,{name:"ItemPassportOutlined",color:"ds.oddity.brand"})),label:a("webapp_id_creation_passport_new_btn_default"),onClick:o("passports")},{icon:KL||(KL=n.createElement(Ue.JO,{name:"ItemTaxNumberOutlined",color:"ds.oddity.brand"})),label:a("webapp_id_creation_fiscalid_new_btn_default"),onClick:o("fiscalIds")}];return n.createElement(Hd,{buttonLabel:a("webapp_id_creation_header_btn"),endWidget:n.createElement(n.Fragment,null,XL||(XL=n.createElement(Uc.D,null)),JL||(JL=n.createElement(Bc.E,null))),menuItemContents:l.map((({icon:e,label:t,onClick:a})=>n.createElement(Vd,{icon:e,label:t,onClick:a,key:t})))})},az=({lee:e,children:t})=>{const{routes:a}=(0,S.Xo)();return n.createElement(Rd.Z,{lee:e,editPanel:t},n.createElement(tz,{currentLocation:e.carbon.currentLocation}),n.createElement(HL,{userEditDocumentRoute:a.userEditIdDocument,currentSpaceId:(0,rr.B)(e.globalState),currentCountry:(0,pl.lt)(e.carbon.currentLocation)}))},nz=({path:e})=>n.createElement(i.Vy,{path:e,component:az}),iz=({children:e})=>{const{translate:t}=(0,P.Z)();return n.createElement("div",{className:"topLevelWrapper--EQz2cvDL9R"},n.createElement(Rc.h,{endWidget:n.createElement(n.Fragment,null,n.createElement(Uc.D,{color:d.O9T.white}),n.createElement(Bc.E,{color:d.O9T.white}))}),n.createElement("div",{className:"contentContainer--n7GRtV0A0L"},n.createElement("h1",{className:"heading--v0RjO82Q9X"},t("web_onboarding_body_title")),n.createElement("p",{className:"headingCaption--iLkaeMgL9m"},t("web_onboarding_body_text")),e))};var sz=a(274586),rz=a(373245);const oz="baseComponent--rz4bn1Wt5Z",lz="leftIcon--b7oK5CKG5s",cz="rightIcon--JRwdcdYCPB",dz={enter:"enter--J3DVsLauyF",enterActive:"enterActive--nk5henrU9o",exit:"exit--UTJVqVWV6K",exitActive:"exitActive--gcSdeBw0CQ"},uz={enter:parseInt(we()["--transition-duration-arriving"],10),exit:parseInt(we()["--transition-duration-leaving"],10)},mz="for-CSSTransition-",pz=({message:e,onOnboardingStepClick:t,messageOnHover:a,path:s,leftIcon:r,rightIcon:l,messageOnError:c})=>n.createElement(i.rU,{to:s||"",onClick:t,className:F()(oz,"stepWrapper--tQfiRcKa3l","onboardingStep--GZrHDcDlRr baseComponent--rz4bn1Wt5Z")},n.createElement("div",{className:lz},r),n.createElement("div",{className:"messageWrapper--ad6Hho5i93"},n.createElement("div",{className:"messageContent--TxDQZ7tero"},n.createElement("p",{className:"onboardingStepHeader--l7WxRrhxaO"},e),a?n.createElement("p",{className:"messageOnHover--r39XJznUKD"},a):null)),n.createElement(sz.Z,null,n.createElement(o.Z,{key:c?`${mz}error`:`${mz}icon`,timeout:uz,classNames:dz},c?n.createElement("div",{key:`${mz}error`,className:"messageOnError--o0loUR0BQE"},c):n.createElement("div",{key:`${mz}icon`,className:cz},l))));var _z=a(239967);const gz=({message:e,leftIcon:t,rightIcon:a})=>n.createElement("span",{className:F()(oz,"completedOnboardingStep--aVGKxAWGPD baseComponent--rz4bn1Wt5Z")},n.createElement("div",{className:lz},t," "),n.createElement("div",null,n.createElement("p",{className:"completedOnboardingStepHeader--pC_Xip4O7D"},e)),n.createElement("div",{className:cz},a," "));var hz;const bz="web_onboarding_add_first_password_message",yz="web_onboarding_try_autofill_step_message",Cz="web_onboarding_card_add_mobile",wz={enter:parseInt(we()["--transition-duration-arriving"],10),exit:parseInt(we()["--transition-duration-leaving"],10)},Ez="for-CSSTransition-",vz=n.createElement(rz.Z,{key:`${Ez}spinner`,height:24,width:24,animationParams:{renderer:"svg",loop:!0,autoplay:!0,animationData:_z}}),Nz=({lee:e})=>{const{addMobileOnWeb:t,onboardingHubShown:a,tryAutofillOnWeb:i,saveCredentialOnWeb:s}=e.carbon.webOnboardingMode.completedSteps||{},{flowAddMobileOnWeb:r}=e.carbon.webOnboardingMode||{},{translate:m}=(0,P.Z)(),{routes:p}=(0,S.Xo)(),[_,g]=(0,n.useState)(s),[h,b]=(0,n.useState)(!1),[y,C]=(0,n.useState)(!1),w=(0,W.qr)({queryConfig:{query:u.C.getIdentitiesCount},liveConfig:{live:u.C.liveIdentitiesCount}},[]),E=w.status===W.rq.Success&&w.data>0,N=i||E,I=hz||(hz=n.createElement(d.Kie,{size:40,viewBox:"-4 0 30 30"})),f=n.createElement(d.nQG,{title:m("web_onboarding_step_check_icon"),color:d.O9T.white,viewBox:"-8 -8 26 26"}),x=n.createElement(d.jcJ,{key:`${Ez}arrow`,title:m("web_onboarding_step_right_facing_arrow"),color:d.O9T.orange00,size:24});(0,n.useEffect)((()=>{g(s)}),[s]),(0,n.useEffect)((()=>{(0,v.N)(c.PageView.HomeOnboardingChecklist)}),[]);const M=()=>{Qs({completedSteps:{addMobileOnWeb:!0}}),(0,v.K)(new c.UserCompleteOnboardingTaskEvent({onboardingTask:c.OnboardingTask.GetMobileApp}))};(0,n.useEffect)((()=>{t||h||y||(async()=>await u.C.getDevicesList(null).then((e=>e.devicesList.filter((e=>["iphone","server_android","server_ipad","server_iphone"].includes(e.devicePlatform))))))().then((e=>{const t=Boolean(e.length);var a;if(r||t)return r?(a=t,2500,C(!0),void window.setTimeout((()=>{if(!a)return b(!0),void window.setTimeout((()=>{b(!1),C(!1)}),2500);M(),C(!1)}),2500)):void M()}))}),[r]),(0,n.useEffect)((()=>{s&&(0,v.K)(new c.UserCompleteOnboardingTaskEvent({onboardingTask:c.OnboardingTask.AddFirstLogin}))}),[s]),(0,n.useEffect)((()=>{N&&(0,v.K)(new c.UserCompleteOnboardingTaskEvent({onboardingTask:c.OnboardingTask.TryAutofill}))}),[N]),!1===a&&Qs({completedSteps:{onboardingHubShown:!0}});const T=n.createElement(d.NSO,{title:m(_?"web_onboarding_step_password_completed_icon":"web_onboarding_step_password_icon"),color:_?d.O9T.dashGreen00:d.O9T.dashGreen04,size:40,viewBox:"0 0 40 40"}),D=_?n.createElement(gz,{key:`${Ez}complete`,message:m(bz),leftIcon:T,rightIcon:f}):n.createElement(pz,{key:`${Ez}not-complete`,message:m(bz),onOnboardingStepClick:()=>{Qs({activeOnboardingType:"saveWeb",leelooStep:l.WebOnboardingLeelooStep.SHOW_SAVE_SITES_DIALOG})},messageOnHover:m("web_onboarding_hover_message"),path:p.userPasswordSites,leftIcon:T,rightIcon:x}),Z=n.createElement(d.$2U,{title:m(i?"web_onboarding_step_autofill_completed_icon":"web_onboarding_step_autofill_icon"),color:i?d.O9T.dashGreen00:d.O9T.dashGreen04,size:40,viewBox:"0 0 40 40"}),A=N?n.createElement(gz,{key:`${Ez}complete`,message:m(yz),leftIcon:Z,rightIcon:f}):n.createElement(pz,{key:`${Ez}not-complete`,message:m(yz),onOnboardingStepClick:()=>{Qs({activeOnboardingType:"tryAutofill"})},messageOnHover:m("web_onboarding_try_autofill_step_hover_message"),path:p.userTryAutofill,leftIcon:Z,rightIcon:x}),k=n.createElement(d.pY8,{title:m(t?"web_onboarding_step_mobile_completed_icon":"web_onboarding_step_mobile_icon"),color:t?d.O9T.dashGreen00:d.O9T.dashGreen04,size:38,viewBox:"0 0 40 40"}),O=y?vz:x,L=t?n.createElement(gz,{key:`${Ez}complete`,message:m(Cz),leftIcon:k,rightIcon:f}):n.createElement(pz,{key:`${Ez}not-complete`,message:m(Cz),onOnboardingStepClick:()=>{Qs({activeOnboardingType:"addMobile"})},messageOnHover:m("web_onboarding_add_mobile_hover_message"),path:p.userAddMobile,leftIcon:k,rightIcon:n.createElement(sz.Z,null,n.createElement(o.Z,{key:y?`${Ez}spinner`:`${Ez}arrow`,timeout:wz,classNames:dz},O)),messageOnError:h?m("web_onboarding_add_mobile_error_message"):null});return n.createElement("div",{className:Ic.onboardingStepsWrapper},n.createElement(gz,{message:m("web_onboarding_get_dashlane_message"),leftIcon:I,rightIcon:f}),n.createElement(sz.Z,null,n.createElement(o.Z,{key:_?`${Ez}complete`:`${Ez}not complete`,timeout:wz,classNames:dz},D)),n.createElement(sz.Z,null,n.createElement(o.Z,{key:i?`${Ez}complete`:`${Ez}not complete`,timeout:wz,classNames:dz},A)),n.createElement(sz.Z,null,n.createElement(o.Z,{key:t?`${Ez}complete`:`${Ez}not complete`,timeout:wz,classNames:dz},L)))},Sz=({iconUrl:e,domain:t,loginUrl:a,onSiteIconClick:i})=>n.createElement("div",{className:F()({"dummy--HV_cN6qm9p":!a})},n.createElement("a",{className:"imageContainer--pbhZi6zXUJ",onClick:()=>i(t,a)},n.createElement("img",{className:"imageSubContainer--lVaEIY0nha",src:e,width:"97",height:"64"}),n.createElement("p",{className:"domain--L6dV54OOFa"},t))),Iz=[{label:"netflix.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/netflix_com.png",domain:"netflix.com",loginUrl:"https://www.netflix.com/"},{label:"facebook.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/facebook_com.png",domain:"facebook.com",loginUrl:"https://www.facebook.com"},{label:"twitter.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/twitter_com.png",domain:"twitter.com",loginUrl:"https://www.twitter.com/"},{label:"live.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/live_com.png",domain:"live.com",loginUrl:"https://live.com"},{label:"spotify.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/spotify_com.png",domain:"spotify.com",loginUrl:"https://www.spotify.com"},{label:"google.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/google_com.png",domain:"google.com",loginUrl:"https://www.google.com"},{label:"linkedin.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/linkedin_com.png",domain:"linkedin.com",loginUrl:"https://www.linkedin.com/"},{label:"paypal.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/paypal_com.png",domain:"paypal.com",loginUrl:"https://www.paypal.com"},{label:"instagram.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/instagram_com.png",domain:"instagram.com",loginUrl:"https://www.instagram.com"},{label:"amazon.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/amazon_com.png",domain:"amazon.com",loginUrl:"https://www.amazon.com"}],fz=[{label:"live.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/live_com.png",domain:"live.com",loginUrl:"https://live.com"},{label:"google.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/google_com.png",domain:"google.com",loginUrl:"https://www.google.com"},{label:"linkedin.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/linkedin_com.png",domain:"linkedin.com",loginUrl:"https://www.linkedin.com/"},{label:"paypal.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/paypal_com.png",domain:"paypal.com",loginUrl:"https://www.paypal.com"},{label:"amazon.com",iconUrl:"https://static-icons.s3-eu-west-1.amazonaws.com/_160x106/amazon_com.png",domain:"amazon.com",loginUrl:"https://www.amazon.com"}],xz=({onSiteIconClick:e})=>{const t=(0,Pk.E)(),a=t.status===R.rq.Success&&t.data.length>0?fz:Iz;return(0,Ue.tZ)(d.Ejs,{flexWrap:"wrap",sx:{padding:"40px 0"}},a.map((t=>(0,Ue.tZ)(Sz,{onSiteIconClick:e,key:t.label,...t}))))},Mz={container:"container--PAiv0iriUo",routeContainer:"routeContainer--IwizkStb3B",arrowBtnContainer:"arrowBtnContainer--UNukeqHbPW",passwordsIcon:"passwordsIcon--Onz9Nv6su0",actionText:"actionText--RFi57I1yVb",subContainer:"subContainer--C0Wg37uJgN",title:"title--PALNlWlsuw",description:"description--ZlLve5OGv7"},Tz="stepText--ZmGwohJpHo",Dz="step--TrQuyh7rx9",Zz="stepIcon--kSrRgWoeT4";var Az;const kz=n.createElement(d.xCe,{color:d.O9T.dashGreen00,size:20,viewBox:"0 2 20 20"}),Oz=n.createElement(d.NSO,{color:d.O9T.dashGreen02,size:20,viewBox:"0 0 40 40"}),Lz=({domainText:e,loginUrlText:t,setSelectedSite:a})=>{const{translate:s}=(0,P.Z)(),{routes:r}=(0,S.Xo)(),o=()=>{Qs({activeOnboardingType:"saveWeb",leelooStep:l.WebOnboardingLeelooStep.SHOW_SAVE_SITES_DIALOG}),a(!1)};return(0,n.useEffect)((()=>{(0,v.N)(c.PageView.HomeOnboardingChecklistAddFirstLogin)}),[]),n.createElement(n.Fragment,null,n.createElement("div",{className:Mz.routeContainer},n.createElement(i.rU,{to:r.userPasswordSites,className:Mz.arrowBtnContainer,onClick:o},kz),n.createElement("div",{className:Mz.passwordsIcon},Oz),n.createElement("h2",{className:Mz.actionText},s("web_onboarding_card_add_password"))),n.createElement("div",{className:Mz.subContainer},n.createElement("h2",{className:Mz.title},s("web_onboarding_card_go_to_site_title")),n.createElement("p",{className:Mz.description},s("web_onboarding_card_go_to_site_description")),n.createElement("div",{className:"stepsContainer--HS9lElcJIf"},n.createElement("div",{className:Dz},n.createElement("div",{className:Zz},"1"),n.createElement("div",{className:"textContainer--BrFn11rX4s"},n.createElement("p",{className:"mainText--dwE2__Nsex"},s("web_onboarding_card_go_to_site_step_1_pt_1")),n.createElement("p",{className:"subText--ZGxdl51zsk"},s.markup("web_onboarding_card_go_to_site_step_1_pt_2_markup")))),n.createElement("div",{className:Dz},n.createElement("div",{className:Zz},"2"),n.createElement("p",{className:Tz},s("web_onboarding_card_go_to_site_step_2"))),n.createElement("div",{className:Dz},n.createElement("div",{className:Zz},"3"),n.createElement("p",{className:Tz},s.markup("web_onboarding_card_go_to_site_step_3_markup")))),n.createElement("div",{className:"ctaContainer--kPEn4Dkwb0"},n.createElement(i.rU,{to:r.userPasswordSites},n.createElement(Te.Z,{label:s("web_onboarding_card_go_back"),marginSide:"right",key:"button-dismiss",onClick:o})),n.createElement(zg.Z,{label:s("web_onboarding_card_go_to_site_link"),icon:Az||(Az=n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggMi41SDEuNVYxNC41SDEzLjVWOEgxNVYxNkgwVjFIOFYyLjVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTAgNi41NTY3MWUtMDhMMTQuNSAwTDE2IDYuNTU2NzFlLTA4VjZIMTQuNVYyLjYyMTMyTDguODY4MTEgOC4yNTMyMUw3LjgwNzQ1IDcuMTkyNTVMMTMuNSAxLjVIMTBWNi41NTY3MWUtMDhaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"})),onClick:()=>{Qs({activeOnboardingType:"saveWeb",flowLoginCredentialOnWebSite:{domain:e,url:t}})}}))))};var zz,jz,Pz;const Rz=(0,D.tZ)(d.xCe,{color:d.O9T.dashGreen00,size:20,viewBox:"0 2 20 20"}),Uz=(0,D.tZ)(d.NSO,{color:d.O9T.dashGreen02,size:20,viewBox:"0 0 40 40"}),Bz=()=>{const{translate:e}=(0,P.Z)(),{routes:t}=(0,S.Xo)(),a=(0,i.k6)(),[s,r]=(0,n.useState)(!1),[o,l]=(0,n.useState)(""),[u,m]=(0,n.useState)("");return(0,n.useEffect)((()=>{(0,v.N)(c.PageView.HomeOnboardingChecklistAddFirstLoginWebsiteList)}),[]),s?(0,D.tZ)("div",{className:Mz.container},(0,D.tZ)(Lz,{setSelectedSite:e=>{r(e)},domainText:o,loginUrlText:u})):(0,D.tZ)("div",{className:Mz.container},(0,D.tZ)("div",{className:Mz.routeContainer},(0,D.tZ)(d.Ejs,null,(0,D.tZ)(i.rU,{to:t.userOnboarding,onClick:()=>{Qs()}},Rz),(0,D.tZ)("div",{className:Mz.passwordsIcon},Uz),(0,D.tZ)(d.nvN,{size:"small",color:"ds.text.oddity.disabled"},e("web_onboarding_card_add_password")))),(0,D.tZ)("div",{className:Mz.subContainer},(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:4},(0,D.tZ)(d.X6q,{size:"large"},e("web_onboarding_card_title")),(0,D.tZ)(d.nvN,{size:"small",color:"ds.text.oddity.disabled"},e("web_onboarding_card_body_text"))),(0,D.tZ)(xz,{onSiteIconClick:(e,t)=>{l(e),m(t),r(!0)}}),zz||(zz=(0,D.tZ)("br",null)),(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:4},(0,D.tZ)(d.X6q,{size:"large"}," ",e("web_onboarding_import_title")),(0,D.tZ)(d.nvN,{size:"small",color:"ds.text.oddity.disabled"},e("web_onboarding_import_description"))),jz||(jz=(0,D.tZ)("br",null)),(0,D.tZ)(Ue.zx,{layout:"iconLeading",icon:Pz||(Pz=(0,D.tZ)(d._8t,null)),mood:"neutral",intensity:"quiet",onClick:()=>a.push(t.importData)},e("webapp_account_root_import_data"))))},Fz="iconTextContainer--G4CxEzKXld",Gz=(0,D.tZ)(d.uMt,{color:d.O9T.dashGreen00,size:16,viewBox:"0 2 20 20"}),Wz=(0,D.tZ)(d.pY8,{color:d.O9T.dashGreen02,size:24,viewBox:"0 2 40 40"}),Vz=(0,D.tZ)(d.xCe,{color:d.O9T.dashGreen00,size:20,viewBox:"0 2 20 20"}),Hz={value:`${ia.JW}?utm_source=saexqrcode`,size:120},qz=()=>{const{translate:e}=(0,P.Z)(),{routes:t}=(0,S.Xo)(),a=`${e("web_onboarding_card_add_mobile_warning_hover_pt_1")}\n  ${e("web_onboarding_card_add_mobile_warning_hover_pt_2")}`,s=(0,D.tZ)(d.ua7,{placement:"top",content:a,sx:{maxWidth:"270px"}},(0,D.tZ)("div",{className:"hoverMessage--dn4quxfdWq"},e("web_onboarding_card_add_mobile_warning_hover")));return(0,n.useEffect)((()=>{(0,v.N)(c.PageView.HomeOnboardingChecklistAddDevice)}),[]),(0,D.tZ)("div",{className:Mz.container},(0,D.tZ)("div",{className:Mz.routeContainer},(0,D.tZ)(i.rU,{to:t.userOnboarding,className:Mz.arrowBtnContainer},Vz),(0,D.tZ)("div",{className:"mobileIcon--kqacy9kAAI"},Wz),(0,D.tZ)("h2",{className:Mz.actionText},e("web_onboarding_card_add_mobile"))),(0,D.tZ)("div",{className:Mz.subContainer},(0,D.tZ)("h1",{className:Mz.title},e("web_onboarding_card_add_mobile_title")),(0,D.tZ)("div",{className:"qrCodeContainer--pdpXBkUfaF"},(0,D.tZ)("img",{className:"phone--WfqeY3SdxX",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA0OCA4OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDQuOTk5OTlDMCAyLjIzODU3IDIuMjM4NTggMCA1IDBINDIuOTk4MkM0NS43NTk2IDAgNDcuOTk4MiAyLjIzODU4IDQ3Ljk5ODIgNVY4Mi43Mzg3QzQ3Ljk5ODIgODUuNTAwMSA0NS43NTk2IDg3LjczODYgNDIuOTk4MiA4Ny43Mzg2SDVDMi4yMzg1OCA4Ny43Mzg2IDAgODUuNTAwMSAwIDgyLjczODZWNC45OTk5OVpNNCA5SDQ0Vjc2SDRWOVpNMTEgMjlWMzUuOTk2NUgxMy42VjMxLjc5ODZIMTcuNVYyOUgxMVpNMzcgMjlWMzUuOTk2NUgzNC40VjMxLjc5ODZIMzAuNVYyOUgzN1pNMzQuNCA0OS45ODk2SDM3VjU2Ljk4NjFIMzAuNVY1NC4xODc1SDM0LjRWNDkuOTg5NlpNMTcuNSA1NC4xODc1VjU2Ljk4NjFIMTFWNDkuOTg5NkgxMy42VjU0LjE4NzVIMTcuNVoiIGZpbGw9IiNENkQyQ0UiLz4KPC9zdmc+Cg=="}),(0,D.tZ)("img",{className:"scanner--xtmiWDGOH_",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMTE0IiB2aWV3Qm94PSIwIDAgMjEgMTE0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik0yMSAwTDMuMDUxNzZlLTA1IDI2LjVMMCA5NEwyMSAxMTRWMFoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcikiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9Ii00LjUiIHkxPSI3MC41IiB4Mj0iMjUuNDkyMyIgeTI9IjY5LjMwNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0NGRDdEOCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNDNEM0QzQiIHN0b3Atb3BhY2l0eT0iMCIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo="}),(0,D.tZ)("div",{className:"qrCode--XJn47Ldax_"},(0,D.tZ)("div",{className:"qrCodeSpan--VEJdh3x7UH"},(0,D.tZ)(Qt(),{"data-testid":"qr-code",renderAs:"svg",...Hz}))),(0,D.tZ)("div",{className:"qrCodeCaption--jzdPFbLgxW"},(0,D.tZ)("p",{className:"caption--bZvc9JdGN2"},e("web_onboarding_card_add_mobile_description")),(0,D.tZ)("button",{className:F()(Fz,"warningContainer--G___wrnBhj")},(0,D.tZ)("div",{className:"infoCircleIcon--rj6fRorz8i"},Gz),s,";"))),(0,D.tZ)("h2",{className:"findDashlane--bdXJYgyFSb"},e("web_onboarding_card_add_mobile_find_dashlane")),(0,D.tZ)("div",{className:Fz},(0,D.tZ)("img",{className:Mz.dashlaneIcon,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxOCAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE4IiBoZWlnaHQ9IjE5IiByeD0iNSIgZmlsbD0iIzBFNjQ3NiIvPgo8cGF0aCBkPSJNMTQgNy4xODEwN0MxNCA3LjEwMDQ3IDEzLjkxNjMgNy4wMTk4NyAxMy43OTg5IDYuOTg3NjNMMTIuMzkxOCA2LjQ4ODE1QzEyLjE1NzQgNi4zOTE0MyAxMS44ODk0IDYuNTA0MjcgMTEuODg5NCA2LjY2NTY5VjEyLjM0MzdDMTEuODg5NCAxMi40MjQzIDExLjk3MzEgMTIuNTIxIDEyLjA1NjggMTIuNTUzM0wxMy40OTc0IDEzLjA1MjhDMTMuNzE1MiAxMy4xMzM0IDE0IDEzLjAyMDUgMTQgMTIuODQzVjcuMTgxMDdaTTExLjM3IDUuMTk2OTdDMTEuMzcgNS4xMTYxNSAxMS4yODY0IDUuMDM1NTUgMTEuMTY5IDUuMDAzMzFMOS43NjIwNCA0LjUwMzgyQzkuNTI3NDggNC40MDcxIDkuMjU5NDQgNC41MTk5NCA5LjI1OTQ0IDQuNjgxMzZWOC4xMzMwNUM5LjI1OTQ0IDguMjEzNjUgOS4zNDMxMiA4LjMxMDM3IDkuNDI2ODEgOC4zNDI4M0wxMC44Njc0IDguODQyMzJDMTEuMDg1MyA4LjkyMzE1IDExLjM3IDguODEwMDggMTEuMzcgOC42MzI3NlY1LjE5Njk3Wk0xMS4zNyAxMS40MDc5QzExLjM3IDExLjMyNzMgMTEuMjg2NCAxMS4yNDY3IDExLjE2OSAxMS4yMTQ0TDkuNzYyMDQgMTAuNzE0OUM5LjUyNzQ4IDEwLjYxODIgOS4yNTk0NCAxMC43MzExIDkuMjU5NDQgMTAuODkyNVYxNC4zNDQyQzkuMjU5NDQgMTQuNDI0OCA5LjM0MzEyIDE0LjUyMTUgOS40MjY4MSAxNC41NTM3TDEwLjg2NzQgMTUuMDUzMkMxMS4wODUzIDE1LjEzNCAxMS4zNyAxNS4wMjEgMTEuMzcgMTQuODQzNFYxMS40MDc5Wk04Ljc0MDA5IDEyLjEwMTdDOC43NDAwOSAxMi4wMjExIDguNjU2NCAxMS45NDAzIDguNTM5IDExLjkwOEw3LjEzMjA5IDExLjQwODZDNi44OTYzNCAxMS4zMTE4IDYuNjI5NDggMTEuNDI0NyA2LjYyOTQ4IDExLjU4NjFWMTUuMjY0MUM2LjYyOTQ4IDE1LjM0NDcgNi43MTMxNyAxNS40NDE3IDYuNzk2ODYgMTUuNDczOUw4LjIzNzQ5IDE1Ljk3MzRDOC40NTUzMSAxNi4wNTQyIDguNzQwMDkgMTUuOTQxMiA4Ljc0MDA5IDE1Ljc2MzlWMTIuMTAxN1pNOC43NDAwOSAzLjcyODcxQzguNzQwMDkgMy42NDgxMSA4LjY1NjQgMy41Njc1MSA4LjUzOSAzLjUzNTI3TDcuMTMyMDkgMy4wMzU3OEM2Ljg5NjM0IDIuOTM5MDYgNi42Mjk0OCAzLjA1MTkgNi42Mjk0OCAzLjIxMzMyVjYuODkxMzdDNi42Mjk0OCA2Ljk3MjE5IDYuNzEzMTcgNy4wNjg5MSA2Ljc5Njg2IDcuMTAxMTVMOC4yMzc0OSA3LjYwMDY0QzguNDU1MzEgNy42ODEyNCA4Ljc0MDA5IDcuNTY4NCA4Ljc0MDA5IDcuMzkwODZWMy43Mjg3MVpNNi4xMTA2MSAzLjg3NDAxQzYuMTEwNjEgMy43OTM0MSA2LjAyNjkyIDMuNzEyNTkgNS45MDk1MiAzLjY4MDM1TDQuNTAyNjEgMy4xODA4NkM0LjI2ODA0IDMuMDg0MTQgNCAzLjE5Njk4IDQgMy4zNTg0VjE1LjEzNDdDNCAxNS4yMTUzIDQuMDgzNjkgMTUuMzEyIDQuMTY3NjEgMTUuMzQ0M0w1LjYwODAxIDE1Ljg0MzhDNS44MjU4MyAxNS45MjQ0IDYuMTEwNjEgMTUuODExNSA2LjExMDYxIDE1LjYzNFYzLjg3NDAxWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="}),(0,D.tZ)("p",{className:"availableOn--FcKpzTR7cz"},e("web_onboarding_card_add_mobile_available_on")))))},Yz=n.createElement(d.xCe,{color:d.O9T.dashGreen00,size:20,viewBox:"0 2 20 20"}),Qz=n.createElement(d.$2U,{color:d.O9T.dashGreen02,size:20,viewBox:"0 0 40 40"}),$z=n.createElement(d.RTC,{color:d.O9T.orange00,size:20,viewBox:"0 2 20 20"}),Kz=()=>{const{translate:e}=(0,P.Z)(),{routes:t}=(0,S.Xo)();return(0,n.useEffect)((()=>{(0,v.N)(c.PageView.HomeOnboardingChecklistTryAutofillStorePersonalInfo)}),[]),n.createElement("div",{className:F()(Mz.container,"container--dCJ76crwMZ")},n.createElement("div",{className:Mz.routeContainer},n.createElement(i.rU,{to:t.userOnboarding,className:Mz.arrowBtnContainer,onClick:()=>{Qs()}},Yz),n.createElement("div",{className:"tryAutofillIcon--ZvdpiPpviT"},Qz),n.createElement("h2",{className:Mz.actionText},e("web_onboarding_card_try_autofill"))),n.createElement("div",{className:Mz.subContainer},n.createElement("h2",{className:Mz.title},e("web_onboarding_card_try_autofill_title")),n.createElement("p",{className:F()(Mz.description,"description--nf4o9IFnXA")},e("web_onboarding_card_try_autofill_description")),n.createElement("button",{className:"storeInfoButton--LASy9sIFMK",onClick:()=>{(async e=>{await(0,Ys.U)({url:"https://www.dashlane.com/try-autofill-data"})})()}},n.createElement("h2",{className:"title--W3zrOlrLr0"},e("web_onboarding_card_try_autofill_body_text")),n.createElement("div",{className:"openWebsiteIcon--GBbsXnr9gM"},$z))))},Xz=({path:e})=>n.createElement(i.GB,{exact:!0,path:[e,`${e}/add-password`,`${e}/add-mobile`,`${e}/try-autofill`],component:iz},n.createElement(i.Vy,{exact:!0,path:`${e}`,component:Nz}),n.createElement(i.Vy,{exact:!0,path:`${e}/add-password`,component:Bz}),n.createElement(i.Vy,{exact:!0,path:`${e}/add-mobile`,component:qz}),n.createElement(i.Vy,{exact:!0,path:`${e}/try-autofill`,component:Kz})),Jz=({label:e,value:t,color:a})=>(0,Ue.tZ)("div",null,(0,Ue.tZ)(d.nvN,{size:"medium",sx:{color:"ds.text.neutral.quiet",display:"block",marginBottom:"8px"}},e),(0,Ue.tZ)(d.X6q,{size:"medium",color:a},t));let ej;var tj;!function(e){e[e.RED_SCORE=60]="RED_SCORE",e[e.ORANGE_SCORE=80]="ORANGE_SCORE"}(ej||(ej={}));const aj=e=>e<ej.RED_SCORE?"ds.border.danger.standard.idle":e<ej.ORANGE_SCORE?"ds.border.warning.standard.idle":"ds.border.positive.standard.idle",nj=({score:e,showQueerColors:t=!1})=>{const[a,i]=(0,n.useState)(0),s=3.94*(100-a);return(0,n.useEffect)((()=>{i(e)}),[e]),(0,Ue.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"153",fill:"none",viewBox:"0 0 200 153"},(0,Ue.tZ)("mask",{id:"animatedMask"},(0,Ue.tZ)("path",{sx:{transition:"stroke-dashoffset 1s ease-in-out"},strokeDasharray:394,strokeDashoffset:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",stroke:"white",d:"M18.594 147a94 94 0 11162.827-.025"})),(0,Ue.tZ)("path",{sx:{stroke:"ds.border.neutral.quiet.idle"},strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"}),t?tj||(tj=(0,Ue.tZ)("g",{id:"queerGroup",mask:"url(#animatedMask)"},(0,Ue.tZ)("path",{stroke:"#760888",strokeLinecap:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"}),(0,Ue.tZ)("path",{stroke:"#014EFF",strokeWidth:"12",d:"M18.594 147a94 94 0 11175.405-46.614"}),(0,Ue.tZ)("path",{stroke:"#018027",strokeWidth:"12",d:"M18.594 147a94 94 0 01162.812-94"}),(0,Ue.tZ)("path",{stroke:"#FFEE01",strokeWidth:"12",d:"M18.594 147A94 94 0 01147.133 18.67"}),(0,Ue.tZ)("path",{stroke:"#FF8D01",strokeWidth:"12",d:"M18.594 147A93.998 93.998 0 0199.749 6"}),(0,Ue.tZ)("path",{stroke:"#E40404",strokeWidth:"12",d:"M18.594 147A93.998 93.998 0 0153 18.594"}),(0,Ue.tZ)("path",{stroke:"#795018",strokeWidth:"12",d:"M18.594 147a93.998 93.998 0 01-.213-93.63"}),(0,Ue.tZ)("path",{fill:"#010101",d:"M13.398 150a6 6 0 1010.392-6l-10.392 6zm10.392-6A88 88 0 0112 99.55l-12-.061A99.998 99.998 0 0013.398 150l10.392-6z"}))):(0,Ue.tZ)("path",{sx:{stroke:aj(e),transition:"stroke-dashoffset 1s ease-in-out"},opacity:"1",strokeDasharray:394,strokeDashoffset:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12",d:"M18.594 147a94 94 0 11162.827-.025"}))},ij=Math.floor(1e3/60),sj=({score:e})=>{const t=n.useRef(null),[a,i]=n.useState(0),[s,r]=n.useState(0),o=n.useCallback((()=>{i(0),r(e/60)}),[e]),l=n.useCallback((()=>{t.current&&clearTimeout(t.current),t.current=null}),[]);return n.useEffect((()=>{o()}),[o]),n.useEffect((()=>(a===e||(t.current=window.setTimeout((()=>{a<e?i((e=>e+s)):l()}),ij)),()=>{l()})),[a,s,l,e]),n.createElement(n.Fragment,null,Math.min(e,Math.ceil(a)))},rj=e=>null===e?"ds.text.neutral.quiet":e<ej.RED_SCORE?"ds.text.danger.quiet":e<ej.ORANGE_SCORE?"ds.text.warning.quiet":"ds.text.positive.quiet",oj=({score:e,shouldAnimateText:t})=>null===e?(0,Ue.tZ)(n.Fragment,null,"--"):t?(0,Ue.tZ)(sj,{score:e}):(0,Ue.tZ)(n.Fragment,null,e),lj=({score:e,shouldAnimateText:t=!1})=>{const{translate:a}=(0,P.Z)(),n=(0,Be.w)("webplatform_web_prideColors"),i=null!=e?e:0;return(0,Ue.tZ)("div",{sx:{display:"grid",gridTemplateAreas:"gauge",justifyItems:"center"}},(0,Ue.tZ)("div",{sx:{gridArea:"gauge"}},(0,Ue.tZ)(nj,{score:i,showQueerColors:n})),(0,Ue.tZ)("span",{sx:{color:rj(e),gridArea:"gauge",marginTop:"48px",fontFamily:"GT Walsheim Pro, Helvetica, Arial, sans-serif",fontSize:"80px",fontWeight:"600",lineHeight:"1"}},(0,Ue.tZ)(oj,{score:e,shouldAnimateText:t})),(0,Ue.tZ)(d.dDn,{as:d.nvN,gridArea:"gauge",size:"medium",color:"ds.text.neutral.quiet",sx:{marginTop:"136px",textTransform:"lowercase"}},a("webapp_password_health_score_out_of_100")))};var cj;const dj=({compromisedPasswordCount:e,passwordHealthScore:t,reusedPasswordCount:a,totalPasswordCount:n,weakPasswordCount:i})=>{const{translate:s}=(0,P.Z)(),r=s("webapp_password_health_scores_title");return(0,Ue.tZ)(d.T5p,{gap:"8px 24px",justifyContent:"start",gridTemplateColumns:"3fr 2fr 2fr",gridTemplateRows:"32px 20px 64px 64px",gridTemplateAreas:"'header header header' 'score . .' 'score scoreInfo scoreInfo' 'score scoreInfo scoreInfo'",sx:{maxWidth:"712px",minWidth:"512px",width:"100%",marginTop:"-4px",marginRight:"auto"}},(0,Ue.tZ)(d.dDn,{gridArea:"header",alignItems:"center",as:d.Ejs},(0,Ue.tZ)(d.j49,{as:"h2",size:"medium",color:"ds.text.neutral.quiet"},r),(0,Ue.tZ)("div",{sx:{marginLeft:"6px"}},(0,Ue.tZ)(d.ua7,{content:s("webapp_password_health_scores_explanation"),placement:"bottom",sx:{fontSize:2,maxWidth:"256px"}},(0,Ue.tZ)(d.hU,{icon:cj||(cj=(0,Ue.tZ)(d.uMt,null)),"aria-label":r})))),(0,Ue.tZ)(d.dDn,{gridArea:"score",justifySelf:"start"},(0,Ue.tZ)(lj,{score:t})),(0,Ue.tZ)(d.dDn,{as:d.T5p,gridTemplateColumns:"1fr 1fr",gap:"8px 24px",gridArea:"scoreInfo","data-testid":"health-scores"},(0,Ue.tZ)(Jz,{label:s("webapp_password_health_scores_total_label"),value:n,color:"ds.text.brand.standard"}),(0,Ue.tZ)(Jz,{label:s("webapp_password_health_scores_compromised_label"),value:e,color:"ds.text.danger.quiet"}),(0,Ue.tZ)(Jz,{label:s("webapp_password_health_scores_reused_label"),value:a,color:"ds.text.warning.quiet"}),(0,Ue.tZ)(Jz,{label:s("webapp_password_health_scores_weak_label"),value:i,color:"ds.text.warning.quiet"})))},uj=({title:e,message:t,action:a})=>(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(Ue.X6,{as:"h5",color:"ds.text.neutral.standard",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"}},e),(0,Ue.tZ)(Ue.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular"},t),a?(0,Ue.tZ)(d.Ejs,{justifyContent:"flex-end",sx:{marginTop:"8px"}},a):null),mj=()=>{const{translate:e}=(0,P.Z)(),[t]=(0,n.useState)(0),a=[{title:"webapp_password_health_tip_at_risk_password_title",message:"webapp_password_health_tip_at_risk_password_message"}];return(0,Ue.tZ)("div",{sx:{padding:"32px 32px 0 32px"}},(0,Ue.tZ)(d.j49,{size:"medium",color:"ds.text.neutral.quiet"},e("webapp_password_health_tips_title")),a[t]?(0,Ue.tZ)(uj,{title:e(a[t].title),message:e(a[t].message),action:a[t].action}):null)};var pj=a(306661);const _j=({riskLevel:e,children:t})=>(0,Ue.tZ)(d.Ejs,{flexDirection:"row",justifyContent:"start",alignItems:"center",flexWrap:"nowrap",sx:{maxHeight:"100%"}},(0,Ue.tZ)("div",{sx:{marginRight:"10px"}},(0,Ue.tZ)(d.SI8,{"aria-label":"item at risk",color:e===xD.r.Compromised?d.O9T.red00:d.O9T.orange00})),t),gj={itemButtons:"itemButtons--lK4NMfJDlN",passwordHealthListItem:"passwordHealthListItem--RWLzEt6Dgm",riskFeedbackLabel:"riskFeedbackLabel--uJWHmL1KDh"};var hj,bj,yj;const Cj="webapp_security_dashboard_tooltip_exclude",wj="webapp_security_dashboard_tooltip_include",Ej=({credential:e,onRowClick:t,onChangeNowClick:a,onIncludeButtonClick:s,onExcludeButtonClick:r,currentFilter:o})=>{const{id:l,title:c,login:u,email:m,autoProtected:p,health:_,domainIcon:g,sharingSatus:{isShared:h},isExcludedFromHealth:b,url:y}=e,{translate:C}=(0,P.Z)(),{pathname:w}=(0,i.TH)(),E=(0,fD.j)(_,o),v=(0,n.useCallback)((t=>{t.stopPropagation(),a(y,e.id)}),[a,e.id,y]),N=(0,n.useCallback)((e=>{e.stopPropagation(),r(l,y)}),[l,r,y]),I=(0,n.useCallback)((e=>{e.stopPropagation(),s(l,y)}),[l,s,y]),{routes:f}=(0,S.Xo)(),x=(0,i.k6)(),M=(0,n.useCallback)((()=>{t(y),x.push(f.userVaultItem(l,xl.VaultItemType.Credential,w))}),[l,x,t,f,y]),T=!!e.sharingSatus.isShared&&"limited"===e.sharingSatus.permission;return(0,Ue.tZ)(d.T5p,{as:"li",className:gj.passwordHealthListItem,onClick:M,alignItems:"center",gridTemplateAreas:"'info feedback buttons'",gridTemplateColumns:"2fr 2.5fr auto",gridTemplateRows:"56px"},(0,Ue.tZ)(d.dDn,{as:Gr.Q,title:c,login:u,email:m,shared:h,autoProtected:p,domainIcon:g,gridArea:"info",sx:{overflow:"hidden",marginRight:"16px"}}),(0,Ue.tZ)(d.dDn,{as:d.Ejs,gridArea:"feedback",alignItems:"center",alignSelf:"center",sx:{overflow:"hidden",maxWidth:"100%",textOverflow:"ellipsis",height:"100%"}},E.level!==xD.r.None?(0,Ue.tZ)(_j,{riskLevel:E.level},(0,Ue.tZ)(d.nvN,{className:gj.riskFeedbackLabel,color:"ds.text.neutral.quiet",sx:{textOverflow:"ellipsis",wordBreak:"break-all",overflow:"hidden"}},((e,t)=>{switch(e.label){case fD.y.Compromised:return((e,t,a)=>{const{date:n,precision:i}=qk(e,"short",a);return t.length>0?a.markup("webapp_security_dashboard_compromised_credential_markup",{domain:t,date:n}):((e,t,a)=>{switch(a){case Hk.DAY:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_markup",{date:t});case Hk.MONTH:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_month_markup",{date:t});case Hk.YEAR:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_year_markup",{date:t});case Hk.INVALID:return"";default:return(0,qr.U)(a)}})(a,n,i)})(e.details.date,e.details.domain,t);case fD.y.Reused:return 1===e.count?t("webapp_security_dashboard_reused_once_credential"):t("webapp_security_dashboard_reused_credential",{count:e.count});case fD.y.Weak:return e.strength>=1?t("webapp_security_dashboard_weak_credential"):t("webapp_security_dashboard_extremely_weak_credential");default:return null}})(E,C))):null),(0,Ue.tZ)(d.dDn,{gridArea:"buttons"},(0,Ue.tZ)(d.Ejs,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",gap:"6px",className:gj.itemButtons},b?(0,Ue.tZ)(d.ua7,{placement:"left",content:C(wj)},(0,Ue.tZ)(d.hU,{"aria-label":C(wj),icon:hj||(hj=(0,Ue.tZ)(d.wHS,null)),size:"medium",onClick:I})):(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.ua7,{passThrough:!T,placement:"left",content:C("webapp_security_dashboard_tooltip_limited_rights")},(0,Ue.tZ)(d.zxk,{type:"button",nature:"secondary",className:gj.passwordChangerButton,size:"medium",onClick:v,disabled:T},bj||(bj=(0,Ue.tZ)(d.HfT,null)),(0,Ue.tZ)("span",{className:gj.passwordChangerLabel},C("webapp_security_dashboard_change_password")))),(0,Ue.tZ)(d.ua7,{placement:"left",content:C(Cj)},(0,Ue.tZ)(d.hU,{"aria-label":C(Cj),icon:yj||(yj=(0,Ue.tZ)(d.upN,null)),size:"medium",onClick:N}))))))},vj=({healthFilter:e,spaceId:t})=>{const{translate:a}=(0,P.Z)(),n=(e=>{const t={filterToken:{filterCriteria:null===e?[]:[{field:"spaceId",value:e,type:"equals"}]},sortToken:{sortCriteria:[],uniqField:"id"}},a=btoa(JSON.stringify(t));return(0,W.qr)({queryConfig:{query:u.C.getCredentialsCount,queryParam:t},liveConfig:{live:u.C.liveCredentialsCount,liveParam:a}},[e])})(t);if(n.status!==W.rq.Success)return null;const i=n.data>0?(e=>{switch(e){case pj._x.All:return"webapp_password_health_list_empty";case pj._x.Compromised:return"webapp_password_health_list_empty_compromised";case pj._x.Excluded:return"webapp_password_health_list_empty_excluded";case pj._x.Reused:return"webapp_password_health_list_empty_reused";case pj._x.Weak:return"webapp_password_health_list_empty_weak";default:(0,qr.U)(e)}})(e):"webapp_password_health_list_empty_vault",s=n.data>0?(e=>{switch(e){case pj._x.All:case pj._x.Compromised:case pj._x.Weak:case pj._x.Reused:return(0,Ue.tZ)(d.H0w,{size:96,color:d.O9T.dashGreen04});case pj._x.Excluded:return(0,Ue.tZ)(d.Cmj,{size:96,color:d.O9T.dashGreen04});default:(0,qr.U)(e)}})(e):(0,Ue.tZ)(d.Cmj,{size:96,color:d.O9T.dashGreen04});return(0,Ue.tZ)("div",{"data-testid":"empty-list",sx:{margin:"auto",textAlign:"center"}},(0,Ue.tZ)("div",{sx:{display:"inline-block",marginBottom:"27px"}},s),(0,Ue.tZ)(d.nvN,{sx:{width:"384px",color:"ds.text.neutral.quiet",lineHeight:"1.5"}},a(i)))},Nj="32px",Sj=2*parseFloat(Nj)+parseFloat("32px")*parseFloat("1.25"),Ij={rootContainer:{height:"100%",backgroundColor:"ds.background.alternate"},headerContainer:{top:0,width:"100%",height:Sj,padding:"16px 0px",backgroundColor:"ds.background.alternate",position:"absolute",zIndex:2},listHeaderContainer:{},listHeader:{backgroundColor:"ds.container.agnostic.neutral.supershy",top:0,zIndex:1,borderColor:"ds.border.neutral.quiet.idle",borderStyle:"solid",padding:`${Nj} ${Nj} 20px`,borderWidth:"1px 1px 0",borderRadius:" 4px 4px 0 0"},listContainer:{backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle",borderStyle:"solid",borderWidth:"0 1px 0",padding:`0 ${Nj} ${Nj}`},listStyle:{width:"100%",isolation:"isolate"},passwordHealthGrid:{padding:`0 ${Nj} 0`,marginTop:Sj,gridTemplateRows:"276px 1fr",overflow:"auto",height:"100%",maxHeight:`calc(100% - ${Sj-32}px)`},passwordHealthScore:{backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px",marginBottom:"16px",padding:"32px 0px 40px 32px"},passwordHealthTips:{backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid transparent",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px",width:"448px",marginLeft:"16px",marginBottom:"16px"}},fj={[pj._x.All]:c.PageView.ToolsPasswordHealthOverview,[pj._x.Compromised]:c.PageView.ToolsPasswordHealthListCompromised,[pj._x.Excluded]:c.PageView.ToolsPasswordHealthListExcluded,[pj._x.Reused]:c.PageView.ToolsPasswordHealthListReused,[pj._x.Weak]:c.PageView.ToolsPasswordHealthListWeak},xj={marginLeft:"auto",paddingBottom:0},Mj=({spaceId:e})=>{const{translate:t}=(0,P.Z)(),[a,i]=(0,n.useState)(pj._x.All),[s,r]=(0,n.useState)(pj.SQ),o=e=>()=>{i(e),r(pj.SQ),(0,v.N)(fj[e])},l=(0,n.useCallback)((()=>{r((e=>e+pj.SQ))}),[]),[c,m]=(0,n.useState)(null),p=(0,n.useCallback)((e=>m(e)),[]),_=(0,n.useCallback)((()=>{m(null)}),[]),g=(0,n.useCallback)(((e,t)=>{p(t)}),[p]),h=async e=>{await u.C.updateCredential({id:e,update:{isExcludedFromHealth:!1}})},b=async e=>{await u.C.updateCredential({id:e,update:{isExcludedFromHealth:!0}})},y=(0,pj.Vl)(e,a,s);return(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.Ejs,{alignItems:"center",sx:{...Ij.listHeader,position:"sticky"}},(0,Ue.tZ)(d.j49,{size:"medium",sx:{color:"ds.text.neutral.quiet"}},t("webapp_password_health_at_risk_title")),c&&(0,Ue.tZ)(cO.R,{credentialId:c,dismissCallback:_}),(0,Ue.tZ)(d.G8v,{sx:xj},(0,Ue.tZ)(d.OTy,{onClick:o(pj._x.All),selected:a===pj._x.All,size:"small",label:t("webapp_password_health_list_filter_all")}),(0,Ue.tZ)(d.OTy,{onClick:o(pj._x.Compromised),selected:a===pj._x.Compromised,size:"small",label:t("webapp_password_health_list_filter_compromised")}),(0,Ue.tZ)(d.OTy,{onClick:o(pj._x.Weak),selected:a===pj._x.Weak,size:"small",label:t("webapp_password_health_list_filter_weak")}),(0,Ue.tZ)(d.OTy,{onClick:o(pj._x.Reused),selected:a===pj._x.Reused,size:"small",label:t("webapp_password_health_list_filter_reused")}),(0,Ue.tZ)(d.OTy,{onClick:o(pj._x.Excluded),selected:a===pj._x.Excluded,size:"small",label:t("webapp_password_health_list_filter_excluded")}))),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",sx:Ij.listContainer},y.status===W.rq.Success?y.data.items.length>0?(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)("ul",{sx:Ij.listStyle},y.data.items.map((e=>(0,Ue.tZ)(Ej,{onRowClick:()=>{(0,Ir.kb)(e.id)},onChangeNowClick:g,onIncludeButtonClick:h,onExcludeButtonClick:b,key:e.id,credential:e,currentFilter:a})))),y.data.matchingCount>y.data.items.length?(0,Ue.tZ)(d.Ejs,{justifyContent:"center",key:s,sx:{marginTop:"20px"}},(0,Ue.tZ)(d.zxk,{type:"button",nature:"secondary",size:"medium",onClick:l},t("webapp_password_health_list_load_more"))):null):(0,Ue.tZ)(vj,{healthFilter:a,spaceId:e}):null))};let Tj,Dj;!function(e){e.CHANGE_PASSWORD="changePassword",e.NEXT="next",e.INCLUDE="include",e.EXCLUDE="exclude",e.CHANGE_NOW="changeNow",e.FILTER="filter",e.DETAIL="detail",e.OPEN_DASHBOARD="openDashboard"}(Tj||(Tj={})),function(e){e.ALL="all",e.COMPROMISED="compromised",e.EXCLUDED="excluded",e.REUSED="reused",e.WEAK="weak"}(Dj||(Dj={}));const Zj=()=>{(0,v.N)(c.PageView.ToolsPasswordHealthOverview)};var Aj,kj,Oj;const Lj=({lee:e,children:t})=>{const{translate:a}=(0,P.Z)(),i=(0,rr.B)(e.globalState),{compromisedPasswordCount:s,passwordHealthScore:r,reusedPasswordCount:o,totalPasswordCount:l,weakPasswordCount:c}=(e=>{const t={filterToken:{filterCriteria:null===e?[]:[{field:"spaceId",value:e,type:"equals"}]},sortToken:{sortCriteria:[],uniqField:"id"}},a=btoa(JSON.stringify(t)),n=(0,W.qr)({queryConfig:{query:u.C.getCompromisedCredentialsCount,queryParam:t},liveConfig:{live:u.C.liveCompromisedCredentialsCount,liveParam:a}},[e]),i=n.status===W.rq.Success?n.data:0,s=(0,W.qr)({queryConfig:{query:u.C.getCredentialsHealthScore,queryParam:t},liveConfig:{live:u.C.liveCredentialsHealthScore,liveParam:a}},[e]),r=s.status===W.rq.Success?s.data:null,o=(0,W.qr)({queryConfig:{query:u.C.getReusedCredentialsCount,queryParam:t},liveConfig:{live:u.C.liveReusedCredentialsCount,liveParam:a}},[e]),l=o.status===W.rq.Success?o.data:0,c=(0,W.qr)({queryConfig:{query:u.C.getWeakCredentialsCount,queryParam:t},liveConfig:{live:u.C.liveWeakCredentialsCount,liveParam:a}},[e]),d=c.status===W.rq.Success?c.data:0,m=(0,W.qr)({queryConfig:{query:u.C.getCredentialsCount,queryParam:t},liveConfig:{live:u.C.liveCredentialsCount,liveParam:a}},[e]);return{compromisedPasswordCount:i,passwordHealthScore:r,reusedPasswordCount:l,totalPasswordCount:m.status===W.rq.Success?m.data:0,weakPasswordCount:d}})(i),m=(0,Ue.tZ)(n.Fragment,null,Aj||(Aj=(0,Ue.tZ)(Uc.D,null)),kj||(kj=(0,Ue.tZ)(Bc.E,null)));return(0,n.useEffect)((()=>{Zj()}),[]),(0,Ue.tZ)(Rd.Z,{lee:e,editPanel:t},(0,Ue.tZ)("div",{sx:Ij.rootContainer},(0,Ue.tZ)(d.Ejs,{sx:Ij.headerContainer},(0,Ue.tZ)(Rc.h,{startWidgets:()=>(0,Ue.tZ)(d.X6q,null,a("webapp_password_health_page_title")),endWidget:m})),(0,Ue.tZ)(d.T5p,{gridTemplateAreas:"'score tips' 'list list'",gridTemplateColumns:"1fr auto",sx:{...Ij.passwordHealthGrid,height:"100%"}},(0,Ue.tZ)(d.dDn,{as:d.Ejs,gridArea:"score",alignItems:"center",justifyContent:"center",sx:Ij.passwordHealthScore},(0,Ue.tZ)(dj,{compromisedPasswordCount:s,passwordHealthScore:r,reusedPasswordCount:o,totalPasswordCount:l,weakPasswordCount:c})),(0,Ue.tZ)(d.dDn,{as:d.Ejs,gridArea:"tips",justifyContent:"center",sx:Ij.passwordHealthTips},Oj||(Oj=(0,Ue.tZ)(mj,null))),(0,Ue.tZ)(d.dDn,{as:d.T5p,gridArea:"list",gridTemplateRows:"auto 1fr"},(0,Ue.tZ)(Mj,{spaceId:i})))))},zj=({severity:e,children:t})=>(0,Ue.tZ)(d.Ejs,{flexDirection:"row",justifyContent:"start",alignItems:"center",flexWrap:"nowrap",sx:{maxHeight:"100%"}},(0,Ue.tZ)("div",{sx:{marginRight:"10px"}},(0,Ue.tZ)(d.SI8,{"aria-label":"item at risk",color:e===wn.CorruptionDataSeverity.STRONG?d.O9T.red00:d.O9T.orange00})),t);var jj,Pj,Rj;const Uj="webapp_security_dashboard_tooltip_exclude",Bj="webapp_security_dashboard_tooltip_include",Fj=({credential:e,onRowClick:t,onChangeNowClick:a,onIncludeButtonClick:s,onExcludeButtonClick:r})=>{const{id:o,title:l,login:c,email:u,autoProtected:m,corruptionData:p,shared:_,excluded:g,domain:h}=e,{translate:b}=(0,P.Z)(),{pathname:y}=(0,i.TH)(),C=(0,n.useCallback)((t=>{t.stopPropagation(),a(h,e.id)}),[a,e.id,h]),w=(0,n.useCallback)((e=>{e.stopPropagation(),r(o,h)}),[o,r,h]),E=(0,n.useCallback)((e=>{e.stopPropagation(),s(o,h)}),[o,s,h]),{routes:v}=(0,S.Xo)(),N=(0,i.k6)(),I=(0,n.useCallback)((()=>{t(h),N.push(v.userVaultItem(o,xl.VaultItemType.Credential,y))}),[o,N,t,v,h]),f=(0,n.useMemo)((()=>(0,Ue.tZ)(d.ua7,{placement:"left",content:b(g?Bj:Uj)},(0,Ue.tZ)(d.hU,{"aria-label":b(g?Bj:Uj),icon:g?jj||(jj=(0,Ue.tZ)(d.wHS,null)):Pj||(Pj=(0,Ue.tZ)(d.upN,null)),size:"medium",onClick:g?E:w}))),[g,w,E,b]);return(0,Ue.tZ)(d.T5p,{as:"li",className:gj.passwordHealthListItem,onClick:I,alignItems:"center",gridTemplateAreas:"'info feedback buttons'",gridTemplateColumns:"2fr 2.5fr auto",gridTemplateRows:"56px"},(0,Ue.tZ)(d.dDn,{as:Gr.Q,title:l,login:c,email:u,domain:h,shared:_,autoProtected:m,gridArea:"info",sx:{overflow:"hidden",marginRight:"16px"}}),(0,Ue.tZ)(d.dDn,{as:d.Ejs,gridArea:"feedback",alignItems:"center",alignSelf:"center",sx:{overflow:"hidden",maxWidth:"100%",textOverflow:"ellipsis",height:"100%"}},!g&&p?(0,Ue.tZ)(zj,{severity:p.severity},(0,Ue.tZ)(d.nvN,{className:gj.riskFeedbackLabel,color:"ds.text.neutral.quiet",sx:{textOverflow:"ellipsis",wordBreak:"break-all",overflow:"hidden"}},((e,t)=>{switch(e.riskType){case wn.RiskType.Compromised:return((e,t,a)=>{const{date:n,precision:i}=qk(e,"short",a);return t?a.markup("webapp_security_dashboard_compromised_credential_markup",{domain:t,date:n}):((e,t,a)=>{switch(a){case Hk.DAY:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_markup",{date:t});case Hk.MONTH:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_month_markup",{date:t});case Hk.YEAR:return e.markup("webapp_security_dashboard_compromised_credential_without_domain_year_markup",{date:t});case Hk.INVALID:return"";default:return(0,qr.U)(a)}})(a,n,i)})(e.date,e.domain,t);case wn.RiskType.Weak:return e.strength===wn.CorruptionDataStrength.WEAK?t("webapp_security_dashboard_weak_credential"):t("webapp_security_dashboard_extremely_weak_credential");case wn.RiskType.Reused:return 1===e.reuseCount?t("webapp_security_dashboard_reused_once_credential"):t("webapp_security_dashboard_reused_credential",{count:e.reuseCount});default:return null}})(p,b))):null),(0,Ue.tZ)(d.dDn,{gridArea:"buttons"},(0,Ue.tZ)(d.Ejs,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",gap:"6px",className:gj.itemButtons},g?f:(0,Ue.tZ)(n.Fragment,null,(0,Ue.tZ)(d.ua7,{passThrough:!0,placement:"left",content:b("webapp_security_dashboard_tooltip_limited_rights")},(0,Ue.tZ)(d.zxk,{type:"button",nature:"secondary",className:gj.passwordChangerButton,size:"medium",onClick:C,disabled:!1},Rj||(Rj=(0,Ue.tZ)(d.HfT,null)),(0,Ue.tZ)("span",{className:gj.passwordChangerLabel},b("webapp_security_dashboard_change_password")))),f))))};var Gj=a(89184);const Wj={[pj._x.All]:c.PageView.ToolsPasswordHealthOverview,[pj._x.Compromised]:c.PageView.ToolsPasswordHealthListCompromised,[pj._x.Excluded]:c.PageView.ToolsPasswordHealthListExcluded,[pj._x.Reused]:c.PageView.ToolsPasswordHealthListReused,[pj._x.Weak]:c.PageView.ToolsPasswordHealthListWeak},Vj={marginLeft:"auto",paddingBottom:0},Hj=({spaceId:e})=>{const{translate:t}=(0,P.Z)(),{updateIsCredentialExcluded:a}=(0,Gj.$)(),[i,s]=(0,n.useState)(pj._x.All),{filteredCredentials:r}=((e,t)=>{const{data:a}=(0,R.k$)(wn.passwordHealthApi,"filterCredentials",{healthFilter:e,spaceId:t});return{filteredCredentials:null!=a?a:[]}})(i,e),o=e=>()=>{s(e),(0,v.N)(Wj[e])},[l,c]=(0,n.useState)(null),u=(0,n.useCallback)((e=>c(e)),[]),m=(0,n.useCallback)((()=>{c(null)}),[]),p=(0,n.useCallback)(((e,t)=>{u(t)}),[u]),_=async e=>{a(e,!1)},g=async e=>{a(e,!0)};return(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.Ejs,{alignItems:"center",sx:{...Ij.listHeader,position:"sticky"}},(0,D.tZ)(d.j49,{size:"medium",sx:{color:"ds.text.neutral.quiet"}},t("webapp_password_health_at_risk_title")),l&&(0,D.tZ)(cO.R,{credentialId:l,dismissCallback:m}),(0,D.tZ)(d.G8v,{sx:Vj},(0,D.tZ)(d.OTy,{onClick:o(pj._x.All),selected:i===pj._x.All,size:"small",label:t("webapp_password_health_list_filter_all")}),(0,D.tZ)(d.OTy,{onClick:o(pj._x.Compromised),selected:i===pj._x.Compromised,size:"small",label:t("webapp_password_health_list_filter_compromised")}),(0,D.tZ)(d.OTy,{onClick:o(pj._x.Weak),selected:i===pj._x.Weak,size:"small",label:t("webapp_password_health_list_filter_weak")}),(0,D.tZ)(d.OTy,{onClick:o(pj._x.Reused),selected:i===pj._x.Reused,size:"small",label:t("webapp_password_health_list_filter_reused")}),(0,D.tZ)(d.OTy,{onClick:o(pj._x.Excluded),selected:i===pj._x.Excluded,size:"small",label:t("webapp_password_health_list_filter_excluded")}))),(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:Ij.listContainer},r.length>0?(0,D.tZ)("ul",{sx:Ij.listStyle},r.map((e=>(0,D.tZ)(Fj,{onRowClick:()=>{(0,Ir.kb)(e.id)},onChangeNowClick:p,onIncludeButtonClick:_,onExcludeButtonClick:g,key:e.id,credential:e})))):(0,D.tZ)(vj,{healthFilter:i,spaceId:e})))};var qj,Yj,Qj,$j;const Kj=({lee:e,children:t})=>{var a,i,s,r;const{translate:o}=(0,P.Z)(),l=(0,rr.B)(e.globalState),{counters:c,isInitialized:u}=(e=>{const{data:t}=(0,R.k$)(wn.passwordHealthApi,"score",{spaceId:e});return{counters:t?.counters,isInitialized:t?.isInitialized}})(l),m=(0,Ue.tZ)(n.Fragment,null,qj||(qj=(0,Ue.tZ)(Uc.D,null)),Yj||(Yj=(0,Ue.tZ)(Bc.E,null))),p=c?.score&&u?c.score:null;return(0,n.useEffect)((()=>{Zj()}),[]),(0,Ue.tZ)(Rd.Z,{lee:e,editPanel:t},u?null:(0,Ue.tZ)(d.YcA,null,(0,Ue.tZ)(d.bZj,{severity:d.BLW.SUBTLE,showIcon:!1},(0,Ue.tZ)(d.T5p,{as:"span",gap:20,gridTemplateColumns:"20px 1fr",alignItems:"center",sx:{paddingRight:"4px"}},Qj||(Qj=(0,Ue.tZ)(d.HoD,{size:24,color:"ds.text.brand.standard"})),"Calculating your password health score, it should not be long."))),(0,Ue.tZ)("div",{sx:Ij.rootContainer},(0,Ue.tZ)(d.Ejs,{sx:Ij.headerContainer},(0,Ue.tZ)(Rc.h,{startWidgets:()=>(0,Ue.tZ)(d.X6q,null,o("webapp_password_health_page_title")),endWidget:m})),(0,Ue.tZ)(d.T5p,{gridTemplateAreas:"'score tips' 'list list'",gridTemplateColumns:"1fr auto",sx:Ij.passwordHealthGrid},(0,Ue.tZ)(d.dDn,{as:d.Ejs,gridArea:"score",alignItems:"center",justifyContent:"center",sx:Ij.passwordHealthScore},(0,Ue.tZ)(dj,{compromisedPasswordCount:null!=(a=c?.compromised)?a:0,passwordHealthScore:p,reusedPasswordCount:null!=(i=c?.reused)?i:0,totalPasswordCount:null!=(s=c?.total)?s:0,weakPasswordCount:null!=(r=c?.weak)?r:0})),(0,Ue.tZ)(d.dDn,{as:d.Ejs,gridArea:"tips",justifyContent:"center",sx:Ij.passwordHealthTips},$j||($j=(0,Ue.tZ)(mj,null))),(0,Ue.tZ)(d.dDn,{as:d.T5p,gridArea:"list",gridTemplateRows:"auto 1fr"},(0,Ue.tZ)(Hj,{spaceId:l})))))},Xj=({path:e})=>{const t=(0,Be.w)("ims_web_ph_mv3_dev"),a=(0,Be.w)("ims_web_ph_mv3_prod");return n.createElement(i.Vy,{path:e,component:t||a?Kj:Lj})},Jj=n.createElement("svg",{width:"108",height:"29",viewBox:"0 0 108 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M16.3936 19.6628C16.124 19.4498 15.8005 19.2902 15.423 19.1837C15.0455 19.0773 14.668 19.024 14.3445 19.024C14.0748 19.024 13.8051 19.0773 13.5355 19.1304C13.2658 19.1837 12.9962 19.2902 12.7805 19.3966C12.5648 19.503 12.3491 19.6627 12.1334 19.8756C11.9177 20.0885 11.8098 20.3014 11.7019 20.5143C11.7019 20.1417 11.5941 19.8756 11.3784 19.6627C11.2165 19.4498 10.947 19.2901 10.6774 19.1837C10.4077 19.0772 10.0842 19.0239 9.76065 19.0239C9.43709 19.0239 9.11343 19.0773 8.73596 19.1304V20.5142C8.95166 20.5142 9.16738 20.5142 9.27524 20.5675C9.43707 20.6209 9.49101 20.674 9.54494 20.7804C9.59895 20.8869 9.65267 20.9934 9.65267 21.153C9.65267 21.3128 9.65267 21.4723 9.65267 21.6852V28.1255H11.7019V22.9627C11.7019 22.5901 11.7559 22.2707 11.9176 22.0046C12.0255 21.7385 12.1874 21.5256 12.4031 21.3659C12.6188 21.2061 12.8884 21.0466 13.158 20.9934C13.4277 20.94 13.7511 20.8336 14.0208 20.8336C14.56 20.8336 15.0455 20.94 15.4769 21.153L16.3936 19.6628Z",fill:"#00A6CA"}),n.createElement("path",{d:"M25.3995 26.7418C25.2376 26.6884 25.1837 26.582 25.1298 26.4756C25.0758 26.3691 25.022 26.2095 25.022 26.0498C25.022 25.8901 25.022 25.7305 25.022 25.5176V19.8757C24.4289 19.6095 23.8356 19.3966 23.1885 19.2902C22.5953 19.1304 21.9482 19.0773 21.3011 19.0773C20.5461 19.0773 19.899 19.1837 19.2518 19.3966C18.6586 19.6095 18.1194 19.9289 17.634 20.3547C17.1487 20.7805 16.8251 21.2595 16.5554 21.8982C16.2858 22.4837 16.124 23.1756 16.124 23.9208C16.124 24.5595 16.1781 25.145 16.3937 25.6772C16.5556 26.2095 16.8252 26.6885 17.1487 27.1143C17.4723 27.5401 17.9037 27.8594 18.443 28.0723C18.9822 28.2853 19.5754 28.3917 20.2225 28.3917C20.8697 28.3917 21.5168 28.232 22.1099 27.8594C22.7031 27.5401 23.1345 27.0611 23.3502 26.4224C23.3502 26.9014 23.4042 27.274 23.5659 27.5401C23.7278 27.8062 23.8896 28.0191 24.1592 28.1256C24.4288 28.2853 24.6985 28.3385 25.022 28.3385C25.3456 28.3385 25.6692 28.3385 25.9927 28.2321V26.7418C25.7231 26.7951 25.5073 26.7951 25.3995 26.7418ZM23.0267 23.6546C23.0267 24.5063 22.8109 25.145 22.3795 25.6772C22.0021 26.2095 21.4088 26.4756 20.6538 26.4756C19.791 26.4756 19.1978 26.2095 18.7664 25.7305C18.335 25.2514 18.1733 24.6127 18.1733 23.7611C18.1733 23.2821 18.281 22.8563 18.4429 22.4305C18.6047 22.0579 18.7665 21.6853 19.0361 21.4192C19.3058 21.1531 19.5753 20.9402 19.9528 20.7805C20.2764 20.6208 20.7078 20.5676 21.1392 20.5676C21.4089 20.5676 21.7324 20.5676 22.056 20.6209C22.3795 20.6742 22.7031 20.7806 23.0267 20.887V23.6546Z",fill:"#00A6CA"}),n.createElement("path",{d:"M35.1602 20.1418C34.8906 19.8224 34.5131 19.5563 34.0278 19.3434C33.5964 19.1305 33.0571 19.0241 32.41 19.0241C32.0864 19.0241 31.8168 19.0241 31.4932 19.0774C31.1697 19.1307 30.9 19.2371 30.6304 19.3435C30.3608 19.4499 30.0911 19.6096 29.8754 19.8225C29.6597 20.0354 29.444 20.2483 29.3361 20.5677C29.3361 20.1419 29.2282 19.8226 29.0664 19.6097C28.9046 19.3968 28.6889 19.2371 28.4193 19.1306C28.1497 19.0773 27.8262 19.0242 27.5026 19.0242C27.179 19.0242 26.8016 19.0775 26.478 19.1306V20.5144C26.6937 20.5144 26.9094 20.5145 27.0173 20.5678C27.1791 20.6211 27.233 20.6742 27.2869 20.7807C27.3409 20.8871 27.3947 20.9935 27.3947 21.1532C27.3947 21.3129 27.3947 21.5258 27.3947 21.7919V28.1258H29.444V23.0693C29.444 22.6968 29.4977 22.3774 29.6057 22.1113C29.7135 21.7919 29.8754 21.579 30.0911 21.3661C30.3068 21.1532 30.5225 20.9936 30.7921 20.8871C31.0618 20.7807 31.3854 20.7274 31.709 20.7274C32.3022 20.7274 32.8414 20.9403 33.2189 21.3129C33.6504 21.6854 33.8121 22.2709 33.8121 22.9628V28.1789H35.8613V22.9628C35.8613 22.4306 35.8073 21.8984 35.6456 21.4193C35.6996 20.8871 35.4837 20.5145 35.1602 20.1419V20.1418Z",fill:"#00A6CA"}),n.createElement("path",{d:"M44.3277 23.495C44.0042 23.2821 43.5728 23.1757 43.1413 23.0692C42.7099 22.9628 42.2245 22.9096 41.7392 22.8564C41.0382 22.75 40.499 22.6435 40.1215 22.537C39.744 22.3773 39.5822 22.1644 39.5822 21.7919C39.5822 21.579 39.6361 21.4193 39.7439 21.2596C39.8518 21.0999 39.9597 20.9935 40.1754 20.887C40.3372 20.7806 40.5529 20.6741 40.7686 20.6209C40.9843 20.5676 41.2539 20.5145 41.4696 20.5145C41.6854 20.5145 41.9551 20.5145 42.1708 20.5678C42.4404 20.6211 42.656 20.6742 42.8178 20.7807C43.0335 20.8871 43.1414 20.9936 43.3032 21.1533C43.411 21.313 43.5189 21.4726 43.5189 21.6855H45.2984C45.2984 21.2597 45.2445 20.8339 45.0289 20.5146C44.8132 20.1952 44.5435 19.9291 44.2199 19.6629C43.8424 19.45 43.4649 19.2371 42.9796 19.1307C42.4943 19.0243 42.0089 18.9709 41.4696 18.9709C40.9843 18.9709 40.499 19.0243 40.0136 19.1307C39.5283 19.2371 39.1509 19.3968 38.7734 19.6629C38.3959 19.8758 38.1262 20.1952 37.9105 20.5146C37.6948 20.8339 37.587 21.2597 37.587 21.7388C37.587 22.271 37.7487 22.6435 37.9644 22.9629C38.234 23.2822 38.5036 23.4952 38.8811 23.6548C39.2586 23.8146 39.69 23.921 40.1754 24.0274C40.6607 24.0807 41.0922 24.1872 41.5775 24.2403C42.1707 24.2936 42.6561 24.4532 43.0336 24.6129C43.4111 24.7726 43.5728 25.0387 43.5728 25.4645C43.5728 25.7306 43.5187 25.9435 43.357 26.1564C43.1952 26.3161 43.0336 26.4757 42.8718 26.5822C42.6561 26.6886 42.4404 26.7419 42.1708 26.7951C41.9011 26.8484 41.6854 26.8485 41.4158 26.8485C41.1461 26.8485 40.9304 26.7951 40.6608 26.7951C40.4451 26.7418 40.2294 26.6354 40.0136 26.529C39.7979 26.4226 39.69 26.2629 39.5282 26.1032C39.4204 25.9435 39.3125 25.7307 39.3125 25.5177H37.3173C37.3713 26.05 37.4791 26.529 37.7487 26.9016C38.0183 27.2741 38.288 27.5403 38.7194 27.7532C39.0969 27.9661 39.5283 28.1258 40.0136 28.2322C40.499 28.3386 40.9843 28.392 41.4696 28.392C41.955 28.392 42.4403 28.3386 42.9256 28.2322C43.411 28.1258 43.8425 27.9661 44.166 27.7C44.4896 27.4338 44.8132 27.1677 45.0289 26.8483C45.2446 26.4758 45.3524 26.05 45.3524 25.571C45.3524 25.0387 45.2446 24.6129 45.0289 24.2935C44.9211 23.921 44.6513 23.7081 44.3277 23.4952V23.495Z",fill:"#00A6CA"}),n.createElement("path",{d:"M67.1928 20.1418C66.9231 19.8224 66.5457 19.5563 66.0603 19.3434C65.6289 19.1305 65.0896 19.0241 64.4425 19.0241C64.119 19.0241 63.8494 19.0241 63.5258 19.0774C63.2022 19.1307 62.9326 19.2371 62.663 19.3435C62.3933 19.4499 62.1237 19.6096 61.908 19.8225C61.6923 20.0354 61.4766 20.2483 61.3687 20.5677C61.3687 20.1419 61.2608 19.8226 61.099 19.6097C60.9372 19.3968 60.7216 19.2371 60.452 19.1306C60.1824 19.0773 59.8587 19.0242 59.5352 19.0242C59.2116 19.0242 58.8341 19.0775 58.5645 19.1306V20.5144C58.7802 20.5144 58.9959 20.5145 59.1037 20.5678C59.2656 20.6211 59.3195 20.6742 59.3734 20.7807C59.4274 20.8871 59.4812 20.9935 59.4812 21.1532C59.4812 21.3129 59.4812 21.5258 59.4812 21.7919V28.1258H61.5304V23.0693C61.5304 22.6968 61.5844 22.3774 61.6923 22.1113C61.8001 21.7919 61.9618 21.579 62.1776 21.3661C62.3933 21.1532 62.609 20.9936 62.8787 20.8871C63.1483 20.7807 63.4718 20.7274 63.7954 20.7274C64.3886 20.7274 64.9279 20.9403 65.3054 21.3129C65.7368 21.6854 65.8985 22.2709 65.8985 22.9628V28.1789H67.9478V22.9628C67.9478 22.4306 67.8938 21.8984 67.732 21.4193C67.732 20.8871 67.5163 20.5145 67.1928 20.1419V20.1418Z",fill:"#00A6CA"}),n.createElement("path",{d:"M70.806 15.2983C70.4824 15.2983 70.2128 15.4047 69.9431 15.6176C69.6735 15.8305 69.5657 16.0967 69.5657 16.5225C69.5657 16.9483 69.7275 17.2144 69.9431 17.4273C70.2128 17.6402 70.4824 17.7467 70.806 17.6934C71.1295 17.6934 71.3992 17.587 71.6149 17.3741C71.8846 17.1612 71.9924 16.895 71.9924 16.4693C71.9924 16.0434 71.8846 15.7773 71.6149 15.5644C71.3992 15.3515 71.1295 15.2983 70.806 15.2983Z",fill:"#00A6CA"}),n.createElement("path",{d:"M71.8307 19.237H69.7815V28.1788H71.8307V19.237Z",fill:"#00A6CA"}),n.createElement("path",{d:"M81.3756 20.195C80.9442 19.8224 80.4049 19.5563 79.8117 19.3434C79.2185 19.1305 78.6253 19.0773 77.9782 19.0773C77.385 19.0773 76.7918 19.1837 76.2525 19.3434C75.7132 19.5563 75.1739 19.8224 74.7425 20.195C74.3111 20.5676 73.9336 21.0466 73.664 21.6321C73.3943 22.2176 73.2325 22.8563 73.2325 23.6546C73.2325 24.453 73.3944 25.145 73.664 25.6772C73.9336 26.2627 74.3111 26.7417 74.7425 27.1675C75.1739 27.5401 75.7132 27.8594 76.2525 28.0191C76.8457 28.232 77.3849 28.2852 78.0321 28.2852C78.6253 28.2852 79.2185 28.1788 79.8117 28.0191C80.4049 27.8594 80.8902 27.5401 81.3216 27.1675C81.753 26.7949 82.1305 26.3159 82.4001 25.6772C82.6698 25.0918 82.8316 24.3998 82.8316 23.6546C82.8316 22.8563 82.6697 22.2176 82.4001 21.6321C82.1844 21.0466 81.807 20.5676 81.3756 20.195ZM80.5667 24.9321C80.4049 25.3047 80.1892 25.5708 79.9735 25.8369C79.7578 26.1031 79.4342 26.2627 79.1106 26.3692C78.7871 26.4756 78.4635 26.5821 78.1399 26.5821C77.8164 26.5821 77.4389 26.5288 77.1153 26.4223C76.7918 26.3159 76.4682 26.103 76.2525 25.8901C75.9829 25.624 75.7671 25.3578 75.6054 24.9852C75.4435 24.6127 75.3897 24.1868 75.3897 23.7078C75.3897 23.2288 75.4435 22.8563 75.6054 22.4837C75.7672 22.1111 75.929 21.845 76.1986 21.6321C76.4683 21.4191 76.7378 21.2063 77.0614 21.0998C77.3849 20.9934 77.7085 20.9401 78.0321 20.8869C78.3556 20.8869 78.7332 20.9402 79.0567 21.0466C79.3803 21.153 79.7038 21.3128 79.9735 21.5789C80.2431 21.7918 80.4588 22.1112 80.6206 22.4837C80.7824 22.8563 80.8903 23.2821 80.8903 23.7611C80.8363 24.1337 80.7285 24.5595 80.5667 24.9321Z",fill:"#00A6CA"}),n.createElement("path",{d:"M0 17.108V15.1918H9.76075V17.108H5.93193V28.1788H3.77482V17.108H0Z",fill:"#00A6CA"}),n.createElement("path",{d:"M47.0243 23.8143V15.1918H49.1813V23.7611C49.1813 25.4643 50.4755 26.4224 52.1472 26.4224C53.819 26.4224 55.0593 25.4643 55.0593 23.7611V15.1918H57.2165V23.8143C57.2165 26.6885 54.8975 28.3385 52.1472 28.3385C49.3431 28.3385 47.0243 26.6885 47.0243 23.8143Z",fill:"#00A6CA"}),n.createElement("path",{d:"M93.0239 26.0499V24.6128V22.8564C93.0239 22.3241 92.97 21.7918 92.8083 21.3128C92.6465 20.8338 92.4308 20.4612 92.1612 20.0886C91.8915 19.7693 91.514 19.5031 91.0286 19.2902C90.5972 19.0773 90.0579 18.9709 89.4108 18.9709C89.0872 18.9709 88.8176 18.9709 88.4941 19.0242C88.1705 19.0775 87.9009 19.184 87.6312 19.2904C87.3616 19.3968 87.0919 19.5564 86.8762 19.7693C86.6605 19.9823 86.4448 20.1952 86.337 20.5145C86.337 20.0887 86.2292 19.7694 86.0674 19.5565C85.9055 19.3436 85.6899 19.1839 85.4202 19.0775C85.1506 19.0242 84.827 18.971 84.5034 18.971C84.1799 18.971 83.8025 19.0244 83.5328 19.0775V20.4613C83.7486 20.4613 83.9643 20.4613 84.0721 20.5146C84.2339 20.5679 84.2878 20.621 84.3417 20.7275C84.3957 20.8339 84.4495 20.9404 84.4495 21.1001C84.4495 21.2598 84.4495 21.4726 84.4495 21.7388V28.0726H86.4987V23.0162C86.4987 22.6436 86.5527 22.3242 86.6605 22.0581C86.7683 21.7388 86.9302 21.5259 87.1459 21.313C87.3617 21.1001 87.5773 20.9404 87.8469 20.834C88.1166 20.7276 88.4401 20.6742 88.7636 20.6742C89.3568 20.6742 89.8961 20.8871 90.2736 21.2597C90.705 21.6323 90.8669 22.2177 90.8669 22.9097V25.9435V26.1564C90.8669 28.3387 92.215 28.5516 93.9946 28.2322V26.9548C93.1857 27.0081 93.0239 26.7419 93.0239 26.0499V26.0499Z",fill:"#00A6CA"}),n.createElement("path",{d:"M98.3627 0.608155C94.8574 0.608155 91.7836 2.47105 90.1658 5.29199C89.5726 6.4097 89.4647 7.36774 89.9501 8.16613C90.4893 9.12418 91.7298 9.23065 92.3769 9.23065H93.5632L93.1317 10.5612C92.8621 11.3596 92.97 12.2645 93.4015 12.85C93.8329 13.4354 94.48 13.7548 95.2889 13.7548C95.8281 13.7548 96.4213 13.6484 96.9606 13.4354C96.7987 13.2226 96.691 13.0097 96.5831 12.7435C96.5291 12.5306 96.4213 12.3177 96.4213 12.0516C96.0977 12.2113 95.7202 12.2645 95.3427 12.2645C95.127 12.2645 94.8035 12.2112 94.6417 11.9451C94.4799 11.7322 94.426 11.4129 94.5339 11.0403L95.1271 9.23065H97.0146L97.4998 7.6871H95.6663L96.4753 5.18553H94.8574L94.0486 7.6871H92.3229C91.7836 7.6871 91.46 7.52741 91.2982 7.26135C91.1364 6.942 91.2982 6.30328 91.7296 5.55812V5.50477C93.1857 3.42899 95.5585 2.04514 98.3088 2.04514C102.677 2.04514 106.236 5.55801 106.236 9.86924C106.236 14.1805 102.677 17.6933 98.3088 17.6933C94.4261 17.6933 91.1904 14.9257 90.4893 11.3063L88.9794 11.6257C89.8422 15.9369 93.6711 19.2369 98.3088 19.2369C103.54 19.2369 107.8 15.0321 107.8 9.86924C107.854 4.81285 103.594 0.608093 98.3627 0.608093V0.608155Z",fill:"#00A6CA"}),n.createElement("path",{d:"M104.402 12.5306C104.025 12.5306 103.54 12.4773 103.216 12.2645C103.108 12.1581 102.946 12.0516 102.892 11.7855C102.892 11.6791 102.892 11.5193 102.946 11.3597L104.133 7.79358H102.515L101.49 10.8806C101.221 11.679 100.358 12.3177 99.6031 12.3177C99.3873 12.3177 99.1176 12.2644 99.0098 12.0516C98.902 11.8919 98.7941 11.679 98.9558 11.3064L100.142 7.74036H98.5244L97.4998 10.8274C97.2302 11.5726 97.3379 12.371 97.7694 12.9564C98.2008 13.4887 98.794 13.8081 99.6029 13.8081C100.358 13.8081 101.167 13.4887 101.814 12.9564C102.03 13.2758 102.299 13.4887 102.677 13.6484C103.216 13.8081 103.54 13.8081 103.917 13.8081C104.079 13.8081 104.295 13.7548 104.348 13.7548C104.402 13.7015 104.403 13.6484 104.456 13.5951C104.51 13.4887 104.564 13.3822 104.618 13.2757C104.672 13.1693 104.726 13.0628 104.78 12.9564C104.834 12.85 104.888 12.7435 104.942 12.637C104.996 12.5837 104.996 12.4773 105.05 12.4241C104.888 12.5305 104.672 12.5305 104.402 12.5305V12.5306Z",fill:"#00A6CA"}),n.createElement("path",{d:"M95.1271 27.1143C95.1271 25.5175 97.5538 25.5175 97.5538 27.1143C97.5538 28.711 95.1271 28.711 95.1271 27.1143ZM97.3381 27.1143C97.3381 25.7304 95.3428 25.7304 95.3428 27.1143C95.3428 28.4981 97.3381 28.4981 97.3381 27.1143ZM96.8526 27.6465L96.6371 27.6999L96.3135 27.2741H96.0438V27.6999H95.8819V26.5289H96.3674C96.5831 26.5289 96.7988 26.6886 96.7988 26.9015C96.7988 27.0612 96.6909 27.2208 96.5291 27.2208L96.8526 27.6465ZM96.0978 27.1143H96.3674C96.5292 27.1143 96.6371 27.0078 96.6371 26.9014C96.6371 26.7416 96.5292 26.6885 96.3674 26.6885H96.0978V27.1143Z",fill:"#00A6CA"})),eP=n.createElement("svg",{width:"43",height:"23",viewBox:"0 0 43 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 11.5V23H21.5H43V11.5V-1.90735e-06H21.5H0V11.5ZM41.3865 11.5V21.3789H21.4872H1.58785V11.5V1.62114H21.4872H41.3865V11.5Z",fill:"#00A4E4"}),n.createElement("path",{d:"M31.2192 4.82798C30.6686 4.8761 30.0411 5.00022 29.5596 5.15474C28.5429 5.47897 27.7643 5.95011 27.0063 6.69989C26.1304 7.56619 25.5644 8.55661 25.2494 9.7674C25.0752 10.4488 25.0368 10.7756 25.0368 11.6013C25.0343 12.3511 25.0548 12.5563 25.1751 13.1389C25.3877 14.1521 25.8871 15.1729 26.553 15.9582C26.8142 16.2646 27.3776 16.8067 27.667 17.0296C28.612 17.7566 29.7235 18.1872 30.9938 18.3139C31.4522 18.362 32.4536 18.3341 32.8583 18.2658C33.8315 18.0986 34.692 17.7439 35.4091 17.2095C36.4258 16.4521 37.2018 15.3452 37.5706 14.1242C37.7755 13.4428 37.8523 12.9084 37.8702 11.9863L37.8856 11.3227H35.1658H32.4485V12.2472V13.1718H34.0876C35.3809 13.1718 35.7266 13.1794 35.7266 13.2022C35.7266 13.2807 35.5704 13.8355 35.4987 14.0153C35.2119 14.7271 34.715 15.3654 34.126 15.7783C33.8776 15.9506 33.3833 16.1988 33.1144 16.2849C32.0592 16.6218 30.8145 16.523 29.7722 16.0189C28.4584 15.3857 27.5338 14.1622 27.2393 12.6703C27.0524 11.7229 27.1266 10.6489 27.4391 9.76487C28.0435 8.05254 29.4444 6.9304 31.2525 6.71002C31.6315 6.66443 32.4664 6.69229 32.8173 6.76322C33.98 6.99373 34.9865 7.63205 35.7394 8.61994L35.888 8.81751L36.0698 8.64273C36.1697 8.54901 36.4873 8.24758 36.7767 7.97655C37.0661 7.70551 37.3042 7.47754 37.3094 7.46994C37.3247 7.43447 36.897 6.938 36.6204 6.67203C35.9392 6.01597 35.0275 5.46884 34.1132 5.1674C33.3705 4.9217 32.8327 4.83558 31.9619 4.82544C31.6162 4.82291 31.2832 4.82291 31.2192 4.82798Z",fill:"#00A4E4"}),n.createElement("path",{d:"M11.4146 5.24846C11.3813 5.32192 9.98552 8.25264 8.31316 11.7584C6.64336 15.2666 5.27576 18.1416 5.27576 18.1492C5.27576 18.1568 5.76748 18.1594 6.36932 18.1568L7.46033 18.1492L8.17999 16.5737L8.89964 14.9981L11.6912 14.9956H14.4853L15.1793 16.5711L15.8734 18.1492L16.9644 18.1568C17.5637 18.1594 18.0554 18.1543 18.0554 18.1467C18.0554 18.1264 18.1373 18.3063 13.8937 8.95429C13.3072 7.65738 12.6797 6.2794 12.5056 5.88932C12.3289 5.49923 12.1727 5.16487 12.1599 5.14714C12.1394 5.12687 12.0369 5.11674 11.8064 5.11674H11.4761L11.4146 5.24846ZM12.69 10.8794C13.2048 12.0319 13.6222 12.9818 13.6171 12.9869C13.612 12.992 12.7463 12.992 11.6963 12.9894L9.78576 12.9818L10.7615 10.8718C11.2968 9.71167 11.7398 8.76685 11.745 8.77192C11.7501 8.77698 12.1752 9.72434 12.69 10.8794Z",fill:"#00A4E4"}),n.createElement("path",{d:"M20.3091 11.7153V18.1366H21.3079H22.3067V11.7153V5.29405H21.3079H20.3091V11.7153Z",fill:"#00A4E4"}));var tP,aP,nP,iP,sP;const rP={type:"",action:""},oP=({button:e,shouldDisplay:t,description:a,title:n,icon:i,companyIcon:s})=>t?(0,D.tZ)("section",{className:"premiumPlusSection--GPB6pya_0j"},(0,D.tZ)("div",null,(0,D.tZ)("div",{className:"premiumPlusIconWrapper--v8Pyq5bOLv"},i)),(0,D.tZ)("div",null,(0,D.tZ)("h2",{className:"premiumPlusTitle--F3qUtT4jdw"},n,(0,D.tZ)("span",{className:"premiumPlusTitleIcon--LuidgTXjtd"},s)),(0,D.tZ)("div",{className:"premiumPlusDescription--W68S_tWUDM"},a),e)):null,lP=({lee:e})=>{const{translate:t}=(0,P.Z)(),a=(0,_m.Y)();function i(e){return a.status===W.rq.Success&&!!a.data.capabilities?.[e]?.enabled}return(0,D.tZ)(Rd.Z,{lee:e},(0,D.tZ)(Rc.h,{sx:{marginTop:"16px"},startWidgets:()=>(0,D.tZ)(d.X6q,{sx:{fontWeight:"700"}},t("webapp_premium_plus_title")),endWidget:(0,D.tZ)(n.Fragment,null,tP||(tP=(0,D.tZ)(Uc.D,null)),aP||(aP=(0,D.tZ)(Bc.E,null)))}),(0,D.tZ)("div",{className:"rootContainer--VE0PAAxxgG"},(0,D.tZ)("div",{className:"premiumPlusContainer--v7bgUfMVzi"},(0,D.tZ)(oP,{icon:nP||(nP=(0,D.tZ)(d.op_,{size:52})),companyIcon:Jj,description:t.markup("webapp_premium_plus_credit_monitoring_description_markup"),title:t("webapp_premium_plus_credit_monitoring_title"),shouldDisplay:i("creditMonitoring"),button:(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:()=>(0,b.Yk)("https://www.creditviewdashboard.com/CreditView/welcome.page?enterprise=Dashlane",rP)},t("webapp_premium_plus_credit_monitoring_button"))}),(0,D.tZ)(oP,{icon:iP||(iP=(0,D.tZ)(d.Wz1,{size:47})),companyIcon:eP,description:t.markup("webapp_premium_plus_identity_theft_description_markup"),title:t("webapp_premium_plus_identity_theft_title"),shouldDisplay:i("identityTheftProtection"),button:(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:()=>(0,b.Yk)("https://support.dashlane.com/hc/en-us/articles/360000040299",rP)},t("webapp_premium_plus_identity_theft_button"))}),(0,D.tZ)(oP,{icon:sP||(sP=(0,D.tZ)(d.bmX,{size:52})),companyIcon:Jj,description:t.markup("webapp_premium_plus_identity_restauration_description_markup"),title:t("webapp_premium_plus_identity_restauration_title"),shouldDisplay:i("identityRestoration"),button:(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:()=>(0,b.Yk)("https://support.dashlane.com/hc/en-us/articles/360000040279",rP)},t("webapp_premium_plus_identity_restauration_button"))}))))},cP=({path:e})=>n.createElement(i.Vy,{path:e,component:lP});var dP=a(451707);const uP=({setCancellationStep:e})=>{var t,a;const i=(0,_m.Y)(),{translate:s}=(0,P.Z)(),[r,o]=(0,n.useState)(!1),l=(0,dP.rU)(r);if((0,n.useEffect)((()=>{u.C.fetchInvoiceList().then((()=>o(!0)))}),[]),i.status!==W.rq.Success||!i.data)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const{planType:c}=i.data,m=(0,j.yf)(i.data),p=null!=(t=c?.includes("ios"))&&t,_=null!=(a=c?.includes("playstore"))&&a,g=l>0,h=((e,t,a)=>e?a?"manage_subscription_billing_section_desc_past_bills_apple":"manage_subscription_billing_section_desc_no_bills_apple":t?a?"manage_subscription_billing_section_desc_past_bills_google":"manage_subscription_billing_section_desc_no_bills_google":a?"manage_subscription_billing_section_desc_with_bills":"manage_subscription_billing_section_desc_no_bills")(p,_,g);return(0,D.tZ)(d.Zbd,{sx:{marginBottom:"16px",padding:"32px"}},(0,D.tZ)(d.X6q,{sx:{marginBottom:"8px"},size:"small"},s("manage_subscription_billing_section_title")),(0,D.tZ)(d.nvN,{color:d.O9T.grey00,sx:{marginBottom:"0px"}},s(h)),m?(0,D.tZ)("div",{sx:{marginTop:"34px"}},p||_?(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:()=>{(0,b.Yk)(p?bp.XP:bp.zF,{type:"billingSupport",action:"goToExternalSupport"})},sx:{marginRight:"8px"}},s("manage_subscription_learn_more_button"),(0,D.tZ)(d.RTC,{color:d.O9T.dashGreen01,style:{marginLeft:"8px"}})):null,g?(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:()=>{e(eR.INVOICE_LIST)}},s("manage_subscription_billing_section_view_receipts_button")):null):null)},mP="invoiceListColumn--xeaZ0sRdyJ",pP=({invoice:e,onDownloadInvoiceRequested:t,onCustomizeInvoiceRequested:a})=>{const{translate:i}=(0,P.Z)(),s=e.currency||"usd",r=i.price(s,e.amountPaid/100),o=(e=>"premiumplus"===e.planFeature?"manage_subscription_plan_name_premium_plus":"advanced"===e.planFeature?"manage_subscription_plan_name_advanced":"essentials"===e.planFeature?"manage_subscription_plan_name_essentials":["family_created","family_renewed"].includes(e.eventType)?"manage_subscription_plan_name_family":"sync"===e.planFeature?"manage_subscription_plan_name_premium":"default_category_name_other")(e),l=e.duration.includes("M-")?"manage_subscription_billing_section_table_duration_monthly":"manage_subscription_billing_section_table_duration_annual",c=`${i(o)} (${i(l)})`,u=[{key:"planDuration",content:(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.nvN,{style:{fontWeight:500,fontSize:14},color:d.O9T.black},c),(0,D.tZ)(d.nvN,{style:{fontSize:12},color:d.O9T.grey00},i("manage_subscription_billing_section_table_order",{order:e.invoiceId}))),className:mP},{key:"startDate",content:(m=e.startDate,i.shortDate((0,xt.Z)(m),Ze._T.LL)),className:mP},{key:"price",content:r,className:mP},{key:"button",content:(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:()=>a(e),size:"small"},i("manage_subscription_billing_section_table_add_details_button")),(0,D.tZ)(d.zxk,{type:"button",nature:"primary",onClick:()=>t(e),sx:{padding:"4px",height:"32px",minWidth:"32px",marginLeft:"10px"},"aria-label":i("team_account_billing_date_cta_invoice")},(0,D.tZ)(d._8t,{color:d.O9T.white}))),className:mP}];var m;return(0,D.tZ)(Bu.Z,{style:{padding:"0px"},data:u})},_P={ALL_YEARS_FILTER:"manage_subscription_billing_section_filter_years",ALL_PLANS_FILTER:"manage_subscription_billing_section_filter_all_plans",PLAN_NAME_ADVANCED:"manage_subscription_plan_name_advanced",PLAN_NAME_ESSENTIALS:"manage_subscription_plan_name_essentials",PLAN_NAME_FAMILY:"manage_subscription_plan_name_family",PLAN_NAME_PREMIUM:"manage_subscription_plan_name_premium",PLAN_NAME_OTHER:"manage_subscription_billing_section_filter_plans_others"},gP=({changePlanFilter:e,changeYearFilter:t,currentPlanFilter:a,currentYearFilter:n})=>{const{translate:i}=(0,P.Z)(),s=(0,dP.uv)(),r=((new Date).getFullYear()-1).toString();s.includes(r)||s.push(r);const o=a?_P[`PLAN_NAME_${a}`]:_P.ALL_PLANS_FILTER;return(0,D.tZ)("div",{sx:{marginTop:"32px"}},(0,D.tZ)(d.h_2,{placement:"bottom-start",sx:{width:"140px"},content:[(0,D.tZ)(d.W7o,{fullWidth:!0,key:"yearFilter-all",onClick:()=>t("")},i(_P.ALL_YEARS_FILTER)),...s.map((e=>(0,D.tZ)(d.W7o,{fullWidth:!0,key:`yearFilter-${e}`,onClick:()=>t(e)},e)))]},(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",sx:{mr:"8px"}},n||i(_P.ALL_YEARS_FILTER),(0,D.tZ)(d.veu,{sx:{ml:"12px"}}))),(0,D.tZ)(d.h_2,{placement:"bottom-start",sx:{width:"140px"},content:[(0,D.tZ)(d.W7o,{fullWidth:!0,key:"planFilter-all",onClick:()=>e("")},i(_P.ALL_PLANS_FILTER)),...["ADVANCED","ESSENTIALS","PREMIUM","FAMILY","OTHER"].map((t=>(0,D.tZ)(d.W7o,{fullWidth:!0,key:`planFilter-${t}`,onClick:()=>e(t)},i(_P[`PLAN_NAME_${t}`]))))]},(0,D.tZ)(d.zxk,{type:"button",nature:"secondary"},i(o),(0,D.tZ)(d.veu,{sx:{ml:"12px"}}))))},hP="manage_subscription_billing_details_dialog_address_label",bP="manage_subscription_billing_details_dialog_company_label",yP="manage_subscription_billing_details_dialog_name_label",CP="manage_subscription_billing_details_dialog_tax_id_label",wP="manage_subscription_billing_details_dialog_address_placeholder",EP="manage_subscription_billing_details_dialog_company_placeholder",vP="manage_subscription_billing_details_dialog_name_placeholder",NP="manage_subscription_billing_details_dialog_tax_id_placeholder",SP=({isOpen:e,onClose:t,onDownloadInvoice:a})=>{const{translate:i}=(0,P.Z)(),[s,r]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[m,p]=(0,n.useState)("");return n.createElement(d.VqE,{closeIconName:i("_common_dialog_dismiss_button"),isOpen:e,onClose:t},n.createElement(d.$N8,null,n.createElement(d.X6q,{size:"small"},i("manage_subscription_billing_details_dialog_title"))),n.createElement(d.oil,{autoFocus:!0,fullWidth:!0,id:"invoiceNameInput",label:n.createElement(d.nvN,{as:"label",htmlFor:"invoiceNameInput",sx:{mt:"20px"}},i(yP)),onChange:e=>r(e.target.value),placeholder:i(vP),sx:{mb:"16px"}}),n.createElement(d.oil,{fullWidth:!0,id:"invoiceCompanyInput",label:n.createElement(d.nvN,{as:"label",htmlFor:"invoiceCompanyInput"},i(bP)),onChange:e=>l(e.target.value),placeholder:i(EP),sx:{mb:"16px"}}),n.createElement(d.oil,{fullWidth:!0,id:"invoiceAddressInput",label:n.createElement(d.nvN,{as:"label",htmlFor:"invoiceAddressInput"},i(hP)),onChange:e=>u(e.target.value),placeholder:i(wP),sx:{mb:"16px"}}),n.createElement(d.oil,{fullWidth:!0,id:"invoiceTaxIdInput",label:n.createElement(d.nvN,{as:"label",htmlFor:"invoiceTaxIdInput"},i(CP)),onChange:e=>p(e.target.value),placeholder:i(NP),sx:{mb:"40px"}}),n.createElement(d.cNS,{primaryButtonOnClick:()=>{const e={};""!==s&&(e.recipient=s),""!==o&&(e.company=o),""!==c&&(e.address=c),""!==m&&(e.vatNumber=m),a(e)},primaryButtonTitle:i("manage_subscription_billing_details_dialog_download_button")}))},IP=()=>{const{translate:e}=(0,P.Z)(),[t,a]=(0,n.useState)(1),[i,s]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),[_,g]=(0,n.useState)({direction:Lu._.descending,field:"startDate"}),h=(0,dP.rU)(),b=(0,dP.rR)({currentPlanFilter:r,currentYearFilter:i,sortDirection:_.direction,sortField:_.field}),y=(0,n.useMemo)((()=>{const e=10*(t-1);return[...b].slice(e,e+10)}),[t,b]),C=e("manage_subscription_billing_section_no_results_try_again"),[w,E,v]=C.split("_"),N=e=>{c(!0),p(e)},S=async(t,a)=>{if(t){const n=`dashlane_invoice_${e.shortDate((0,xt.Z)(t?.startDate),Ze._T.L).replace(/[^a-zA-Z0-9]/g,"_")}`,i=await u.C.downloadCustomerInvoice({invoiceId:t.invoiceId,lang:"en",...a});if(i.success){const{data:e}=JSON.parse(i.data),t=new Uint8Array(e).buffer;(0,Xt.S)(t,n,"application/pdf")}}};return(0,D.tZ)(d.Zbd,{sx:{marginBottom:"16px",padding:"32px"}},(0,D.tZ)(d.X6q,null,e("manage_subscription_billing_section_title")),(0,D.tZ)(gP,{changePlanFilter:e=>{a(1),o(e)},changeYearFilter:e=>{a(1),s(e||"")},currentPlanFilter:r,currentYearFilter:i}),b.length>0?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(rm.h,{containerClassName:"listHeader--TQUECfUM_5",header:[{key:"item",sortable:!1,content:e("manage_subscription_billing_section_table_head_item"),className:mP},{key:"startDate",sortable:!0,content:e("manage_subscription_billing_section_table_head_date"),className:mP},{key:"amountPaid",sortable:!0,content:e("manage_subscription_billing_section_table_head_price"),className:mP},{key:"action",sortable:!1,content:e("manage_subscription_billing_section_table_head_actions"),className:mP}],onSort:e=>{g(e)},options:_}),y.map((e=>(0,D.tZ)(pP,{key:e.invoiceId,invoice:e,onCustomizeInvoiceRequested:N,onDownloadInvoiceRequested:S}))),(0,D.tZ)(d.tlE,{sx:{marginTop:"8px"},totalPages:b.length>10?Math.ceil(b.length/10):0,currentPage:t,onPageChange:a})):null,0===b.length&&h>0?(0,D.tZ)(d.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{height:"300px"}},(0,D.tZ)(d.nvN,{color:d.O9T.grey00},e("manage_subscription_billing_section_no_results")),(0,D.tZ)(d.nvN,{color:d.O9T.grey00},w,(0,D.tZ)(d.rUS,{color:d.O9T.midGreen00,onClick:()=>{a(1),o(""),s("")}},E),v)):null,(0,D.tZ)(SP,{isOpen:l,onClose:()=>c(!1),onDownloadInvoice:e=>{m&&(c(!1),S(m,e))}}))};var fP=a(78740);const xP="manage_subscription_plan_section_compare_link",MP=({setCancellationStep:e})=>{const t=(0,lm.B)(),a=(0,_m.Y)(),{routes:n}=(0,S.Xo)(),{translate:i}=(0,P.Z)();if(a.status!==W.rq.Success||!a.data)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const{autoRenewInfo:s,autoRenewal:r,endDate:o=0,planType:u}=a.data,m=(0,j.yf)(a.data),p=(0,j.AF)(a.data),_=(0,j.sZ)(a.data),g=(0,j.p6)(a.data),h=(0,j.ry)(a.data),y=h&&!g,C=(0,j.Sm)(a.data),w=m&&(0,j.Tg)(a.data),E=(0,j.b1)(a.data),v=(0,j.LF)(a.data),N=u?.includes("ios"),I=u?.includes("playstore");let f,x="",M="";const T=new Date(1e3*o),Z=i.shortDate(T,Ze._T.LL);if(y)f=i("manage_subscription_plan_section_desc_family_invitee");else{const e=r?"manage_subscription_plan_section_desc_b2c_plans_markup":"manage_subscription_plan_section_desc_cancelled_markup";f=o?i.markup(e,{date:Z,days:"30"}):""}if(p){const e=(0,j.Fz)(a.data);e&&(0,j.t0)(e.tier)===l.SpaceTier.Team?(x=i("manage_subscription_plan_name_dashlane_team"),f=i("manage_subscription_plan_section_desc_team")):(x=i("manage_subscription_plan_name_dashlane_business"),f=i("manage_subscription_plan_section_desc_business"))}else if(h)x=i("manage_subscription_plan_name_family"),M=i("manage_subscription_plan_section_features_link_family");else if(v)x=i("manage_subscription_plan_name_advanced"),M=i("manage_subscription_plan_section_features_link_advanced");else if(_)x=i("manage_subscription_plan_name_essentials"),M=i("manage_subscription_plan_section_features_link_essentials");else if(E){const e=(0,Vh.Z)(T,(new Date).getTime());x=i("manage_subscription_plan_name_premium_trial"),f=i.markup("manage_subscription_plan_section_trial_desc_markup",{days:e,date:Z}),M=i(xP)}else w?x=i("manage_subscription_plan_name_premium_plus"):C?(x=i("manage_subscription_plan_name_premium"),M=i("manage_subscription_plan_section_features_link_premium")):(x=i("manage_subscription_plan_name_free"),f=i("manage_subscription_plan_section_desc_free"),M=i(xP));const A=!(y||p||N||I||r),k=!m||E||!r,O=m&&!r&&!w&&!N&&!I&&!y,L=i(!m||E?"manage_subscription_plan_section_upgrade_button":r?"manage_subscription_plan_section_change_button":"manage_subscription_plan_section_buy_plans_button"),z=!p&&(r||I||N),R=i("manage_subscription_plan_section_cancel_text"),[U,B,F]=R.split("_"),G=i.markup("manage_subscription_plan_section_apple_cancel_text_markup",{link:bp.o2}),V=i.markup("manage_subscription_plan_section_google_cancel_text_markup",{link:bp.M});return(0,D.tZ)(d.Zbd,{sx:{marginBottom:"16px",padding:"32px"}},(0,D.tZ)(d.Ejs,{alignItems:"center",justifyContent:"space-between",sx:{marginBottom:"32px"}},(0,D.tZ)("div",null,(0,D.tZ)(d.j49,{color:d.O9T.grey00},i("manage_subscription_plan_section_title")),(0,D.tZ)(d.X6q,{size:"small"},x)),(0,D.tZ)("div",null,A?(0,D.tZ)(d.zxk,{nature:k?"primary":"secondary",onClick:()=>{(0,b.Yk)(n.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"}),Up(c.CallToAction.AllOffers)},type:"button"},L):null,O?(0,D.tZ)(d.zxk,{onClick:()=>{const e=((e,t,a,n,i,s)=>e?n.userGoAdvanced(s,(0,fP.c)(i)):t?n.userGoEssentials(s,(0,fP.c)(i)):a?n.userGoFamily(s,(0,fP.c)(i)):n.userGoPremium(s,(0,fP.c)(i)))(v,_,h,n,s,t?.subscriptionCode);(0,b.Yk)(e,{type:"subscriptionManagement",action:"goToCheckout"}),Bp(a.data)},nature:"secondary",sx:{marginLeft:"8px"},type:"button"},i("manage_subscription_plan_section_rejoin_button")):null)),(0,D.tZ)(d.nvN,{color:d.O9T.grey00},f),(0,D.tZ)(d.rUS,{href:n.userGoPlans,sx:{color:d.O9T.midGreen00,fontSize:2,fontWeight:"light"},onClick:()=>{Up(c.CallToAction.PlanDetails)},target:"_blank"},M),z?(0,D.tZ)(d.nvN,{size:"small",color:d.O9T.grey00,sx:{borderTop:`1px solid ${d.O9T.grey04}`,marginTop:"32px",paddingTop:"32px"}},I||N?null:(0,D.tZ)("span",null,U,(0,D.tZ)(d.rUS,{role:"button",sx:{color:d.O9T.midGreen00},"data-testid":"buttonCancelSubscriptionConfirmation",onClick:()=>{e(eR.CANCEL_CONFIRM),Rp(c.CancelPlanStep.Start,a.data)}},B),F),N?G:null,I?V:null):null)},TP={headerContainer:"headerContainer--nza0odu6OM",backButton:"backButton--MQF1V5PPQV"};var DP,ZP;const AP=({cancellationStep:e,setCancellationStep:t})=>{const a=(0,_m.Y)(),{translate:i}=(0,P.Z)();return a.status===W.rq.Success&&a.data?e===eR.SUBSCRIPTION?n.createElement(d.X6q,null,i("manage_subscription_page_title")):n.createElement(d.zxk,{className:TP.backButton,nature:"ghost",type:"button",onClick:()=>{e===eR.CANCEL_CONFIRM&&Rp(c.CancelPlanStep.Abandon,a.data),t(eR.SUBSCRIPTION)}},n.createElement(d.xCe,{className:TP.backButtonArrow,size:16}),i("manage_subscription_cancel_section_back")):null},kP=({cancellationStep:e,setCancellationStep:t})=>{var a;return n.createElement(Rc.h,{className:TP.headerContainer,startWidgets:()=>a||(a=n.createElement(AP,{cancellationStep:e,setCancellationStep:t})),endWidget:n.createElement(n.Fragment,null,DP||(DP=n.createElement(Uc.D,null)),ZP||(ZP=n.createElement(Bc.E,null)))})};var OP=a(984433);const LP={CARD_TITLE:"manage_subscription_cancel_confirmed_section_title",DESCRIPTION:{ADVANCED:"manage_subscription_cancel_confirmed_section_desc_advanced",ESSENTIALS:"manage_subscription_cancel_confirmed_section_desc_essentials",FAMILY:"manage_subscription_cancel_confirmed_section_desc_family",PREMIUM:"manage_subscription_cancel_confirmed_section_desc_premium"},FOOTER:{ADVANCED:"manage_subscription_cancel_confirmed_section_refund_request_advanced",ESSENTIALS:"manage_subscription_cancel_confirmed_section_refund_request_essentials",FAMILY:"manage_subscription_cancel_confirmed_section_refund_request_premium",POLICY:"manage_subscription_cancel_confirmed_section_refund_policy_markup",PREMIUM:"manage_subscription_cancel_confirmed_section_refund_request_premium"},RESTART_BUTTON:"manage_subscription_cancel_confirmed_section_restart_button",PLANS_BUTTON:"manage_subscription_cancel_confirmed_section_view_plans_button"},zP=({setCancellationStep:e,surveyAnswer:t})=>{const a=(0,lm.B)(),i=(0,_m.Y)(),{routes:s}=(0,S.Xo)(),{translate:r}=(0,P.Z)(),[o,l]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{!async function(){(await u.C.requestRefund({dryRun:!0})).success&&l(!0)}()}),[]),(0,n.useEffect)((()=>{i.status===W.rq.Success&&i.data&&((0,v.N)(c.PageView.PlansManagementCancelDone),Rp(c.CancelPlanStep.SuccessCancel,i.data,t))}),[i,t]),i.status!==W.rq.Success||!i.data)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const{endDate:m}=i.data,p=m?new Date(1e3*m):null,_=p?r.shortDate(p,Ze._T.LL):"",{planNameString:g,restartPlanUrl:h}=((e,t,a)=>{const{autoRenewInfo:n}=e,i=(0,fP.c)(n);return(0,j.LF)(e)?{planNameString:"ADVANCED",restartPlanUrl:t.userGoAdvanced(a,i)}:(0,j.sZ)(e)?{planNameString:"ESSENTIALS",restartPlanUrl:t.userGoEssentials(a,i)}:(0,j.ry)(e)?{planNameString:"FAMILY",restartPlanUrl:t.userGoFamily(a,i)}:{planNameString:"PREMIUM",restartPlanUrl:t.userGoPremium(a,i)}})(i.data,s,a?.subscriptionCode),y=r(LP.FOOTER[g]),[C,w,E]=y.split("_");return(0,D.tZ)(d.Zbd,{sx:{padding:"32px"}},(0,D.tZ)(d.X6q,{size:"small",sx:{marginBottom:"40px"}},r(LP.CARD_TITLE)),(0,D.tZ)(d.nvN,{size:"small",sx:{marginBottom:"12px"}},r(LP.DESCRIPTION[g],{date:_})),(0,D.tZ)(d.zxk,{sx:{marginRight:"8px"},nature:"secondary",type:"button",onClick:()=>{(0,b.Yk)(h,{type:"subscriptionManagement",action:"restartPlan"}),Bp(i.data)}},r(LP.RESTART_BUTTON)),(0,D.tZ)(d.zxk,{nature:"secondary",type:"button",onClick:()=>{(0,b.Yk)(s.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"})}},r(LP.PLANS_BUTTON)),o?(0,D.tZ)(d.nvN,{size:"small",sx:{borderTop:`1px solid ${d.O9T.grey04}`,marginTop:"40px",paddingTop:"20px"}},C,(0,D.tZ)(d.rUS,{role:"button",sx:{color:d.O9T.midGreen00,fontWeight:400},onClick:async()=>{e(eR.REFUND_PENDING);const t=await u.C.requestRefund({dryRun:!1});e(t.success?eR.REFUND_COMPLETE:eR.REFUND_FAILURE)}},w),E," ",r.markup(LP.FOOTER.POLICY,{policyLink:bp.sz},{linkTarget:OP.MF})):null)},jP="manage_subscription_cancel_section_warning_feature_dark_web",PP="manage_subscription_cancel_section_warning_feature_unlimited_devices",RP="manage_subscription_cancel_section_warning_feature_vpn",UP={advanced:{descriptionText:"manage_subscription_cancel_section_with_survey_desc_advanced_markup",warningText:"manage_subscription_cancel_section_with_survey_warning_advanced_markup",keepButtonText:"manage_subscription_cancel_section_button_keep_advanced",featureList:[PP,jP]},essentials:{descriptionText:"manage_subscription_cancel_section_with_survey_desc_essentials_markup",warningText:"manage_subscription_cancel_section_with_survey_warning_essentials_markup",keepButtonText:"manage_subscription_cancel_section_button_keep_essentials",featureList:[PP,jP]},family:{descriptionText:"manage_subscription_cancel_section_with_survey_desc_family_markup",warningText:"manage_subscription_cancel_section_with_survey_warning_family_markup",keepButtonText:"manage_subscription_cancel_section_button_keep_family",featureList:[PP,jP,RP]},premium:{descriptionText:"manage_subscription_cancel_section_with_survey_desc_premium_markup",warningText:"manage_subscription_cancel_section_with_survey_warning_premium_markup",keepButtonText:"manage_subscription_cancel_section_button_keep_premium",featureList:[PP,jP,RP]}},{grey00:BP,grey03:FP}=d.O9T,GP="https://support.dashlane.com",WP="mailto:support@dashlane.com",VP=({setCancellationStep:e,setSurveyAnswer:t,surveyAnswer:a})=>{const i=(0,_m.Y)(),{translate:s}=(0,P.Z)(),r=(0,Be.w)("monetization_subscriptionCancelled_Survey");if((0,n.useEffect)((()=>{(0,v.N)(c.PageView.PlansManagementAskCancel)}),[]),i.status!==W.rq.Success||!i.data)return(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00});const{endDate:o}=i.data,l=o?new Date(1e3*o):null,m=l?s.shortDate(l,Ze._T.LL):"",{descriptionText:p,warningText:_,keepButtonText:g,featureList:h}=(b=(0,j.LF)(i.data),y=(0,j.sZ)(i.data),C=(0,j.ry)(i.data),b?UP.advanced:y?UP.essentials:C?UP.family:UP.premium);var b,y,C;const w={borderTop:`1px solid ${FP}`,width:"100%",marginBottom:"32px"},E={color:BP,backgroundColor:"rgba(217, 223, 224, 0.3)",marginLeft:"36px",padding:"4px",borderRadius:"4px"};return(0,D.tZ)(d.Zbd,{sx:{padding:"32px"}},(0,D.tZ)(d.X6q,{size:"small",sx:{marginBottom:"40px"}},s("manage_subscription_cancel_section_with_survey_card_title")),(0,D.tZ)(d.nvN,{sx:{marginBottom:"15px"}},s.markup(p,{date:m})),(0,D.tZ)(d.vDh,{severity:"warning",sx:{marginBottom:"32px"},title:(0,D.tZ)("p",null,s.markup(_,{date:m})," ",h.map(((e,t)=>{let a;return a=++t==h.length-1?" and ":t===h.length?".":", ",(0,D.tZ)("span",{key:`featureList${e}`},s(e),a)})))}),r&&(0,D.tZ)(n.Fragment,null,(0,D.tZ)("hr",{sx:w}),(0,D.tZ)(d.X6q,{size:"small",sx:{marginBottom:"40px"}},s("manage_subscription_cancel_section_with_survey_card_survey_title")),(0,D.tZ)(d.Eep,{value:a,name:"cancellationSurveyRadioGroup",onChange:e=>{t(e.currentTarget.value)},sx:{marginBottom:"40px"}},(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.Y8K,{label:s("manage_subscription_cancel_section_with_survey_radio_label_didnt_work"),value:c.SurveyAnswer.AutofillDidntWorkAsExpected}),a===c.SurveyAnswer.AutofillDidntWorkAsExpected&&(0,D.tZ)(d.nvN,{size:"small",sx:E},s.markup("manage_subscription_cancel_section_with_survey_radio_desc_didnt_work_markup",{supportLink:GP,mailSupportLink:WP})),(0,D.tZ)(d.Y8K,{label:s("manage_subscription_cancel_section_with_survey_radio_label_tech_issues"),value:c.SurveyAnswer.ThereWereTooManyTechnicalIssues}),a===c.SurveyAnswer.ThereWereTooManyTechnicalIssues&&(0,D.tZ)(d.nvN,{size:"small",sx:E},s.markup("manage_subscription_cancel_section_with_survey_radio_desc_tech_issues_markup",{supportLink:GP,mailSupportLink:WP})),(0,D.tZ)(d.Y8K,{label:s("manage_subscription_cancel_section_with_survey_radio_label_too_expensive"),value:c.SurveyAnswer.DashlaneIsTooExpensive}),a===c.SurveyAnswer.DashlaneIsTooExpensive&&(0,D.tZ)(d.nvN,{size:"small",sx:E},s.markup("manage_subscription_cancel_section_with_survey_radio_desc_too_expensive_markup",{plansLink:"https://www.dashlane.com/plans"})),(0,D.tZ)(d.Y8K,{label:s("manage_subscription_cancel_section_with_survey_radio_label_doesnt_have_features_needed"),value:c.SurveyAnswer.DashlaneDoesntHaveTheFeaturesINeed}),a===c.SurveyAnswer.DashlaneDoesntHaveTheFeaturesINeed&&(0,D.tZ)(d.nvN,{size:"small",sx:E},s.markup("manage_subscription_cancel_section_with_survey_radio_desc_doesnt_have_features_needed_markup",{productBoardLink:"https://support.dashlane.com/hc/requests/new?req_type=product_idea"}))))),(0,D.tZ)(d.zxk,{sx:{marginRight:"8px"},nature:"secondary",type:"button","data-testid":"keepSubscriptionConfirmation",onClick:()=>{e(eR.SUBSCRIPTION),Rp(c.CancelPlanStep.Abandon,i.data,a)}},s(g)),(0,D.tZ)(d.zxk,{type:"button",nature:"primary","data-testid":"cancelMySubscriptionConfirmation",onClick:async()=>{e(eR.CANCEL_PENDING);const t=await u.C.cancelAutoRenew();e(t.success?eR.CANCEL_COMPLETE:eR.CANCEL_FAILURE)}},s("manage_subscription_cancel_section_button_cancel")))},HP=({isRefund:e})=>{const t=(0,_m.Y)(),{translate:a}=(0,P.Z)(),i=e?"manage_subscription_refund_fail_title":"manage_subscription_cancel_failure_title",s=e?"manage_subscription_refund_fail_desc":"manage_subscription_cancel_failure_description";return(0,n.useEffect)((()=>{if(t.status===W.rq.Success&&t.data){const a=e?c.PageView.PlansManagementRefundError:c.PageView.PlansManagementCancelError,n=e?c.CancelPlanStep.SuccessCancelAndErrorRefund:c.CancelPlanStep.CancelError;(0,v.N)(a),Rp(n,t.data)}}),[t]),t.status===W.rq.Success&&t.data?(0,D.tZ)(d.Zbd,{sx:{padding:"32px"}},(0,D.tZ)(d.X6q,{size:"small"},a(i)),(0,D.tZ)(d.nvN,{size:"small",sx:{margin:"40px 0"}},a(s)),(0,D.tZ)(d.zxk,{nature:"secondary",type:"button",onClick:()=>{(0,b.Yo)(bp.h0),Rp(c.CancelPlanStep.ContactSupport,t.data)}},a("manage_subscription_refund_fail_support_button"))):null},qP=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)(d.Zbd,{sx:{alignItems:"center",display:"flex",flexDirection:"column",height:"420px",justifyContent:"center"}},(0,D.tZ)(d.HoD,{color:d.O9T.dashGreen00,size:"90px"}),(0,D.tZ)(d.nvN,{size:"small"},e("manage_subscription_refund_progress1")),(0,D.tZ)(d.nvN,{size:"small"},e("manage_subscription_refund_progress2")))},YP=()=>{const e=(0,_m.Y)(),{routes:t}=(0,S.Xo)(),{translate:a}=(0,P.Z)();return(0,n.useEffect)((()=>{e.status===W.rq.Success&&e.data&&((0,v.N)(c.PageView.PlansManagementRefundDone),Rp(c.CancelPlanStep.SuccessRefund,e.data))}),[e]),e.status===W.rq.Success&&e.data?(0,D.tZ)(d.Zbd,{sx:{padding:"32px"}},(0,D.tZ)(d.X6q,{size:"small",sx:{marginBottom:"40px"}},a("manage_subscription_refund_success_title")),(0,D.tZ)(d.nvN,{size:"small",sx:{marginBottom:"20px"}},a("manage_subscription_refund_success_desc")),(0,D.tZ)(d.zxk,{nature:"secondary",type:"button",onClick:()=>{(0,b.Yk)(t.userGoPlans,{type:"subscriptionManagement",action:"goToPlans"})}},a("manage_subscription_refund_view_options_button"))):(0,D.tZ)(d.HoD,{color:d.O9T.midGreen00})};var QP,$P,KP,XP,JP;let eR;!function(e){e.SUBSCRIPTION="subscription",e.CANCEL_CONFIRM="cancelConfirm",e.CANCEL_COMPLETE="cancelComplete",e.CANCEL_FAILURE="cancelFailure",e.CANCEL_PENDING="cancelPending",e.REFUND_COMPLETE="refundComplete",e.REFUND_FAILURE="refundFailure",e.REFUND_PENDING="refundPending",e.INVOICE_LIST="invoiceList"}(eR||(eR={}));const tR=()=>{const[e,t]=(0,n.useState)(eR.SUBSCRIPTION),[a,i]=(0,n.useState)(void 0);return(0,n.useEffect)((()=>{(0,v.N)(c.PageView.PlansManagement)}),[]),n.createElement(d.Ejs,{sx:{background:d.O9T.dashGreen06,minHeight:"100%",overflowX:"scroll"}},n.createElement(n.Fragment,null,n.createElement(kP,{cancellationStep:e,setCancellationStep:t}),n.createElement(d.Ejs,{sx:{margin:"0 32px",width:"800px"}},e===eR.SUBSCRIPTION?n.createElement(n.Fragment,null,n.createElement(MP,{setCancellationStep:t}),n.createElement(e_,{styles:{marginBottom:"16px",padding:"32px"}}),n.createElement(uP,{setCancellationStep:t})):null,e===eR.CANCEL_CONFIRM?n.createElement(VP,{setSurveyAnswer:i,surveyAnswer:a,setCancellationStep:t}):null,[eR.CANCEL_PENDING,eR.REFUND_PENDING].includes(e)?QP||(QP=n.createElement(qP,null)):null,e===eR.CANCEL_FAILURE?$P||($P=n.createElement(HP,{isRefund:!1})):null,e===eR.REFUND_FAILURE?KP||(KP=n.createElement(HP,{isRefund:!0})):null,e===eR.CANCEL_COMPLETE?n.createElement(zP,{surveyAnswer:a,setCancellationStep:t}):null,e===eR.REFUND_COMPLETE?XP||(XP=n.createElement(YP,null)):null,e===eR.INVOICE_LIST?JP||(JP=n.createElement(IP,null)):null)))},aR=({path:e})=>n.createElement(i.Vy,{path:e,component:tR});var nR=a(200514);const iR=({premiumStatus:e})=>{const{unseen:t,setAsSeen:a}=(0,hc.m)(V.NotificationName.VpnProviderIsNowHotspot),{translate:n}=(0,P.Z)();if(!t)return null;const i=(0,D.tZ)(d.zxk,{nature:"secondary",onClick:a,key:"secondaryAction",size:"small",type:"button"},n("webapp_vpn_page_infobox_button"));return(0,D.tZ)(d.vDh,{sx:{"a:hover:not(:disabled)":{color:d.O9T.white},"a:not(:disabled)":{color:d.O9T.dashGreen03},marginBottom:"32px"},severity:d.BLW.STRONG,title:n.markup("webapp_vpn_page_infobox_title_markup"),actions:[i],iconSizePx:16,size:"descriptive",layout:"inline"},(0,D.tZ)(d.nvN,{size:"small",sx:{color:d.O9T.dashGreen05}},n.markup("webapp_vpn_page_infobox_message_markup",{hotspotShield:OP.Xj,plan:n(e&&(0,j.AF)(e)?"webapp_vpn_page_infobox_business":"webapp_vpn_page_infobox_premium")},{linkTarget:OP.MF})))};var sR,rR,oR=a(442138),lR=a(656326),cR=a(717425);const dR="webapp_vpn_page_access_hotspotshield_heading",uR="webapp_vpn_page_access_hotspotshield_text_markup",mR="webapp_vpn_page_install_hotspotshield_button",pR="webapp_vpn_page_install_hotspotshield_button_infobox_message",_R="webapp_vpn_page_install_hotspotshield_heading",gR="webapp_vpn_page_install_hotspotshield_text",hR=null!=(sR=OP.i9[null!=(rR=Ky.os.getOSName())?rR:""])?sR:OP.gF,bR={opacity:"0.6",cursor:"not-allowed","&:hover:enabled":{backgroundColor:`${d.O9T.midGreen00}`,borderColor:`${d.O9T.midGreen00}`},"&:focus":{backgroundColor:`${d.O9T.midGreen00}`,borderColor:`${d.O9T.midGreen00}`}},yR=({stepNumber:e,vpnCredential:t})=>{const{translate:a}=(0,P.Z)(),{unseen:n,setAsSeen:i}=(0,hc.m)(V.NotificationName.VpnHostpotshieldInstalled);if(null===n)return null;const s=a(n?_R:dR),r=n?oR.S.INITIAL:oR.S.COMPLETED,o=t&&(t.status===V.VpnAccountStatusType.Ready||t.status===V.VpnAccountStatusType.Activated);return(0,D.tZ)(lR.K,null,(0,D.tZ)(oR.V,{number:e,status:r,title:s,actions:n?(0,D.tZ)(d.ua7,{content:a(pR),placement:"top",sx:{width:"160px"}},(0,D.tZ)(d.zxk,{type:"button",sx:o?void 0:bR,onClick:o?()=>{i(),(0,cR.gq)(),(0,b.Yo)(hR)}:void 0},a(mR),(0,D.tZ)("div",{sx:{marginLeft:"8px"}},(0,D.tZ)(d.RTC,{color:d.O9T.white})))):null},n?(0,D.tZ)(d.nvN,{size:"small"},a(gR)):(0,D.tZ)(d.nvN,{size:"small"},a.markup(uR,{hotspotShield:hR},{linkTarget:OP.MF,onLinkClicked:cR.gq}))))},CR={marginTop:"8px"},wR=e=>e>0?CR:{},ER=({summary:e,parts:t})=>{const{translateWithMarkup:a}=(0,pr.Y)();return(0,D.tZ)(d.UlM,null,(0,D.tZ)(d._Oh,null,a(e)),(0,D.tZ)(d.rN7,null,t?.map(((e,t)=>(0,D.tZ)(d.nvN,{sx:wR(t),size:"x-small",key:e.key},a(e))))))},vR={TITLE:{key:"webapp_vpn_page_faq_title"},GENERAL_SUMMARY:{key:"webapp_vpn_page_faq_general_summary"},GENERAL_DETAILS1:{key:"webapp_vpn_page_faq_general_details1"},GENERAL_DETAILS2_MARKUP:{key:"webapp_vpn_page_faq_general_details2_markup",params:{vpnReadMore:OP.EK}},HOTSPOT_SUMMARY:{key:"webapp_vpn_page_faq_hotspot_summary"},HOTSPOT_DETAILS:{key:"webapp_vpn_page_faq_hotspot_details"},SUPPORT_SUMMARY:{key:"webapp_vpn_page_faq_support_summary"},SUPPORT_DETAILS1_MARKUP:{key:"webapp_vpn_page_faq_support_details1_markup",params:{faq:OP.O7}},SUPPORT_DETAILS2_MARKUP:{key:"webapp_vpn_page_faq_support_details2_markup",params:{hotspotSupport:OP.En}}},NR=()=>{const{translate:e}=(0,P.Z)();return(0,D.tZ)("section",{sx:{marginTop:"32px"}},(0,D.tZ)(d.j49,{sx:{color:d.O9T.grey00}},e(vR.TITLE.key)),(0,D.tZ)(d.UQy,{sx:{marginTop:"16px"}},(0,D.tZ)(ER,{summary:vR.GENERAL_SUMMARY,parts:[vR.GENERAL_DETAILS1,vR.GENERAL_DETAILS2_MARKUP]}),(0,D.tZ)(ER,{summary:vR.HOTSPOT_SUMMARY,parts:[vR.HOTSPOT_DETAILS]}),(0,D.tZ)(ER,{summary:vR.SUPPORT_SUMMARY,parts:[vR.SUPPORT_DETAILS1_MARKUP,vR.SUPPORT_DETAILS2_MARKUP]})))};var SR,IR,fR,xR=a(413597),MR=a(300697),TR=a.n(MR);a.p,d.O9T.white,TR()["--z-index-webapp-feature-onboarding-overlay"];const DR="webapp_vpn_page_credential_activate_eyebrow",ZR=({lee:e})=>{const{translate:t}=(0,P.Z)(),a=(0,_m.Y)(),s=(0,yc.Qy)(),{showVpnPage:r,vpnPageAccessLoading:o}=(0,xR.q4)(),{routes:l}=(0,S.Xo)();return(0,n.useEffect)((()=>{r&&(0,v.N)(c.PageView.ToolsVpn)}),[r]),a.status!==W.rq.Success||o?null:r?(0,D.tZ)(Rd.Z,{lee:e},(0,D.tZ)(Ru.QR,{mode:"fullscreen",paywall:Ru.qd.Vpn},(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:{bg:d.O9T.dashGreen06,paddingTop:"16px",height:"100%",overflowY:"scroll",flexWrap:"nowrap"}},(0,D.tZ)(Rc.h,{startWidgets:()=>(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.X6q,null,t("webapp_vpn_page_title"))),endWidget:(0,D.tZ)(n.Fragment,null,SR||(SR=(0,D.tZ)(Uc.D,null)),IR||(IR=(0,D.tZ)(Bc.E,null)))}),(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:{padding:"0px 32px"}},(0,D.tZ)(iR,{premiumStatus:a.data}),(0,D.tZ)("section",null,(0,D.tZ)(d.j49,{sx:{color:d.O9T.grey00}},t(DR)),(0,D.tZ)(nR.L,{stepNumber:1,vpnCredential:s}),(0,D.tZ)(yR,{stepNumber:2,vpnCredential:s})),fR||(fR=(0,D.tZ)(NR,null)))))):((0,i.uX)(l.userCredentials),null)},AR=({path:e})=>n.createElement(i.Vy,{path:e,component:ZR});var kR;const OR=()=>kR||(kR=n.createElement("svg",{width:"320",height:"900",viewBox:"0 0 320 900",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"320",height:"900",fill:"#D9E6E9"}),n.createElement("rect",{x:"46",y:"24",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"194",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"344",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"498",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"144",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"294",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"448",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"244",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"394",width:"191",height:"24",rx:"8",fill:"#CFE0E4"}),n.createElement("rect",{x:"46",y:"548",width:"191",height:"24",rx:"8",fill:"#CFE0E4"})));var LR;const zR=()=>LR||(LR=n.createElement("svg",{width:"1120",height:"900",viewBox:"0 0 1120 900",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"1120",height:"900",fill:"white"}),n.createElement("rect",{x:"32",y:"145",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"145",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"397",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"397",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"649",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"649",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"271",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"271",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"523",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"523",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"775",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"775",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"208",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"208",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"460",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"460",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"712",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"712",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"334",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"334",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"586",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"586",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"838",width:"56",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"104",y:"838",width:"1064",height:"36",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"32",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"169",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"306",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"443",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"}),n.createElement("rect",{x:"995",y:"16",width:"125",height:"40",rx:"4",fill:"#F5F4F3"})));var jR,PR;const RR=()=>n.createElement("div",{style:{height:"100vh",whiteSpace:"nowrap"}},jR||(jR=n.createElement(OR,null)),PR||(PR=n.createElement(zR,null)));var UR,BR=a(435105);const FR=({onPrimaryButtonAction:e,onSecondaryButtonAction:t})=>{const{translate:a}=(0,P.Z)();return(0,D.tZ)(n.Fragment,null,UR||(UR=(0,D.tZ)(d.Std,{size:96})),(0,D.tZ)(d.$N8,{id:"dialogTitle",title:a("webapp_two_factor_authentication_enforcement_dialog_title")}),(0,D.tZ)(d.a7O,null,(0,D.tZ)(d.nvN,{color:d.O9T.grey00},a("webapp_two_factor_authentication_enforcement_dialog_description_1")),(0,D.tZ)(d.nvN,{color:d.O9T.grey00,sx:{marginTop:"20px"}},a("webapp_two_factor_authentication_enforcement_dialog_description_2"))),(0,D.tZ)(d.cNS,{primaryButtonTitle:a("webapp_two_factor_authentication_enforcement_dialog_action"),primaryButtonOnClick:e,secondaryButtonTitle:a("webapp_logout_dialog_confirm"),secondaryButtonOnClick:t}))};let GR;var WR;!function(e){e.FIREFOX="Firefox",e.CHROME="Google Chrome",e.CHROMIUM_EDGE="Microsoft Edge"}(GR||(GR={}));const VR=()=>{const[e,t]=(0,n.useState)(!0),a=Nc(),s=(0,i.k6)(),{routes:r}=(0,S.Xo)(),{logout:o}=(0,R.u7)(BR.authenticationFlowApi);(0,n.useEffect)((()=>{a&&e&&(0,v.N)(c.PageView.LoginEnforce2faBusiness)}),[a,e]);const{openTwoFactorAuthenticationEnablerDialog:l}=sn({onDialogStateChanged:e=>{e||t(!0)},onSuccess:()=>{s.push(r.userCredentials)}});return(0,D.tZ)(n.Fragment,null,WR||(WR=(0,D.tZ)("div",{id:"dashlane-dialog"})),(0,D.tZ)(d.VqE,{isOpen:e,onClose:()=>{t(!0)},ariaLabelledby:"dialogTitle",ariaDescribedby:"dialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0},(0,D.tZ)("div",{sx:{maxWidth:"640px"}},(0,D.tZ)(FR,{onPrimaryButtonAction:()=>{At(),l(),t(!1)},onSecondaryButtonAction:()=>{o()}}))))};var HR;const qR=()=>{const e=(0,i.k6)(),{routes:t}=(0,S.Xo)();return(0,n.useEffect)((()=>{(async()=>{const a=await(async()=>await u.C.getTwoFactorAuthenticationInfo())();(a.status!==V.TwoFactorAuthenticationInfoRequestStatus.READY||a.status===V.TwoFactorAuthenticationInfoRequestStatus.READY&&!a.shouldEnforceTwoFactorAuthentication)&&e.push(t.userCredentials)})()}),[]),HR||(HR=(0,D.tZ)(an.D,null,(0,D.tZ)(RR,null),(0,D.tZ)(Pa.r,null,(0,D.tZ)(VR,null))))},YR=({path:e})=>n.createElement(i.Vy,{path:`${e}/enforce`,component:qR});var QR=a(737148);let $R;!function(e){e.DASH="DASH",e.CSV="CSV",e.DIRECT="DIRECT"}($R||($R={}));const KR={"1password":c.ImportSource.Source1password,bitwarden:c.ImportSource.SourceBitwarden,chrome:c.ImportSource.SourceChrome,dash:c.ImportSource.SourceDash,edge:c.ImportSource.SourceEdge,firefox:c.ImportSource.SourceFirefox,keepass:c.ImportSource.SourceKeepass,keeper:c.ImportSource.SourceKeeper,lastpass:c.ImportSource.SourceLastpass,other:c.ImportSource.SourceOther,safari:c.ImportSource.SourceSafari};let XR;!function(e){e.DIRECT="direct",e.FILE="file"}(XR||(XR={})),V.ImportFormats.Csv,c.BackupFileType.Csv,V.ImportFormats.Dash,c.BackupFileType.SecureVault;const JR=(e,t,a,n)=>{(0,v.K)(new c.UserImportDataEvent({backupFileType:e,importDataStatus:c.ImportDataStatus.FailureDuringImport,importSource:KR[t],importDataStep:c.ImportDataStep.PreviewItemsToImport,itemsToImportCount:a,isDirectImport:n}))},eU=e=>{(0,v.K)(new c.UserOpenHelpCenterEvent({helpCenterArticleCta:e}))},tU=()=>{const[e,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(""),[s,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),[d,m]=(0,n.useState)(0),p=async(t,n)=>{if(!s||!e||!a)throw new Error("Need to process file first");const i=await(e=>new Promise(((t,a)=>{const n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=function(e){e.target&&"string"==typeof e.target.result&&t(e.target.result)},n.onerror=a})))(e);switch(s){case V.ImportFormats.Csv:return{content:{importSource:t,data:i},format:s,name:a};case V.ImportFormats.Dash:if(!n)throw new Error("Password required for DASH file");return{content:{importSource:t,data:i},format:s,name:a,password:n};default:(0,qr.U)(s)}};return{previewFile:async(e,t)=>{const a=await p(e,t),n=await u.C.previewPersonalData(a);return n.success||s===V.ImportFormats.Dash&&n.error===V.PreviewPersonalDataErrorType.BadPassword&&(0,v.K)(new c.UserImportDataEvent({backupFileType:c.BackupFileType.SecureVault,importDataStatus:c.ImportDataStatus.WrongFilePassword,importSource:KR[V.ImportSource.Dash],importDataStep:c.ImportDataStep.SelectFile,isDirectImport:!1})),n},processFile:e=>{const a=(e=>{const t=e.name.toUpperCase();if(t.endsWith(".DASH"))return V.ImportFormats.Dash;if(t.endsWith(".CSV"))return V.ImportFormats.Csv;throw new Error("Unsupported")})(e);t(e),r(a),i(e.name),a===V.ImportFormats.Dash&&l(!0)},resetState:()=>{t(null),i(""),r(null),l(!1),m(0)},setAttemptedCount:m,state:{format:s,fileName:a,file:e,requiresPassword:o,attemptedItemCount:d}}};let aU;!function(e){e.IDLE="idle",e.PROCESSING="processing",e.ERROR_GENERIC="error",e.SUCCESS="success"}(aU||(aU={}));const nU=()=>{const[e,t]=(0,n.useState)({status:aU.IDLE}),a=(()=>{const e=(0,W.qr)({queryConfig:{queryParam:void 0,query:u.C.getImportPersonalDataStatus},liveConfig:{live:u.C.liveImportPersonalDataStatus}},[]);return e.status===W.rq.Success?e.data:void 0})();(0,n.useEffect)((()=>{if(!a)return;const n=(e=>{switch(e.status){case V.ImportPersonalDataStateType.Error:return{status:aU.ERROR_GENERIC,name:e.name};case V.ImportPersonalDataStateType.Idle:return{status:aU.IDLE};case V.ImportPersonalDataStateType.Processing:return{status:aU.PROCESSING,name:e.name};case V.ImportPersonalDataStateType.Success:return{status:aU.SUCCESS,name:e.name,totalCredentials:e.totalCount,importedCredentials:e.successCount,duplicateCredentials:e.duplicateCount}}(0,qr.U)(e)})(a);n&&e.status!==n.status&&t(n)}),[a]);const i=(0,n.useCallback)((async(e,a,n,i)=>{const s=await u.C.importPersonalData(e);if(!s.success&&(t({status:aU.ERROR_GENERIC,name:e.name}),n&&a)){const t=i===XR.DIRECT;JR(n,a,e.content.length,t)}return s}),[]),s=(0,n.useCallback)((()=>{u.C.dismissPersonalDataImportNotifications(),t({status:aU.IDLE})}),[]);return{startImport:i,state:e,dismiss:s}},iU=()=>{throw new Error("method called before initialization")},sU=n.createContext({preview:{previewFile:iU,processFile:iU,resetState:iU,setAttemptedCount:iU,state:{format:null,fileName:"",file:null,requiresPassword:!1,attemptedItemCount:0}},import:{startImport:iU,dismiss:iU,state:{status:aU.IDLE}},importSource:V.ImportSource.Other,setImportSource:iU,previewDataItems:{},setPreviewDataItems:iU,previewDataHeaders:[],setPreviewDataHeaders:iU,resetContext:iU,defaultSpace:null,setDefaultSpace:iU,importMethod:XR.FILE,setImportMethod:iU}),rU=({children:e})=>{const t=tU(),a=nU(),[i,s]=(0,n.useState)(XR.FILE),[r,o]=(0,n.useState)(V.ImportSource.Other),[l,c]=(0,n.useState)({}),[d,u]=(0,n.useState)([]),[m,p]=(0,n.useState)(null);return n.createElement(sU.Provider,{value:{preview:t,import:a,importSource:r,setImportSource:o,previewDataItems:l,setPreviewDataItems:c,previewDataHeaders:d,setPreviewDataHeaders:u,resetContext:()=>{t.resetState(),a.dismiss(),o(V.ImportSource.Other),p(null),c({}),u([])},defaultSpace:m,setDefaultSpace:p,importMethod:i,setImportMethod:s}},e)},oU=()=>n.useContext(sU);var lU=a(292210),cU=a(658273);const dU=75,uU={verticalAlign:"middle",textAlign:"left",backgroundClip:"padding-box",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",minWidth:300,maxWidth:300,maxHeight:75,height:75,minHeight:75},mU={color:"ds.text.neutral.quiet",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",padding:"12px",maxHeight:75,"&:hover":{whiteSpace:"break-spaces",overflow:"auto"}},pU={...uU,paddingY:0,paddingX:"24px",position:"sticky",top:0,backgroundColor:"ds.container.agnostic.neutral.standard",height:"50px",zIndex:"2"},_U={maxHeight:dU,height:dU,minHeight:dU};var gU=a(982054);const hU={KWAuthentifiant:(0,Ue.tZ)(Ue.JO,{name:"ItemLoginFilled",size:"small",color:"ds.text.neutral.standard"}),KWSecureNote:(0,Ue.tZ)(Ue.JO,{name:"ItemSecureNoteFilled",size:"small",color:"ds.text.neutral.standard"}),KWBankStatement:(0,Ue.tZ)(Ue.JO,{name:"ItemBankAccountFilled",size:"small",color:"ds.text.neutral.standard"}),KWPaymentMean_creditCard:(0,Ue.tZ)(Ue.JO,{name:"ItemPaymentFilled",size:"small",color:"ds.text.neutral.standard"}),DoNotImport:null},bU={KWAuthentifiant:"webapp_import_item_type_login",KWSecureNote:"webapp_import_item_type_secure_note",KWBankStatement:"webapp_import_item_type_bank",KWPaymentMean_creditCard:"webapp_import_item_type_payment",DoNotImport:"webapp_import_item_type_do_not_import"},yU=(0,n.memo)((({wrapperRef:e,tableData:t,tableHeaders:a,disabledItemRows:i,spaceList:s,handleItemTypeChange:r,handleSpaceSelectChange:o})=>{var c;const[u,m]=(0,n.useState)(0),[p,_]=(0,n.useState)(0),[g,h]=(0,n.useState)(0),{translate:b}=(0,P.Z)(),y=null!=(c=e.current?.clientHeight)?c:1,C=Math.floor(4*y/75),w=1+a.length+(s.length?1:0),E=(0,n.useMemo)((()=>Object.keys(bU).reduce(((e,t)=>({...e,[t]:{value:t,label:(0,Ue.tZ)(d.Ejs,{alignItems:"center"},hU[t],(0,Ue.tZ)("span",{sx:{marginLeft:2}},b(bU[t])))}})),{})),[b]),v=b("webapp_form_field_personal_space"),N=(0,n.useMemo)((()=>[...s.reduce(((e,t)=>[...e,{value:t.teamId,label:(0,Ue.tZ)(d.Ejs,{alignItems:"center"},(0,Ue.tZ)(sr.R,{space:{...t,id:t.teamId,name:t.teamName}}),(0,Ue.tZ)("span",{sx:{marginLeft:2}},t.teamName))}]),[]),{value:"",label:(0,Ue.tZ)(d.Ejs,{alignItems:"center"},(0,Ue.tZ)(sr.R,{space:{id:"",name:v,letter:v[0]}}),(0,Ue.tZ)("span",{sx:{marginLeft:2}},v))}]),[v,s]),S=({position:e})=>{const a="start"===e?u*dU:(t.length-p)*dU;return(0,Ue.tZ)("tr",{key:`${e}-loader`,sx:{height:a}},(0,Ue.tZ)("td",{colSpan:w},(0,Ue.tZ)(gU.h,{width:"100%",height:a})))},I=(0,n.useCallback)((e=>{const a=Math.floor(e-C-y/2),n=Math.floor(Math.max(0,Math.floor(a/dU))),i=Math.max(n+C,1),s=Math.floor(Math.min(i,t.length));m(n),_(s)}),[y,C,t.length]);return(0,n.useEffect)((()=>{I(g)}),[g,I]),(0,n.useEffect)((()=>{const t=e.current,a=(0,he.throttle)((()=>{const t=e.current?.scrollTop;void 0!==t&&h(t)}),1e3);return t?.addEventListener("scroll",a),()=>{t?.removeEventListener("scroll",a)}}),[I,e]),(0,Ue.tZ)("tbody",null,0!==u?(0,Ue.tZ)(S,{position:"start"}):null,t.slice(u,p).filter((([,e])=>e.baseDataModel.kwType!==l.DataModelType.KWCollection)).map((e=>{var t,n;const[c,u]=e;return(0,Ue.tZ)("tr",{sx:_U,key:u.baseDataModel.Id},(0,Ue.tZ)("td",{sx:uU},(0,Ue.tZ)("div",{sx:mU},(0,Ue.tZ)(d.qWE,{menuPortalTarget:document.body,isSearchable:!1,onChange:e=>{r(c,l.DataModelType[e.value])},defaultValue:E[null!=(t=u.baseDataModel.kwType)?t:l.DataModelType.KWSecureNote],options:Object.values(E)}))),s.length?(0,Ue.tZ)("td",{sx:uU},(0,Ue.tZ)("div",{sx:mU},(0,Ue.tZ)(d.qWE,{name:"spaceSelect",menuPortalTarget:document.body,isSearchable:!1,options:N,defaultValue:void 0!==u.baseDataModel.SpaceId?null!=(n=N.find((e=>e.value===u.baseDataModel.SpaceId)))?n:N[0]:void 0,isDisabled:i.includes(c),onChange:e=>o(c,e.value)}))):null,a.map((e=>e.matched?(0,Ue.tZ)("td",{sx:uU,key:e.original},(0,Ue.tZ)("div",{sx:mU},((e,t,a)=>{let n=e.matched?t.baseDataModel[e.matched]:t.rawData[e.original];switch(n||(n="--"),e.matched){case"Password":n=t.baseDataModel[e.matched]?(0,Ue.tZ)(Af.h,{passwordInputProps:{readOnly:!0,value:t.baseDataModel[e.matched],hidePasswordTooltipText:a("_common_password_hide_label"),showPasswordTooltipText:a("_common_password_show_label")}}):null;break;case"Note":t.baseDataModel.kwType===l.DataModelType.KWSecureNote&&t.baseDataModel.Content&&(n=t.baseDataModel.Content)}return n})(e,u,b))):null)))})),p!==t.length?(0,Ue.tZ)(S,{position:"end"}):null)}));var CU,wU,EU,vU;const NU={Url:"webapp_import_preview_header_url",Login:"webapp_import_preview_header_login",Password:"webapp_import_preview_header_password",OtpSecret:"webapp_import_preview_header_otp",Note:"webapp_import_preview_header_notes",Title:"webapp_import_preview_header_name",kwType:"webapp_import_preview_header_type",SpaceId:"webapp_import_preview_header_space",Other:"webapp_import_preview_header_other",CardNumber:"webapp_import_preview_header_card_number",OwnerName:"webapp_import_preview_header_card_owner",SecurityCode:"webapp_import_preview_header_card_security_code",ExpireMonth:"webapp_import_preview_header_card_expiry_month",ExpireYear:"webapp_import_preview_header_card_expiry_year",BankAccountName:"webapp_import_preview_header_bank_name",BankAccountIBAN:"webapp_import_preview_header_bank_IBAN_account_number",BankAccountBIC:"webapp_import_preview_header_bank_SWIFT_routing_number"},SU=({tableHeaders:e,tableData:t,setTableData:a,setHasChanges:i})=>{const s=(0,n.useRef)(null),r=(0,n.useRef)(null),o=(0,Pk.E)(),c=(0,cU.nO)(),{defaultSpace:u}=oU(),[m,p]=(0,n.useState)([]),[_,g]=(0,n.useState)(!1),[h,b]=(0,n.useState)(!0),[y,C]=(0,n.useState)([]),w=(0,n.useMemo)((()=>{const e=new Map;return o.status===R.rq.Success&&o.data.forEach((t=>{var a;t.info?.forcedDomainsEnabled&&(_||g(!0),e.set(t.teamId,null!=(a=t.info?.teamDomains)?a:[]))})),e}),[_,o]),{translate:E}=(0,P.Z)();return(0,n.useEffect)((()=>{o.status===R.rq.Success&&p(o.data),o.status!==R.rq.Loading&&b(!1)}),[w,_,o]),(0,n.useEffect)((()=>{h||Object.keys(t).forEach((e=>{const n=t[e];if(!n)return;const i=n.baseDataModel.Url,s=n.baseDataModel.Email,r=n.baseDataModel.Login,o=i||s||r,l=n.baseDataModel.SpaceId;let d=null!=u?u:l;if(o){const t=c?new lU.ParsedURL(i).getRootDomain():(0,CZ.extractRootDomain)(i),a=c?new lU.ParsedURL(s).getRootDomain():(0,CZ.extractRootDomain)(s),n=c?new lU.ParsedURL(r).getRootDomain():(0,CZ.extractRootDomain)(r);for(const[i,s]of w)if(s.includes(t)||s.includes(a)||s.includes(n)){d=i,C((t=>[...t,e]));break}}l!==d&&(n.baseDataModel.SpaceId=d,a((t=>({...t,[e]:n}))))}))}),[u,w,h]),h?CU||(CU=(0,Ue.tZ)(Qr.Z,null)):(0,Ue.tZ)("div",{sx:{display:"inline-grid",position:"relative",marginY:"24px"}},(0,Ue.tZ)("div",{ref:s,sx:{overflow:"auto",scrollSnapType:"x mandatory",maxHeight:"50vh"},role:"region","aria-label":"Import Data Table"},(0,Ue.tZ)("table",{ref:r,sx:{width:"100%"}},(0,Ue.tZ)("thead",{sx:{position:"sticky",zIndex:1}},(0,Ue.tZ)("tr",null,(0,Ue.tZ)("th",{sx:pU},(0,Ue.tZ)(d.j49,{size:"medium"},E(NU.kwType)),(0,Ue.tZ)(d.ua7,{content:(0,Ue.tZ)("div",null,E("webapp_import_preview_item_type_tooltip")),placement:"top"},(0,Ue.tZ)(d.hU,{sx:{verticalAlign:"middle"},"aria-label":E(NU.kwType),icon:wU||(wU=(0,Ue.tZ)(d.uMt,null))}))),m.length?(0,Ue.tZ)("th",{sx:pU},(0,Ue.tZ)(d.j49,{size:"medium"},E(NU.SpaceId)),(0,Ue.tZ)(d.ua7,{content:(0,Ue.tZ)("div",null,_?E("webapp_import_preview_smart_space_tooltip"):E.markup("webapp_import_preview_space_tooltip_markup",{spaceName:m[0].teamName})),placement:"top"},(0,Ue.tZ)(d.hU,{sx:{verticalAlign:"middle"},"aria-label":E(NU.SpaceId),icon:EU||(EU=(0,Ue.tZ)(d.uMt,null))}))):null,e.map((e=>e.matched?(0,Ue.tZ)("th",{sx:pU,key:e.original},(0,Ue.tZ)(d.j49,{size:"medium"},NU[e.matched]?E(NU[e.matched]):E(NU.Other)),vU||(vU=(0,Ue.tZ)("br",null)),(0,Ue.tZ)(d.nvN,{size:"small",sx:{fontSize:"10px"}},e.original?`(${e.original})`:"")):null)))),(0,Ue.tZ)(yU,{wrapperRef:s,tableData:Object.entries(t),tableHeaders:e,disabledItemRows:y,spaceList:m,handleItemTypeChange:(e,n)=>{const s=t[e];s&&(n===l.DataModelType.KWSecureNote&&(s.rawData.Content?s.baseDataModel.Content=s.rawData.Content:s.baseDataModel.Content=Object.entries(s.rawData).reduce(((e,[t,a])=>a?e+` ${t}: ${a} \n`:""),"")),s.baseDataModel.kwType="DoNotImport"!==n?n:void 0,a((t=>({...t,[e]:s}))),i(!0))},handleSpaceSelectChange:(e,n)=>{const s=t[e];s&&(s.baseDataModel.SpaceId=n,a((t=>({...t,[e]:s}))),i(!0))}}))))},IU=()=>{},fU=({isOpen:e,showCloseIcon:t})=>{const{translate:a}=(0,P.Z)();return(0,Ue.tZ)(p.o,{isOpen:e,onRequestClose:IU,showCloseIcon:t,disableOutsideClickClose:!0,disableBackgroundPanelClose:!0},(0,Ue.tZ)(d.a7O,null,(0,Ue.tZ)(d.Ejs,{flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center",gap:"25px"},(0,Ue.tZ)(d.HoD,{size:88,"aria-hidden":"true",color:d.O9T.dashGreen01}),(0,Ue.tZ)(d.nvN,null,a("webapp_import_chrome_loader")))))},xU=a.p+"e36c66ccea00e4397aa2.png",MU=a.p+"c072da7dadc141863465.png",TU=a.p+"3f9bf215a24b52c52cd3.png",DU=a.p+"ecc88b88a899d260b7ea.png",ZU=a.p+"74678b45fa3a5c928e43.png",AU=a.p+"3bc2dd33e8396ecbd585.png",kU=a.p+"3c3062f7c9a4b4cab36d.png",OU=a.p+"a399bc830d5b92133b25.png",LU=a.p+"6ca955729a6ce5fcd04b.png",zU=a.p+"5d4cab2bf4f2e2dfecc0.png",jU=a.p+"54b11776a021b0f5c73c.png",PU=[QR.ImportSource.Lastpass];let RU;!function(e){e.LastPass="lastpass"}(RU||(RU={}));const UU={[QR.ImportSource["1Password"]]:"",[QR.ImportSource.Bitwarden]:"",[QR.ImportSource.Chrome]:"",[QR.ImportSource.Dash]:"",[QR.ImportSource.Edge]:"",[QR.ImportSource.Firefox]:"",[QR.ImportSource.Keepass]:"",[QR.ImportSource.Keeper]:"",[QR.ImportSource.Lastpass]:RU.LastPass,[QR.ImportSource.Other]:"",[QR.ImportSource.Safari]:""};var BU,FU;const GU={CSV:{STEP_TITLE:"webapp_account_import_select_csv_step_title",STEP_TITLE_SPACES:"webapp_account_import_select_csv_step_title_spaces",STEP_ONE:"webapp_account_import_select_csv_step1",STEP_TWO:"webapp_account_import_select_csv_step2",STEP_TWO_SPACES:"webapp_account_import_select_csv_space_step2",STEP_THREE_SPACES:"webapp_account_import_select_csv_preview_step3",HELP_LINK:"webapp_account_import_select_csv_help_markup"},DASH:{STEP_TITLE:"webapp_account_import_select_dash_step_title",STEP_ONE:"webapp_account_import_select_dash_step1",STEP_TWO:"webapp_account_import_select_dash_step2",HELP_LINK:"webapp_account_import_select_dash_help_markup"},DIRECT:{STEP_TITLE:"webapp_account_import_select_direct_title",STEP_ONE:"webapp_account_import_select_direct_step1",STEP_TWO:"webapp_account_import_select_direct_step2",STEP_THREE:"webapp_account_import_select_csv_preview_step3"}},WU={"1password":"https://support.dashlane.com/hc/articles/7864226708882",bitwarden:"https://support.dashlane.com/hc/articles/7865404063122",chrome:"https://support.dashlane.com/hc/articles/7874222410770",dash:"https://support.dashlane.com/hc/articles/7874554196626",edge:"https://support.dashlane.com/hc/articles/7874164777618",firefox:"https://support.dashlane.com/hc/articles/7874287780626",keepass:"https://support.dashlane.com/hc/articles/7865061516434",keeper:"https://support.dashlane.com/hc/articles/7865510731666",lastpass:"https://support.dashlane.com/hc/articles/7865163497618",other:"https://support.dashlane.com/hc/articles/360004101920#csv",safari:"https://support.dashlane.com/hc/articles/7874371120274"},VU={"1password":xU,bitwarden:MU,chrome:ZU,dash:DU,edge:OU,firefox:AU,keepass:LU,keeper:zU,lastpass:jU,other:TU,safari:kU},HU={"1password":"webapp_account_import_source_label_1password",bitwarden:"webapp_account_import_source_label_bitwarden",chrome:"webapp_account_import_source_label_chrome",dash:"webapp_account_import_source_label_dash",edge:"webapp_account_import_source_label_edge",firefox:"webapp_account_import_source_label_firefox",keepass:"webapp_account_import_source_label_keepass",keeper:"webapp_account_import_source_label_keeper",lastpass:"webapp_account_import_source_label_lastpass",other:"webapp_account_import_source_label_csv",safari:"webapp_account_import_source_label_safari"},qU=()=>{const{translate:e}=(0,P.Z)(),t=(0,i.k6)(),{importSource:a,setImportSource:s,resetContext:r,setImportMethod:o}=oU(),l=(0,Be.w)("onboarding_web_directimport_lp"),[u,m]=(0,n.useState)(""),[p,_]=(0,n.useState)([]),g=(0,Pk.E)(),h=p.length>0&&u===$R.CSV,b=u===$R.DIRECT,y=l,C=y&&PU.includes(a),w=Object.values(QR.ImportSource).map((t=>{const a=PU.includes(t)&&y?$R.DIRECT:$R.CSV;return{value:t===QR.ImportSource.Dash?$R.DASH:a,source:t,label:(0,D.tZ)(d.Ejs,{alignItems:"center"},(0,D.tZ)("img",{alt:e(HU[t]),height:24,sx:{borderRadius:"100%"},"aria-hidden":!0,src:VU[t]}),(0,D.tZ)("span",{style:{marginLeft:5}},e(HU[t])))}}));return(0,n.useEffect)((()=>{g.status===W.rq.Success&&_(g.data)}),[g]),(0,n.useEffect)((()=>{(0,v.N)(c.PageView.ImportSelectPasswordSource)}),[]),(0,n.useEffect)((()=>{r()}),[]),(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.X6q,{size:"small"},e("webapp_account_import_source_header")),BU||(BU=(0,D.tZ)("br",null)),(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.j49,{color:d.O9T.dashGreen01,size:"small"},e("webapp_account_import_source_dropdown_label")),(0,D.tZ)(d.qWE,{customStyles:{container:e=>({...e,maxWidth:"auto"})},id:"importSelect",isClearable:!1,isSearchable:!1,onChange:e=>{m(e.value),s(e.source)},options:w,placeholder:e("webapp_account_import_source_dropdown_placeholder")}),C?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.X6q,{sx:{marginY:"12px"},size:"x-small"},e("webapp_account_import_source_method_header")),(0,D.tZ)(d.Eep,{value:u,onChange:e=>{const t=e.target.value;t in $R&&m($R[t])}},(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.Y8K,{"data-testid":"direct-import-method",label:e("webapp_account_import_source_option_direct_import",{source:e(HU[a])}),value:$R.DIRECT}),(0,D.tZ)(d.Y8K,{"data-testid":"csv-import-method",label:e("webapp_account_import_source_option_csv"),value:$R.CSV})))):null,u?(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:{maxWidth:"480px"}},(0,D.tZ)(d.X6q,{sx:{marginY:"12px"},size:"x-small"},h?e(GU[u].STEP_TITLE_SPACES):e(GU[u].STEP_TITLE,b?{source:e(HU[a])}:{})),(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"}},e(GU[u].STEP_ONE,b?{source:e(HU[a])}:{})),(0,D.tZ)(d.nvN,{color:d.O9T.grey00,sx:{marginBottom:"12px"}},h?e(GU[u].STEP_TWO_SPACES):e(GU[u].STEP_TWO,b?{source:e(HU[a])}:{})),(0,D.tZ)(d.nvN,{color:d.O9T.grey00,sx:{marginBottom:"12px"}},h?e(GU[u].STEP_THREE_SPACES):u===$R.DIRECT?e(GU.DIRECT.STEP_THREE):null),b?(0,D.tZ)(Ue.ke,{sx:{marginY:"12px"},mood:"brand",title:e.markup("webapp_account_import_help_tip_infobox_markup",{supportLink:WU[a],source:e(HU[a])},{linkTarget:"_blank",onLinkClicked:()=>eU(c.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})}):(0,D.tZ)(Ue.ke,{sx:{marginY:"12px"},mood:"neutral",title:e.markup(GU[u].HELP_LINK,{supportLink:WU[a]},{linkTarget:"_blank",onLinkClicked:()=>eU(c.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})})):null,(0,D.tZ)(d.Ejs,{flexDirection:"row",gap:4,sx:{marginTop:"12px"}},(0,D.tZ)(Ue.zx,{type:"button",mood:"brand",intensity:"catchy",onClick:()=>{const e=u===$R.DIRECT;if((0,v.K)(new c.UserImportDataEvent({importSource:KR[a],backupFileType:u===$R.DASH?c.BackupFileType.SecureVault:c.BackupFileType.Csv,importDataStatus:c.ImportDataStatus.Start,importDataStep:c.ImportDataStep.SelectImportSource,isDirectImport:e})),e)return o(XR.DIRECT),void t.push(`${QB.DirectImport}/${UU[a]}`);t.push(QB.ImportSelect)},disabled:!u,layout:b?"iconTrailing":"labelOnly",icon:b?FU||(FU=(0,D.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined"})):void 0},b?(0,D.tZ)(n.Fragment,null,e.markup("webapp_account_import_source_direct_import_button_markup",{source:e(HU[a])})):e("webapp_account_import_source_get_started_button")))))};var YU,QU;const $U=()=>{const{preview:{state:e,setAttemptedCount:t},import:{startImport:a,state:s},importSource:r,previewDataItems:o,setPreviewDataItems:u,previewDataHeaders:m,importMethod:p}=oU(),_=p===XR.DIRECT,g=(0,i.k6)(),h=(0,Na.V)(),{translate:b}=(0,P.Z)(),y=(0,Pk.E)(),[C,w]=(0,n.useState)([]),[E,N]=(0,n.useState)(!1),[S,I]=(0,n.useState)(!1),f=C.length>0,x=f||_?3:2;(0,n.useEffect)((()=>{y.status===W.rq.Success&&w(y.data)}),[y]),(0,n.useEffect)((()=>{e.file||g.push(QB.ImportSource)}),[g,e.file]);const M=(0,n.useCallback)((()=>{h.showAlert(b("team_feedback_notification_error_generic"),d.BLW.ERROR)}),[h,b]);(0,n.useEffect)((()=>{(0,v.N)(c.PageView.ImportCsvPreviewDataUpload)}),[]);const T=Object.values(o).filter((e=>e.baseDataModel.kwType&&e.baseDataModel.kwType!==l.DataModelType.KWCollection)).length;return(0,n.useEffect)((()=>{t(T)}),[T,t]),(0,n.useEffect)((()=>{switch(s.status){case aU.ERROR_GENERIC:return JR(c.BackupFileType.Csv,r,e.attemptedItemCount,_),void M();case aU.SUCCESS:return void g.push(QB.ImportSummary)}}),[g,s.status,r,M,e.attemptedItemCount]),(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:"10px"},E||s.status===aU.PROCESSING?YU||(YU=(0,D.tZ)(fU,{showCloseIcon:!1,isOpen:!0})):null,(0,D.tZ)(GI.X,{titleText:b("webapp_import_unsaved_changes_title"),bodyText:b("webapp_import_unsaved_changes_body"),onUnsavedChangesCaught:()=>(0,v.N)(c.PageView.ImportLeaveProcess),onLeavePage:()=>((e,t,a)=>{(0,v.K)(new c.UserImportDataEvent({importSource:KR[e],itemsToImportCount:t,backupFileType:c.BackupFileType.Csv,importDataStatus:c.ImportDataStatus.ImportFlowTerminated,importDataStep:c.ImportDataStep.PreviewItemsToImport,importDataDropAction:c.ImportDataDropAction.CancelProcess,isDirectImport:a}))})(r,Object.keys(o).length,_),dirty:!!e.fileName&&s.status!==aU.SUCCESS&&S}),(0,D.tZ)(d.j49,null,b.markup("webapp_import_step_tracker_markup",{currentStep:`${x}`,totalSteps:`${x}`})),(0,D.tZ)(d.X6q,{size:"small"},b("webapp_import_preview_title")),(0,D.tZ)(d.nvN,null,b("webapp_import_preview_subtitle")),(0,D.tZ)("ul",{sx:{marginLeft:"24px",listStyle:"disc"}},(0,D.tZ)("li",null,b.markup("webapp_import_preview_tip_labels_markup")),(0,D.tZ)("li",null,b.markup("webapp_import_preview_tip_do_not_import_markup"))),Object.keys(o).length?(0,D.tZ)(SU,{setHasChanges:I,tableData:o,setTableData:u,tableHeaders:m}):null,(0,D.tZ)(d.Ejs,{gap:"16px"},(0,D.tZ)(Ue.zx,{onClick:()=>{g.push({pathname:f?QB.ImportSpaceSelect:QB.ImportSource,state:{userNavigatedAway:!0}})},type:"button",mood:"neutral",intensity:"quiet"},b("_common_action_back")),(0,D.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",disabled:!T,type:"button",onClick:async()=>{N(!0);try{if(e.format){const t=r===QR.ImportSource.Dash?c.BackupFileType.SecureVault:c.BackupFileType.Csv;(await a({format:e.format,name:e.fileName,content:Object.keys(o).map((e=>o[e].baseDataModel)).filter((e=>void 0!==e.kwType))},r,t,p)).success||M()}}finally{N(!1)}}},b.markup("webapp_import_preview_import_button_markup",{itemCount:T})),QU||(QU=(0,D.tZ)(d.k$b,{flex:1})),(0,D.tZ)(d.k$b,{as:d.rUS,alignSelf:"center",color:"ds.text.brand.standard",href:WU[r],target:"_blank",onClick:()=>eU(c.HelpCenterArticleCta.TroubleshootImportingIssues)},b("webapp_import_preview_import_troubleshoot_link"))))};var KU,XU,JU=a(314922);const eB={cursor:"pointer",color:"ds.text.brand.standard",transition:"all 300ms ease",textDecoration:"underline"},tB={margin:"0px 8px",color:"ds.text.neutral.quiet","& em":eB},aB={color:"ds.text.danger.quiet","& em":eB},nB={textAlign:"center",width:"100%",paddingTop:"72px",paddingBottom:"72px",backgroundColor:"ds.container.agnostic.neutral.quiet",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"ds.text.neutral.quiet","* > em":{fontStyle:"initial"}},iB={...nB,backgroundColor:"ds.container.expressive.brand.quiet.active"},sB="webapp_import_chrome_on_import_multi_error_message_markup",rB=({accept:e,idleMessage:t,fileSelectedMessage:a,onFileDropped:i,undoFileDropped:s,setErrorMessage:r,error:o="",setFileInvalid:l,importSource:u})=>{var m;const{translate:p}=(0,P.Z)(),[_,g]=(0,n.useState)([]),h=e.includes(".dash")?c.BackupFileType.SecureVault:c.BackupFileType.Csv,b=()=>{s?.(),g([])},y=null!=a?a:p("webapp_import_chrome_file_ready"),{getRootProps:C,getInputProps:w,isDragActive:E}=(0,JU.uI)({accept:e,multiple:!1,onDropAccepted:e=>{if(1!==e.length)return(0,v.K)(new c.UserImportDataEvent({backupFileType:h,importDataStatus:c.ImportDataStatus.MultipleFilesSelected,importSource:KR[u],importDataStep:c.ImportDataStep.SelectFile,isDirectImport:!1})),r(p.markup(sB)),void l(!0);const t=e[0];g([t].map((e=>e.name))),r(null),l(!1);try{i(t)}catch(e){r(p.markup("webapp_import_chrome_on_import_error_message_markup")),(0,v.K)(new c.UserImportDataEvent({backupFileType:h,importDataStatus:c.ImportDataStatus.WrongFileFormat,importSource:KR[u],importDataStep:c.ImportDataStep.SelectFile,isDirectImport:!1})),l(!0)}},onDropRejected:e=>{b(),e.length>1?((0,v.K)(new c.UserImportDataEvent({backupFileType:h,importDataStatus:c.ImportDataStatus.MultipleFilesSelected,importSource:KR[u],importDataStep:c.ImportDataStep.SelectFile,isDirectImport:!1})),r(p.markup(sB))):(r("dash"===u?p.markup("webapp_import_invalid_dash_file_error_markup"):p.markup("webapp_import_invalid_file_error_markup")),(0,v.K)(new c.UserImportDataEvent({backupFileType:h,importDataStatus:c.ImportDataStatus.WrongFileFormat,importSource:KR[u],importDataStep:c.ImportDataStep.SelectFile,isDirectImport:!1}))),l(!0)},noClick:_.length>0&&!o});return(0,D.tZ)("div",{...C(),sx:{padding:"8px",overflow:"hidden",border:"2px dashed",borderColor:"ds.border.brand.standard.idle",borderRadius:4},role:"button"},(0,D.tZ)("div",{sx:E?iB:nB},(0,D.tZ)("input",{id:"dropzoneinput","aria-labelledby":"dropzoneinput-label",...w()}),o||0!==_.length?null:(0,D.tZ)(d.nvN,{as:"span",id:"dropzoneinput-label",sx:tB},t),!o&&_?.length>0?(0,D.tZ)(d.Ejs,{flexDirection:"column",alignItems:"center"},_?.map((e=>(0,D.tZ)(n.Fragment,{key:e},m||(m=(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"medium"},y)),(0,D.tZ)(d.Ejs,{as:d.nvN,alignItems:"center",gap:"4px",color:"ds.text.brand.standard",size:"medium",bold:!0},e,(0,D.tZ)(d.Two,{"aria-label":p("_common_action_cancel"),size:12,onClick:b,color:"ds.text.brand.standard",sx:{cursor:"pointer"}})))))):null,o?(0,D.tZ)(n.Fragment,null,KU||(KU=(0,D.tZ)(d.enX,{size:30,color:"ds.text.danger.quiet"})),XU||(XU=(0,D.tZ)("br",null)),(0,D.tZ)(d.nvN,{sx:aB},o)):null))};var oB;const lB={"1password":"webapp_account_import_select_1password_help_markup",bitwarden:"webapp_account_import_select_bitwarden_help_markup",chrome:"webapp_account_import_select_chrome_help_markup",dash:"webapp_account_import_select_dash_help_markup",edge:"webapp_account_import_select_edge_help_markup",firefox:"webapp_account_import_select_firefox_help_markup",keepass:"webapp_account_import_select_keepass_help_markup",keeper:"webapp_account_import_select_keeper_help_markup",lastpass:"webapp_account_import_select_lastpass_help_markup",other:"webapp_account_import_select_other_help_markup",safari:"webapp_account_import_select_safari_help_markup"},cB={"1password":"webapp_account_import_select_1password_error_info_markup",bitwarden:"webapp_account_import_select_bitwarden_error_info_markup",chrome:"webapp_account_import_select_chrome_error_info_markup",dash:"webapp_account_import_select_dash_error_info_markup",edge:"webapp_account_import_select_edge_error_info_markup",firefox:"webapp_account_import_select_firefox_error_info_markup",keepass:"webapp_account_import_select_keepass_error_info_markup",keeper:"webapp_account_import_select_keeper_error_info_markup",lastpass:"webapp_account_import_select_lastpass_error_info_markup",other:"webapp_account_import_select_other_error_info_markup",safari:"webapp_account_import_select_safari_error_info_markup"},dB=()=>{const[e,t]=(0,n.useState)(""),[a,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),{translate:o}=(0,P.Z)(),l=(0,L_.k6)(),u=(0,Pk.E)(),[m,p]=(0,n.useState)([]),_=u.status===R.rq.Loading,g=m.length>0,h=g?3:2;(0,n.useEffect)((()=>{u.status===R.rq.Success&&p(u.data)}),[u]);const{preview:{processFile:b,state:y,resetState:C,previewFile:w},importSource:E,setPreviewDataItems:N,setPreviewDataHeaders:S}=oU();(0,n.useEffect)((()=>{C()}),[]),(0,n.useEffect)((()=>{const e=E===QR.ImportSource.Dash?c.PageView.ImportDash:c.PageView.ImportCsv;(0,v.N)(e)}),[E]);const I=E!==QR.ImportSource.Dash,f=I?[".csv"]:[".dash"],x=o.markup("webapp_account_import_select_idle_markup",{fileExtension:I?"CSV":"DASH"}),M=o(I?"webapp_account_import_select_ready_csv":"webapp_account_import_select_ready_dash");return(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.j49,{size:"medium",color:"ds.text.neutral.quiet",sx:{mb:"16px"}},o.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:`${h}`})),(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{mb:"24px"}},o(I?"webapp_account_import_select_header_csv":"webapp_account_import_select_header_dash")),(0,D.tZ)(rB,{onFileDropped:t=>{e&&(0,v.K)(new c.UserImportDataEvent({backupFileType:I?c.BackupFileType.Csv:c.BackupFileType.SecureVault,importDataStatus:c.ImportDataStatus.Start,importSource:KR[E],importDataStep:c.ImportDataStep.SelectFile,isDirectImport:!1})),b(t)},undoFileDropped:C,setErrorMessage:t,error:e,accept:f,idleMessage:x,fileSelectedMessage:M,setFileInvalid:r,importSource:E}),s?(0,D.tZ)("div",{sx:{marginTop:"24px"}},(0,D.tZ)(Ue.ke,{mood:"brand",title:(0,D.tZ)(n.Fragment,null,o("webapp_account_import_select_error_info_intro"),oB||(oB=(0,D.tZ)("br",null)),o.markup(cB[E],{supportLink:WU[E]},{linkTarget:"_blank"}))})):a?(0,D.tZ)("div",{sx:{marginTop:"24px"}},(0,D.tZ)(Ue.ke,{mood:"danger",title:o.markup(lB[E],{supportLink:WU[E]},{linkTarget:"_blank"})})):null,(0,D.tZ)(d.Ejs,{gap:"16px",sx:{mt:"16px"}},(0,D.tZ)(Ue.zx,{type:"button",mood:"neutral",intensity:"quiet",onClick:()=>{(0,v.K)(new c.UserImportDataEvent({backupFileType:I?c.BackupFileType.Csv:c.BackupFileType.SecureVault,importDataStatus:c.ImportDataStatus.ImportFlowTerminated,importSource:KR[E],importDataDropAction:c.ImportDataDropAction.CancelProcess,importDataStep:c.ImportDataStep.SelectFile,isDirectImport:!1})),l.push(QB.ImportSource)}},o("_common_action_back")),(0,D.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",type:"button",onClick:()=>{I?w(E).then((e=>{if(e.success&&e.data.items.length){const t={};e.data.items.forEach((e=>{t[e.baseDataModel.Id]=e})),N(t),S(e.data.headers);const a=g?QB.ImportSpaceSelect:QB.ImportPreview;l.push(a)}else t(o.markup("webapp_import_chrome_on_import_error_message_markup")),(0,v.K)(new c.UserImportDataEvent({backupFileType:I?c.BackupFileType.Csv:c.BackupFileType.SecureVault,importDataStatus:e.success&&!e.data.items.length?c.ImportDataStatus.NoDataFound:c.ImportDataStatus.WrongFileStructure,importSource:KR[E],importDataStep:c.ImportDataStep.SelectFile,isDirectImport:!1,itemsToImportCount:e.success?e.data.items.length:void 0})),i(!0)})):l.push(QB.SecureImport)},disabled:!y.file||!!e||_},o("webapp_account_import_select_button_next"))))};var uB,mB,pB,_B;const gB=()=>{const{translate:e}=(0,P.Z)(),t=(0,L_.k6)(),a=(0,i.Xo)(),{preview:{state:{format:s}},import:{state:r},importSource:o,defaultSpace:l,importMethod:u}=oU(),m=u===XR.DIRECT;return(0,n.useEffect)((()=>{const e=s===V.ImportFormats.Csv?c.PageView.ImportCsvSuccess:c.PageView.ImportDashSuccess;(0,v.N)(e)}),[]),(0,n.useEffect)((()=>{if(null===s||r.status!==aU.SUCCESS)return;const e=s===V.ImportFormats.Csv?c.BackupFileType.Csv:c.BackupFileType.SecureVault;(r.totalCredentials||e===c.BackupFileType.SecureVault)&&((e,t,a,n,i,s)=>{(0,v.K)(new c.UserImportDataEvent({importSource:KR[t],importedItemsCount:a,backupFileType:e,importDataStatus:c.ImportDataStatus.Success,itemsToImportCount:n,space:i,importDataStep:c.ImportDataStep.Success,isDirectImport:s}))})(e,o,r.importedCredentials,r.totalCredentials,""===l||null===l?c.Space.Personal:c.Space.Professional,m)}),[s,o,l,r]),(0,D.tZ)(d.Ejs,{flexDirection:"column",gap:6},r.status===aU.SUCCESS?(0,D.tZ)(n.Fragment,null,(0,D.tZ)(d.X6q,{size:"x-small"},e("webapp_import_summary_title",{itemCount:r.importedCredentials})),r.duplicateCredentials?(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet"},e.markup("webapp_import_summary_duplicates_markup",{count:r.duplicateCredentials})):null,(0,D.tZ)(d.nvN,{color:"ds.text.neutral.quiet"},s===V.ImportFormats.Csv?(0,D.tZ)(n.Fragment,null,e("webapp_import_summary_text"),uB||(uB=(0,D.tZ)("br",null)),mB||(mB=(0,D.tZ)("br",null)),m?null:e("webapp_import_summary_short_tip_csv")):e("webapp_import_summary_short_tip_dash"))):r.status===aU.ERROR_GENERIC?(0,D.tZ)(d.X6q,{size:"x-small",sx:{marginBottom:"24px"}},e("_common_generic_error")):pB||(pB=(0,D.tZ)(d.HoD,null)),(0,D.tZ)(Ue.ke,{mood:"brand",title:(0,D.tZ)(n.Fragment,null,e("webapp_account_import_select_error_info_intro"),_B||(_B=(0,D.tZ)("br",null)),e.markup(cB[o],{supportLink:WU[o]},{linkTarget:"_blank"}))}),(0,D.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",onClick:()=>t.push(a.routes.userCredentials)},e("webapp_import_summary_open_logins_button")))};var hB;const bB="_common_generic_error",yB=()=>{const{preview:{resetState:e,previewFile:t,state:a},import:{startImport:i,state:s},importSource:r}=oU(),o=(0,Na.V)(),{translate:l}=(0,P.Z)(),u=(0,L_.k6)(),m=(0,n.useRef)(!1),p=(0,n.useCallback)((()=>{o.showAlert(l(bB),d.BLW.ERROR)}),[o,l]);(0,n.useEffect)((()=>{(0,v.N)(c.PageView.ImportDashEnterDashPassword)}),[]);const _=()=>{e(),u.push(QB.ImportSelect)};return(0,n.useEffect)((()=>{switch(s.status){case aU.ERROR_GENERIC:return void p();case aU.SUCCESS:return void u.push(QB.ImportSummary)}}),[u,s.status,p]),(0,D.tZ)(n.Fragment,null,s.status===aU.PROCESSING?hB||(hB=(0,D.tZ)(fU,{showCloseIcon:!1,isOpen:!0})):null,(0,D.tZ)(Gt.J9,{initialValues:{dashPassword:""},onSubmit:async({dashPassword:e},{setErrors:n,setSubmitting:s})=>{s(!0);try{const s=await(async e=>{const a=await t(r,e);return a.success?{success:!0,data:a.data.items.map((({baseDataModel:e})=>e)).filter((e=>void 0!==e.kwType))}:{success:!1,error:a.success||a.error!==V.PreviewPersonalDataErrorType.BadPassword?bB:"webapp_account_import_dash_password_error"}})(e);if(!s.success)return void n({dashPassword:l(s.error)});const c=await(async e=>a.format&&(await i({format:a.format,name:a.fileName,content:e},r)).success?{success:!0}:{success:!1,error:bB})(s.data);var o;c.success?m.current=!0:n({dashPassword:l(null!=(o=c.error)?o:bB)})}catch{n({dashPassword:l(bB)})}finally{m.current||s(!1)}}},(({handleSubmit:e,handleChange:t,values:a,errors:n,submitCount:i,isSubmitting:s})=>(0,D.tZ)(d.Ejs,{flexDirection:"column",as:"form",onSubmit:e,gap:"16px",noValidate:!0},(0,D.tZ)(d.j49,{size:"small",color:"ds.text.neutral.quiet"},l("webapp_account_security_settings_two_factor_authentication_stage_header",{stageIndex:2,totalStages:2})),(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy"},l("webapp_account_import_dash_password_header")),(0,D.tZ)(d.nvN,{size:"medium",color:"ds.text.neutral.quiet"},l("webapp_account_import_dash_password_description")),(0,D.tZ)(d.WUg,{disabled:s,autoComplete:"off",name:"dashPassword",onChange:t,value:a.dashPassword,label:l("webapp_account_import_dash_password_label"),placeholder:l("webapp_account_import_dash_password_placeholder"),hidePasswordTooltipText:l("_common_password_hide_label"),showPasswordTooltipText:l("_common_password_show_label"),feedbackType:n.dashPassword?"error":void 0,feedbackText:n.dashPassword}),i>=2?(0,D.tZ)(d.vDh,{title:l.markup("webapp_account_import_dash_password_error_header_markup")}):null,(0,D.tZ)(d.Ejs,{sx:{mt:"8px"},gap:"16px"},(0,D.tZ)(d.zxk,{type:"button",nature:"secondary",onClick:_},l("_common_action_back")),(0,D.tZ)(d.zxk,{type:"submit",disabled:!a.dashPassword||s},l("webapp_account_import_dash_password_button_next")))))))},CB=()=>{const{translate:e}=(0,P.Z)(),t=(0,L_.k6)(),a=(0,L_.TH)(),i=(0,Pk.E)(),[s,r]=(0,n.useState)(!1),o=i.status===W.rq.Loading,{importSource:l,preview:{state:m},defaultSpace:p,setDefaultSpace:_,importMethod:g}=oU(),h=g===XR.DIRECT;return(0,n.useEffect)((()=>{m.file||t.push(QB.ImportSource)}),[t,m.file]),(0,n.useEffect)((()=>{u.C.getIsForcedDomainsEnabled().then((e=>{r(e)})),(0,v.N)(c.PageView.ImportCsvSelectSpace)}),[]),(0,n.useEffect)((()=>{const e=()=>{(0,v.K)(new c.UserImportDataEvent({backupFileType:c.BackupFileType.Csv,importDataStatus:c.ImportDataStatus.ImportFlowTerminated,importSource:KR[l],importDataDropAction:c.ImportDataDropAction.ShutDownBrowserTab,importDataStep:c.ImportDataStep.SelectDashlaneSpace,itemsToImportCount:m.attemptedItemCount,isDirectImport:h}))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[l,m.attemptedItemCount]),(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.j49,{size:"medium",color:"ds.text.neutral.quiet",sx:{mb:"16px"}},e.markup("webapp_import_step_tracker_markup",{currentStep:"2",totalSteps:"3"})),(0,D.tZ)(d.X6q,{size:"small",color:"ds.text.neutral.catchy",sx:{mb:"16px"}},e("webapp_account_import_space_select_title")),(0,D.tZ)(d.nvN,{sx:{mb:"16px"},color:"ds.text.neutral.quiet"},e("webapp_account_import_space_select_subtitle")),(0,D.tZ)(Ul.M,{onChange:e=>{_(e)},hideLabel:!0,wrapperSx:{display:"block"}}),(0,D.tZ)(d.Ejs,{gap:"16px",sx:{my:"24px"}},(0,D.tZ)(Ue.zx,{mood:"neutral",intensity:"quiet",type:"button",onClick:()=>{t.push(QB.ImportSource)}},e("_common_action_back")),(0,D.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",type:"button",onClick:()=>{!0===a.state?.userNavigatedAway&&(0,v.K)(new c.UserImportDataEvent({backupFileType:c.BackupFileType.Csv,importDataStatus:c.ImportDataStatus.Start,importSource:KR[l],importDataStep:c.ImportDataStep.SelectDashlaneSpace,itemsToImportCount:m.attemptedItemCount,isDirectImport:h})),t.push(QB.ImportPreview)},disabled:o||null===p},e("webapp_account_import_select_button_next"))),s?(0,D.tZ)(Ue.ke,{size:"medium",mood:"neutral",title:"",description:(0,D.tZ)(d.nvN,{size:"small"},e("webapp_account_import_space_select_forced_domain_infobox"))}):null)};var wB=a(237335),EB=a(731460),vB=a(549259),NB=a(666561),SB=a(598641),IB=a(329);const fB="lastpass.com",xB="PHPSESSID";var MB=a(707502),TB=a(89685),DB=a(407573),ZB=a(530263);const AB=async(e,t)=>{if(!e)return"";if(e.startsWith("!")){const[a,n]=e.split("|"),i=a.slice(1),s=(0,MB.R)(i).slice(0,16),r=(0,MB.R)(n),o=await(0,ZB.decryptAes256)(t,s,r);return(0,TB.v)(o)}{const a=(new TextEncoder).encode(e);return(0,TB.v)((0,ZB.decryptAesEcb256)(t,a))}};var kB;const OB="webapp_account_import_source_label_lastpass",LB="webapp_account_import_select_direct_title",zB="webapp_account_import_select_direct_step1",jB="webapp_account_import_select_direct_step2",PB="webapp_account_import_select_csv_preview_step3",RB=({openLastPassLoginTab:e,handleBackButtonClick:t,error:a})=>{const{translate:s}=(0,P.Z)(),{routes:r}=(0,i.Xo)(),o=(0,i.k6)();return(0,n.useEffect)((()=>{(0,v.N)(c.PageView.ImportCsvLoginToLastpass)}),[]),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:4},(0,Ue.tZ)(d.j49,{size:"medium",color:"ds.text.neutral.quiet"},s.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:"3"})),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",sx:{maxWidth:"480px"}},(0,Ue.tZ)(d.X6q,{sx:{marginY:"12px"},size:"x-small"},s(LB,{source:s(OB)})),(0,Ue.tZ)(Ue.nv,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"}},s(zB,{source:s(OB)})),(0,Ue.tZ)(Ue.nv,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"}},s(jB,{source:s(OB)})),(0,Ue.tZ)(Ue.nv,{color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"}},s(PB)),(0,Ue.tZ)(Ue.ke,{sx:{marginY:"12px"},mood:"brand",title:s.markup("webapp_account_import_help_tip_infobox_markup",{supportLink:"https://support.dashlane.com/hc/articles/7865163497618",source:s(OB)},{linkTarget:"_blank",onLinkClicked:()=>eU(c.HelpCenterArticleCta.LearnAboutCsvImportFormatting)})}),a?(0,Ue.tZ)(Ue.ke,{mood:"danger",size:"large",actions:[(0,Ue.tZ)(Ue.zx,{key:"import",intensity:"quiet",mood:"danger",size:"small",onClick:()=>o.push(`${r.importData}/${QB.ImportSource}`)},s("webapp_account_import_direct_import_error_import_csv")),(0,Ue.tZ)(Ue.zx,{key:"tryAgain",intensity:"catchy",mood:"danger",size:"small",onClick:()=>o.go(0)},s("webapp_account_import_direct_import_error_try_again"))],title:s("webapp_account_import_direct_import_error_title"),description:s("webapp_account_import_direct_import_error_body")}):null),(0,Ue.tZ)(d.Ejs,{flexDirection:"row",gap:6},(0,Ue.tZ)(Ue.zx,{onClick:t,mood:"neutral",intensity:"quiet"},s("_common_action_back")),(0,Ue.tZ)(Ue.zx,{type:"button",mood:"brand",intensity:"catchy",onClick:e,layout:"iconTrailing",icon:kB||(kB=(0,Ue.tZ)(Ue.JO,{name:"ActionOpenExternalLinkOutlined"}))},s.markup("webapp_account_import_source_direct_import_button_markup",{source:s(OB)}))))},UB="PHPSESSID",BB="_common_generic_error",FB=100100,GB=()=>{const[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)(0),[r,o]=(0,n.useState)(0),[l,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(""),[_,g]=(0,n.useState)(""),h=(0,Na.V)(),{translate:b}=(0,P.Z)(),{preview:{processFile:y}}=oU(),{routes:C}=(0,i.Xo)(),w=(0,L_.k6)(),E=!!l,{listenForLastPassCookie:N,cookieData:S}=(()=>{const[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)(void 0),{preview:{previewFile:r,state:o},setPreviewDataItems:l,setPreviewDataHeaders:c,previewDataHeaders:d,previewDataItems:u}=oU(),{routes:m}=(0,i.Xo)(),p=(0,i.k6)(),_=(0,Pk.E)(),g=_.status===NB.rq.Success&&_.data.length>0;return(0,n.useEffect)((()=>{(0,SB.O)({url:`https://${fB}`,name:xB})}),[]),(0,n.useEffect)((()=>()=>{clearInterval(a)}),[a]),(0,n.useEffect)((()=>{if(d.length&&!(0,ft.isEmpty)(u)){const e=g?QB.ImportSpaceSelect:QB.ImportPreview;p.push(`${m.importData}/${e}`)}}),[g,p,d.length,u,m.importData]),(0,n.useEffect)((()=>{o.file&&o.fileName&&o.format&&r(V.ImportSource.Lastpass).then((e=>{if(e.success&&e.data.items.length){const t={};e.data.items.forEach((e=>{t[e.baseDataModel.Id]=e})),l(t),c(e.data.headers)}}))}),[o.file,r,l,c,g,p,m.importData,o.fileName,o.format]),{listenForLastPassCookie:()=>{a&&window.clearInterval(a);const e=window.setInterval((async()=>{const e=await(0,IB.g)({domain:fB,name:xB});e.length&&t(e[0].value)}),5e3);s(e)},cookieData:e}})();(0,n.useEffect)((()=>{(async()=>{const e=await(0,wB.T)();e?.id&&s(e.id)})()}),[]),(0,n.useEffect)((()=>{E&&(0,v.N)(c.PageView.ImportCsvDecryptLastpassVault)}),[E]);const I=()=>{(0,Ys.U)({url:`https://lastpass.com/?ac=1&lpnorefresh=1&email=${m}`,active:!0}).then((e=>{var t;o(null!=(t=e.id)?t:0)}))};(0,n.useEffect)((()=>{N(),I()}),[]);const f=(0,n.useCallback)((()=>{E||fetch("https://lastpass.com/getaccts.php?b64=1&hash=0.0&hasplugin=3.0.23&requestsrc=cli",{method:"GET",headers:{Cookie:`${UB}=${S}`}}).then((e=>e.text())).then((e=>{const n=(new DOMParser).parseFromString(e,"application/xml");n.querySelector("parsererror")?t(b(BB)):(u(n),a&&(0,EB.V)(a,{active:!0}),r&&((0,vB.O)([r]),h.showAlert(b("webapp_account_import_direct_import_success_toast",{source:"LastPass"}),d.BLW.SUCCESS)))})).catch((()=>{t(b(BB))}))}),[S,a,E,r,b]);(0,n.useEffect)((()=>{S&&f()}),[S,f]);const x=()=>{(0,v.K)(new c.UserImportDataEvent({backupFileType:c.BackupFileType.Csv,importSource:c.ImportSource.SourceLastpass,importDataStep:E?c.ImportDataStep.DecryptLastpassVault:c.ImportDataStep.LoginToLastpass,importDataStatus:c.ImportDataStatus.ImportFlowTerminated,importDataDropAction:c.ImportDataDropAction.CancelProcess,isDirectImport:!0})),w.push(`${C.importData}/${QB.ImportSource}`)};return E?(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:4},(0,Ue.tZ)(d.j49,{size:"medium",color:"ds.text.neutral.quiet"},b.markup("webapp_import_step_tracker_markup",{currentStep:"1",totalSteps:"3"})),(0,Ue.tZ)(d.X6q,{size:"small"},b("webapp_account_import_direct_import_lastpass_header")),(0,Ue.tZ)(d.Ejs,{flexDirection:"column",gap:4,as:"form",onSubmit:async e=>{e.preventDefault();try{if(!E||!m||!_)return void t(b(BB));const e=await(async()=>await fetch(`https://lastpass.com/iterations.php?email=${m}`,{method:"GET",headers:{Cookie:`${UB}=${S}`}}).then((e=>e.text())).then((e=>{const t=parseInt(e,10);return isNaN(t)?FB:t})).catch((()=>FB)))(),a=await(async(e,t,a,n)=>{const i=["url,username,password,otp,extra,name,grouping,fav"],s=new TextEncoder,r=new TextDecoder,o=await(0,ZB.deriveKeyPbkdf2)(s.encode(t),s.encode(e.toLocaleLowerCase()),{iterations:a,hashType:"SHA-256"}),l=n.documentElement.querySelectorAll("*");for(let e=0;e<l.length;e++)if("account"===l[e].tagName){var c,d,u,m,p,_,g,h;const t=l[e].getElementsByTagName("login")?.[0],a=null!=(c=l[e].getAttribute("name"))?c:"",n=null!=(d=l[e].getAttribute("group"))?d:"",s=null!=(u=l[e].getAttribute("extra"))?u:"",b=null!=(m=l[e].getAttribute("fav"))?m:"0",y=null!=(p=t?.getAttribute("url"))?p:"",C=null!=(_=t?.getAttribute("p"))?_:"",w=null!=(g=t?.getAttribute("u"))?g:"",E=null!=(h=t?.getAttribute("o"))?h:"",v=await AB(a,o),N=await AB(n,o),S=await AB(s,o),I=r.decode((0,DB.i)(y)),f=await AB(C,o),x=await AB(w,o),M=await AB(E,o);if("http://group"===I)continue;i.push(`"${I}","${x}","${f}","${M}","${S}","${v}","${N}","${b}"`)}const b=i.join("\n"),y=new Blob([b],{type:"text/csv"});return new File([y],"lastpass.csv",{type:"text/csv"})})(m,_,e,l);y(a)}catch{t(b(BB))}}},(0,Ue.tZ)(d.nvN,null,b("webapp_account_import_direct_import_lastpass_import_tip")),(0,Ue.tZ)(d.oil,{fullWidth:!0,label:b("webapp_import_preview_header_login"),placeholder:b("webapp_account_import_direct_import_lastpass_login_placeholder"),onChange:e=>{p(e.target.value)}}),(0,Ue.tZ)(d.WUg,{fullWidth:!0,label:b("webapp_import_preview_header_password"),placeholder:b("webapp_account_import_direct_import_lastpass_password_placeholder"),onChange:e=>{g(e.target.value)},hidePasswordTooltipText:b("_common_password_hide_label"),showPasswordTooltipText:b("_common_password_show_label")}),e?(0,Ue.tZ)(Ue.ke,{mood:"danger",size:"large",actions:[(0,Ue.tZ)(Ue.zx,{size:"small",key:"import",intensity:"quiet",mood:"danger",onClick:()=>w.push(`${C.importData}/${QB.ImportSource}`)},b("webapp_account_import_direct_import_error_import_csv")),(0,Ue.tZ)(Ue.zx,{size:"small",key:"try-again",intensity:"catchy",mood:"danger",onClick:()=>w.go(0)},b("webapp_account_import_direct_import_error_try_again"))],title:b("webapp_account_import_direct_import_error_title"),description:b("webapp_account_import_direct_import_error_body")}):null,(0,Ue.tZ)(d.Ejs,{flexDirection:"row",gap:4},(0,Ue.tZ)(Ue.zx,{onClick:x,mood:"neutral",intensity:"quiet"},b("_common_action_back")),(0,Ue.tZ)(Ue.zx,{disabled:!_,type:"submit"},b("webapp_account_import_direct_import_lastpass_preview_button"))))):(0,Ue.tZ)(RB,{error:e,openLastPassLoginTab:I,handleBackButtonClick:x})};var WB;const VB=()=>{const{translate:e}=(0,P.Z)(),{source:t}=(0,i.UO)(),{routes:a}=(0,i.Xo)(),n=(0,i.k6)();return t===RU.LastPass?WB||(WB=(0,Ue.tZ)(GB,null)):(0,Ue.tZ)(d.Ejs,{gap:6},(0,Ue.tZ)(d.X6q,null,e("_common_generic_error")),(0,Ue.tZ)(Ue.zx,{mood:"brand",intensity:"catchy",onClick:()=>{n.push(a.importData)}},e("_common_action_back")))};var HB,qB;const YB=()=>{const{path:e}=(0,L_.$B)(),{pathname:t}=(0,L_.TH)(),{translate:a}=(0,P.Z)(),s=new Set([`${e}/${QB.ImportPreview}`]);return(0,D.tZ)(rU,null,(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:{bg:d.O9T.white,padding:"16px",height:"100%",overflowY:"scroll",flexWrap:"nowrap"}},(0,D.tZ)(Rc.h,{startWidgets:()=>(0,D.tZ)(d.Ejs,{flexDirection:"column"},(0,D.tZ)(d.X6q,null,a("webapp_import_title"))),endWidget:(0,D.tZ)(n.Fragment,null,HB||(HB=(0,D.tZ)(Uc.D,null)),qB||(qB=(0,D.tZ)(Bc.E,null)))}),(0,D.tZ)("hr",{sx:{marginX:"24px",border:"none",borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle"}}),(0,D.tZ)(d.Ejs,{flexDirection:"column",sx:{margin:"32px 0 0 32px",maxWidth:s.has(t)?"100%":"500px"}},(0,D.tZ)(L_.rs,null,(0,D.tZ)(L_.AW,{exact:!0,path:`${e}/${QB.ImportSource}`,component:qU}),(0,D.tZ)(L_.AW,{path:`${e}/${QB.ImportSelect}`,component:dB}),(0,D.tZ)(L_.AW,{path:`${e}/${QB.ImportSpaceSelect}`,component:CB}),(0,D.tZ)(L_.AW,{path:`${e}/${QB.SecureImport}`,component:yB}),(0,D.tZ)(L_.AW,{path:`${e}/${QB.ImportPreview}`,component:$U}),(0,D.tZ)(L_.AW,{path:`${e}/${QB.ImportSummary}`,component:gB}),(0,D.tZ)(L_.AW,{path:`${e}/${QB.DirectImport}/:source`,component:VB}),(0,D.tZ)(i.l_,{exact:!0,from:"*",to:`${e}/${QB.ImportSource}`})))))};let QB;!function(e){e.ImportSource="source",e.ImportSelect="select",e.SecureImport="secure-import",e.ImportPreview="preview",e.ImportSpaceSelect="space-select",e.ImportSummary="summary",e.DirectImport="direct-import"}(QB||(QB={}));const $B=({path:e})=>(0,D.tZ)(i.AW,{path:e,component:YB});class KB extends n.Component{constructor(...e){super(...e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){this.props.onError(),this.setState({hasError:!1})}render(){return this.state.hasError?n.createElement(i.l_,{to:this.props.redirectPath}):this.props.children}}const XB=({redirectPath:e,children:t})=>{const a=(0,Na.V)(),{translate:i}=(0,P.Z)();return n.createElement(KB,{redirectPath:e,onError:()=>{a.showAlert(i("_common_generic_error"),d.BLW.ERROR)}},t)},JB="[-a-zA-Z\\d]{36}",eF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(3457),a.e(3619)]).then(a.bind(a,233619)).then((e=>({default:e.CredentialEditPanel}))))),tF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(3457),a.e(4079)]).then(a.bind(a,774079)).then((e=>({default:e.CredentialAddPanel}))))),aF=({path:e})=>{const{routes:t,navigateBack:a}=(()=>{const e=(0,i.k6)(),{routes:t}=(0,i.Xo)();return{navigateBack:t=>{e.length>1?e.goBack():(0,i.uX)(t)},routes:t}})();return n.createElement(n.Fragment,null,n.createElement(i.ZB,{path:`${e}*/credential(s?)/add`,component:tF,additionalProps:{onClose:()=>a(t.userCredentials)}}),n.createElement(i.ZB,{path:`${e}*/credential(s?)/:uuid(${JB})`,component:eF,additionalProps:{onClose:()=>a(t.userCredentials)}}))},nF=(0,n.lazy)((()=>a.e(621).then(a.bind(a,270621)).then((e=>({default:e.PanelWrapper}))))),iF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(4848)]).then(a.bind(a,434771)).then((e=>({default:e.DriverLicenseAddPanel}))))),sF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(7868),a.e(5335),a.e(4016)]).then(a.bind(a,341751)).then((e=>({default:e.DriverLicenseEditPanel}))))),rF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(6323)]).then(a.bind(a,559769)).then((e=>({default:e.FiscalIdAddPanel}))))),oF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(7868),a.e(5335),a.e(1634)]).then(a.bind(a,687004)).then((e=>({default:e.FiscalIdEditPanel}))))),lF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(2278)]).then(a.bind(a,819544)).then((e=>({default:e.IdCardAddPanel}))))),cF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(7868),a.e(5335),a.e(7791)]).then(a.bind(a,293240)).then((e=>({default:e.IdCardEditPanel}))))),dF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(3123)]).then(a.bind(a,144320)).then((e=>({default:e.PassportAddPanel}))))),uF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(7868),a.e(5335),a.e(8425)]).then(a.bind(a,426357)).then((e=>({default:e.PassportEditPanel}))))),mF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(7425)]).then(a.bind(a,805965)).then((e=>({default:e.SocialSecurityIdAddPanel}))))),pF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8519),a.e(7868),a.e(5335),a.e(7690)]).then(a.bind(a,339757)).then((e=>({default:e.SocialSecurityIdEditPanel}))))),_F=({path:e})=>n.createElement(n.Fragment,null,n.createElement(i.ZB,{path:`${e}*/driver-license(s?)/add`,component:nF,additionalProps:{component:iF}}),n.createElement(i.ZB,{path:`${e}*/driver-license(s?)/:uuid(${JB})`,component:nF,additionalProps:{component:sF}}),n.createElement(i.ZB,{path:`${e}*/fiscal-id(s?)/add`,component:nF,additionalProps:{component:rF}}),n.createElement(i.ZB,{path:`${e}*/fiscal-id(s?)/:uuid(${JB})`,component:nF,additionalProps:{component:oF}}),n.createElement(i.ZB,{path:`${e}*/id-card(s?)/add`,component:nF,additionalProps:{component:lF}}),n.createElement(i.ZB,{path:`${e}*/id-card(s?)/:uuid(${JB})`,component:nF,additionalProps:{component:cF}}),n.createElement(i.ZB,{path:`${e}*/passport(s?)/add`,component:nF,additionalProps:{component:dF}}),n.createElement(i.ZB,{path:`${e}*/passport(s?)/:uuid(${JB})`,component:nF,additionalProps:{component:uF}}),n.createElement(i.ZB,{path:`${e}*/social-security-id(s?)/add`,component:nF,additionalProps:{component:mF}}),n.createElement(i.ZB,{path:`${e}*/social-security-id(s?)/:uuid(${JB})`,component:nF,additionalProps:{component:pF}})),gF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(7795),a.e(3466)]).then(a.bind(a,876908)).then((e=>({default:e.PaymentCardAddPanel}))))),hF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(7795),a.e(74)]).then(a.bind(a,810822)).then((e=>({default:e.PaymentCardEditPanel}))))),bF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8081),a.e(9571)]).then(a.bind(a,152807)).then((e=>({default:e.BankAccountAddView}))))),yF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8081),a.e(4954)]).then(a.bind(a,613483)).then((e=>({default:e.Connected}))))),CF=({path:e})=>n.createElement(n.Fragment,null,n.createElement(i.ZB,{path:`${e}*/card(s?)/add`,key:"add-payment-card",component:gF}),n.createElement(i.ZB,{path:`${e}*/card(s?)/:uuid(${JB})`,component:hF}),n.createElement(i.ZB,{path:`${e}*/bank-account(s?)/add`,key:"add-bank-account",component:bF}),n.createElement(i.ZB,{path:`${e}*/bank-account(s?)/:uuid(${JB})`,component:yF})),wF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(2493),a.e(9681)]).then(a.bind(a,782538)).then((e=>({default:e.Connected}))))),EF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(2493),a.e(2890)]).then(a.bind(a,516567)).then((e=>({default:e.Connected}))))),vF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(6160)]).then(a.bind(a,316160)).then((e=>({default:e.CompanyAddPanel}))))),NF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(9911)]).then(a.bind(a,149911)).then((e=>({default:e.Connected}))))),SF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(1973)]).then(a.bind(a,741973)).then((e=>({default:e.EmailAddPanel}))))),IF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(5538)]).then(a.bind(a,195538)).then((e=>({default:e.Connected}))))),fF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(6458),a.e(8287)]).then(a.bind(a,854721)).then((e=>({default:e.IdentityAddPanel}))))),xF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(6458),a.e(5283)]).then(a.bind(a,634586)).then((e=>({default:e.Connected}))))),MF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8401),a.e(1756)]).then(a.bind(a,12610)).then((e=>({default:e.PhoneAddPanel}))))),TF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(8401),a.e(1751)]).then(a.bind(a,824476)).then((e=>({default:e.Connected}))))),DF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(7252)]).then(a.bind(a,947252)).then((e=>({default:e.WebsiteAddPanel}))))),ZF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(9398)]).then(a.bind(a,39398)).then((e=>({default:e.Connected}))))),AF=({path:e})=>n.createElement(n.Fragment,null,n.createElement(i.ZB,{path:`${e}*/address(es?)/add`,component:wF}),n.createElement(i.ZB,{path:`${e}*/address(es?)/:uuid(${JB})`,component:EF}),n.createElement(i.ZB,{path:`${e}*/companies/add`,component:vF}),n.createElement(i.ZB,{path:`${e}*/companies/:uuid(${JB})`,component:NF}),n.createElement(i.ZB,{path:`${e}*/email(s?)/add`,component:SF}),n.createElement(i.ZB,{path:`${e}*/email(s?)/:uuid(${JB})`,component:IF}),n.createElement(i.ZB,{path:`${e}*/identities/add`,component:fF}),n.createElement(i.ZB,{path:`${e}*/identities/:uuid(${JB})`,component:xF}),n.createElement(i.ZB,{path:`${e}*/phone(s?)/add`,component:MF}),n.createElement(i.ZB,{path:`${e}*/phone(s?)/:uuid(${JB})`,component:TF}),n.createElement(i.ZB,{path:`${e}*/website(s?)/add`,component:DF}),n.createElement(i.ZB,{path:`${e}*/website(s?)/:uuid(${JB})`,component:ZF})),kF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(7868),a.e(4421),a.e(1808)]).then(a.bind(a,336930)).then((e=>({default:e.NoteAddPanel}))))),OF=(0,n.lazy)((()=>Promise.all([a.e(2410),a.e(3005),a.e(2204),a.e(4695),a.e(4162),a.e(3557),a.e(557),a.e(8114),a.e(6505),a.e(3762),a.e(8440),a.e(5552),a.e(9342),a.e(1903),a.e(7868),a.e(4421),a.e(631)]).then(a.bind(a,280356)).then((e=>({default:e.NoteEditPanel}))))),LF=({path:e})=>n.createElement(n.Fragment,null,n.createElement(i.ZB,{path:`${e}*/secure-note(s?)/add`,component:kF}),n.createElement(i.ZB,{path:`${e}*/secure-note(s?)/:uuid(${JB})`,component:OF})),zF=({path:e})=>n.createElement(XB,{redirectPath:e},n.createElement(n.Suspense,{fallback:null},n.createElement(aF,{path:e}),n.createElement(_F,{path:e}),n.createElement(CF,{path:e}),n.createElement(AF,{path:e}),n.createElement(LF,{path:e})));function jF({basePath:e,routingSchemeOptions:t}){return n.createElement(n.Fragment,null,n.createElement(i.GB,{path:[`${e}/collections`,`${e}/credentials`,`${e}/darkweb-monitoring`,`${e}/ids`,`${e}/import`,`${e}/notifications`,`${e}/onboarding`,`${e}/password-health`,`${e}/password-history`,`${e}/payments`,`${e}/personal-info`,`${e}/premium-plus`,`${e}/secure-notes`,`${e}/go-premium`,`${e}/sharing-center`,`${e}/subscription`,`${e}/vpn`,`${e}/dashlane-labs`],component:Oc,reducer:$s.ZP,permission:e=>e.loggedIn,redirectPath:s.TT},n.createElement(VA,{path:`${e}/collections`}),n.createElement(rk,{path:`${e}/credentials`}),n.createElement(NL,{path:`${e}/darkweb-monitoring`}),n.createElement(nz,{path:`${e}/ids`}),n.createElement($B,{path:`${e}/import`}),n.createElement(Pd,{path:`${e}/notifications`}),n.createElement(Xz,{path:`${e}/onboarding`}),n.createElement(Xj,{path:`${e}/password-health`}),n.createElement(lk,{path:`${e}/password-history`}),n.createElement(pu,{path:`${e}/payments`}),n.createElement(Ou,{path:`${e}/personal-info`}),n.createElement(cP,{path:`${e}/premium-plus`}),n.createElement(Am,{path:`${e}/secure-notes`}),n.createElement(yZ,{path:`${e}/go-premium`}),n.createElement(dZ,{path:`${e}/sharing-center`}),n.createElement(aR,{path:`${e}/subscription`}),n.createElement(AR,{path:`${e}/vpn`}),n.createElement(hd,{path:`${e}/dashlane-labs`}),n.createElement(zF,{path:e})),n.createElement(i.GB,{path:[`${e}/family-dashboard`,`${e}/chrome-welcome`,`${e}/two-factor-authentication`],component:Ac,reducer:$s.ZP,permission:e=>e.loggedIn,redirectPath:s.TT},n.createElement(zd,{path:`${e}/family-dashboard`}),n.createElement(DZ,{path:`${e}/chrome-welcome`}),n.createElement(YR,{path:`${e}/two-factor-authentication`})),n.createElement(i.GB,{path:[`${e}/console`],component:Ac,permission:e=>e.loggedIn,redirectPath:`${e}${s.S}`},n.createElement(YT,{path:`${e}/console`,routingSchemeOptions:t})),n.createElement(i.GB,{path:[`${e}/anti-phishing`],component:Ac},n.createElement(fZ,{path:`${e}/anti-phishing`})))}},904824:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});var n=a(616274);const i=async()=>await n.C.initSecureFilesStorageInfo()},691330:(e,t,a)=>{"use strict";a.d(t,{E:()=>w}),a(696832);var n=a(453576),i=a(5727),s=a(708608),r=a(174071),o=a(446389),l=a(593800),c=a(585921);const d={marginBottom:"8px",fontWeight:600},u=e=>{const{canRevoke:t,loading:a,onSelectPermission:n,permission:r,translate:o}=e;return(0,i.tZ)(l.S,{disabled:a,groupName:"permission",value:r,onChange:e=>n(e.currentTarget.value)},(0,i.tZ)(l.E,{value:"admin"},(0,i.tZ)("div",{sx:(0,c.jM)([d,{color:"ds.text.neutral.catchy"}])},o("webapp_sharing_permissions_full_rights")),(0,i.tZ)(s.nvN,{color:"ds.text.neutral.quiet",size:"x-small"},o("webapp_sharing_permissions_full_rights_detail"))),(0,i.tZ)(l.E,{value:"limited"},(0,i.tZ)("div",{sx:(0,c.jM)([d,{color:"ds.text.neutral.catchy"}])},o("webapp_sharing_permissions_limited_rights")),(0,i.tZ)(s.nvN,{color:"ds.text.neutral.quiet",size:"x-small"},o("webapp_sharing_permissions_limited_rights_detail"))),t?(0,i.tZ)(l.E,{value:"revoke"},(0,i.tZ)("div",{sx:(0,c.jM)([d,{color:"ds.text.danger.quiet"}])},o("webapp_sharing_permissions_revoke")),(0,i.tZ)(s.nvN,{color:"ds.text.neutral.quiet",size:"x-small"},o("webapp_sharing_permissions_revoke_detail"))):null)};var m=a(394222),p=a(956306);const _="webapp_shared_permissions_dialog_cancel",{ConfirmRevoke:g,Failure:h,Permission:b,RevokeSuccess:y,Success:C}=m.L,w=({isOpen:e,loading:t,onCancelRevoke:a,onConfirmRevoke:l,onDismiss:c,onSelectPermission:d,onValidatePermission:m,originPermission:w,permission:E,recipient:v,step:N})=>{var S;const{translate:I}=(0,o.Z)(),f=(0,n.isGroupRecipient)(v)?v.name:v.alias;return(0,i.tZ)(s.VqE,{closeIconName:I("_common_dialog_dismiss_button"),modalContentClassName:p.Ht,isOpen:e,onClose:c,disableOutsideClickClose:!0},(0,i.tZ)(s.$N8,{title:function(){switch(N){case g:return I("webapp_shared_permissions_dialog_confirm_revoke_title");case h:return I("webapp_shared_permissions_dialog_failure_title");case b:return I("webapp_shared_permissions_dialog_edit_permissions_title");case y:return I("webapp_shared_permissions_dialog_revoke_success_title");case C:return I("webapp_shared_permissions_dialog_success_title");default:return(0,r.U)(N)}}()},function(){switch(N){case g:return I("webapp_shared_permissions_dialog_confirm_revoke",{name:f});case h:return I("webapp_shared_permissions_dialog_failure");case b:return null;case y:return I("webapp_shared_permissions_dialog_revoke_success",{name:f});case C:return I("admin"===E?"webapp_shared_permissions_dialog_success_full":"webapp_shared_permissions_dialog_success_limited",{name:f});default:return(0,r.U)(N)}}()),(0,i.tZ)(s.a7O,null,function(){switch(N){case g:case h:return null;case b:return(0,i.tZ)("div",{sx:{w:"600px",mt:"30px"}},S||(S=(0,i.tZ)(u,{canRevoke:!0,permission:E,onSelectPermission:d,translate:I,loading:t})));case C:case y:return null;default:return(0,r.U)(N)}}()),(0,i.tZ)(s.cNS,{...function(){switch(N){case g:return{primaryButtonTitle:I("webapp_shared_permissions_dialog_revoke_access"),primaryButtonOnClick:l,primaryButtonProps:{disabled:t},secondaryButtonTitle:I(_),secondaryButtonOnClick:a,secondaryButtonProps:{disabled:t},intent:"danger"};case h:return null;case b:return{primaryButtonTitle:I("webapp_shared_permissions_dialog_change_permissions"),primaryButtonOnClick:m,primaryButtonProps:{disabled:E===w||t},secondaryButtonTitle:I(_),secondaryButtonOnClick:c,secondaryButtonProps:{disabled:t}};case C:case y:return null;default:return(0,r.U)(N)}}()}))}},394222:(e,t,a)=>{"use strict";let n,i;a.d(t,{L:()=>n,V:()=>i}),function(e){e[e.ConfirmRevoke=0]="ConfirmRevoke",e[e.Failure=1]="Failure",e[e.Permission=2]="Permission",e[e.RevokeSuccess=3]="RevokeSuccess",e[e.Success=4]="Success"}(n||(n={})),function(e){e[e.RemoveMeWhenTypescriptIsHigherThan2dot4=0]="RemoveMeWhenTypescriptIsHigherThan2dot4",e[e.Loading=1]="Loading",e[e.Confirm=2]="Confirm",e[e.Failure=3]="Failure",e[e.Success=4]="Success"}(i||(i={}))},230107:(e,t,a)=>{"use strict";a.d(t,{X0:()=>s,vF:()=>i,yy:()=>r});var n=a(453576);const i=e=>e.kwType===n.DataModelType.KWAuthentifiant,s=e=>e.kwType===n.DataModelType.KWSecureNote,r=e=>"userGroup"===e.type},108951:(e,t,a)=>{"use strict";a.d(t,{b:()=>s});var n=a(148038),i=a(616274);function s(e){return(0,n.qr)({queryConfig:{query:i.C.getItemItemGroup,queryParam:e}},[])}},36250:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s}),a(461238);var n=a(148038),i=a(616274);function s(e,t){const a={dataQuery:{sortToken:{sortCriteria:[{field:"id",direction:e}],uniqField:"id"},filterToken:{filterCriteria:[]}},spaceId:t},s=btoa(JSON.stringify(a));return(0,n.qr)({queryConfig:{query:i.C.getSharingUsers,queryParam:a},liveConfig:{live:i.C.liveSharingUsers,liveParam:s}},[e,t])}},639988:(e,t,a)=>{"use strict";a.d(t,{A1:()=>r,Ei:()=>o,j8:()=>s,nY:()=>c,tV:()=>l});var n=a(526849),i=a(656293);function s(){return{permission:"limited",selectedCredentials:[],selectedGroups:[],selectedNotes:[],selectedUsers:[],step:i.N.Elements,tab:i.f.Passwords}}function r(e){return{...s(),selectedNotes:[e],step:i.N.Recipients}}function o(e){return{...s(),selectedCredentials:[e],step:i.N.Recipients}}const l=(0,n.sortBy)((e=>(0,n.toLower)(e.name||""))),c=(0,n.sortBy)((e=>{var t;return(0,n.toLower)(null!=(t=e.id)?t:e)}))},852313:(e,t,a)=>{"use strict";a.d(t,{C:()=>o,a:()=>l}),a(461238);var n=a(148038),i=a(616274);const s=e=>{const t=[{field:"isLimited",type:"equals",value:!1},{field:"hasAttachments",type:"equals",value:!1}];return(e||""===e)&&t.push({field:"spaceId",type:"equals",value:e}),{filterCriteria:t}},r=e=>JSON.stringify({filterToken:s(e),sortToken:{sortCriteria:[],uniqField:"id"}}),o=e=>{const t=(0,n.qr)({queryConfig:{query:i.C.getCredentialsCount,queryParam:{filterToken:s(e),sortToken:{sortCriteria:[],uniqField:"id"}}},liveConfig:{live:i.C.liveCredentialsCount,liveParam:btoa(r(e))}},[]);return t.status===n.rq.Success?t.data:null},l=e=>{const t=(0,n.qr)({queryConfig:{query:i.C.getNotesCount,queryParam:{filterToken:s(e),sortToken:{sortCriteria:[],uniqField:"id"}}},liveConfig:{live:i.C.liveNotesCount,liveParam:btoa(r(e))}},[]);return t.status===n.rq.Success?t.data:null}},242006:(e,t,a)=>{"use strict";a.d(t,{z:()=>m});var n=a(696832),i=a(5727),s=a(708608),r=a(511494),o=a(987364),l=a(277786),c=a(273966),d=a(190481),u=a(446389);const m=({closeDialog:e})=>{const t=(0,c.B)(),{routes:a}=(0,d.Xo)(),{translate:m}=(0,u.Z)();return(0,n.useEffect)((()=>{(0,o.N)(r.PageView.PaywallSharingLimit)}),[]),(0,i.tZ)(s.VqE,{isOpen:!0,onClose:e,closeIconName:m("_common_dialog_dismiss_button")},(0,i.tZ)(s.$N8,{title:m("webapp_sharing_invite_free_sharing_limit_reached")}),(0,i.tZ)(s.a7O,null,m("webapp_sharing_invite_free_sharing_limit_reached_subtitle")),(0,i.tZ)(s.cNS,{secondaryButtonTitle:m("webapp_sharing_invite_cancel"),secondaryButtonOnClick:e,secondaryButtonProps:{type:"button"},primaryButtonTitle:m("webapp_sharing_invite_upgrade_to_premium"),primaryButtonOnClick:()=>{const e=a.userGoPremium(t?.subscriptionCode,"monthly");(0,l.Yk)(e,{type:"sharing",action:"goPremium"})},primaryButtonProps:{type:"button"}}))}},673146:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n,i=a(585921),s=a(5727),r=a(708608),o=a(997450),l=a(806424),c=a(164419),d=a(446389),u=a(603724),m=a(714494),p=a(993360),_=a(242006),g=a(119457);const h=({hideIcon:e=!1,sharing:t,text:a,tooltipPlacement:h="bottom-start"})=>{var b,y;const{openDialog:C,closeDialog:w}=(0,m.R)(),E=(0,c.V)(),v=(0,l.k)(),{translate:N}=(0,d.Z)(),S=(0,g.E)(u.W);return(0,s.tZ)(o.M,{onClick:()=>{C(v&&t?b||(b=(0,s.tZ)(p.Z,{sharing:t,onDismiss:w})):y||(y=(0,s.tZ)(_.z,{closeDialog:w})))},mood:"neutral",intensity:"quiet",size:"medium",icon:!e&&(n||(n=(0,s.tZ)(i.JO,{name:"ActionShareOutlined",color:"ds.text.neutral.standard"}))),layout:S?"iconLeading":"iconOnly",disabled:!E,placement:h,content:(0,s.tZ)(r.Ejs,{flexDirection:"column",alignItems:"flex-start",sx:{padding:"16px",borderRadius:"8px",textAlign:"left"}},(0,s.tZ)("div",{sx:{paddingBottom:"8px",fontWeight:"600",fontSize:"18px"}},N("team_sharing_disabled")),(0,s.tZ)("div",null,N("team_sharing_disabled_description")))},null!=a?a:N("webapp_sharing_center_share_item"))}},993360:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Ge});var n=a(670138),i=a(696832),s=a(585921),r=a(616274),o=a(681024),l=a(5727),c=a(708608),d=a(656293),u=a(446389),m=a(646251),p=a(191492);const _=({goToStep:e})=>{const{translate:t}=(0,u.Z)();return(0,l.tZ)(i.Fragment,null,(0,l.tZ)(c.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},t("webapp_lock_items_label")),(0,l.tZ)(m._,{unlockRequest:{itemType:p.Ru.SharedItems,successCallback:()=>e(d.N.Permission),cancelCallback:()=>e(d.N.Recipients)}}))};var g,h,b,y=a(139378),C=a(273966),w=a(959074),E=a(599943),v=a(85636),N=(a(135758),a(65489)),S=a(982509),I=a(285628),f=a(835147),x=a(931926),M=a.n(x),T=a(752805),D=a.n(T);const Z="calc(100vh - 68px - 108px - 80px)",A={alignItems:"center",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",display:"flex",minHeight:"56px",overflow:"hidden",position:"relative",backgroundColor:"ds.background.default",":last-of-type":{borderBottom:"none"}},k={opacity:.5,cursor:"auto"},O=e=>{const{checked:t,disabled:a,onCheck:n,style:i,...s}=e;return(0,l.tZ)("li",{sx:a?(0,c.jMf)([A,k]):A,style:i},(0,l.tZ)(c.XZJ,{checked:t,disabled:a,onChange:e=>n?.(e.currentTarget.checked),label:(0,l.tZ)(I.r,{...s})}))},L=({text:e})=>(0,l.tZ)(c.Ejs,{justifyContent:"space-around",alignItems:"center",sx:{height:"100%",minHeight:"347px"}},(0,l.tZ)(c.Ejs,{justifyContent:"space-around",alignItems:"center",flexDirection:"column",sx:{maxWidth:"400px"}},g||(g=(0,l.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI4IDUyTDE2IDY0TTY0IDM0QzY0IDQzLjk0MTEgNTUuOTQxMSA1MiA0NiA1MkMzNi4wNTg5IDUyIDI4IDQzLjk0MTEgMjggMzRDMjggMjQuMDU4OSAzNi4wNTg5IDE2IDQ2IDE2QzU1Ljk0MTEgMTYgNjQgMjQuMDU4OSA2NCAzNFoiIHN0cm9rZT0iIzlGQUVCMSIgc3Ryb2tlLXdpZHRoPSIzLjYiLz4KPC9zdmc+Cg=="})),(0,l.tZ)("span",{sx:{color:"ds.text.neutral.quiet",marginTop:"20px",lineHeight:"20px",textAlign:"center"}},e)));function z(e){var t;const{title:a,domainIcon:n}=e,i=null!=(t=n?.urls["46x30@2x"])?t:void 0,s=(0,S.d)({backgroundColor:n?.backgroundColor,mainColor:n?.mainColor,iconSource:i});return(0,l.tZ)(c.plG,{size:"small",text:a,iconSource:i,backgroundColor:s})}function j(e){return(0,l.tZ)(f.Z,{noteType:e.color})}const P={marginLeft:"4px",path:{fill:"ds.text.neutral.quiet"}},R=(e,t)=>(0,l.tZ)("span",{sx:{display:"flex",alignItems:"center"}},e&&(h||(h=(0,l.tZ)(M(),{sx:P}))),t&&(b||(b=(0,l.tZ)(D(),{sx:P})))),U={tokenEndpoint:r.C.getCredentialsPaginationToken,pageEndpoint:r.C.getCredentialsPage,batchLiveEndpoint:r.C.liveCredentialsBatch},B=(0,v.G)(U,(e=>{const{paginatedData:t,freeLimitReached:a,onCheckCredential:n,selectedCredentials:s,elementsOnlyShowSelected:r}=e,{translate:o}=(0,u.Z)();return 1!==t.size||0!==[...t.values()][0].length||e.hasNext?i.createElement(N.v,{hasNext:e.hasNext,hasPrevious:e.hasPrevious,isLoading:e.isLoading,loadNext:e.loadNext,loadPrevious:e.loadPrevious},[...t].map((([e,t])=>i.createElement("li",{key:e},i.createElement("ul",null,t.map(((e,t)=>((e,t)=>{if(!e)return null;const r=z(e),{id:o,title:l,email:c,login:d}=e,{isShared:u}=e.sharingSatus,m=R(u,e.autoProtected),p=c||d,_=s.includes(e.id),g=a&&!_&&!u;return i.createElement(O,{key:t,title:l,text:p,logo:r,onCheck:e=>n(o,e),checked:_,disabled:g,titleLogo:m})})(e,t)))))))):(()=>{const e=o(r?"webapp_sharing_invite_no_selected_credentials_found":"webapp_sharing_invite_no_credentials_found");return i.createElement(L,{text:e})})()})),F={tokenEndpoint:r.C.getNotesPaginationToken,pageEndpoint:r.C.getNotesPage,batchLiveEndpoint:r.C.liveNotesBatch},G=(0,v.G)(F,(e=>{const{paginatedData:t,freeLimitReached:a,onCheckNote:n,selectedNotes:s,elementsOnlyShowSelected:r}=e,{translate:o}=(0,u.Z)();return 1!==t.size||0!==[...t.values()][0].length||e.hasNext?i.createElement(N.v,{hasNext:e.hasNext,hasPrevious:e.hasPrevious,isLoading:e.isLoading,loadNext:e.loadNext,loadPrevious:e.loadPrevious},[...t].map((([e,t])=>i.createElement("li",{key:e},i.createElement("ul",null,t.map(((e,t)=>((e,t)=>{if(!e)return null;const r=j(e),{id:o,title:l}=e,c=e.sharingStatus.isShared,d=e.secured,u=R(c,d),m=s.includes(e.id),p=a&&!m&&!c;return i.createElement(O,{key:t,title:l,text:"",logo:r,onCheck:e=>n(o,e),checked:m,disabled:p,titleLogo:u})})(e,t)))))))):(()=>{const e=o(r?"webapp_sharing_invite_no_selected_notes_found":"webapp_sharing_invite_no_notes_found");return i.createElement(L,{text:e})})()}));var W=a(852313),V=a(148038);const H=({selectNotesTab:e,selectPasswordsTab:t,selectedCredentials:a,selectedNotes:n,tab:i})=>{const{translate:s}=(0,u.Z)(),r=(0,W.C)(),o=(0,W.a)();if(!r||!o)return null;const m=[{onClick:t,active:i===d.f.Passwords,label:`${s("webapp_sharing_invite_passwords")}${a.length>0?` (${a.length})`:""}`},{onClick:e,active:i===d.f.SecureNotes,label:`${s("webapp_sharing_invite_secure_notes")}${n.length>0?` (${n.length})`:""}`}];return(0,l.tZ)(c.G8v,null,m.map((({active:e,label:t,onClick:a})=>(0,l.tZ)(c.OTy,{key:t,label:t,onClick:a,selected:e}))))};var q;const Y="50px",Q="48px",$=`calc(${Z} - ${Q} - ${Y})`,K=`calc(${Z} - ${Q} - ${Y} - 36px)`,X="webapp_sharing_invite_elements_placeholder",J={backgroundColor:"ds.container.expressive.brand.catchy.active",color:"ds.text.inverse.catchy",lineHeight:"20px",padding:"8px 16px",width:"100%",marginBottom:"24px",a:{color:"ds.text.inverse.catchy",textDecoration:"underline",":focus,:hover,:active":{color:"ds.text.inverse.standard"}}},ee=({elementsOnlyShowSelected:e,goToStep:t,onCheckCredential:a,onCheckNote:n,selectedCredentials:o,selectedNotes:m,selectNotesTab:p,selectPasswordsTab:_,setElementsOnlyShowSelected:g,tab:h})=>{const b=(0,C.B)(),v=(0,W.C)(),{currentSpaceId:N}=(0,E.fV)(),[S,I]=(0,i.useState)(""),{routes:f}=(0,w.Xo)(),x=(0,i.useRef)(null),M=(()=>{const e=(0,V.qr)({queryConfig:{query:r.C.getAllSharedItemIds}},[]);return e.status===V.rq.Success?e.data:[]})(),T=(()=>{const e=(0,V.qr)({queryConfig:{query:r.C.getSharingCapacity},liveConfig:{live:r.C.liveSharingCapacity}},[]);return e.status===V.rq.Success?e.data:null})(),{translate:D}=(0,u.Z)();if((0,i.useEffect)((()=>{0===v&&p()}),[]),!T)return q||(q=(0,l.tZ)(c.HoD,{color:"ds.text.brand.standard"}));const A=f.userGoPremium(b?.subscriptionCode,"monthly"),k=()=>{var e;const t=null!=(e=x.current?.value.trim())?e:"";I(t)},O=(0,y.debounce)(k,100),L=()=>{const t={type:"matches",value:S},a={field:"id",type:"in",value:[...o,...m]},n=S?[t]:[],i=null!==N?[{field:"spaceId",value:N,type:"equals"}]:[];return e?[a,...n]:[{field:"isLimited",type:"equals",value:!1},{field:"hasAttachments",type:"equals",value:!1},...n,...i]},z=(()=>{if("unlimited"===T.type)return!1;const e=new Set(M);return[...m,...o].filter((t=>!e.has(t))).length>=T.remains})(),j=m.length>0||o.length>0,P=j||e;return(0,l.tZ)(i.Fragment,null,(0,l.tZ)(c.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},D("webapp_sharing_invite_select_elements_title")),(0,l.tZ)(c.a7O,null,(0,l.tZ)("div",{sx:{height:Z}},(0,l.tZ)(H,{selectNotesTab:p,selectPasswordsTab:_,selectedCredentials:o,selectedNotes:m,tab:h}),(0,l.tZ)("section",{sx:{marginBottom:"8px"}},(0,l.tZ)(s.oi,{"aria-label":D(X),placeholder:D(X),role:"search",autoFocus:!0,onChange:O,ref:x,actionButtons:S.length>0?[(0,l.tZ)(s.zx,{key:"clear",intensity:"supershy",mood:"neutral",size:"small",onClick:()=>{x.current&&(x.current.value=""),k()}},D("webapp_sharing_invite_clear"))]:void 0})),(0,l.tZ)("div",{sx:{height:z?K:$,minHeight:"100px"}},h===d.f.Passwords?(0,l.tZ)(B,{elementsOnlyShowSelected:e,freeLimitReached:z,onCheckCredential:a,selectedCredentials:o,tokenParams:{filterCriteria:L(),sortCriteria:[{field:"title",direction:"ascend"}],initialBatchSize:10}}):(0,l.tZ)(G,{elementsOnlyShowSelected:e,tokenParams:{sortCriteria:[{field:"title",direction:"ascend"}],filterCriteria:L(),initialBatchSize:10},freeLimitReached:z,onCheckNote:n,selectedNotes:m}),z?(0,l.tZ)("div",{sx:J},D.markup("webapp_sharing_invite_free_limit_reached_banner_markup",{link:A},{linkTarget:"_blank"})):null))),(0,l.tZ)(c.cNS,{primaryButtonTitle:D("webapp_sharing_invite_next"),primaryButtonOnClick:()=>t(d.N.Recipients),primaryButtonProps:{disabled:!j,type:"button"}},P?(0,l.tZ)(c.XZJ,{checked:e,label:D("webapp_sharing_invite_only_show_selected_elements"),onChange:g,sx:{marginLeft:"0",marginRight:"auto",paddingRight:"16px"}}):null))};var te=a(704841),ae=a(611792),ne=a(453576);function ie(e,t){const{ITEM_DOESNT_EXIST:a,LIMIT_EXCEEDED:n}=ne.ShareItemFailureReason;switch(t){case a:return e("webapp_sharing_invite_item_not_found");case n:return e("webapp_sharing_invite_limit_exceeded");default:return e("webapp_sharing_invite_server_error")}}const se=e=>e.itemId,re=se,oe={item:{query:r.C.getCredential,queryParam:se,live:r.C.liveCredential,liveParam:re}},le={strategies:oe},ce=(0,te.$)((0,ae.i)((e=>{const{detailedError:t,translate:a,item:n}=e;if(!n)return(0,s.tZ)("li",{sx:A},a("webapp_sharing_invite_item_removed"));const{itemId:i,result:{reason:r}}=t,o=ie(a,r);return(0,s.tZ)("li",{key:i,sx:A},function(e,t){const a=z(e),{title:n,email:i,login:r}=e,o={title:n,text:i||r,logo:a,infoAction:t};return(0,s.tZ)(I.r,{...o})}(n,o))}),le),oe),de={item:{query:r.C.getNote,queryParam:se,live:r.C.liveNote,liveParam:re}},ue={strategies:de},me=(0,te.$)((0,ae.i)((e=>{const{detailedError:t,translate:a,item:n}=e;if(!n)return(0,s.tZ)("li",{sx:A},a("webapp_sharing_invite_item_removed"));const{result:{reason:i}}=t,r=ie(a,i);return(0,s.tZ)("li",{key:n.id,sx:A},function(e,t){const a=j(e),{title:n}=e,i={title:n,text:"",logo:a,infoAction:t};return(0,s.tZ)(I.r,{...i})}(n,r))}),ue),de);var pe;const _e=e=>{const{credentialErrors:t,itemsCount:a,isLoading:n,noteErrors:s,onDismiss:r,shareAllItems:o}=e,{translate:d}=(0,u.Z)(),m=t.length+s.length,p=d("webapp_sharing_invite_failure_detail_2",{count:a,errorsCount:m});return(0,l.tZ)(i.Fragment,null,(0,l.tZ)(c.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},d("webapp_sharing_invite_failure_2",{count:a})),(0,l.tZ)(c.a7O,null,(0,l.tZ)(c.nvN,null,p),(0,l.tZ)("ul",{sx:{borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle",marginTop:"10px",maxHeight:Z,overflowY:"scroll"}},t.map((e=>(0,l.tZ)(ce,{translate:d,detailedError:e,itemId:e.itemId,key:e.itemId}))),s.map((e=>(0,l.tZ)(me,{translate:d,detailedError:e,itemId:e.itemId,key:e.itemId}))))),(0,l.tZ)(c.cNS,{secondaryButtonTitle:d("webapp_sharing_invite_cancel"),secondaryButtonOnClick:r,secondaryButtonProps:{disabled:n,type:"button"},primaryButtonTitle:n?pe||(pe=(0,l.tZ)(c.HoD,{size:24,color:"ds.text.inverse.catchy"})):d("webapp_sharing_invite_share_items_again"),primaryButtonOnClick:o,primaryButtonProps:{disabled:n,type:"button"}}))};var ge,he=a(593800);const be=({goToStep:e,isLoading:t,onSelectPermission:a,permission:n,shareAllItems:s})=>{const{translate:r}=(0,u.Z)();return(0,l.tZ)(i.Fragment,null,(0,l.tZ)(c.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},r("webapp_sharing_invite_select_permission")),(0,l.tZ)(c.a7O,null,(0,l.tZ)("div",{sx:{height:"auto"}},(0,l.tZ)(he.S,{groupName:"permission",value:n,onChange:e=>a(e.currentTarget.value)},(0,l.tZ)(he.E,{value:"limited"},(0,l.tZ)(c.nvN,{bold:!0,sx:{mb:"4px"}},r("webapp_sharing_invite_limited_rights")),(0,l.tZ)(c.nvN,{size:"small"},r("webapp_sharing_invite_limited_rights_detail"))),(0,l.tZ)(he.E,{value:"admin"},(0,l.tZ)(c.nvN,{bold:!0,sx:{mb:"4px"}},r("webapp_sharing_invite_full_rights")),(0,l.tZ)(c.nvN,{size:"small"},r("webapp_sharing_invite_full_rights_detail")))))),(0,l.tZ)(c.cNS,{secondaryButtonOnClick:()=>e(d.N.Recipients),secondaryButtonTitle:r("webapp_sharing_invite_back"),secondaryButtonProps:{disabled:t,type:"button"},primaryButtonOnClick:s,primaryButtonTitle:t?ge||(ge=(0,l.tZ)(c.HoD,{size:24,color:"ds.text.inverse.catchy"})):r("webapp_sharing_invite_share"),primaryButtonProps:{disabled:!n||t,type:"button"}}))};var ye=a(36250),Ce=a(927761),we=a(639988),Ee=a(616425),ve=a(906978);const Ne=()=>{const e=(0,V.qr)({queryConfig:{query:r.C.getMyAcceptedUserGroups},liveConfig:{live:r.C.liveMyAcceptedUserGroups}},[]);return e.status===V.rq.Success?e.data:[]};var Se,Ie=a(405611),fe=a(785802);const xe=({addNewContact:e,email:t})=>{const{translate:a}=(0,u.Z)();return(0,s.tZ)("li",{key:"new_contact",sx:{alignItems:"center",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle",display:"flex",minHeight:"56px",overflow:"hidden",position:"relative"}},(0,s.tZ)(I.r,{infoAction:(0,s.tZ)(s.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:e},a("webapp_sharing_invite_add_new_contact")),logo:(0,s.tZ)(Ie.q,{email:t,size:36}),text:"",title:t}))},Me=({group:e,isUserItem:t,onCheckGroup:a,onCheckUser:n,selectedGroups:i,selectedUsers:r,style:o,user:l})=>{var c,d,m;const{translate:p}=(0,u.Z)(),_=null!=(c=t?l?.id:e?.groupId)?c:"",g=t?r.includes(_):i.includes(_),h=(null!=(d=e?.users)?d:[]).length,b=t?"":p("webapp_sharing_invite_members",{count:h}),y=null!=(m=t?_:e?.name)?m:"";return(0,s.tZ)(O,{key:`${_}-row`,checked:g,logo:t?(0,s.tZ)(Ie.q,{email:_,size:36}):Se||(Se=(0,s.tZ)(fe.Z,null)),onCheck:e=>t?n(_,e):a(_,e),text:b,title:y,style:o})},Te=/[<>]/g,De=e=>e.trim().toLowerCase().replace(Te,""),Ze={borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:"ds.border.neutral.quiet.idle"},Ae=(0,i.forwardRef)(((e,t)=>{const{addNewContact:a,onCheckGroup:n,onCheckUser:r,query:o,recipientsOnlyShowSelected:l,selectedGroups:c,selectedUsers:d,users:m}=e,{translate:p}=(0,u.Z)(),_=Ne(),g=(0,we.tV)(_),h=(0,ve.vV)(o);if(0===m.length&&0===g.length&&!h)return(0,s.tZ)(L,{text:p("webapp_sharing_invite_no_recipients")});const b=((e,t)=>e.filter((e=>e.name.toLowerCase().includes(t.trim().toLowerCase()))))(g,o),y=((e,t)=>e.filter((e=>e.id.toLowerCase().includes(t.trim().toLowerCase()))))(m,o),C=y.length>0||b.length>0;if(!C&&h)return(0,s.tZ)("ul",{sx:{...Ze,height:347}},(0,s.tZ)(xe,{email:De(o),addNewContact:a}));const w=b.filter((e=>!l||c.includes(e.groupId))),E=y.filter((e=>!l||d.includes(e.id)));if(0===E.length&&0===w.length){const e=p(l?"webapp_sharing_invite_no_selected_recipients_found":"webapp_sharing_invite_no_recipients_found");return(0,s.tZ)(L,{text:e})}const v=w.length,N=E.length,S=m.some((({id:e=""})=>!o||e.toLowerCase()===o.trim().toLowerCase())),I=h&&!S;return(0,s.tZ)(i.Fragment,null,I?(0,s.tZ)("ul",{sx:{...Ze,height:C?72:347}},(0,s.tZ)(xe,{email:o,addNewContact:a})):null,(0,s.tZ)(Ee.t7,{sx:I?Ze:void 0,height:347-(I?72:0),itemCount:v+N,itemKey:e=>((e,t,a,n)=>e>t-1?a[e-t].id:n[e].groupId)(e,v,E,w),itemSize:56,outerElementType:"ul",width:"100%",ref:t},(({index:e,style:t})=>(0,s.tZ)(Me,{isUserItem:e>v-1,onCheckGroup:n,onCheckUser:r,selectedGroups:c,selectedUsers:d,style:t,user:E[e-v],group:w[e]}))))}));var ke;const Oe="webapp_sharing_invite_recipients_placeholder",Le=({goToStep:e,newUsers:t,onCheckGroup:a,onCheckUser:n,protectedItemsSelected:r,recipientsOnlyShowSelected:o,selectedGroups:m,selectedUsers:p,setNewUsers:_,setSelectedUsers:g,setRecipientsOnlyShowSelected:h})=>{const{translate:b}=(0,u.Z)(),{currentSpaceId:y}=(0,E.fV)(),{areProtectedItemsUnlocked:C}=(0,Ce.tY)(),[w,v]=(0,i.useState)(""),N=(0,i.useRef)(null),S=Ne(),I=(0,ye.Z)("descend",y);if(I.status!==V.rq.Success)return ke||(ke=(0,l.tZ)(c.HoD,{color:"ds.text.brand.standard"}));const f=I.data?.items,x=[...f,...t.map((e=>({id:e,itemCount:0})))],M=m.length>0||p.length>0,T=M||o;return(0,l.tZ)(i.Fragment,null,(0,l.tZ)(c.X6q,{as:"h1",size:"small",sx:{mb:"16px"}},b("webapp_sharing_invite_select_recipients_title")),(0,l.tZ)(c.a7O,null,(0,l.tZ)("div",{sx:{height:"auto"}},(0,l.tZ)("section",{role:"search",sx:{mb:"8px"}},(0,l.tZ)(s.oi,{"aria-label":b(Oe),placeholder:b(Oe),role:"search",autoFocus:!0,onChange:e=>v(e.currentTarget.value),value:w,actionButtons:w.length>0?[(0,l.tZ)(s.zx,{key:"clear",intensity:"supershy",mood:"neutral",size:"small",onClick:()=>v("")},b("webapp_sharing_invite_clear"))]:void 0})),(0,l.tZ)(Ae,{addNewContact:()=>{const e=De(w);v(""),g([e,...p]),_((0,we.nY)([e,...t])),requestAnimationFrame((()=>{const a=[...f,...(0,we.nY)([e,...t]).map((e=>({id:e,itemCount:0})))],n=S.length+a.findIndex((({id:t})=>t===e));N.current?.scrollToItem(n)}))},onCheckGroup:a,onCheckUser:n,query:w,recipientsOnlyShowSelected:o,selectedGroups:m,selectedUsers:p,users:x,ref:N}))),(0,l.tZ)(c.cNS,{secondaryButtonOnClick:()=>e(d.N.Elements),secondaryButtonTitle:b("webapp_sharing_invite_add_more_items"),secondaryButtonProps:{type:"button"},primaryButtonOnClick:()=>e(r&&!C?d.N.UnlockProtectedItems:d.N.Permission),primaryButtonTitle:b("webapp_sharing_invite_next"),primaryButtonProps:{disabled:!M,type:"button"}},T?(0,l.tZ)(c.XZJ,{checked:o,onChange:h,label:b("webapp_sharing_invite_only_show_selected_people"),sx:{ml:"0",mr:"auto",pr:"16px"}}):null))};var ze,je=a(241332);const Pe=()=>{const{translate:e}=(0,u.Z)();return i.createElement(c.a7O,null,i.createElement(c.T5p,{justifyContent:"center",alignItems:"center",gap:"16px","data-testid":"loading-share-dialog"},ze||(ze=i.createElement(je.Z,{size:100})),i.createElement(c.nvN,{color:"ds.text.neutral.quiet"},e("webapp_sharing_invite_loading"))))},Re=({itemsCount:e,isLoading:t,onDismiss:a})=>{const{translate:n}=(0,u.Z)();return i.createElement(i.Fragment,null,i.createElement(c.$N8,{title:n("webapp_sharing_invite_success",{count:e})}),i.createElement(c.a7O,null,i.createElement(c.nvN,null,n("webapp_sharing_invite_success_detail",{count:e}))),i.createElement(c.cNS,{primaryButtonTitle:n("_common_alert_dismiss_button"),primaryButtonOnClick:a,primaryButtonProps:{disabled:t,type:"button"}}))};var Ue;const Be=({onDismiss:e,recipientsOnlyShowSelected:t,sharing:a})=>{var n,l,c,u,m;const[p,g]=(0,i.useState)([]),[h,b]=(0,i.useState)(null!=t&&t),[y,C]=(0,i.useState)(!1),[w,E]=(0,i.useState)(!1),[v,N]=(0,i.useState)([]),[S,I]=(0,i.useState)([]),[f,x]=(0,i.useState)(a.permission),[M,T]=(0,i.useState)(!1),[D,Z]=(0,i.useState)(null!=(n=a?.selectedCredentials)?n:[]),[A,k]=(0,i.useState)(null!=(l=a?.selectedGroups)?l:[]),[O,L]=(0,i.useState)(null!=(c=a?.selectedNotes)?c:[]),[z,j]=(0,i.useState)(null!=(u=a?.selectedUsers)?u:[]),[P,R]=(0,i.useState)(a?.step),[U,B]=(0,i.useState)(null!=(m=a?.tab)?m:d.f.Passwords),F=D.length+O.length,G=async(e,t)=>!!await r.C.arePasswordsProtected()||(!!(await Promise.all(e.map((e=>r.C.getCredential(e))))).some((e=>!!e.autoProtected))||(await Promise.all(t.map((e=>r.C.getNote(e))))).some((e=>!!e.secured)));(0,i.useEffect)((()=>{(async()=>{var e,t;const n=await G(null!=(e=a?.selectedCredentials)?e:[],null!=(t=a?.selectedNotes)?t:[]);T(n)})()}),[a]);const W=(e,t,a)=>{if(a)return[...e,t];{const a=e.indexOf(t);return-1===a?e:[...e.slice(0,a),...e.slice(a+1)]}},V=e=>R(e),H=(e,t)=>e.reduce(((e,a,n)=>{if(a.success)return e;const i={result:a,itemId:t[n]};return[...e,i]}),[]),q=(e,t,a)=>(0,o.$Y)(e,t,a),Y=async()=>{const e=[...z.map((e=>({type:"user",alias:e}))),...A.map((e=>({type:"userGroup",groupId:e})))],t=D.map((t=>q(t,f,e))),a=O.map((t=>q(t,f,e)));F>10?V(d.N.Loading):E(!0);try{const e=await Promise.all(t),n=await Promise.all(a),i=H(e,D),s=H(n,O);i.length>0||s.length>0?(g(i),I(s),V(d.N.Failure)):V(d.N.Success)}catch(e){V(d.N.Failure)}E(!1)};return(0,s.tZ)("div",{sx:{minWidth:"600px"}},P===d.N.UnlockProtectedItems?(0,s.tZ)(_,{goToStep:V}):null,P===d.N.Elements?(0,s.tZ)(ee,{elementsOnlyShowSelected:y,goToStep:V,onCheckNote:async(e,t)=>{const a=W(O,e,t),n=await G(D,a);L(a),T(n)},selectedCredentials:D,selectedNotes:O,selectNotesTab:()=>B(d.f.SecureNotes),selectPasswordsTab:()=>B(d.f.Passwords),onCheckCredential:async(e,t)=>{const a=W(D,e,t),n=await G(a,O);Z(a),T(n)},setElementsOnlyShowSelected:e=>C(e.currentTarget.checked),tab:U}):null,P===d.N.Failure?(0,s.tZ)(_e,{credentialErrors:p,itemsCount:F,isLoading:w,noteErrors:S,onDismiss:e,shareAllItems:Y}):null,P===d.N.Loading?Ue||(Ue=(0,s.tZ)(Pe,null)):null,P===d.N.Permission?(0,s.tZ)(be,{goToStep:V,isLoading:w,permission:f,onSelectPermission:e=>x(e),shareAllItems:Y}):null,P===d.N.Recipients?(0,s.tZ)(Le,{goToStep:V,newUsers:v,onCheckGroup:(e,t)=>{const a=W(A,e,t);k(a)},onCheckUser:(e,t)=>{const a=W(z,e,t);j(a)},protectedItemsSelected:M,recipientsOnlyShowSelected:h,selectedGroups:A,selectedUsers:z,setNewUsers:N,setSelectedUsers:j,setRecipientsOnlyShowSelected:e=>b(e.currentTarget.checked)}):null,P===d.N.Success?(0,s.tZ)(Re,{itemsCount:F,isLoading:w,onDismiss:e}):null)};var Fe=a(956306);const Ge=({onDismiss:e,recipientsOnlyShowSelected:t,sharing:a})=>{const{translate:i}=(0,u.Z)();return(0,n.w)("SAEXSendSharing")?(0,l.tZ)(c.VqE,{isOpen:!0,onClose:e,closeIconName:a?.step!==d.N.Loading?i("_common_dialog_dismiss_button"):void 0,modalContentClassName:Fe.Ht},(0,l.tZ)(Be,{onDismiss:e,recipientsOnlyShowSelected:t,sharing:a})):null}},656293:(e,t,a)=>{"use strict";let n,i;a.d(t,{N:()=>n,f:()=>i}),function(e){e[e.Elements=0]="Elements",e[e.Recipients=1]="Recipients",e[e.Permission=2]="Permission",e[e.Loading=3]="Loading",e[e.Success=4]="Success",e[e.Failure=5]="Failure",e[e.UnlockProtectedItems=6]="UnlockProtectedItems"}(n||(n={})),function(e){e[e.Passwords=0]="Passwords",e[e.SecureNotes=1]="SecureNotes"}(i||(i={}))},130188:(e,t,a)=>{"use strict";a.d(t,{B:()=>ve}),a(135758);var n=a(696832),i=a(549967),s=a(782038),r=a(24836),o=a(971664),l=a(585921),c=a(5727),d=a(708608),u=a(453576),m=a(643838),p=a(287279),_=a(511494),g=a(681024),h=a(959074),b=a(616274),y=a(446389),C=a(529393),w=a(474750),E=a(77878);let v;function N(e){return"item"===e.type}function S(e){return"group"===e.type}!function(e){e[e.AcceptFailed=0]="AcceptFailed",e[e.AcceptInProgress=1]="AcceptInProgress",e[e.AcceptJustSucceeded=2]="AcceptJustSucceeded",e[e.Accepted=3]="Accepted",e[e.ConfirmRefusal=4]="ConfirmRefusal",e[e.New=5]="New",e[e.Pending=6]="Pending",e[e.RefusalFailed=7]="RefusalFailed",e[e.RefusalInProgress=8]="RefusalInProgress",e[e.Refused=9]="Refused",e[e.Unshared=10]="Unshared"}(v||(v={}));const I=({status:e})=>[v.AcceptFailed,v.AcceptInProgress,v.AcceptJustSucceeded,v.Unshared].includes(e),f=({status:e})=>e!==v.Refused,x=({status:e})=>[v.AcceptInProgress,v.AcceptFailed,v.ConfirmRefusal,v.New,v.Pending,v.RefusalInProgress,v.RefusalFailed].includes(e),M=({status:e})=>e===v.New||e===v.Pending,T=({status:e})=>e===v.New,D=({status:e})=>e===v.AcceptInProgress||e===v.AcceptJustSucceeded,Z=({status:e})=>e===v.Accepted,A=e=>{const{notification:t,actions:a,icon:n,name:i,sharedBy:s}=e,{translate:r}=(0,y.Z)(),{status:o}=t,c={padding:"0 32px",transition:"background-color 400ms ease-out, height 150ms ease-out",height:"auto",":not(:last-child) > *":{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"ds.border.neutral.quiet.idle"}},u={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all",opacity:I(t)?.5:1};return(0,l.tZ)(d.Ejs,{alignItems:"center",sx:o===v.New?(0,d.jMf)([c,{backgroundColor:"rgba(255, 250, 193, 0.6)"}]):c,as:"li"},(0,l.tZ)(d.Ejs,{alignItems:"center",justifyContent:"space-between",sx:{overflow:"hidden",position:"relative",height:"56px",flex:"1"}},(0,l.tZ)(d.Ejs,{alignItems:"center",justifyContent:"flex-start",flexWrap:"nowrap",sx:{minWidth:"0"}},n,o===v.ConfirmRefusal?(0,l.tZ)(d.nvN,{size:"x-small",sx:{marginLeft:"14px",minWidth:0}},r("webapp_sharing_notifications_confirm_refuse_text")):(0,l.tZ)("div",{sx:{marginLeft:"14px",minWidth:0}},(0,l.tZ)(d.nvN,{size:"medium",color:"black",bold:!0,as:"div",sx:u},i),(0,l.tZ)(d.nvN,{size:"x-small",color:"ds.text.neutral.quiet",as:"div",sx:u},s))),(0,l.tZ)("div",{sx:{marginRight:"5px"}},a)))};var k=a(835147);const O=({item:e})=>{if((0,u.isCredential)(e)){var t,a;const n=null!=(t=(null!=(a=e.domainIcon?.urls)?a:{})["46x30@2x"])?t:void 0,i=n&&e.domainIcon?.backgroundColor||d.O9T.midGreen02;return(0,c.tZ)("div",{sx:{flexShrink:0}},(0,c.tZ)(d.plG,{size:"small",text:e.Title,iconSource:n,backgroundColor:i}))}return(0,c.tZ)("div",{sx:{flexShrink:0}},(0,c.tZ)(k.Z,{noteType:e.Type}))};var L,z,j=a(190481);const P=({text:e,children:t,nature:a})=>{const n="failure"===a?"ds.text.danger.quiet":"ds.text.neutral.quiet";return(0,c.tZ)(d.Ejs,{alignItems:"center",sx:{bottom:0,right:0,top:0,height:"100%",position:"absolute"}},(0,c.tZ)("span",{sx:{height:"100%",width:"40px",transform:"scaleX(-1)",background:"linear-gradient(90deg, #ffffff 0%, rgba(255, 255, 255, 0) 100%)"}}),(0,c.tZ)(d.Ejs,{alignItems:"center",sx:{height:"100%",paddingLeft:"24px",backgroundColor:"white"}},"failure"===a?L||(L=(0,c.tZ)(d.aNP,{color:"ds.text.danger.quiet"})):z||(z=(0,c.tZ)(d.nQG,{color:"ds.text.positive.quiet"})),(0,c.tZ)(d.nvN,{size:"x-small",as:"span",color:n},e)),t)};var R,U=a(508159),B=a(191492);const F="webapp_sharing_notifications_accept",G="webapp_sharing_notifications_cancel",W="webapp_sharing_notifications_refuse",V={flexShrink:0,"> *":{marginLeft:"8px"}},H=({notification:e,acceptPendingItemGroup:t,refusePendingItemGroup:a,removeUnsharedItem:n,confirmRefusePendingItemGroup:i,cancelRefusePendingItemGroup:s,routes:r})=>{const{translate:o}=(0,y.Z)(),{areProtectedItemsUnlocked:m,openProtectedItemsUnlocker:p}=(0,U.t)(),{status:_}=e,g=e.itemGroup.items[0],h=(0,u.isNote)(g)&&g.Secured&&!m;switch(_){case v.Accepted:{const e=(0,u.isCredential)(g)?r.userCredential(g.Id):r.userSecureNote(g.Id);return(0,c.tZ)(l.zx,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>{h?p({action:B.P7.Show,itemType:B.Ru.SecureNote,successCallback:()=>{(0,j.uX)(e)}}):(0,j.uX)(e)},"data-close-dropdown":!0},o("webapp_sharing_notifications_see_details"))}case v.AcceptJustSucceeded:return(0,c.tZ)(P,{nature:"success",text:o("webapp_sharing_notifications_accept_succeeded")});case v.AcceptFailed:case v.RefusalFailed:return(0,c.tZ)(P,{nature:"failure",text:o("webapp_sharing_notifications_accept_failed")});case v.Unshared:return(0,c.tZ)(P,{nature:"failure",text:o("webapp_sharing_notifications_sender_cancelled")},(0,c.tZ)(l.zx,{"aria-label":o("_common_alert_dismiss_button"),icon:R||(R=(0,c.tZ)(d.Two,null)),intensity:"supershy",layout:"iconOnly",mood:"neutral",size:"small",onClick:()=>n(e.id),sx:{marginLeft:"8px"}}));case v.AcceptInProgress:return(0,c.tZ)("div",{sx:V},(0,c.tZ)(l.zx,{intensity:"supershy",mood:"brand",size:"small",disabled:!0},o(W)),(0,c.tZ)(l.zx,{intensity:"quiet",mood:"brand",size:"small",disabled:!0},o(F)));case v.ConfirmRefusal:return(0,c.tZ)("div",{sx:V},(0,c.tZ)(l.zx,{mood:"danger",size:"small",onClick:()=>i(e.id)},o(W)),(0,c.tZ)(l.zx,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>s(e.id)},o(G)));case v.RefusalInProgress:return(0,c.tZ)("div",{sx:V},(0,c.tZ)(l.zx,{mood:"danger",size:"small",isLoading:!0,disabled:!0},o(W)),(0,c.tZ)(l.zx,{intensity:"supershy",mood:"brand",size:"small",disabled:!0},o(G)));case v.Pending:default:return(0,c.tZ)("div",{sx:V},(0,c.tZ)(l.zx,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>a(e.id)},o(W)),(0,c.tZ)(l.zx,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>t(e.id)},o(F)))}},q=e=>{const{notification:t}=e,{translate:a}=(0,y.Z)(),{referrer:n}=t.itemGroup,i=t.itemGroup.items[0],{Title:s}=i,r=a("webapp_sharing_notifications_shared_by",{referrer:n});return(0,l.tZ)(A,{name:s,sharedBy:r,icon:(0,l.tZ)(O,{item:i}),actions:(0,l.tZ)(H,{...e}),notification:t})};var Y=a(139378),Q=a(148038);const $=()=>{const e=(0,r.k$)(m.sharingInvitesApi,"getInvites"),[t,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)([]),c=e.status===Q.rq.Loading,d=(0,n.useCallback)((e=>{a((t=>[...t,...e.filter((({id:e})=>!t.some((t=>t.id===e))))]))}),[]),u=(0,n.useCallback)(((e,t,n)=>{a((a=>a.map((a=>!e.includes(a.id)||void 0!==n&&a.status!==n?a:{...a,status:t}))))}),[]),p=(0,n.useCallback)((e=>{s((t=>t.filter((t=>!e.includes(t))))),l((t=>t.filter((t=>!e.includes(t))))),a((t=>t.filter((t=>!e.includes(t.id)))))}),[]);return(0,n.useEffect)((()=>{if(e.status===Q.rq.Success){const a=e.data.pendingItemGroups,n=a.map((e=>e.itemGroupId));if(!(0,Y.isEqual)(i,n)){s(n),d(a.map((e=>({itemGroup:e,status:e.seen?v.Pending:v.New,id:e.itemGroupId,type:"item"}))));const e=t.filter((({id:e,status:t})=>i.includes(e)&&!n.includes(e)&&(t===v.Refused||t===v.RefusalInProgress)));e.length>0&&p(e.map((({id:e})=>e)));const r=t.filter((({id:e,status:t})=>i.includes(e)&&!n.includes(e)&&t!==v.Accepted&&t!==v.AcceptJustSucceeded&&t!==v.AcceptInProgress&&t!==v.Refused&&t!==v.RefusalInProgress));r.length>0&&u(r.map((({id:e})=>e)),v.Unshared)}const r=e.data.pendingUserGroups,c=r.map((e=>e.groupId));if(!(0,Y.isEqual)(o,c)){l(c),d(r.map((e=>({userGroup:e,status:e.seen?v.Pending:v.New,id:e.groupId,type:"group"}))));const e=t.filter((({id:e,status:t})=>o.includes(e)&&!c.includes(e)&&(t===v.Refused||t===v.RefusalInProgress)));e.length>0&&p(e.map((({id:e})=>e)));const a=t.filter((({id:e,status:t})=>o.includes(e)&&!c.includes(e)&&t!==v.Accepted&&t!==v.AcceptJustSucceeded&&t!==v.AcceptInProgress&&t!==v.Refused&&t!==v.RefusalInProgress));a.length>0&&u(a.map((({id:e})=>e)),v.Unshared)}}}),[t,e,i,o,d,p,u]),{isLoading:c,notifications:t,updateNotificationStatus:u,removeSharingNotifications:p}},K=({disabled:e=!1})=>(0,c.tZ)(d.Ejs,{justifyContent:"space-around",alignItems:"center",sx:{minWidth:"48px",width:"48px",height:"32px",borderRadius:2,backgroundColor:d.O9T.midGreen02,flexShrink:0}},(0,c.tZ)(d.c6E,{disabled:e,color:d.O9T.white}));var X;const J="webapp_sharing_notifications_accept",ee="webapp_sharing_notifications_cancel",te="webapp_sharing_notifications_refuse",ae={flexShrink:0,"> *":{marginLeft:"8px"}},ne=({notification:e,acceptPendingUserGroup:t,refusePendingUserGroup:a,removeUnsharedUserGroup:n,confirmRefusePendingUserGroup:i,cancelRefusePendingUserGroup:s})=>{const{translate:r}=(0,y.Z)(),{id:o,status:u}=e;switch(u){case v.Accepted:return null;case v.AcceptJustSucceeded:return(0,c.tZ)(P,{nature:"success",text:r("webapp_sharing_notifications_accept_group_succeeded")});case v.AcceptFailed:case v.RefusalFailed:return(0,c.tZ)(P,{nature:"failure",text:r("webapp_sharing_notifications_accept_failed")});case v.Unshared:return(0,c.tZ)(P,{nature:"failure",text:r("webapp_sharing_notifications_sender_cancelled")},(0,c.tZ)(l.zx,{"aria-label":r("_common_alert_dismiss_button"),icon:X||(X=(0,c.tZ)(d.Two,null)),intensity:"supershy",layout:"iconOnly",mood:"neutral",size:"small",onClick:()=>n(o),sx:{marginLeft:"8px"},"data-testid":`pending-group-notification-close-${o}`}));case v.AcceptInProgress:return(0,c.tZ)("div",{sx:ae},(0,c.tZ)(l.zx,{intensity:"supershy",mood:"brand",size:"small",disabled:!0},r(te)),(0,c.tZ)(l.zx,{intensity:"quiet",mood:"brand",size:"small",disabled:!0},r(J)));case v.ConfirmRefusal:return(0,c.tZ)("div",{sx:ae},(0,c.tZ)(l.zx,{mood:"danger",size:"small",onClick:()=>i(o)},r(te)),(0,c.tZ)(l.zx,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>s(o)},r(ee)));case v.RefusalInProgress:return(0,c.tZ)("div",{sx:ae},(0,c.tZ)(l.zx,{mood:"danger",size:"small",isLoading:!0,disabled:!0},r(te)),(0,c.tZ)(l.zx,{intensity:"supershy",mood:"brand",size:"small",disabled:!0},r(ee)));case v.Pending:default:return(0,c.tZ)("div",{sx:ae},(0,c.tZ)(l.zx,{intensity:"supershy",mood:"brand",size:"small",onClick:()=>a(o)},r(te)),(0,c.tZ)(l.zx,{intensity:"quiet",mood:"brand",size:"small",onClick:()=>t(o)},r(J)))}},ie=e=>{const{notification:t}=e,{translate:a}=(0,y.Z)(),{userGroup:n}=t,{name:i,referrer:s}=n,r=I(t),o=a("webapp_sharing_notifications_invited_by",{referrer:s});return(0,l.tZ)(A,{name:i,sharedBy:o,icon:(0,l.tZ)(K,{disabled:r}),actions:(0,l.tZ)(ne,{...e}),notification:t})};a(461238);const se=e=>btoa(JSON.stringify((e=>({filterToken:{filterCriteria:[{field:"id",type:"in",value:e}]},sortToken:{sortCriteria:[],uniqField:"id"}}))(e))),re=e=>e.map((e=>e.itemGroup)).map((e=>{const t=(e=>e.items[0])(e);return{itemGroupId:e.itemGroupId,itemsForEmailing:[(a=t,{type:(0,u.isCredential)(a)?"password":"note",name:null!=(n=a.Title)?n:""})]};var a,n})),oe=(e,t)=>e.reduce(((e,a)=>[...e,...a.itemGroup.items.filter((e=>e.kwType===t)).map((e=>e.Id))]),[]);var le,ce=a(241332);const de={height:"100vh",width:"100%",alignItems:"center",justifyContent:"space-around",display:"flex",flexDirection:"column"},ue={padding:"32px"},me={textAlign:"center",flexDirection:"column",alignItems:"center"},pe={maxWidth:"500px",color:"ds.text.neutral.standard"},_e=({isLoading:e,fullPage:t})=>{const{translate:a}=(0,y.Z)();return(0,c.tZ)("div",{sx:t?de:void 0},(0,c.tZ)("div",{sx:t?(0,d.jMf)([ue,me]):ue},(0,c.tZ)(d.X6q,{size:"small",color:"black",sx:{marginBottom:4,fontWeight:"bold"}},a("webapp_sharing_notifications_header")),e&&t?le||(le=(0,c.tZ)(ce.Z,{size:50})):(0,c.tZ)(d.nvN,{sx:t?pe:void 0},a("webapp_sharing_notifications_empty_state_text"))))},ge={exit:"exit--DWS6EXLxsi",exitActive:"exitActive--dWS2bgqRYE"},he=(e,t)=>{const a=(0,n.useRef)(),i=(0,n.useRef)(),s=(0,n.useCallback)((()=>{a.current?.(),a.current=void 0,i.current?.(),i.current=void 0}),[]),r=(0,n.useCallback)(((e,t)=>{s();const n=oe(e,"KWAuthentifiant");n.length>0&&(a.current=b.C.liveCredentials.on(se(n),t));const r=oe(e,"KWSecureNote");return r.length>0&&(i.current=b.C.liveNotes.on(se(r),t)),()=>{a.current?.(),a.current=void 0,i.current?.(),i.current=void 0}}),[s]);(0,n.useEffect)((()=>{e.length>0?r(e,t):s()}),[e,t,r,s])};var be;const ye={width:"100%"},Ce={position:"relative",height:"100vh",overflowY:"scroll"},we={maxHeight:"542px",minHeight:"176px",overflowY:"auto"},Ee=2e3,ve=e=>{const{triggerSync:t}=e,{translate:a}=(0,y.Z)(),{routes:I}=(0,h.Xo)(),{isLoading:A,notifications:k,updateNotificationStatus:O,removeSharingNotifications:L}=$(),{sync:z}=(0,r.u7)(o.syncApi),{refuseItemGroupInvite:j,refuseUserGroupInvite:P}=(0,r.u7)(m.sharingInvitesApi),R=(0,n.useMemo)((()=>k.filter(N)),[k]),U=(0,n.useMemo)((()=>R.filter(D)),[R]),B=(0,n.useMemo)((()=>R.filter(Z)),[R]),F=(0,n.useRef)([]);(0,n.useEffect)((()=>{t&&z({trigger:_.Trigger.Sharing})}),[z,t]),(0,n.useEffect)((()=>{const e=k.filter(T),t=e.filter(N).filter((e=>!e.itemGroup.seen)).map((e=>e.itemGroup.itemGroupId)),a=e.filter(S).filter((e=>!e.userGroup.seen)).map((e=>e.userGroup.groupId));if(t.length>0||a.length>0){b.C.setPendingElementsAsSeen({pendingItemGroupIds:t,pendingUserGroupIds:a});const e=[...t,...a];F.current.push(window.setTimeout((()=>{O(e,v.Pending,v.New)}),Ee))}}),[k,O]),(0,n.useEffect)((()=>()=>{F.current.forEach((e=>window.clearTimeout(e)))}),[]),he(U,(0,n.useCallback)((e=>{const t=e.items.map((({id:e})=>e));if(t.length>0&&U.length>0){const e=U.filter((e=>e.itemGroup.items.some((e=>t.includes(e.Id)))));O(e.map((({id:e})=>e)),v.Accepted)}}),[U,O])),he(B,(0,n.useCallback)((e=>{const t=e.items.map((({id:e})=>e));if(B.length>0){const e=B.filter((e=>!e.itemGroup.items.some((e=>t.includes(e.Id)))));L(e.map((({id:e})=>e)))}}),[B,L]));const G=(0,n.useCallback)((async(e,t)=>{const a=t.filter((({id:t})=>e.includes(t))),n=oe(a,"KWAuthentifiant"),i=(await Promise.all(n.map((e=>b.C.getCredential(e))))).filter((e=>e)).map((({id:e})=>e));if(0===i.length)return;const s=t.filter((e=>e.itemGroup.items.some((e=>i.includes(e.Id)))));if(0===s.length)return;const r=s.map((({id:e})=>e));F.current.push(window.setTimeout((()=>{O(r,v.Accepted)}),Ee))}),[O]),W=(0,n.useCallback)((e=>{const{status:t,itemGroups:a,userGroups:n}=e,i=[...a.successes,...n.successes],s=[...a.failures,...n.failures];switch(t){case u.SharingResponseStatus.Accept:O(i,v.AcceptJustSucceeded),O(s,v.AcceptFailed),a.successes.length>0&&G(a.successes,R);break;case u.SharingResponseStatus.Refuse:O(i,v.Refused),O(s,v.RefusalFailed)}s.length>0&&F.current.push(window.setTimeout((()=>{O(s,v.Pending)}),Ee))}),[G,R,O]),V=(e,t)=>{O(e,t),e.length>0&&F.current.push(window.setTimeout((()=>{O(e,v.Pending)}),Ee))},H=(0,n.useRef)();(0,n.useEffect)((()=>(H.current=b.C.sendSharingResponseResult.on(W),()=>{H.current?.()})),[W]);const Y=e=>{O([e],v.ConfirmRefusal)},Q=e=>{O([e],v.Pending)},K=e=>{L([e])},X=e=>{const t=R.filter((t=>t.itemGroup.itemGroupId===e));O([e],v.AcceptInProgress),(0,g.vp)(u.SharingResponseStatus.Accept,re(t),[])},J=async e=>{if(O([e],v.RefusalInProgress),void 0!==R.find((t=>t.itemGroup.itemGroupId===e)))try{const t=await j({itemGroupId:e});(0,p.d6)(t)?O([e],v.Refused):V([e],v.RefusalFailed)}catch(t){V([e],v.RefusalFailed)}},ee=e=>{O([e],v.AcceptInProgress),(0,g.vp)(u.SharingResponseStatus.Accept,[],[e])},te=async e=>{O([e],v.RefusalInProgress);try{const t=await P({userGroupId:e});(0,p.d6)(t)?O([e],v.Refused):V([e],v.RefusalFailed)}catch(t){V([e],v.RefusalFailed)}},ae=k.filter(f),ne=ae.length>0,se=ae.filter(N),le=se.length>0,ce=ae.filter(S),de=ce.length>0,ue=le&&de,me=ae.some(x);return(0,c.tZ)(n.Fragment,null,e.fullPage?be||(be=(0,c.tZ)(C.h,{endWidget:(0,c.tZ)(n.Fragment,null,(0,c.tZ)(w.D,null),(0,c.tZ)(E.E,null)),"data-testid":"sharing-notifications-fullpage-header"})):null,(0,c.tZ)("div",{sx:e.fullPage?(0,d.jMf)([ye,Ce]):ye},ne?(0,c.tZ)("div",{sx:e.fullPage?void 0:we,"data-testid":"pending-invitations-list"},(0,c.tZ)(d.Ejs,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",sx:{padding:"32px 32px 16px"}},(0,c.tZ)(d.X6q,{size:"small",color:"black",sx:{marginBottom:4,fontWeight:"bold"}},a("webapp_sharing_notifications_header")),me?(0,c.tZ)(l.zx,{mood:"brand",size:"small",onClick:()=>{const e=k.filter(M),t=e.map((({id:e})=>e));if(0===t.length)return;O(t,v.AcceptInProgress);const a=e.filter(N),n=e.filter(S);(0,g.vp)(u.SharingResponseStatus.Accept,re(a),n.map((({id:e})=>e)))}},a("webapp_sharing_notifications_accept_all")):null),de?(0,c.tZ)("div",null,ue?(0,c.tZ)("div",{sx:{paddingLeft:"32px",marginBottom:2}},(0,c.tZ)(d.j49,{color:"ds.text.neutral.quiet"},a("webapp_sharing_notifications_groups"))):null,(0,c.tZ)("ul",{sx:{marginBottom:6}},(0,c.tZ)(i.Z,null,ce.map((e=>(0,c.tZ)(s.Z,{key:e.userGroup.groupId,classNames:{...ge},timeout:150,enter:!1,unmountOnExit:!0},(0,c.tZ)(ie,{key:e.userGroup.groupId,notification:e,acceptPendingUserGroup:ee,refusePendingUserGroup:Y,cancelRefusePendingUserGroup:Q,confirmRefusePendingUserGroup:te,removeUnsharedUserGroup:K}))))))):null,le?(0,c.tZ)("div",null,ue?(0,c.tZ)("div",{sx:{paddingLeft:"32px",marginBottom:2}},(0,c.tZ)(d.j49,{color:"ds.text.neutral.quiet"},a("webapp_sharing_notifications_passwords_and_secure_notes"))):null,(0,c.tZ)("ul",{sx:{marginBottom:6}},(0,c.tZ)(i.Z,null,se.map((e=>(0,c.tZ)(s.Z,{key:e.itemGroup.itemGroupId,classNames:{...ge},timeout:150,enter:!1,unmountOnExit:!0},(0,c.tZ)(q,{key:e.itemGroup.itemGroupId,notification:e,acceptPendingItemGroup:X,refusePendingItemGroup:Y,cancelRefusePendingItemGroup:Q,confirmRefusePendingItemGroup:J,removeUnsharedItem:K,routes:I}))))))):null):(0,c.tZ)(_e,{isLoading:A,fullPage:e.fullPage})))}},667211:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=(0,a(158432).SP)("sidemenu",{},[])},233817:(e,t,a)=>{"use strict";a.d(t,{R:()=>d});var n,i,s=a(696832),r=a(562150),o=a.n(r),l=a(447157);const c=({color:e="#EB5CCB",letter:t})=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"20",viewBox:"0 0 18 18",className:l.Z.spacedIcon},n||(n=s.createElement("defs",null,s.createElement("path",{id:"a",d:"M10.667 16H0V5.333L5.333 0H16v10.667z"}))),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{fillRule:"nonzero"},s.createElement("use",{fill:e,fillRule:"evenodd",xlinkHref:"#a"}),i||(i=s.createElement("path",{stroke:"#FFF",strokeOpacity:".5",d:"M10.46 15.5l5.04-5.04V.5H5.54L.5 5.54v9.96h9.96z"}))),s.createElement("text",{fill:"#FFF",fontFamily:o()["--dashlane-fontfamily-primary"],fontSize:"10",fontWeight:"600"},s.createElement("tspan",{x:"7.5",y:"12",textAnchor:"middle"},t)))),d=({space:e})=>null===e.id?s.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yIDdMNyAySDE4VjE0TDEzIDE4SDJWN1pNMTMuNzUgNi4yNUg0Ljg3MTMyTDcuNjIxMzIgMy41SDE2LjVWMTMuMjc5MUwxMy43NSAxNS40NzkxVjYuMjVaTTMuNSAxNi41SDEyLjI1VjEzLjc1SDYuMjVWNy43NUgzLjVWMTYuNVpNNy43NSA3Ljc1SDEyLjI1VjEyLjI1SDcuNzVWNy43NVoiIGZpbGw9IiMwRTM1M0QiLz4KPC9zdmc+Cg==",alt:e.name}):s.createElement(c,{color:e.color,letter:e.letter})},479189:(e,t,a)=>{"use strict";a.d(t,{M:()=>u,e:()=>d});var n=a(696832),i=a(5727),s=a(708608),r=a(148038),o=a(446389),l=a(710334),c=a(233817);const d={width:"173px",textAlign:"right",paddingRight:"24px",justifyContent:"flex-end",lineHeight:"20px",fontWeight:"600"},u=n.memo((({spaceId:e,onChange:t,hideLabel:a,portalTarget:n,labelSx:d={},wrapperSx:u={},...m})=>{var p,_,g,h,b;const{translate:y}=(0,o.Z)(),C=(0,l.E)(),w=y("webapp_form_field_personal_space"),E=C.status===r.rq.Success&&null!=(p=C.data.find((t=>t.teamId===e))?.teamId)?p:"",v=(()=>{const e={id:"",name:w,letter:w[0]},t={value:"",label:(0,i.tZ)(s.Ejs,{alignItems:"center"},(0,i.tZ)(c.R,{space:e}),(0,i.tZ)("span",{sx:{marginLeft:2}},e.name))},a=[];if(C.status===r.rq.Success&&C.data.length>0){const e={...C.data[0],id:C.data[0].teamId,name:C.data[0].teamName};a.push({value:e.teamId,label:(0,i.tZ)(s.Ejs,{alignItems:"center"},(0,i.tZ)(c.R,{space:e}),(0,i.tZ)("span",{sx:{marginLeft:2}},e.name))})}return[t,...a]})();return v.length>1?(0,i.tZ)(s.Ejs,{alignItems:"center",sx:u},a?null:(0,i.tZ)("label",{sx:d,htmlFor:null!=(_=m.id)?_:"spaceSelect"},y("webapp_form_field_space")),(0,i.tZ)(s.qWE,{...m,name:"spaceSelect",menuPortalTarget:n,isSearchable:!1,id:null!=(g=m.id)?g:"spaceSelect",key:null!=(h=m.key)?h:"spaceSelect",placeholder:y("webapp_form_field_space_placeholder"),options:v,defaultValue:void 0!==e?null!=(b=v.find((e=>e.value===E)))?b:v[0]:void 0,onChange:e=>t(e.value)})):null}))},658016:(e,t,a)=>{"use strict";a.d(t,{T:()=>o});var n=a(5727),i=a(708608),s=a(446389),r=a(676025);const o=()=>{const{translate:e}=(0,s.Z)(),t=e.markup("webapp_two_factor_authentication_sync_devices_time_infobox_markup",{supportArticleLink:r.fL},{linkTarget:"_blank"});return(0,n.tZ)(i.vDh,{sx:{marginTop:"16px"},severity:"subtle",size:"small",title:t})}},646251:(e,t,a)=>{"use strict";a.d(t,{_:()=>E});var n=a(696832),i=a(788355),s=a(446389),r=a(708608),o=a(585921),l=a(616274),c=a(238250),d=a(785362),u=a(925112),m=a(630886);const p=({onDismiss:e,onSuccess:t})=>{const{translate:a}=(0,s.Z)();return n.createElement(m.o,{isOpen:!0,onRequestClose:e,footer:n.createElement(r.cNS,{intent:"primary",primaryButtonTitle:a("webapp_lock_items_copy"),primaryButtonOnClick:t,secondaryButtonTitle:a("webapp_lock_items_cancel"),secondaryButtonOnClick:e}),title:a("webapp_lock_items_confirm_label")},a("webapp_lock_items_confirm_subtitle"))};var _=a(191492),g=a(542899),h=a(80477);const b={DISMISS:"webapp_lock_items_cancel",CONFIRM:"webapp_lock_items_show",CONFIRM_COPY:"webapp_lock_items_copy",PLACEHOLDER:"webapp_lock_items_password_placeholder",WRONG_PASSWORD:"webapp_lock_items_wrong_password",SHOW_LABEL:"webapp_lock_items_password_show_label",HIDE_LABEL:"webapp_lock_items_password_hide_label",CHECKBOX_LABEL_GLOBAL_SETTING:"webapp_lock_items_require_master_password_never_ask_checkbox_label",CHECKBOX_LABEL_FOR_CREDENTIAL:"webapp_lock_items_require_master_password_never_ask_checkbox_label_for_credential",CHECKBOX_WARNING:"webapp_lock_items_require_master_password_never_ask_checkbox_warning",CHECKBOX_SUCCESS_GLOBAL:"webapp_lock_items_require_master_password_never_ask_checkbox_success_alert",CHECKBOX_SUCCESS_CREDENTIAL:"webapp_lock_items_require_master_password_never_ask_checkbox_success_alert_for_credential"},{Subtitle:y,Confirm:C,Placeholder:w}=_.Lz,E=({unlockRequest:e,setUnlockRequest:t,requirePasswordGlobalSetting:a=!1})=>{const{options:m}=e,{translate:E}=(0,s.Z)(),v=(0,u.V)(),{handleDismiss:N}=(({unlockRequest:e,setUnlockRequest:t})=>{const{cancelCallback:a}=e;return{handleDismiss:()=>{a?.(),t?.(null)}}})({unlockRequest:e,setUnlockRequest:t}),{verify:S,handleSuccess:I,onSuccessWithLogs:f}=(({unlockRequest:e,setUnlockRequest:t})=>{const{action:a,successCallback:i}=e,[s,r]=(0,n.useState)(!1),o=()=>{r(!1),i?.(),t?.(null)};return{verify:s,handleSuccess:o,onSuccessWithLogs:()=>{a===_.P7.Copy&&(0,g.isSafari)()?r(!0):o()}}})({unlockRequest:e,setUnlockRequest:t}),[x,M]=(0,n.useState)(!1),T=(0,n.useCallback)((()=>M(!1)),[]);if(S)return(0,o.tZ)(p,{onDismiss:N,onSuccess:I});const D=e=>{const t=(0,h.p)(e,m);if(t)return t.translated?t.field:E(t.key);const a=b[e.toUpperCase()];return a?E(a):null},Z=D(y);return(0,o.tZ)("div",null,(0,o.tZ)(i.J9,{initialValues:{password:"",neverAskCheckbox:!1},onSubmit:async t=>{switch((await l.C.unlockProtectedItems(t.password)).status){case c.UnlockProtectedItemsStatus.SUCCESS:if(t.neverAskCheckbox)if(a)await l.C.updateProtectPasswordsSetting(!1),(0,d.a2)(!1),v.showAlert(E(b.CHECKBOX_SUCCESS_GLOBAL),r.BLW.SUCCESS);else if(e.itemType===_.Ru.Password){var n;const t=await l.C.getCredential(e.credentialId);await l.C.disableCredentialProtection({credentialId:e.credentialId}),(0,d.ih)(!1,t.id,t.url,null!=(n=t.spaceId)?n:void 0),v.showAlert(E(b.CHECKBOX_SUCCESS_CREDENTIAL),r.BLW.SUCCESS)}f();break;case c.UnlockProtectedItemsStatus.ERROR:default:M(!0)}}},(({values:t,handleChange:s,isSubmitting:l})=>(0,o.tZ)(i.l0,null,Z?(0,o.tZ)(r.nvN,{sx:{marginBottom:"27px"}},Z):null,(0,o.tZ)(r.WUg,{name:"password",value:t.password,autoFocus:!0,placeholder:D(w),onChange:e=>{s(e),T()},showPasswordTooltipText:E(b.SHOW_LABEL),hidePasswordTooltipText:E(b.HIDE_LABEL),feedbackType:x?"error":void 0,feedbackText:x?E(b.WRONG_PASSWORD):void 0}),e.itemType===_.Ru.Password&&e.showNeverAskOption?(0,o.tZ)(n.Fragment,null,(0,o.tZ)(r.XZJ,{name:"neverAskCheckbox","data-testid":"neverAskCheckbox",checked:t.neverAskCheckbox,onChange:s,sx:{margin:"12px 0px"},label:E(a?b.CHECKBOX_LABEL_GLOBAL_SETTING:b.CHECKBOX_LABEL_FOR_CREDENTIAL)}),a&&(0,o.tZ)(r.vDh,{severity:"warning",size:"small",title:E(b.CHECKBOX_WARNING)})):null,(0,o.tZ)(r.Ejs,{gap:"16px",justifyContent:"flex-end",sx:{maxWidth:"100%",marginTop:"40px"}},(0,o.tZ)(o.zx,{onClick:N,mood:"neutral",intensity:"quiet"},E(b.DISMISS)),(0,o.tZ)(o.zx,{id:"protected-items-unlocker-confirm-button",type:"submit",disabled:l||!t.password},D(C)))))))}},80477:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});const n=(e,t)=>{if(t){if(t.translated)return t.fields[e]?{translated:!0,field:t.fields[e]}:void 0;{const a=t.fieldsKeys[e];return a?{translated:!1,key:a}:void 0}}}},927761:(e,t,a)=>{"use strict";a.d(t,{D:()=>n.D,jF:()=>o.jF,tY:()=>i.t,DP:()=>r});var n=a(812651),i=a(508159),s=a(696832);function r(e){return t=>{const a=(0,i.t)();return s.createElement(e,{...t,...a})}}a(191492);var o=a(785362)},785362:(e,t,a)=>{"use strict";a.d(t,{a2:()=>u,ih:()=>c,jF:()=>d,u$:()=>m});var n=a(511494),i=a(292210),s=a(616274),r=a(658273),o=a(277786),l=a(987364);const c=async(e,t,a,c)=>{const d=await(0,r.gm)(s.C)?new i.ParsedURL(a).getRootDomain():(0,o.JI)(a),u=await(0,n.hashDomain)(d);((e,t,a,i)=>{(0,l.K)(new n.AnonymousUpdateCredentialEvent({action:n.Action.Edit,fieldList:[e?n.Field.MpProtectedOn:n.Field.MpProtectedOff],domain:{type:t,id:a},space:i}))})(e,n.DomainType.App,u,c?n.Space.Professional:n.Space.Personal),((e,t,a)=>{(0,l.K)(new n.UserUpdateVaultItemEvent({action:n.Action.Edit,fieldsEdited:[n.Field.MpProtectedOn],itemId:t,itemType:n.ItemType.Credential,space:a}))})(0,t,c?n.Space.Professional:n.Space.Personal)},d=()=>{(0,l.K)(new n.UserAskAuthenticationEvent({mode:n.Mode.MasterPassword,reason:n.Reason.EditSettings}))},u=e=>{return t=e,void(0,l.K)(new n.UserChangeProtectWithMasterPasswordSettingEvent({flowStep:n.FlowStep.Complete,flowType:t?n.FlowType.Activation:n.FlowType.Deactivation,settingLevel:n.SettingLevel.Credentials}));var t},m=()=>d()},812651:(e,t,a)=>{"use strict";a.d(t,{S:()=>h,D:()=>b});var n=a(5727),i=a(696832),s=a(630886),r=a(446389),o=a(646251),l=a(191492),c=a(80477),d=a(975131),u=a(148038);const m=({unlockRequest:e,setUnlockRequest:t})=>{const{translate:a}=(0,r.Z)(),i=(0,d.q)(),{options:m,cancelCallback:p}=e;return i.status!==u.rq.Success?null:(0,n.tZ)(s.o,{isOpen:!0,onRequestClose:()=>{p?.(),t?.(null)},disableBackgroundPanelClose:!0,disableOutsideClickClose:!0,showCloseIcon:!0,title:(()=>{const e=(0,c.p)(l.Lz.Title,m);return e?e.translated?e.field:a(e.key):a("webapp_lock_items_label")})(),replaceDialogBody:!0},(0,n.tZ)(o._,{unlockRequest:e,setUnlockRequest:t,requirePasswordGlobalSetting:i.data}))},p=({unlockRequest:e,setUnlockRequest:t})=>i.createElement(m,{unlockRequest:e,setUnlockRequest:t});var _=a(616274),g=a(860039);const h=(0,i.createContext)({openProtectedItemsUnlocker:()=>{},areProtectedItemsUnlocked:!1,protectedItemsUnlockerShown:!1}),b=({children:e})=>{const[t,a]=(0,i.useState)(null),s=function(){const e=(0,g.F)(),t=(0,u.qr)({queryConfig:{query:_.C.areProtectedItemsUnlocked},liveConfig:{live:_.C.liveAreProtectedItemsUnlocked}},[]);return!(t.status===u.rq.Success&&!e&&!t.data)}(),r=null!==t,o=(0,i.useMemo)((()=>({areProtectedItemsUnlocked:s,openProtectedItemsUnlocker:a,protectedItemsUnlockerShown:r})),[s,r]);return(0,n.tZ)(h.Provider,{value:o},e,t?(0,n.tZ)(p,{unlockRequest:t,setUnlockRequest:a}):null)}},191492:(e,t,a)=>{"use strict";let n,i,s;a.d(t,{Lz:()=>s,P7:()=>n,Ru:()=>i}),function(e){e.Show="show",e.Copy="copy",e.CopyVerified="copyVerified",e.Export="export"}(n||(n={})),function(e){e.UpdateContactEmail="update-contact-email",e.Password="password",e.SharedItems="shared-items",e.GeneratedPassword="generated-password",e.CreditCard="credit-card",e.SecureNote="secure-note",e.SecureNoteSetting="secure-note-setting",e.Id="id",e.ExportData="export-data",e.BankAccount="bank-account",e.SecuritySettings="security-settings"}(i||(i={})),function(e){e.Title="title",e.Subtitle="subtitle",e.Confirm="confirm",e.Placeholder="placeholder"}(s||(s={}))},508159:(e,t,a)=>{"use strict";a.d(t,{t:()=>s});var n=a(696832),i=a(812651);function s(){return n.useContext(i.S)}},611224:(e,t,a)=>{"use strict";a.d(t,{IT:()=>i,JW:()=>n,V6:()=>l,dx:()=>o,tb:()=>s,zG:()=>c});const n="https://www.dashlane.com/download",i="https://www.dashlane.com/otpphonelost_codes",s="https://blog.dashlane.com",r="https://support.dashlane.com/hc",o=`${r}/articles/360000038180`,l="https://support.dashlane.com/hc/articles/11079797066386#qrcode",c=`${r}/articles/115003106029`},956306:(e,t,a)=>{"use strict";a.d(t,{Ht:()=>s,jK:()=>n,oo:()=>i});const n="editPanelIgnoreClickOutside",i="accountPanelIgnoreClickOutside",s=[n,i,"sharingPanelIgnoreClickOutsideClassname"].join(" ")},275907:(e,t,a)=>{"use strict";a.d(t,{C:()=>u,b:()=>m});var n=a(696832),i=a(24836),s=a(216530),r=a(425178);const o=(0,n.createContext)({}),l="vault_web_collection_labelling_dev",c="vault_web_collection_labelling_prod",d="vault_web_collection_containing_beta_v4",u=({children:e})=>{const{data:t,status:a}=(0,i.k$)(s.vaultOrganizationApi,"queryCollections",{}),u=(0,i.vF)([l,c,d]),m=u.status===i.rq.Success&&u.data[l],p=u.status===i.rq.Success&&u.data[c],_=u.status===i.rq.Success&&u.data[d],g=p||_||m,h={collections:t?(0,r.p)(t.collections):[],isCollectionsEnabled:g,isCollectionsLoading:a!==i.rq.Success,isCollectionsDEVModeEnabled:m,isCollectionsBETAModeEnabled:_};return n.createElement(o.Provider,{value:h},e)},m=()=>(0,n.useContext)(o)},273732:(e,t,a)=>{"use strict";a.d(t,{h:()=>i});var n=a(585921);const i=({children:e,title:t,style:a})=>(0,n.tZ)("span",{title:null!=t?t:e,sx:{width:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"500",fontSize:"0.75rem",...a}},e)},989302:(e,t,a)=>{"use strict";a.d(t,{Au:()=>s,KH:()=>o,rz:()=>c,zT:()=>g,cF:()=>p});var n=a(585921),i=a(273732);const s=({onClick:e,isSelected:t=!1,...a})=>(0,n.tZ)(n.zx,{onClick:e,sx:{width:"100%",backgroundColor:t?"ds.container.expressive.neutral.quiet.active":"ds.container.expressive.neutral.quiet.idle"},layout:"labelOnly",size:"small",intensity:"quiet",mood:"neutral"},(0,n.tZ)(i.h,{...a}));var r=a(446389);const o=({children:e,onDismiss:t})=>{const{translate:a}=(0,r.Z)();return(0,n.tZ)("span",{sx:{display:"flex",alignItems:"center",gap:"4px",width:"100%",padding:t?"0 0 0 10px":"6px 10px",borderRadius:"4px",backgroundColor:"ds.container.expressive.neutral.quiet.idle"}},(0,n.tZ)(i.h,null,e),t&&(0,n.tZ)(n.zx,{onClick:t,icon:(0,n.tZ)(n.JO,{name:"ActionCloseOutlined",title:a("webapp_collections_actions_delete_tooltip")}),layout:"iconOnly",intensity:"supershy",mood:"neutral",size:"small"}))};var l=a(696832);const c=(0,l.forwardRef)(((e,t)=>{const{translate:a}=(0,r.Z)(),{id:i,input:s,setInput:o,onSubmit:c}=e,d=(e,t=!0)=>{c&&"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),t&&c())};return l.createElement(n.oi,{ref:t,id:i,value:s,onKeyUp:d,onKeyDown:e=>d(e,!1),onChange:e=>{return(t=e.target.value).length<=40&&o(t);var t},placeholder:a("webapp_collections_input_placeholder_add_new"),autoFocus:!0})}));c.displayName="CollectionInput";var d=a(139378),u=a(708608);const m=({amountLeft:e,isOpen:t,onClick:a})=>{const{translate:i}=(0,r.Z)();return(0,n.tZ)(n.zx,{onClick:e=>{e.preventDefault(),a()},intensity:"supershy",layout:"iconTrailing",size:"small",icon:(0,n.tZ)(u.veu,{rotate:t?180:360,sx:{transition:"transform 250ms"}})},t?i("webapp_collections_overflow_button_show_less"):i("webapp_collections_overflow_button_show_more",{count:e}))},p=({isVisible:e=!0,...t})=>(0,n.tZ)("li",{sx:{flex:0,maxWidth:"200px",...e?{visibility:"visible",transform:"scale3d(1,1,1)",width:"100%",marginRight:"16px"}:{visibility:"hidden",transform:"scale3d(0,0,1)",width:0},transformOrigin:"top left",transition:"all 200ms"},...t}),_=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),[i,s]=(0,l.useState)(0),{children:r,sx:o,...c}=e;return(0,l.useEffect)((()=>{a.current&&i!==a.current.scrollHeight&&s(a.current.scrollHeight)}),[r]),(0,l.useImperativeHandle)(t,(()=>({ulElement:a.current,getWidth:()=>{var e;return null!=(e=a.current?.clientWidth)?e:0},getListItemsWidths:()=>{if(!a.current)return[];const e=[];for(const t of a.current.children)e.push(t.getBoundingClientRect().width+16);return e}}))),(0,n.tZ)("ul",{ref:a,sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",flex:"1 1 100%",rowGap:"16px",alignItems:"center",maxHeight:`${i}px`,transition:"all 200ms ease-out",overflow:"hidden",...o},...c},r)})),g=({collectionListItems:e,sx:t,...a})=>{const[i,s]=(0,l.useState)(!1),[r,o]=(0,l.useState)(0),[c,u]=(0,l.useState)({ulRowWidth:0,totalCollectionItemsWidth:0}),p=(0,l.useRef)(null),g=(0,l.useRef)([]),h=(0,l.useRef)(0),b=(0,l.useRef)(0),y=e.length;if((0,l.useEffect)((()=>{if(!p.current?.ulElement)return;const e=(0,d.debounce)((()=>{if(!p.current)return;const e=p.current.getWidth();e!==c.ulRowWidth&&u((t=>({...t,ulRowWidth:e})))}),100),t=new ResizeObserver((()=>{e()}));return t.observe(p.current.ulElement),()=>t.disconnect()}),[p.current]),(0,l.useEffect)((()=>{var e;p.current&&(g.current=p.current.getListItemsWidths(),h.current=null!=(e=g.current.pop())?e:0,u({ulRowWidth:p.current.getWidth(),totalCollectionItemsWidth:g.current.reduce(((e,t)=>e+t),0)}))}),[y]),(0,l.useEffect)((()=>{if(p.current){if(c.ulRowWidth>=c.totalCollectionItemsWidth)b.current=y;else{const e=c.ulRowWidth-h.current;let t=0;for(let a=0;a<g.current.length;a++)if(t+=g.current[a],t>=e){b.current=a;break}}o(i?y:b.current),b.current>=y&&i&&s(!1)}}),[c]),0===y)return null;const C=y-r,w=i||C>0;return(0,n.tZ)(_,{ref:p,...a,sx:{[`li:nth-of-type(n+${r+1})`]:{transition:"none",visibility:"hidden",position:"absolute",width:"fit-content"},...w&&{"li:last-child":{visibility:"visible",position:"unset"}},...t}},e,(0,n.tZ)("li",null,(0,n.tZ)(m,{amountLeft:C,isOpen:i,onClick:()=>{o(i?b.current:y),s((e=>!e))}})))}},699718:(e,t,a)=>{"use strict";a.d(t,{W:()=>n});const n={"::-webkit-scrollbar":{width:"4px"},"::-webkit-scrollbar-thumb":{background:"rgba(0, 0, 0, 0.38)",borderRadius:"8px"},"::-webkit-scrollbar-thumb:hover":{background:"rgba(0, 0, 0, 0.5)"}}},226832:(e,t,a)=>{"use strict";a.d(t,{b:()=>r});var n=a(148038),i=a(710334),s=a(446389);const r=e=>{const t=(0,i.E)(),{translate:a}=(0,s.Z)();return t.status!==n.rq.Success||0===t.data.length?"":t.data.find((t=>t.teamId===e))?.teamName||a("webapp_form_field_personal_space")}},425178:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});const n=e=>e.sort(((e,t)=>e.name.localeCompare(t.name)))},557572:(e,t,a)=>{"use strict";a.d(t,{M:()=>n});const n=948},656326:(e,t,a)=>{"use strict";a.d(t,{K:()=>r});var n=a(708608),i=a(5727);const s={bg:"white",padding:"32px",border:`1px solid ${n.O9T.dashGreen05}`,borderRadius:2,marginTop:"16px"},r=({children:e})=>(0,i.tZ)("div",{sx:s},e)},442138:(e,t,a)=>{"use strict";a.d(t,{V:()=>b,S:()=>u});var n=a(5727),i=a(708608),s=a(481820),r=a(557572);const o=({content:e,size:t})=>(0,n.tZ)(i.Ejs,{as:"span",sx:{bg:i.O9T.midGreen05,borderRadius:"3000px",height:t,width:t,justifyContent:"center",alignContent:"center"}},(0,n.tZ)(i.j49,{size:"medium"},e)),l=({title:e,icon:t})=>(0,n.tZ)(i.Ejs,{gap:"8px",alignItems:"center"},t,(0,n.tZ)(i.X6q,{size:"x-small"},e)),c="'summary' 'details' 'actions'",d={gridTemplateAreas:[c,c,"'summary actions' 'details actions'"]};let u;!function(e){e.INITIAL="initial",e.IN_PROCESS="in_process",e.COMPLETED="completed"}(u||(u={}));const m=(e,t)=>{switch(e){case u.INITIAL:return(0,n.tZ)(o,{content:t,size:20});case u.IN_PROCESS:return(0,n.tZ)(i.HoD,{color:i.O9T.dashGreen00,size:20});case u.COMPLETED:return(0,n.tZ)(i.rE2,{color:i.O9T.accessibleValidatorGreen,size:20})}},p=(0,s.F4)({from:{opacity:1,maxHeight:"240px",animationTimingFunction:"cubic-bezier(0.03, 0.85, 0.34, 1)"},"62%":{opacity:0,maxHeight:"240px",animationTimingFunction:"cubic-bezier(0.43, 0.01, 0, 1)"},to:{opacity:0,maxHeight:"176px"}}),_=(0,s.F4)({from:{opacity:0},to:{opacity:1}}),g={animation:`${p} ${r.M}ms`},h={animation:`${_} 249ms cubic-bezier(0.87, 0, 0.93, 0.5)`},b=({actions:e,number:t=1,status:a=u.INITIAL,title:s,options:r,children:o})=>{const c=r?(0,i.jMf)([d,r.easeOut?g:{},r.easeIn?h:{}]):d;return(0,n.tZ)(i.T5p,{alignItems:"center",gap:"16px",sx:c},(0,n.tZ)(i.dDn,{gridArea:"summary"},(0,n.tZ)(l,{title:s,icon:m(a,t)})),(0,n.tZ)(i.dDn,{gridArea:"details",sx:{alignSelf:"flex-start"}},o),(0,n.tZ)(i.dDn,{gridArea:"actions",sx:{justifySelf:"flex-end"}},e))}},984433:(e,t,a)=>{"use strict";a.d(t,{EK:()=>p,En:()=>c,MF:()=>h,O7:()=>_,PN:()=>o,WW:()=>g,Xj:()=>i,gF:()=>s,i9:()=>r,kG:()=>l});const n="https://www.dashlane.com/vpn",i="https://www.hotspotshield.com/",s=`${n}/install`,r={Windows:`${s}/windows`,"Mac OS":`${s}/mac`,Linux:`${s}/linux`},o=`${n}/terms`,l=`${n}/privacy-policy`,c=`${n}/support`,d="vpn-faq",u="extension",m=(e,t,a)=>`https://support.dashlane.com/hc/articles/${e}?utmMedium=${t}&amp;utmSource=${a}`,p=m("360001158385",d,u),_=m("360000037900",d,u),g=m("360000045439","vpn",u),h="_blank"},200514:(e,t,a)=>{"use strict";a.d(t,{L:()=>R});var n=a(696832),i=a(238250),s=a(299620),r=a(339702),o=a(5727),l=a(446389),c=a(442138),d=a(708608),u=a(673093),m=a(717425);const p="webapp_vpn_page_credential_active_password_label",_="vpnEmailTextInput",g="vpnPasswordInput",h={maxWidth:"464px"},b=(e,t)=>(0,o.tZ)(d.j49,{key:e,sx:{mr:"5px"},as:"label",htmlFor:t,size:"small",color:d.O9T.dashGreen01},e),y=e=>(0,o.tZ)(d.UnL,{key:`lockIcon-${e}`,color:d.O9T.dashGreen01,size:10,"aria-hidden":!0}),C=({email:e,password:t,credentialId:a})=>{const{translate:n}=(0,l.Z)(),i=[b(n("webapp_vpn_page_credential_active_login_label"),_),y(_)],s=[b(n(p),g),y(g)];return(0,o.tZ)(d.T5p,{gridTemplateColumns:"minmax(auto, 464px) auto",gap:"16px",alignItems:"flex-end"},(0,o.tZ)(d.oil,{sx:h,value:e,readOnly:!0,fullWidth:!0,autoComplete:"off",label:i,id:_}),(0,o.tZ)(d.dDn,null,(0,o.tZ)(u.m,{data:e,onCopy:(0,m.dL)(a)})),(0,o.tZ)("form",null,(0,o.tZ)(d.WUg,{sx:h,value:t,readOnly:!0,fullWidth:!0,hidePasswordTooltipText:n("webapp_vpn_page_credential_active_hide_password"),showPasswordTooltipText:n("webapp_vpn_page_credential_active_show_password"),autoComplete:"off",label:s,title:n(p),id:g})),(0,o.tZ)(d.dDn,null,(0,o.tZ)(u.m,{data:t,onCopy:(0,m._z)(a)})))},w=({email:e,password:t,credentialId:a})=>{const{translate:n}=(0,l.Z)();return(0,o.tZ)(c.V,{options:{easeIn:!0,easeOut:!1},status:c.S.COMPLETED,title:n("webapp_vpn_page_credential_active_heading")},(0,o.tZ)(C,{email:e,password:t,credentialId:a}))};var E=a(906978),v=a(984433),N=a(987364),S=a(511494);const I="webapp_vpn_page_credential_activate_text_markup",f="webapp_vpn_page_credential_activate_button",x="webapp_vpn_page_credential_activate_email_error",M="webapp_vpn_page_credential_activate_privacy_consent_markup",T="webapp_vpn_page_credential_activate_missing_consent_tooltip",D=({defaultEmail:e,setEmail:t,isPrivacyConsentChecked:a,setIsPrivacyConsentChecked:i,disabled:s=!1,number:r,onClick:u=(()=>{}),options:m,status:p,title:_})=>{const{translate:g}=(0,l.Z)(),h=(0,n.useRef)();(0,n.useEffect)((()=>{(0,N.N)(S.PageView.ToolsVpnPrivacyConsent)}),[]),(0,n.useEffect)((()=>{e&&h?.current?.select()}),[e,h]);const[b,y]=(0,n.useState)(!0),[C,w]=(0,n.useState)(!1),D=b&&!s,Z=g(x),A=g.markup(I,{learnMore:v.WW},{linkTarget:v.MF}),k=g.markup(M,{privacyPolicyLink:v.kG,serviceTermsLink:v.PN},{linkTarget:v.MF}),O=C&&!a;return(0,o.tZ)(c.V,{options:m,title:_,number:r,status:p,actions:(0,o.tZ)(d.zxk,{type:"button",onClick:()=>a?u():w(!0),disabled:!D},g(f))},(0,o.tZ)(d.Ejs,{flexDirection:"column"},(0,o.tZ)(d.nvN,{size:"small"},A),(0,o.tZ)(d.oil,{sx:{marginTop:"16px",maxWidth:"480px"},defaultValue:e,onChange:e=>t(e.currentTarget.value),onBlur:e=>{return t=e.target.value,y((0,E.vV)(t));var t},onFocus:e=>e.target.select(),feedbackText:b?void 0:Z,feedbackType:b?void 0:"error",type:"email",disabled:s,autoFocus:!0,fullWidth:!0,ref:h}),(0,o.tZ)("div",{sx:{marginTop:"36px",width:"100%",height:"40px"}},(0,o.tZ)(d.XZJ,{disabled:s,label:k,checked:a,onChange:e=>i(e.currentTarget.checked),feedbackText:g(T),intent:O?"error":void 0}))))};var Z=a(656326),A=a(274187),k=a(919005);const O="webapp_vpn_page_credential_activate_heading",L="webapp_vpn_page_credential_activating_heading",z=({stepNumber:e,vpnCredential:t,generateCredential:a})=>{const{translate:s}=(0,l.Z)(),d=(0,A.G)(),u=(0,k.f)(),[m,p]=(0,n.useState)(!1),[_,g]=(0,n.useState)(""),[h,b]=(0,n.useState)(""),{isIntermediate:y,isActivated:C,isActivating:E}=(0,r.RQ)(t);(0,n.useEffect)((()=>{var e,t;const a=null!=(e=null!=(t=d?.email)?t:u)?e:"";b(a),g(a)}),[d,u]);const v={defaultEmail:h,email:_,isPrivacyConsentChecked:m,setEmail:g,setIsPrivacyConsentChecked:p},N=t?.status===i.VpnAccountStatusType.NotFound||t?.status===i.VpnAccountStatusType.Error,S=E()||t?.status===i.VpnAccountStatusType.Activating||y(),I=S?{disabled:!0}:{onClick:()=>a({email:_})},f=S?c.S.IN_PROCESS:c.S.INITIAL,x=s(S?L:O);return(0,o.tZ)(Z.K,null,N||S?(0,o.tZ)(D,{number:e,options:{easeIn:!1,easeOut:y()},status:f,title:x,...v,...I}):null,C()&&t?.status===i.VpnAccountStatusType.Activated?(0,o.tZ)(w,{email:t.email,password:t.password,credentialId:t.credentialId}):null)},j="webapp_vpn_page_credential_active_alert_success",P={[i.VpnAccountActivationErrorType.ServerError]:{key:"webapp_vpn_page_credential_error_alert_error"},[i.VpnAccountActivationErrorType.AccountAlreadyExistError]:{key:"webapp_vpn_page_credential_activate_email_in_use_error_alert_markup",params:{hotspotSupport:v.En}}},R=({stepNumber:e,vpnCredential:t})=>{const{translateWithMarkup:a}=(0,s.Y)(),{onActivateVpnAccount:o,onClearVpnAccountErrors:l,onCompleteVpnAccountActivation:c,openActivateVpnSuccessAlert:d,openActivateVpnErrorAlert:u}=(0,r.LZ)();return(0,n.useEffect)((()=>{t&&(t.status===i.VpnAccountStatusType.Ready&&(d(a(j)),c()),t.status===i.VpnAccountStatusType.Error&&(u(a(P[t.error])),l()))}),[l,c,d,u,a,t]),n.createElement(z,{stepNumber:e,vpnCredential:t,generateCredential:o})}},413597:(e,t,a)=>{"use strict";a.d(t,{RQ:()=>w,LZ:()=>d,BP:()=>E,Qy:()=>m,Hn:()=>b,q4:()=>g});var n=a(696832),i=a(925112),s=a(616274);const r=async e=>await s.C.activateVpnAccount(e);var o=a(708608);const l=async()=>await s.C.clearVpnAccountErrors(),c=async()=>await s.C.completeVpnAccountActivation();function d(){const e=(0,i.V)();return{onActivateVpnAccount:(0,n.useCallback)((async e=>{await r(e)}),[]),onClearVpnAccountErrors:()=>l(),onCompleteVpnAccountActivation:()=>c(),openActivateVpnSuccessAlert:(0,n.useCallback)((t=>{e.showAlert(t,o.BLW.SUCCESS)}),[e]),openActivateVpnErrorAlert:(0,n.useCallback)((t=>{e.showAlert(t,o.BLW.ERROR)}),[e])}}var u=a(148038);const m=()=>{const e=(0,u.qr)({queryConfig:{query:s.C.getVpnAccount},liveConfig:{live:s.C.liveVpnAccount}},[]);return e.status===u.rq.Success?e.data:null};var p=a(238250);const _=(e,t)=>!!e&&!e.hasVpnEnabled&&e?.vpnDisabledReason===t;function g(){const e=E(),t=!!e&&e.hasVpnEnabled,a=_(e,p.VpnDisabledReason.InTeam),n=_(e,p.VpnDisabledReason.NotPremium)||_(e,p.VpnDisabledReason.NoPayment),i=t||n;return{showVpnPage:i,showVpnMenuItem:a||i,showVpnDisabledB2BTooltip:a,vpnPageAccessLoading:!e,showVpnPaywall:n}}const h={VPN_DISABLED_FOR_B2B_TITLE:"webapp_vpn_notification_disabled_for_b2b_title",VPN_DISABLED_FOR_B2B_DESC:"webapp_vpn_notification_disabled_for_b2b_description"};function b(e,t){const{showVpnPage:a,showVpnMenuItem:n,showVpnDisabledB2BTooltip:i,showVpnPaywall:s}=g();return{showVpnPage:a,showVpnMenuItem:n,shouldDisplayVPNPaywall:s,getVpnDisabledNotification:()=>{const a=h.VPN_DISABLED_FOR_B2B_TITLE,n=h.VPN_DISABLED_FOR_B2B_DESC;return{showNotification:!e&&i,notificationClass:t,title:a,description:n}}}}var y=a(557572);let C;!function(e){e.ACTIVATING="activating",e.INITIAL="initial",e.INTERMEDIATE="intermediate",e.ACTIVATED="activated"}(C||(C={}));const w=e=>{const[t,a]=(0,n.useState)(C.INITIAL),[i,s]=(0,n.useState)();return(0,n.useEffect)((()=>{e?.status===p.VpnAccountStatusType.Activated&&t===C.INITIAL?a(C.ACTIVATED):e?.status===p.VpnAccountStatusType.Activating?a(C.ACTIVATING):e?.status===p.VpnAccountStatusType.NotFound&&a(C.INITIAL)}),[e?.status,t]),(0,n.useEffect)((()=>{if(e?.status===p.VpnAccountStatusType.Ready&&t===C.ACTIVATING){a(C.INTERMEDIATE);const e=window.setTimeout((()=>{s(e),a(C.ACTIVATED)}),y.M)}}),[e?.status,t]),(0,n.useEffect)((()=>{i&&window.clearTimeout(i)}),[i]),{isInitial:()=>t===C.INITIAL,isActivating:()=>t===C.ACTIVATING,isActivated:()=>t===C.ACTIVATED,isIntermediate:()=>t===C.INTERMEDIATE}},E=()=>{const e=(0,u.qr)({queryConfig:{query:s.C.getVpnCapabilitySetting}},[]);return e.status===u.rq.Success?e.data:null}},339702:(e,t,a)=>{"use strict";a.d(t,{Hn:()=>n.Hn,LZ:()=>n.LZ,Qy:()=>n.Qy,RQ:()=>n.RQ,Xj:()=>i.Xj}),a(200514);var n=a(413597),i=a(984433)},717425:(e,t,a)=>{"use strict";a.d(t,{_z:()=>o,dL:()=>r,gq:()=>l});var n=a(987364),i=a(511494);const s=(e,t)=>()=>(0,n.K)(new i.UserCopyVaultItemFieldEvent({field:e,itemId:t,itemType:i.ItemType.Credential,isProtected:!1})),r=e=>s(i.Field.Email,e),o=e=>s(i.Field.Password,e),l=()=>(0,n.K)(new i.UserDownloadVpnClientEvent({}))},75032:(e,t,a)=>{"use strict";a.d(t,{Vz:()=>U,au:()=>R});var n=a(696832),i=a(5727),s=a(708608),r=a(446389);let o,l;!function(e){e.Bad="bad",e.Okay="okay",e.Great="great"}(o||(o={})),function(e){e.RateForm="rateform",e.ThankYou="thankyou",e.WebStore="webstore"}(l||(l={}));var c,d=a(511494),u=a(987364);const m={display:"flex",alignItems:"center",backgroundColor:s.O9T.dashGreen06,padding:"16px 18px",gap:"16px"},p={paddingRight:"16px",flex:"1",overflowX:"hidden",display:"flex",justifyContent:"center",flexDirection:"column"},_={fontSize:"10px",textTransform:"uppercase",color:"#0e353d",letterSpacing:"0.2px",lineHeight:"100%",fontWeight:"500"},g={width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:s.O9T.dashGreen06,":hover":{backgroundColor:s.O9T.midGreen04,svg:{fill:s.O9T.dashGreen00}}},h=({backLink:e,displayLogo:t,domain:a,title:n,onClose:o})=>{const{translate:l}=(0,r.Z)();return(0,i.tZ)("header",{sx:m},t?c||(c=(0,i.tZ)(s.Kie,{"aria-hidden":!0,size:27})):null,e,(0,i.tZ)("div",{sx:p},a?(0,i.tZ)("div",{sx:_},a):null,(0,i.tZ)(s.X6q,{sx:{fontWeight:"500",fontSize:"16px",color:s.O9T.dashGreen00}},n)),o?(0,i.tZ)("button",{type:"button",sx:g,onClick:o,"aria-label":l("closeWindow")},(0,i.tZ)(s.Two,{"aria-hidden":!0,color:s.O9T.dashGreen02,size:20})):null)},b={backgroundColor:s.O9T.white,margin:0,overflow:"hidden",width:"380px",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.16)"},y={padding:"8px"},C=({children:e,displayHeaderLogo:t,domain:a,headerBackLink:n,onClose:s,title:r,withoutHeader:o})=>(0,i.tZ)("div",{sx:b},o?null:(0,i.tZ)(h,{backLink:n,displayLogo:t,domain:a,title:r,onClose:s}),(0,i.tZ)("main",{sx:y},e));var w,E,v;const N=({icon:e,text:t,faceHoverColor:a,...n})=>(0,i.tZ)(s.zxk,{type:"button",nature:"ghost",sx:{height:"105px",width:"110px",":hover":{backgroundColor:s.O9T.dashGreen06,"div > div":{backgroundColor:a}}},...n},(0,i.tZ)(s.Ejs,{flexDirection:"column",alignItems:"center",gap:"16px"},(0,i.tZ)("div",{sx:{borderRadius:"30px"}},e),(0,i.tZ)(s.nvN,null,t))),S=({formResponse:e,onClose:t})=>{const{translate:a}=(0,r.Z)();return(0,n.useEffect)((()=>{(0,u.N)(d.PageView.Review)}),[]),(0,i.tZ)(C,{title:a("webapp_web_store_dialog_rate_form_title"),displayHeaderLogo:!0,onClose:()=>{(0,u.K)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.ReviewBad,d.CallToAction.ReviewOk,d.CallToAction.ReviewGreat],hasChosenNoAction:!0})),t()}},(0,i.tZ)(s.Ejs,{justifyContent:"space-between"},(0,i.tZ)(N,{text:a("webapp_web_store_dialog_rate_form_bad"),faceHoverColor:s.O9T.red02,icon:w||(w=(0,i.tZ)(s.tYR,{size:36})),onClick:()=>{e(o.Bad)}}),(0,i.tZ)(N,{text:a("webapp_web_store_dialog_rate_form_okay"),faceHoverColor:s.O9T.dashGreen03,icon:E||(E=(0,i.tZ)(s.iiB,{size:36})),onClick:()=>{e(o.Okay)}}),(0,i.tZ)(N,{text:a("webapp_web_store_dialog_rate_form_great"),faceHoverColor:s.O9T.validatorGreen,icon:v||(v=(0,i.tZ)(s.ouF,{size:36})),onClick:()=>{e(o.Great)}})))},I={padding:"16px"},f=({onClose:e})=>{const{translate:t}=(0,r.Z)();return(0,n.useEffect)((()=>{const t=setTimeout(e,2e3);return()=>{clearTimeout(t)}})),(0,i.tZ)(C,{title:t("webapp_web_store_dialog_thank_you_title"),displayHeaderLogo:!0,onClose:e},(0,i.tZ)("div",{sx:I},(0,i.tZ)(s.nvN,null,t("webapp_web_store_dialog_thank_you_text"))))},x=a.p+"bfe0d95a40d2d9833f90.png";var M;const T={display:"flex",flexDirection:"column",padding:"16px",gap:"24px"},D={backgroundColor:s.O9T.dashGreen06,borderRadius:"4px",display:"flex",padding:"16px",gap:"12px"},Z={display:"flex",flexDirection:"column"},A=({onClose:e})=>{const{translate:t}=(0,r.Z)();return n.useEffect((()=>{(0,u.N)(d.PageView.ReviewRateUsChromeWebStore)}),[]),(0,i.tZ)(C,{title:t("webapp_web_store_dialog_web_store_title"),displayHeaderLogo:!0,onClose:()=>{(0,u.K)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.OpenChromeWebStore],hasChosenNoAction:!0})),e()}},(0,i.tZ)("div",{sx:T},(0,i.tZ)("div",{sx:D},M||(M=(0,i.tZ)("img",{src:x})),(0,i.tZ)("div",{sx:Z},(0,i.tZ)(s.nvN,{caps:!0,size:"x-small"},t("webapp_web_store_dialog_web_store_subtitle")),(0,i.tZ)(s.X6q,{size:"x-small"},t("webapp_web_store_dialog_web_store_store_name")))),(0,i.tZ)(s.nvN,null,t("webapp_web_store_dialog_web_store_text")),(0,i.tZ)(s.zxk,{sx:{width:"100%"},type:"button",onClick:()=>{(0,u.K)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.OpenChromeWebStore],hasChosenNoAction:!1,chosenAction:d.CallToAction.OpenChromeWebStore})),window.open("https://chrome.google.com/webstore/detail/dashlane-password-manager/fdjamakpfbbddfjaooikfcpapjohcfmg/reviews","_blank"),e()}},t("webapp_web_store_dialog_web_store_cta"),(0,i.tZ)("div",{sx:{paddingLeft:"6px"}},(0,i.tZ)(s.RTC,{color:s.O9T.white})))))};var k=a(453576),O=a(864319),L=a(745268),z=a(265995),j=a(125229),P=a(616274);const R=async()=>{const e=await P.C.getUserMessages(),t=await P.C.getHasFeature("growthproduct_chromerating_theupsidedown"),a=void 0===e.find((e=>e.type===k.UserMessageTypes.WEB_STORE)),n=void 0===e.find((e=>{const t=!e.dismissedAt||(0,z.Z)(new Date,e.dismissedAt)<6;return e.type===k.UserMessageTypes.WEB_STORE&&t}));t&&(a||n)&&(0,j.Hv)({type:k.UserMessageTypes.WEB_STORE})},U=()=>{const[e,t]=n.useState(l.RateForm),a=(0,O.D)(),s=(0,L.eJ)(window.location.href),r=()=>{(async()=>{await(0,j.ql)({type:k.UserMessageTypes.WEB_STORE})})()};return a.find((e=>e.type===k.UserMessageTypes.WEB_STORE&&!e.dismissedAt))&&s?(0,i.tZ)("div",{sx:{position:"absolute",bottom:"40px",right:"40px"}},e===l.RateForm?(0,i.tZ)(S,{onClose:r,formResponse:e=>{switch((e=>{switch(e){case o.Bad:(0,u.K)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.ReviewBad,d.CallToAction.ReviewOk,d.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:d.CallToAction.ReviewBad}));break;case o.Great:(0,u.K)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.ReviewBad,d.CallToAction.ReviewOk,d.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:d.CallToAction.ReviewGreat}));break;case o.Okay:(0,u.K)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.ReviewBad,d.CallToAction.ReviewOk,d.CallToAction.ReviewGreat],hasChosenNoAction:!1,chosenAction:d.CallToAction.ReviewOk}))}})(e),e){case o.Great:t(l.WebStore);break;case o.Okay:case o.Bad:t(l.ThankYou)}}}):null,e===l.ThankYou?(0,i.tZ)(f,{onClose:r}):null,e===l.WebStore?(0,i.tZ)(A,{onClose:r}):null):null}},611066:(e,t,a)=>{"use strict";function n(){return void 0!==window?.PublicKeyCredential&&"function"==typeof window.PublicKeyCredential}function i(){return n()?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable():Promise.resolve(!1)}function s(){return!1}a.d(t,{FI:()=>i,Sq:()=>s,_U:()=>n})},889959:(e,t,a)=>{"use strict";a.d(t,{p:()=>r,G:()=>s});var n=a(560198),i=a(1971);const s=async e=>{const t=await(async e=>{var t;const a={rp:e.rp,user:{...e.user,id:(i=e.user.id,(new TextEncoder).encode(i))},challenge:(0,n.s)(e.challenge),timeout:e.timeout,pubKeyCredParams:e.pubKeyCredParams,authenticatorSelection:e.authenticatorSelection,excludeCredentials:(null!=(t=e.excludeCredentials)?t:[]).map((e=>({id:(0,n.s)(e.id),type:e.type})))};var i;const s=await navigator.credentials.create({publicKey:a});if(!s)throw new Error("WebAuthn attestation could not be completed as credential cannot be created");return s})(e),a=t.response,s={id:t.id,type:t.type,rawId:(0,i.a)(t.rawId),response:{clientDataJSON:(0,i.a)(a.clientDataJSON),attestationObject:(0,i.a)(a.attestationObject),getAuthenticatorData:()=>a.getAuthenticatorData(),getPublicKey:()=>a.getPublicKey(),getPublicKeyAlgorithm:()=>a.getPublicKeyAlgorithm(),getTransports:()=>a.getTransports()}};return"function"==typeof a.getTransports&&(s.transports=a.getTransports()),s};async function r(e,t){const a=await async function(e,t){var a;const i={challenge:(0,n.s)(e.challenge),allowCredentials:(null!=(a=e.allowCredentials)?a:[]).map((e=>({id:(0,n.s)(e.id),type:e.type}))),userVerification:e.userVerification,rpId:e.rpId,timeout:e.timeout},s=await navigator.credentials.get({publicKey:i,signal:t});if(!s)throw new Error("WebAuthn assertion could not be completed as credential cannot be created");return s}(e,t),s=a.response;return{id:a.id,type:a.type,rawId:(0,i.a)(a.rawId),response:{authenticatorData:(0,i.a)(s.authenticatorData),clientDataJSON:(0,i.a)(s.clientDataJSON),signature:(0,i.a)(s.signature)},clientExtensionResults:a.getClientExtensionResults()}}},296908:(e,t,a)=>{"use strict";a.d(t,{_U:()=>S._U,pM:()=>L.p,rV:()=>I,$_:()=>N,dG:()=>M,Hq:()=>x});var n=a(696832),i=a(770823),s=a(616274);const r=async e=>{const{isMasterPasswordValid:t}=await s.C.checkIfMasterPasswordIsValid({masterPassword:e});if(!t)throw new Error("Master password is not valid");return t};var o=a(383849),l=a.n(o),c=a(708608),d=a(585921),u=a(446389),m=a(956306);const p="icon--mUbeHPFKev";var _;!function(e){e.WRONG_PASSWORD_ERROR="wrong_password"}(_||(_={}));const g=({onValidateMasterPassword:e,onRemoveAuthenticator:t,onDismiss:a})=>{const{translate:i}=(0,u.Z)(),[s,r]=(0,n.useState)(""),[o,g]=(0,n.useState)(null),h=async n=>{n.preventDefault(),s&&await(async t=>{try{return await e(t),g(null),!0}catch(e){return g(_.WRONG_PASSWORD_ERROR),!1}})(s)&&(await t(),a())};return n.createElement(c.VqE,{modalContentClassName:l()(m.Ht),isOpen:!0,closeIconName:i("_common_dialog_dismiss_button"),onClose:a,ariaLabelledby:"disableDialogTitle",ariaDescribedby:"disableDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0},n.createElement("div",{className:p},n.createElement(d.JO,{name:"FeedbackFailOutlined",style:{height:"62px",width:"62px"},color:"ds.text.danger.quiet"})),n.createElement(c.$N8,{title:i("webapp_account_security_settings_passwordless_disable_title")}),n.createElement(c.a7O,null,n.createElement(c.nvN,{id:"disableDialogBody",color:"neutrals.8",sx:{mb:"26px"}},i("webapp_account_security_settings_passwordless_disable_description")),n.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:h},n.createElement(c.WUg,{autoFocus:!0,showPasswordTooltipText:i("webapp_account_security_settings_passwordless_disable_master_password_show"),hidePasswordTooltipText:i("webapp_account_security_settings_passwordless_disable_master_password_hide"),placeholder:i("webapp_account_security_settings_passwordless_disable_master_password_placeholder"),label:i("webapp_account_security_settings_passwordless_disable_master_password"),onChange:e=>{const t=e.target.value;g(null),r(t)},value:s,feedbackType:o?"error":void 0,feedbackText:o===_.WRONG_PASSWORD_ERROR?i("webapp_account_security_settings_passwordless_disable_master_password_error"):void 0}))),n.createElement(c.cNS,{primaryButtonTitle:i("webapp_account_security_settings_passwordless_disable_button_remove"),primaryButtonOnClick:h,primaryButtonProps:{type:"button",disabled:!s||null!==o},secondaryButtonTitle:i("webapp_account_security_settings_passwordless_disable_button_cancel"),secondaryButtonOnClick:a,secondaryButtonProps:{type:"button"}}))};var h;const b=({onDone:e})=>{const{translate:t}=(0,u.Z)();return n.createElement(c.VqE,{modalContentClassName:l()(m.Ht),isOpen:!0,closeIconName:t("_common_dialog_dismiss_button"),onClose:e,ariaLabelledby:"errorDialogTitle",ariaDescribedby:"errorDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0},n.createElement("div",{className:p},h||(h=n.createElement(c.enX,{size:60,"aria-hidden":"true"}))),n.createElement(c.$N8,{title:t("webapp_account_security_settings_passwordless_error_title")}),n.createElement(c.a7O,null,n.createElement(c.nvN,{id:"errorDialogBody"},t.markup("webapp_account_security_settings_passwordless_error_description_markup",{utmSource:"extension",utmMedium:"account"},{linkTarget:"_blank"}))),n.createElement(c.cNS,{primaryButtonTitle:t("webapp_account_security_settings_passwordless_error_button_done"),primaryButtonOnClick:e,primaryButtonProps:{type:"button"}}))};var y;!function(e){e.NONE="NONE",e.DISABLE="DISABLE",e.ERROR="ERROR"}(y||(y={}));const C=({credentialId:e,onDialogClose:t})=>{var a,s;const[o,l]=(0,n.useState)(y.NONE);(0,n.useEffect)((()=>{l(y.DISABLE)}),[]);const c=(0,n.useCallback)((()=>{l(y.NONE),"function"==typeof t&&t()}),[t]),d=(0,n.useCallback)((async()=>{try{await(0,i.pg)(e)}catch{l(y.ERROR)}}),[e]);return n.createElement((()=>{switch(o){case y.DISABLE:return a||(a=n.createElement(g,{onValidateMasterPassword:r,onRemoveAuthenticator:d,onDismiss:c}));case y.ERROR:return s||(s=n.createElement(b,{onDone:c}));case y.NONE:default:return null}}),null)};var w=a(191492),E=a(927761),v=a(714494);function N(e={}){const{onDialogStateChanged:t}=e,{areProtectedItemsUnlocked:a,openProtectedItemsUnlocker:s}=(0,E.tY)(),{openDialog:r,closeDialog:o}=(0,v.R)(),l=(0,n.useCallback)((()=>{const e=()=>{r(n.createElement(O,{onDialogClose:()=>{o(),t?.(!1)}}))};t?.(!0),a?e():s({itemType:w.Ru.SecuritySettings,successCallback:e,cancelCallback:()=>{t?.(!1)}})}),[r,o,a,s]),c=(0,n.useCallback)((()=>{const e=i.Sl;a?e():s({itemType:w.Ru.SecuritySettings,successCallback:e}),(0,i.Sl)()}),[a,s]),d=(0,n.useCallback)((async e=>{await(0,i.pg)(e)}),[]);return{openWebAuthnEnablerDialog:l,openWebAuthnDisablerDialog:c,openWebAuthnRemoveLastAuthenticatorDialog:(0,n.useCallback)((e=>{t?.(!0),r(n.createElement(C,{credentialId:e,onDialogClose:()=>{o(),t?.(!1)}}))}),[r,o]),onRemoveWebAuthnAuthenticator:d}}var S=a(611066);const I=()=>{const[e,t]=(0,n.useState)(null);return(0,n.useEffect)((()=>{(async()=>{const e=await(0,S.FI)();t(e)})()}),[]),e};var f=a(148038);const x=()=>{const e=(0,f.qr)({queryConfig:{query:s.C.getWebAuthnAuthenticationOptedIn},liveConfig:{live:s.C.liveWebAuthnAuthenticationOptedIn}},[]);return e.status===f.rq.Success&&e.data};function M(){const e=x(),t=((0,n.useEffect)((()=>{s.C.refreshWebAuthnAuthenticators()}),[]),(0,f.qr)({queryConfig:{query:s.C.getWebAuthnAuthenticators},liveConfig:{live:s.C.liveWebAuthnAuthenticators}},[]));return{optedIn:e,authenticators:t.status===f.rq.Success&&t.data||void 0}}var T;const D=({userHasWebAuthnPlatformAuthenticator:e,onAddAuthenticator:t,onDismiss:a})=>{const{translate:i}=(0,u.Z)(),s=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_title":"webapp_account_security_settings_passwordless_enable_noplatform_title",r=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_description":"webapp_account_security_settings_passwordless_enable_noplatform_description",o=e?"webapp_account_security_settings_passwordless_enable_all_authenticators_button_add":"webapp_account_security_settings_passwordless_enable_noplaftorm_button_add";return n.createElement(c.VqE,{modalContentClassName:l()(m.Ht),isOpen:!0,closeIconName:i("_common_dialog_dismiss_button"),onClose:a,ariaLabelledby:"enableDialogTitle",ariaDescribedby:"enableDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0},n.createElement("div",{className:p},T||(T=n.createElement(c.oie,{size:60,"aria-hidden":"true"}))),n.createElement(c.$N8,{title:i(s)}),n.createElement(c.a7O,null,n.createElement(c.nvN,{id:"enableDialogBody",color:"neutrals.8",sx:{marginBottom:"24px"}},i(r)),n.createElement(d.ke,{title:i("webapp_account_security_settings_passwordless_enable_all_authenticators_information_tip")})),n.createElement(c.cNS,{primaryButtonTitle:i(o),primaryButtonOnClick:t,primaryButtonProps:{type:"button"},secondaryButtonTitle:i("webapp_account_security_settings_passwordless_enable_button_cancel"),secondaryButtonOnClick:a,secondaryButtonProps:{type:"button"}}))};var Z;const A=({userHasWebAuthnPlatformAuthenticator:e,onDone:t})=>{const{translate:a}=(0,u.Z)(),i=e?"webapp_account_security_settings_passwordless_confirm_enable_all_authenticators_title":"webapp_account_security_settings_passwordless_confirm_enable_noplatform_title",s=e?"webapp_account_security_settings_passwordless_confirm_enable_all_authenticators_description_markup":"webapp_account_security_settings_passwordless_confirm_enable_noplatform_description_markup";return n.createElement(c.VqE,{modalContentClassName:l()(m.Ht),isOpen:!0,closeIconName:a("_common_dialog_dismiss_button"),onClose:t,ariaLabelledby:"confirmEnableDialogTitle",ariaDescribedby:"confirmEnableDialogBody",disableEscapeKeyClose:!0,disableOutsideClickClose:!0,disableScrolling:!0,disableUserInputTrap:!0},n.createElement("div",{className:p},Z||(Z=n.createElement(c.rE2,{size:60,"aria-hidden":"true"}))),n.createElement(c.$N8,{title:a(i)}),n.createElement(c.a7O,null,n.createElement(c.nvN,{id:"confirmEnableDialogBody",color:"neutrals.8"},a.markup(s))),n.createElement(c.cNS,{primaryButtonTitle:a("webapp_account_security_settings_passwordless_confirm_enable_button_done"),primaryButtonOnClick:t,primaryButtonProps:{type:"button"}}))};var k;!function(e){e.NONE="NONE",e.ENABLE="ENABLE",e.CONFIRM_ENABLE="CONFIRM_ENABLE",e.ERROR="ERROR"}(k||(k={}));const O=({onDialogClose:e})=>{var t,a,s;const[r,o]=(0,n.useState)(),[l,c]=(0,n.useState)(k.NONE),d=I();(0,n.useEffect)((()=>{(async()=>{try{const e=await(0,i.oz)();o(e),c(k.ENABLE)}catch{c(k.ERROR)}})()}),[]);const u=(0,n.useCallback)((()=>{c(k.NONE),"function"==typeof e&&e()}),[e]),m=(0,n.useCallback)((async()=>{try{await(0,i.i_)(r),o(void 0),c(k.CONFIRM_ENABLE)}catch{c(k.ERROR)}}),[r]);return n.createElement((()=>{switch(l){case k.ENABLE:return t||(t=n.createElement(D,{userHasWebAuthnPlatformAuthenticator:d,onAddAuthenticator:m,onDismiss:u}));case k.CONFIRM_ENABLE:return a||(a=n.createElement(A,{onDone:u,userHasWebAuthnPlatformAuthenticator:d}));case k.ERROR:return s||(s=n.createElement(b,{onDone:u}));case k.NONE:default:return null}}),null)};var L=a(889959)},770823:(e,t,a)=>{"use strict";a.d(t,{Sl:()=>i,i_:()=>l,oz:()=>d,rD:()=>p,nv:()=>m,pg:()=>u});var n=a(616274);const i=async()=>await n.C.disableWebAuthnAuthentication();var s=a(238250),r=a(889959),o=a(611066);const l=async e=>{if(!e||!e.success)throw new Error("WebAuthn authentication - Init Enable Result missing");const{publicKeyOptions:t,webAuthnType:a}=e.response;let i;switch(a){case s.WebAuthnCallTypes.CREATE:i=await(async e=>{const t=await(0,r.G)(e),a=(0,o.Sq)(),i=s.WebAuthnCallTypes.CREATE;return{success:(await n.C.enableWebAuthnAuthentication({authenticationType:i,credential:t,isRoaming:a})).success,data:{authenticationType:i,isRoaming:a}}})(t);break;case s.WebAuthnCallTypes.GET:i=await(async e=>{const t=await(0,r.p)(e),a=s.WebAuthnCallTypes.GET;return{success:(await n.C.enableWebAuthnAuthentication({authenticationType:a,credential:t})).success,data:{authenticationType:a}}})(t);break;default:i={success:!1}}if(!i.success)throw new Error("WebAuthn authentication - Enable call on Carbon failed");return i};var c=a(745268);const d=async()=>{const e=(0,c.Me)();if(!e)throw new Error("WebAuthn Authentication Enable cannot be started as extension Id is missing");const t=await n.C.initEnableWebAuthnAuthentication({relyingPartyId:e});if(!t.success)throw new Error("WebAuthn Authentication Enable cannot be completed as init was not possible");return t},u=async e=>await n.C.removeWebAuthnAuthenticator({credentialId:e}),m=async(e,t,a)=>{if(!e||!e.success)throw new Error("WebAuthn authentication - Init Open Sesion Result missing");const{publicKeyOptions:i}=e.response,s=await(0,r.p)(i,a),o=e.response.authenticatorsInfo.find((e=>e.credentialId===s.id)),l=await n.C.openSessionWithWebAuthnAuthenticator({credential:s,login:t,isRoamingAuthenticator:o?.isRoaming});if(!l.success)throw new Error("WebAuthn authentication - Enable call on Carbon failed");return l},p=async e=>{const t=(0,c.Me)();if(!t)throw new Error("WebAuthn Authentication init Open Session cannot be started as extension Id is missing");const a=await n.C.initOpenSessionWithWebAuthnAuthenticator({relyingPartyId:t,login:e});if(!a.success)throw new Error("WebAuthn Authentication Open Session cannot be completed as init was not possible");return a}},832070:e=>{e.exports={"--dashlane-credentials-grid-collapsing-duration":"300"}},593765:e=>{e.exports={"--dashlane-secure-notes-icon-lock-color":"rgb(255, 255, 255)","--dashlane-secure-notes-icon-sheet-color":"rgba(255, 255, 255, 0.7)","--dashlane-secure-notes-icon-background-blue":"rgb(91, 159, 217)","--dashlane-secure-notes-icon-background-purple":"rgb(184, 111, 209)","--dashlane-secure-notes-icon-background-pink":"rgb(255, 175, 220)","--dashlane-secure-notes-icon-background-red":"rgb(226, 98, 77)","--dashlane-secure-notes-icon-background-brown":"rgb(169, 130, 89)","--dashlane-secure-notes-icon-background-green":"rgb(155, 174, 38)","--dashlane-secure-notes-icon-background-orange":"rgb(250, 147, 67)","--dashlane-secure-notes-icon-background-yellow":"rgb(255, 197, 102)","--dashlane-secure-notes-icon-background-gray":"rgb(113, 113, 113)"}},385462:e=>{e.exports={"--dashlane-credentials-website-icon-border":"hsl(0, 0%, 73%)","--dashlane-credentials-header-height":"72px","--dashlane-credentials-table-header-height":"60px","--sidemenu-collapsed-width":"48px","--sidemenu-uncollapsed-min-width":"320px","--sidemenu-uncollapsed-max-width":"400px","--sidemenu-transition-duration":"500ms","--account-panel-width":"360px","--account-panel-animation-duration":"200ms","--account-panel-animation-easing":"ease-out","--edit-panel-width":"640px","--edit-panel-animation-duration-appear":"200ms","--edit-panel-animation-duration-enter":"200ms","--edit-panel-animation-duration-leave":"200ms","--edit-panel-animation-easing":"linear","--edit-panel-close-action-labels-spacing":"4px","--edit-panel-actions-animation-easing":"ease","--transition-duration-fast":"200ms","--transition-duration-slow":"300ms","--transition-duration-arriving":"400ms","--transition-duration-leaving":"350ms","--exponent-in-easing":"cubic-bezier(0.87, 0, 0.93, 0.5)","--exponent-out-easing":"cubic-bezier(0.03, 0.85, 0.34, 1)","--exponent-in-out-easing":"cubic-bezier(0.43, 0.01, 0, 1)","--bounce-in-easing":"cubic-bezier(0.175, 0.885, 0.32, 1.45)","--box-shadow-values":"0 16px 32px rgba(0, 0, 0, 0.32)","--icon-size-default":"40px"}},9072:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={row:"row--IVIawcvdBd",cellsWrapper:"cellsWrapper--HOjG5vPRSt",actionsWrapper:"actionsWrapper--ER5Ws1ORhO",link:"link--cY8dzyaixe",selected:"selected--NYsdM4B8Z4",cell:"cell--Fd_GTGE84E",cellLabel:"cellLabel--G0Il3_dFC2",cellOnClick:"cellOnClick--TDZdCmvheo"}},524853:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={container:"container--Tp_HU_mHY8",parentSlider:"parentSlider--NLHdZC0WwL",parentSliderOpen:"parentSliderOpen--qGogfteLyT"}},447157:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={container:"container--B_HkT2QqGt",row:"row--hK5euQ4rcO",rowLeft:"rowLeft--mJMgH9BZvF",rowActive:"rowActive--A2l9vJGWrO",rowDefault:"rowDefault--pswmhIR80K",name:"name--jr9PZdNmrE",spacedIcon:"spacedIcon--BlxzxBXWSb"}},802001:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("defs",{key:0},n.createElement("radialGradient",{cx:"25.967%",cy:"20.752%",fx:"25.967%",fy:"20.752%",r:"62.196%",id:"a"},[n.createElement("stop",{stopColor:"#72C7EF",offset:"0%",key:0}),n.createElement("stop",{stopColor:"#1997D5",offset:"100%",key:1})])),n.createElement("g",{fill:"none",fillRule:"evenodd",key:1},[n.createElement("path",{fill:"url(#a)",d:"M0 0h40v30H0z",key:0}),n.createElement("path",{d:"m3.606 11.774-.77-1.888-.764 1.888h1.534Zm16.949-.751a1.036 1.036 0 0 1-.556.097h-1.373v-1.051h1.384c.182-.015.365.015.533.085a.43.43 0 0 1 .236.419.485.485 0 0 1-.224.45Zm9.741.751-.777-1.888-.773 1.888h1.55ZM12.14 13.82h-1.15v-3.715L9.36 13.82h-.993l-1.634-3.715v3.715h-2.29l-.426-1.056h-2.34l-.438 1.056H.017L2.03 9.08H3.7l1.909 4.485V9.08h1.834l1.47 3.213 1.352-3.213h1.871v4.736l.004.002Zm4.593 0h-3.759V9.08h3.755v.986h-2.631v.857h2.567v.972h-2.567v.945h2.631l.004.978Zm5.297-3.462a1.334 1.334 0 0 1-.792 1.263c.217.08.41.218.556.399.16.235.186.445.186.868v.93h-1.135v-.597c0-.286.027-.694-.177-.923-.164-.167-.414-.203-.82-.203h-1.222v1.723h-1.124V9.081h2.586c.567 0 .993.016 1.362.228.368.211.58.52.58 1.048Zm1.798 3.462h-1.147V9.08h1.147v4.738Zm13.307 0h-1.599l-2.127-3.555v3.555h-2.293l-.434-1.058h-2.339l-.425 1.056h-1.315c-.546 0-1.238-.121-1.63-.524-.391-.403-.6-.947-.6-1.809 0-.703.123-1.344.606-1.857.363-.378.932-.553 1.702-.553h1.088v1.015H26.71c-.41 0-.641.061-.866.285-.191.2-.323.572-.323 1.073 0 .502.1.873.31 1.113.172.187.487.244.782.244h.505l1.577-3.723h1.684l1.91 4.485V9.08H34l1.976 3.299V9.081h1.152v4.736l.006.002Zm-37.13.93h1.921l.433-1.052h.969l.425 1.052h3.779v-.805l.338.807h1.96l.338-.82v.816h9.393V13.02h.181c.128 0 .165.016.165.229v1.498h4.857v-.401c.56.28 1.179.418 1.804.403h2.044l.437-1.052h.968l.426 1.052h3.938v-1l.595 1h3.156V8.137h-3.12v.78l-.443-.78h-3.204v.78l-.4-.78h-4.33c-.724 0-1.36.102-1.874.386v-.386h-2.989v.386c-.328-.286-.773-.386-1.277-.386H9.591L8.86 9.851l-.752-1.714H4.67v.78l-.372-.78H1.362L0 11.28v3.466l.006.003Zm39.988 3.491h-2.05a.774.774 0 0 0-.455.086.37.37 0 0 0-.165.342.357.357 0 0 0 .246.352c.14.043.286.06.432.053l.609.017c.614.016 1.025.122 1.277.382.04.034.075.074.104.117l.002-1.349Zm-.002 3.125c-.272.401-.805.605-1.524.605h-2.17v-1.015h2.161c.214 0 .365-.029.455-.117a.417.417 0 0 0 .134-.309.39.39 0 0 0-.142-.313.564.564 0 0 0-.396-.106c-1.055-.035-2.371.033-2.371-1.465 0-.687.432-1.41 1.612-1.41h2.24v-.943h-2.074c-.628 0-1.083.151-1.407.387v-.387h-3.08c-.493 0-1.07.123-1.344.387v-.387H26.59v.387c-.437-.317-1.176-.387-1.516-.387H21.45v.387c-.346-.337-1.115-.387-1.584-.387H15.81l-.928 1.011-.87-1.011H7.954v6.61h5.945l.956-1.027.9 1.027h3.666V21.35h.36c.487.007 1.06-.013 1.56-.233v1.784h3.023V21.18h.142c.186 0 .204.007.204.195v1.527h9.193c.583 0 1.193-.15 1.53-.428v.428h2.91c.606 0 1.198-.085 1.648-.304v-1.231h.001Zm-4.486-1.893c.218.228.336.516.336 1 0 1.018-.632 1.494-1.766 1.494H31.89v-1.016h2.18a.656.656 0 0 0 .46-.117.421.421 0 0 0-.008-.621.588.588 0 0 0-.4-.106c-1.051-.036-2.368.033-2.368-1.466 0-.687.426-1.41 1.607-1.41h2.254v1.009h-2.058a.756.756 0 0 0-.451.086.398.398 0 0 0 .077.694c.141.043.289.06.436.053l.606.017c.611.017 1.03.123 1.281.383Zm-10.143-.286a1.07 1.07 0 0 1-.555.097h-1.359V18.22h1.385c.183-.017.367.013.536.086a.45.45 0 0 1 .232.428.512.512 0 0 1-.235.446l-.004.007Zm.68.59c.216.078.407.215.55.397.158.232.181.447.185.865v.938h-1.134v-.593c0-.285.027-.707-.182-.927-.165-.17-.414-.21-.824-.21h-1.189v1.73h-1.135v-4.743h2.596c.568 0 .983.026 1.353.225.38.206.607.617.578 1.051a1.328 1.328 0 0 1-.796 1.26l-.003.007Zm1.418-2.536h3.751v.98h-2.627v.858h2.568v.967h-2.568v.943h2.633v.982h-3.753l-.004-4.73Zm-7.58 2.182h-1.452v-1.206h1.466c.405 0 .688.167.688.582 0 .414-.27.624-.701.624Zm-2.57 2.12-1.727-1.93 1.726-1.869v3.799Zm-4.458-.556h-2.764v-.943h2.468v-.967h-2.468v-.857h2.818l1.23 1.38-1.284 1.387Zm8.937-2.19c0 1.316-.975 1.587-1.958 1.587h-1.403v1.589h-2.185L14.858 20.4l-1.438 1.572H8.967v-4.739h4.52l1.384 1.553 1.43-1.553h3.591c.894 0 1.895.249 1.895 1.56l.002.003Z",fill:"#FFF",key:1})])])}i.defaultProps={width:"40",height:"30"},e.exports=i,i.default=i},864520:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("g",{clipPath:"url(#a)",key:0},[n.createElement("path",{d:"m16 24 20-6v6H16Z",fill:"#FD6020",key:0}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.607 8.996c1.094 0 1.695.506 1.695 1.461.055.73-.437 1.349-1.093 1.461l1.476 2.08h-1.148l-1.258-2.024h-.11v2.024h-.928V8.995h1.366ZM30.17 11.3h.273c.602 0 .875-.281.875-.787 0-.45-.273-.73-.875-.73h-.273V11.3Zm-4.154 2.697h2.624v-.842h-1.695v-1.35h1.64v-.842h-1.64V9.839h1.695v-.843h-2.624v5.002Zm-2.733-1.63-1.258-3.371h-.983l2.022 5.114h.492l2.023-5.114h-.984l-1.312 3.372Zm-11.099-.842c0 1.405 1.094 2.585 2.46 2.585.438 0 .82-.112 1.203-.281v-1.124c-.273.337-.656.562-1.093.562-.875 0-1.586-.674-1.586-1.574v-.112A1.664 1.664 0 0 1 14.7 9.839c.437 0 .875.225 1.148.562V9.277c-.328-.225-.765-.281-1.148-.281-1.421-.113-2.515 1.068-2.515 2.529Zm-1.694-.618c-.547-.225-.71-.338-.71-.619.054-.337.327-.618.655-.562.273 0 .547.169.765.394l.493-.675c-.383-.337-.875-.562-1.367-.562-.766-.056-1.422.562-1.476 1.35v.055c0 .675.273 1.068 1.148 1.35.218.055.437.168.656.28a.594.594 0 0 1 .273.506c0 .393-.328.73-.656.73h-.055a1.08 1.08 0 0 1-.984-.674l-.601.618c.328.618.984.956 1.64.956.875.056 1.585-.619 1.64-1.518v-.168c-.054-.675-.328-1.012-1.421-1.461Zm-3.17 3.09h.929v-5h-.93v5.002ZM3 8.995h1.64c1.312.056 2.35 1.18 2.296 2.53 0 .73-.328 1.404-.875 1.91-.492.393-1.093.618-1.694.562H3V8.994Zm1.204 4.16c.437.057.93-.112 1.257-.393.328-.337.492-.787.492-1.292 0-.45-.164-.9-.492-1.237-.328-.28-.82-.45-1.257-.393H3.93v3.316h.274Z",fill:"#000",key:1}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.976 8.8c-1.4 0-2.576 1.151-2.576 2.648 0 1.44 1.12 2.648 2.576 2.706 1.456.057 2.576-1.152 2.632-2.648-.056-1.497-1.176-2.706-2.632-2.706Z",fill:"#FD6020",key:2})]),n.createElement("path",{d:"M2 1h32v-2H2v2Zm33 1v20h2V2h-2Zm-1 21H2v2h32v-2ZM1 22V2h-2v20h2Zm1 1a1 1 0 0 1-1-1h-2a3 3 0 0 0 3 3v-2Zm33-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2ZM34 1a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2ZM2-1a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1v-2Z",fill:"#000",fillOpacity:".1",key:1}),n.createElement("defs",{key:2},n.createElement("clipPath",{id:"a"},n.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h32a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Z",fill:"#fff"})))])}i.defaultProps={width:"36",height:"24",fill:"none"},e.exports=i,i.default=i},352615:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h32a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Z",fill:"#000",key:0}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a7.106 7.106 0 0 1-4.596 1.672c-3.912 0-7.084-3.134-7.084-7s3.172-7 7.084-7c1.754 0 3.358.63 4.596 1.672a7.107 7.107 0 0 1 4.595-1.672c3.912 0 7.084 3.134 7.084 7s-3.172 7-7.084 7a7.106 7.106 0 0 1-4.595-1.672Z",fill:"#ED0006",key:1}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a6.95 6.95 0 0 0 2.489-5.328 6.951 6.951 0 0 0-2.49-5.328 7.107 7.107 0 0 1 4.596-1.672c3.912 0 7.084 3.134 7.084 7s-3.172 7-7.084 7a7.106 7.106 0 0 1-4.595-1.672Z",fill:"#F9A000",key:2}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.18 17.358a6.95 6.95 0 0 0 2.489-5.328 6.95 6.95 0 0 0-2.49-5.328 6.95 6.95 0 0 0-2.488 5.328 6.95 6.95 0 0 0 2.489 5.328Z",fill:"#FF5E00",key:3})])}i.defaultProps={width:"36",height:"24",fill:"none"},e.exports=i,i.default=i},651615:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("path",{fill:"#1434cb",d:"M0 0h40v30H0z",key:0}),n.createElement("path",{fill:"#fff",fillRule:"nonzero",d:"m19.83 9.548-2.339 10.933h-2.828l2.34-10.933h2.827Zm11.899 7.059 1.488-4.105.857 4.105h-2.345Zm3.155 3.874H37.5L35.217 9.548h-2.414c-.543 0-1.001.316-1.204.802l-4.244 10.131h2.97l.589-1.633h3.629l.341 1.633Zm-7.381-3.57c.012-2.885-3.99-3.044-3.963-4.333.009-.392.382-.809 1.2-.916.405-.053 1.522-.094 2.788.489l.497-2.318a7.602 7.602 0 0 0-2.646-.485c-2.795 0-4.762 1.486-4.779 3.614-.018 1.574 1.404 2.452 2.476 2.975 1.102.536 1.472.88 1.468 1.359-.008.734-.88 1.057-1.694 1.07-1.421.022-2.246-.385-2.904-.69l-.512 2.395c.66.303 1.88.568 3.145.581 2.971 0 4.914-1.468 4.924-3.741M15.789 9.548l-4.582 10.933h-2.99l-2.255-8.725c-.137-.538-.256-.734-.672-.961-.68-.369-1.802-.714-2.79-.929l.067-.318h4.812c.614 0 1.165.408 1.305 1.115l1.19 6.326 2.944-7.441h2.971Z",key:1})])}i.defaultProps={width:"40",height:"30",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"}},e.exports=i,i.default=i},860964:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("path",{d:"m3.5 16.5 13-13m0 13-13-13",stroke:"#9FAEB1",strokeLinecap:"round",strokeLinejoin:"round"}))}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},22827:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("path",{d:"M4 9h2v2H4V9Zm5 0h2v2H9V9Zm7 0h-2v2h2V9Z",fill:"#0E353D"}))}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},469152:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 9.5h-1V8H11v4H9.5V9.5Z",fill:"#0E353D",key:0}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 16.5H4.5v-13h7.474L15.5 6.904V18H17V6.267L12.58 2H3v16h11l-1-1.5Z",fill:"#0E353D",key:1})])}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},277873:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("rect",{width:"48",height:"32",rx:"4",key:0}),n.createElement("path",{d:"M6 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm11 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm17 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-9 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-16.5 5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1Zm12 3h-19a.5.5 0 0 0 0 1h19a.5.5 0 0 0 0-1Z",fill:"#fff",fillOpacity:".6",key:1})])}i.defaultProps={width:"48",height:"32",fill:"#F29100"},e.exports=i,i.default=i},438530:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.5 31h-30V9h30v22Zm-3-12v9h-24v-9h5.357l-3-3H8.5v-4h24v4H16.857v3H32.5Z",fill:"#fff"}))}i.defaultProps={width:"41",height:"40",fill:"none"},e.exports=i,i.default=i},520860:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("rect",{width:"48",height:"32",rx:"4",fill:"#F5F5F5",key:0}),n.createElement("rect",{x:".5",y:".5",width:"47",height:"31",rx:"3.5",stroke:"#191919",strokeOpacity:".1",key:1}),n.createElement("path",{d:"M6 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm11 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm17 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-9 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-16.5 5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1Zm12 3h-19a.5.5 0 0 0 0 1h19a.5.5 0 0 0 0-1Z",fill:"#191919",fillOpacity:".1",key:2})])}i.defaultProps={width:"48",height:"32",fill:"none"},e.exports=i,i.default=i},752805:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.018 7.248c0-.54-.287-1.101-.774-1.54C10.76 5.271 10.122 5 9.51 5c-.65 0-1.293.217-1.762.582-.463.36-.74.848-.735 1.414v.007L7 9h7v6H5V9h1.54L6 8.997 6.012 7c-.006-.932.461-1.693 1.121-2.207C7.788 4.283 8.65 4 9.509 4c.895 0 1.763.387 2.405.965.64.578 1.104 1.39 1.104 2.283v1.744h-1V7.248ZM13 10H6v4h5l1 1h1.006v-1H13v-4Z",fill:"#0E353D"}))}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},931926:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,[n.createElement("path",{d:"M8.833 9.99a1.5 1.5 0 0 1 0-2.98c.168-.358.394-.681.667-.96a2.5 2.5 0 1 0 0 4.9 3.508 3.508 0 0 1-.667-.96Z",fill:"#0E353D",key:0}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15h8s-.021-.45-.27-1c-.396-.873-1.365-2-3.73-2-2.366 0-3.334 1.127-3.73 2-.25.55-.27 1-.27 1Zm1.425-1c.338-.45 1.03-1 2.575-1 1.545 0 2.237.55 2.575 1h-5.15Z",fill:"#0E353D",key:1}),n.createElement("path",{d:"M5.237 14c.31-.784 1.027-1.774 2.671-1.967a4.782 4.782 0 0 0-.602.798 5.094 5.094 0 0 0-.263.496c-.34.193-.55.443-.693.673h.433a5.635 5.635 0 0 0-.207.954L6.57 15H5s.019-.45.237-1ZM13.5 8.5c0 .371-.135.71-.358.972l.709.709a2.5 2.5 0 1 0-.767.573L12.3 9.97a1.5 1.5 0 1 1 1.2-1.47Z",fill:"#0E353D",key:2})])}i.defaultProps={width:"20",height:"20",fill:"none"},e.exports=i,i.default=i},146799:(e,t,a)=>{var n=a(696832);function i(e){return n.createElement("svg",e,n.createElement("g",{fill:"#0e353d"},[n.createElement("path",{clipRule:"evenodd",d:"M12 17.257a5.257 5.257 0 1 0 0-10.514 5.257 5.257 0 0 0 0 10.514zm0 1.543c3.787 0 6.857-3.013 6.857-6.8a6.857 6.857 0 1 0-13.714 0c0 3.787 3.07 6.8 6.857 6.8z",fillRule:"evenodd",key:0}),n.createElement("path",{d:"M9.429 22.286h5.142L13.286 24h-2.572zm0-3.976h5.142v2.262H9.43zm11.999-8.024H24V12h-2.571zM12.857 0v2.571h-1.714V0zM2.808 4.221l1.886 1.886 1.414-1.414-1.885-1.886zm18.378 0-1.885 1.886-1.414-1.414 1.885-1.886zM0 10.286h2.571V12H0z",key:1})]))}i.defaultProps={fill:"none",height:"20",viewBox:"0 0 24 24",width:"20"},e.exports=i,i.default=i},32046:e=>{var t={encodeBase64:function(e,a){e||(e="");var n,i,s,r,o,l,c,d,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=[],p="";if((l=(c=(a=void 0!==a&&a)?t.encodeUTF8(e):e).length%3)>0)for(;l++<3;)p+="=",c+="\0";for(l=0;l<c.length;l+=3)i=(n=c.charCodeAt(l)<<16|c.charCodeAt(l+1)<<8|c.charCodeAt(l+2))>>18&63,s=n>>12&63,r=n>>6&63,o=63&n,m[l/3]=u.charAt(i)+u.charAt(s)+u.charAt(r)+u.charAt(o);return(d=m.join("")).slice(0,d.length-p.length)+p},decodeBase64:function(e,a){e||(e="");var n,i,s,r,o,l,c,d,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=[];d=(a=void 0!==a&&a)?t.decodeUTF8(e):e;for(var p=0;p<d.length;p+=4)n=(l=u.indexOf(d.charAt(p))<<18|u.indexOf(d.charAt(p+1))<<12|(r=u.indexOf(d.charAt(p+2)))<<6|(o=u.indexOf(d.charAt(p+3))))>>>16&255,i=l>>>8&255,s=255&l,m[p/4]=String.fromCharCode(n,i,s),64==o&&(m[p/4]=String.fromCharCode(n,i)),64==r&&(m[p/4]=String.fromCharCode(n));return c=m.join(""),a?t.decodeUTF8(c):c},encodeUTF8:function(e){return e||(e=""),(e=e.replace(/[\u0080-\u07ff]/g,(function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)}))).replace(/[\u0800-\uffff]/g,(function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)}))},decodeUTF8:function(e){return e||(e=""),(e=e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,(function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)}))).replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,(function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)}))},convertToHex:function(e){e||(e="");for(var t="",a="",n=0;n<e.length;n++)t+=1==(a=e.charCodeAt(n).toString(16)).length?"0"+a:a;return t},convertFromHex:function(e){e||(e="");for(var t="",a=0;a<e.length;a+=2)t+=String.fromCharCode(parseInt(e.substring(a,a+2),16));return t},stripLineFeeds:function(e){return e||(e=""),e.replace(/\n/g,"").replace(/\r/g,"")},toByteArray:function(e){e||(e="");for(var t=[],a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t},fragment:function(e,t,a){if(e||(e=""),!t||t>=e.length)return e;a||(a="\n");for(var n="",i=0;i<e.length;i+=t)n+=e.substr(i,t)+a;return n},formatHex:function(e,t){e||(e=""),t||(t=45);for(var a="",n=e.toLowerCase(),i=0;i<n.length;i+=2)a+=n.substr(i,2)+":";return this.fragment(a,t)},byteArray2String:function(e){for(var t="",a=0;a<e.length;a++)t+=String.fromCharCode(e[a]);return t}};e.exports=t},292210:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ParsedURL:()=>c});var n=a(911590),i=a(427421);const s=/^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$/,r=e=>!e||(e=>e.startsWith(".")||e.endsWith("."))(e)?{etld:"",mainDomain:"",subdomain:""}:"localhost"===e?{etld:"",mainDomain:e,subdomain:""}:(e=>s.test(e))(e)?(e=>({etld:"",mainDomain:e,subdomain:""}))(e):(e=>e.startsWith("["))(e)?(e=>({etld:"",mainDomain:e.slice(1,-1),subdomain:""}))(e):(e=>{const t=function(e){if(!e)return"";const t=function(e){const t=[];let a=e.split(".");for(;1!==a.length;)a=a.slice(1),t.push(a.join("."));return t}(e);if(0===t.length)return"";if(i.x.exception.has(e))return t[0];for(let e=0;e<t.length;e++){const a=t[e];if(i.x.exception.has(a))return t[e+1];if(i.x.basic.has(a))return a;const n=t[e+1];if(i.x.wildcard.has(n))return a}return""}(e),a=((e,t)=>(t&&(e=e.slice(0,-t.length-1)),e.replace(/^www\./,"")))(e,t).split(".");return{etld:t,mainDomain:a[a.length-1]?a[a.length-1]:"",subdomain:a.length>1?a.slice(0,-1).join("."):""}})(e),o=/^[A-Za-z+\-.]+:\/\//,l=e=>o.test(e);class c{constructor(e){this.appendETLD=e=>this.etld?`${e}.${this.etld}`:e;const t=(e=>{const t={userInput:"",hash:"",host:"",hostname:"",href:"",origin:"",password:"",pathname:"",port:"",protocol:"",search:"",username:""};if(!e)return t;const a=e;l(e)||(e=`https://${e}`);try{const t=new URL((e=>e.endsWith(".")?e.slice(0,-1):e)(e));return{hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,password:t.password,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,username:t.username,userInput:a}}catch(e){return t}})(e="string"==typeof e?e:"");this.isUnicode=e!==(0,n.H9)(e),this.hostname=t.hostname,this.host=t.host,this.piiStrippedURL=(e=>{if(!e)return"";if(!["http:","https:"].includes(e.protocol))return e.href;try{return(l(e.userInput)?e.origin:e.origin.split("://")[1])+(()=>{if("/"!==e.pathname)return e.pathname;const t=e.userInput.split(e.host);return t.length>1&&t[1].startsWith("/")?e.pathname:""})()+e.hash}catch(e){return""}})(t),this.search=t.search,this.hasHTTPProtocol=(e=>e.startsWith("http://")||e.startsWith("https://"))(e);const{etld:a,mainDomain:i,subdomain:s}=r(this.hostname);this.etld=a,this.rootDomainName=i,this.subdomain=s}getRootDomain(){const e=this.appendETLD(this.rootDomainName);return this.isUnicode?(0,n.xX)(e):e}getRootDomainName(){return this.isUnicode?(0,n.xX)(this.rootDomainName):this.rootDomainName}getSubdomain(){return this.isUnicode?(0,n.xX)(this.subdomain):this.subdomain}getHostname(){return this.isUnicode?(0,n.xX)(this.hostname):this.hostname}getHost(){return this.isUnicode?(0,n.xX)(this.host):this.host}getETLD(){return this.isUnicode?(0,n.xX)(this.etld):this.etld}getPIIStrippedURL(){if(this.isUnicode){const e=this.piiStrippedURL.split("://");return`${e[0]}://${(0,n.xX)(e[1])}`}return this.piiStrippedURL}getSearch(){return this.isUnicode?(0,n.xX)(this.search):this.search}isUrlValid(){return this.hasHTTPProtocol||""!==this.etld}}}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var a=l[e]={id:e,loaded:!1,exports:{}};return o[e].call(a.exports,a,a.exports,c),a.loaded=!0,a.exports}c.m=o,c.amdO={},e=[],c.O=(t,a,n,i)=>{if(!a){var s=1/0;for(d=0;d<e.length;d++){for(var[a,n,i]=e[d],r=!0,o=0;o<a.length;o++)(!1&i||s>=i)&&Object.keys(c.O).every((e=>c.O[e](a[o])))?a.splice(o--,1):(r=!1,i<s&&(s=i));if(r){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,n,i]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);c.r(i);var s={};t=t||[null,a({}),a([]),a(a)];for(var r=2&n&&e;"object"==typeof r&&!~t.indexOf(r);r=a(r))Object.getOwnPropertyNames(r).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,c.d(i,s),i},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,a)=>(c.f[a](e,t),t)),[])),c.u=e=>(6461===e?"device_limit_flow_animation":e)+".js",c.miniCssF=e=>e+".css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="@dashlane/leeloo:",c.l=(e,t,a,s)=>{if(n[e])n[e].push(t);else{var r,o;if(void 0!==a)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+a){r=u;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.setAttribute("data-webpack",i+a),r.src=e,0!==r.src.indexOf(window.location.origin+"/")&&(r.crossOrigin="anonymous")),n[e]=[t];var m=(t,a)=>{r.onerror=r.onload=null,clearTimeout(p);var i=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(a))),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),o&&document.head.appendChild(r)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),c.j=8630,c.p="/",s=e=>new Promise(((t,a)=>{var n=c.miniCssF(e),i=c.p+n;if(((e,t)=>{for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var i=(r=a[n]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){var r;if((i=(r=s[n]).getAttribute("data-href"))===e||i===t)return r}})(n,i))return t();((e,t,a,n)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=s=>{if(i.onerror=i.onload=null,"load"===s.type)a();else{var r=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,i.parentNode.removeChild(i),n(l)}},i.href=t,0!==i.href.indexOf(window.location.origin+"/")&&(i.crossOrigin="anonymous"),document.head.appendChild(i)})(e,i,t,a)})),r={8630:0},c.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{74:1,631:1,1634:1,1751:1,1756:1,1808:1,1973:1,2278:1,2890:1,3123:1,3457:1,3466:1,3619:1,4016:1,4848:1,4954:1,5283:1,5538:1,6160:1,6323:1,7252:1,7425:1,7690:1,7791:1,8287:1,8425:1,9398:1,9571:1,9681:1,9911:1}[e]&&t.push(r[e]=s(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{var e={8630:0};c.f.j=(t,a)=>{var n=c.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else if(7791!=t){var i=new Promise(((a,i)=>n=e[t]=[a,i]));a.push(n[2]=i);var s=c.p+c.u(t),r=new Error;c.l(s,(a=>{if(c.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",r.name="ChunkLoadError",r.type=i,r.request=s,n[1](r)}}),"chunk-"+t,t)}else e[t]=0},c.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[s,r,o]=a,l=0;if(s.some((t=>0!==e[t]))){for(n in r)c.o(r,n)&&(c.m[n]=r[n]);if(o)var d=o(c)}for(t&&t(a);l<s.length;l++)i=s[l],c.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return c.O(d)},a=globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),c.nc=void 0;var d=c.O(void 0,[2410,3005,2204,4695,4162,3557,557,8114,6505,3762,8440,5552,9342,1903,9173,7906,2749,9233,7978,1399,6112,2356,9072],(()=>c(421123)));d=c.O(d)})();