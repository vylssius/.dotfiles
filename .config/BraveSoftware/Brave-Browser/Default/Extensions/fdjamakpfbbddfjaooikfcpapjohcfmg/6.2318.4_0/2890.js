"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[2890],{162886:(e,t,n)=>{n.d(t,{Z:()=>c,h:()=>s});var r=n(708608),i=n(696832),a=n(765505),o=n(630886),l=n(174071);const s=({closeConfirmDeleteDialog:e,onDeleteConfirm:t,translations:n})=>{const{confirmDeleteSubtitle:a,confirmDeleteTitle:l,confirmDeleteDismiss:s,confirmDeleteConfirm:c}=n;return i.createElement(o.o,{isOpen:!0,disableBackgroundPanelClose:!0,footer:i.createElement(r.cNS,{primaryButtonTitle:c,primaryButtonOnClick:t,primaryButtonProps:{id:"deletion-dialog-confirm-button"},secondaryButtonTitle:s,secondaryButtonOnClick:e,secondaryButtonProps:{autoFocus:!0,id:"deletion-dialog-dismiss-button"},intent:"danger"}),onRequestClose:e,title:l},a)},c=({reason:e,translations:t,goToSharingAccess:n,closeCantDeleteDialog:s})=>{const c=((e,t)=>{const{groupSharingTitle:n,lastAdminTitle:r,genericErrorTitle:i}=e;switch(t){case a.J.LastAdmin:return r;case a.J.GroupSharing:return n;case a.J.Generic:return i;default:return(0,l.U)(t)}})(t,e),d=((e,t)=>{const{groupSharingSubtitle:n,lastAdminSubtitle:r,genericErrorSubtitle:i}=e;switch(t){case a.J.LastAdmin:return r;case a.J.GroupSharing:return n;case a.J.Generic:return i;default:return(0,l.U)(t)}})(t,e);return i.createElement(o.o,{isOpen:!0,showCloseIcon:!0,disableBackgroundPanelClose:!0,onRequestClose:s,title:c,footer:e===a.J.LastAdmin?i.createElement(r.cNS,{primaryButtonTitle:t.lastAdminActionLabel,primaryButtonOnClick:n,intent:"danger"}):null},d)}},765505:(e,t,n)=>{let r;n.d(t,{J:()=>r}),function(e){e[e.LastAdmin=0]="LastAdmin",e[e.GroupSharing=1]="GroupSharing",e[e.Generic=2]="Generic"}(r||(r={}))},516567:(e,t,n)=>{n.r(t),n.d(t,{Connected:()=>v});var r=n(616274),i=n(704841),a=n(611792),o=n(696832),l=n(526849),s=n(453576),c=n(511494),d=n(708608),u=n(987364),m=n(446389),p=n(190481),g=n(959074),f=n(762863),_=n(483296),h=n(162886),C=n(210215);const b=["addressFull","addressName","building","city","digitCode","door","floor","id","linkedPhone","localeFormat","receiver","spaceId","stairs","state","stateLevel2","stateNumber","streetName","streetNumber","streetTitle","zipCode"];var D=n(223836);const S=e=>`{${e.match.params.uuid}}`,P={item:{live:r.C.liveAddress,liveParam:S,query:r.C.getAddress,queryParam:S},phones:{live:r.C.livePhones,liveParam:D.C,query:r.C.getPhones,queryParam:D.u}},y={strategies:P},v=(0,i.$)((0,a.i)((({lee:e,match:t,item:n,phones:i})=>{var a,D,S;const P=(0,o.createRef)(),[y,v]=o.useState(!1),[E,A]=o.useState(!1),{translate:T}=(0,m.Z)(),{routes:k}=(0,g.Xo)();o.useEffect((()=>{(0,u.N)(c.PageView.ItemAddressDetails)}),[]);const w=()=>{(0,u.N)(c.PageView.ItemPersonalInfoList),(0,p.uX)(k.userPersonalInfo)},B=()=>{w()},I=Boolean(t.params?.uuid),N=null!=(a=n?.addressName)?a:"",G=T("webapp_personal_info_edition_header_address_description"),J=o.createElement(_.ZP,{iconSize:_.Jh.headerEditPanelIcon,iconType:_.Tu.address}),L={confirmDeleteConfirm:T("webapp_personal_info_edition_delete_confirm"),confirmDeleteDismiss:T("webapp_personal_info_edition_delete_dismiss"),confirmDeleteSubtitle:T("webapp_personal_info_edition_delete_subtitle"),confirmDeleteTitle:T("webapp_personal_info_edition_delete_title_address")},O=s.Country[e.globalState.locale.country],V=n?{...(0,l.pick)(b,n),localeFormat:null!=(D=null!=(S=n?.localeFormat)?S:O)?D:s.Country.US}:null,q={phones:i.items};return o.createElement(f.zI,{isViewingExistingItem:I,itemHasBeenEdited:y,onNavigateOut:B,onSubmit:async()=>{if(null==(e=P.current?.isFormValid())||!e||!n)return;var e;const t=null!=(i=P.current?.getValues())?i:null;var i;const a={kwType:"KWAddress",origin:s.SaveOrigin.MANUAL,content:{...t,id:n.id}};await r.C.savePersonalDataItem(a),B()},onClickDelete:()=>A(!0),ignoreCloseOnEscape:E,formId:"edit_address_panel",header:o.createElement(f.V9,{icon:J,iconBackgroundColor:d.O9T.dashGreen00,title:N,titleDescription:G})},V?o.createElement(C.k,{lee:e,currentValues:V,signalEditedValues:()=>v(!0),ref:P,additionalProps:q}):null,E?o.createElement(h.h,{closeConfirmDeleteDialog:()=>A(!1),onDeleteConfirm:()=>{n&&(r.C.removePersonalDataItem({id:n.id}),w())},translations:L}):null)}),y),P)}}]);