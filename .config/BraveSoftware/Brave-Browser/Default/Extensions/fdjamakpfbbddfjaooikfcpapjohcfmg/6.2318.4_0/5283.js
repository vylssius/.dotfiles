"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[5283],{162886:(e,t,i)=>{i.d(t,{Z:()=>d,h:()=>l});var n=i(708608),a=i(696832),o=i(765505),s=i(630886),r=i(174071);const l=({closeConfirmDeleteDialog:e,onDeleteConfirm:t,translations:i})=>{const{confirmDeleteSubtitle:o,confirmDeleteTitle:r,confirmDeleteDismiss:l,confirmDeleteConfirm:d}=i;return a.createElement(s.o,{isOpen:!0,disableBackgroundPanelClose:!0,footer:a.createElement(n.cNS,{primaryButtonTitle:d,primaryButtonOnClick:t,primaryButtonProps:{id:"deletion-dialog-confirm-button"},secondaryButtonTitle:l,secondaryButtonOnClick:e,secondaryButtonProps:{autoFocus:!0,id:"deletion-dialog-dismiss-button"},intent:"danger"}),onRequestClose:e,title:r},o)},d=({reason:e,translations:t,goToSharingAccess:i,closeCantDeleteDialog:l})=>{const d=((e,t)=>{const{groupSharingTitle:i,lastAdminTitle:n,genericErrorTitle:a}=e;switch(t){case o.J.LastAdmin:return n;case o.J.GroupSharing:return i;case o.J.Generic:return a;default:return(0,r.U)(t)}})(t,e),m=((e,t)=>{const{groupSharingSubtitle:i,lastAdminSubtitle:n,genericErrorSubtitle:a}=e;switch(t){case o.J.LastAdmin:return n;case o.J.GroupSharing:return i;case o.J.Generic:return a;default:return(0,r.U)(t)}})(t,e);return a.createElement(s.o,{isOpen:!0,showCloseIcon:!0,disableBackgroundPanelClose:!0,onRequestClose:l,title:d,footer:e===o.J.LastAdmin?a.createElement(n.cNS,{primaryButtonTitle:t.lastAdminActionLabel,primaryButtonOnClick:i,intent:"danger"}):null},m)}},765505:(e,t,i)=>{let n;i.d(t,{J:()=>n}),function(e){e[e.LastAdmin=0]="LastAdmin",e[e.GroupSharing=1]="GroupSharing",e[e.Generic=2]="Generic"}(n||(n={}))},130806:(e,t,i)=>{i.d(t,{Y:()=>g});var n=i(696832),a=i(453576),o=i(511494),s=i(762863),r=i(483296),l=i(190481),d=i(162886),m=i(616274),c=i(418402),u=i.n(c),h=i(987364),p=i(75032);const D={DELETE_CONFIRM:"webapp_personal_info_edition_delete_confirm",DELETE_DISMISS:"webapp_personal_info_edition_delete_dismiss",DELETE_SUBTITLE:"webapp_personal_info_edition_delete_subtitle"};function g(e){const{getItemTypeDescription:t,getDeleteTitle:i,getTitle:c,iconType:g,kwType:f,renderForm:y}=e;return class extends n.Component{constructor(...e){super(...e),this.form=(0,n.createRef)(),this.getFormValues=()=>{var e;return null!=(e=this.form.current?.getValues())?e:null},this.isFormValid=()=>{var e;return null!=(e=this.form.current?.isFormValid())&&e},this.state={hasDataBeenModified:!1,displayConfirmDeleteDialog:!1},this.componentDidMount=()=>{const e={[a.DataModelType.KWAddress]:o.PageView.ItemAddressDetails,[a.DataModelType.KWCompany]:o.PageView.ItemCompanyDetails,[a.DataModelType.KWEmail]:o.PageView.ItemEmailDetails,[a.DataModelType.KWIdentity]:o.PageView.ItemIdentityDetails,[a.DataModelType.KWPhone]:o.PageView.ItemPhoneDetails,[a.DataModelType.KWPersonalWebsite]:o.PageView.ItemWebsiteDetails};(0,h.N)(e[f])},this.showListView=()=>{(0,h.N)(o.PageView.ItemPersonalInfoList),(0,l.uX)(this.props.lee.routes.userPersonalInfo)},this.handleEditedForm=()=>this.setState({hasDataBeenModified:!0}),this.handleNavigateOut=()=>{this.showListView()},this.handleClickDelete=()=>this.setState({displayConfirmDeleteDialog:!0}),this.closeConfirmDeleteDialog=()=>this.setState({displayConfirmDeleteDialog:!1}),this.handleDeleteConfirm=()=>{const{item:e}=this.props;e?.id&&(m.C.removePersonalDataItem({id:e.id}),this.showListView())},this.handleSubmit=async()=>{const{item:e}=this.props;if(!e?.id)return;if(!this.isFormValid())return;const t=this.getFormValues(),i={kwType:f,origin:a.SaveOrigin.MANUAL,content:{...t,id:e.id}};await m.C.savePersonalDataItem(i),(0,p.au)(),this.showListView()},this.render=()=>{const{item:e,lee:{translate:a}}=this.props,{displayConfirmDeleteDialog:o,hasDataBeenModified:l}=this.state,m=Boolean(this.props.match.params?.uuid),h=e?c(e,a):"",p=i(a),f=t(a),C=n.createElement(r.ZP,{iconSize:r.Jh.headerEditPanelIcon,iconType:g}),E={confirmDeleteConfirm:a(D.DELETE_CONFIRM),confirmDeleteDismiss:a(D.DELETE_DISMISS),confirmDeleteSubtitle:a(D.DELETE_SUBTITLE),confirmDeleteTitle:p};return n.createElement(s.zI,{isViewingExistingItem:m,itemHasBeenEdited:l,onNavigateOut:this.handleNavigateOut,onSubmit:this.handleSubmit,onClickDelete:this.handleClickDelete,ignoreCloseOnEscape:o,formId:"edit_personalinfo_panel",header:n.createElement(s.V9,{icon:C,iconBackgroundColor:u()["--dash-green-00"],title:h,titleDescription:f})},e?y(this.props.lee,e,this.form,this.handleEditedForm):"",o?n.createElement(d.h,{closeConfirmDeleteDialog:this.closeConfirmDeleteDialog,onDeleteConfirm:this.handleDeleteConfirm,translations:E}):null)}}}}},634586:(e,t,i)=>{i.r(t),i.d(t,{Connected:()=>g});var n=i(616274),a=i(704841),o=i(611792),s=i(696832),r=i(307973),l=i(926458),d=i(130806),m=i(483296),c=i(3741);const u=(0,d.Y)({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_name"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_identity_description"),getTitle:e=>(0,c.kl)(e)||"",iconType:m.Tu.identity,kwType:"KWIdentity",renderForm:(e,t,i,n)=>{const a=(0,c.sG)(t.birthDate),o={birthDate:(0,r.Z)(a,"yyyy-MM-dd"),birthPlace:t.birthPlace,firstName:t.firstName,lastName2:t.lastName2,lastName:t.lastName,localeFormat:t.localeFormat,middleName:t.middleName,pseudo:t.pseudo,spaceId:t.spaceId,title:t.title};return s.createElement(l.P,{lee:e,currentValues:o,signalEditedValues:n,ref:i})}}),h=e=>`{${e.match.params.uuid}}`,p={item:{live:n.C.liveIdentity,liveParam:h,query:n.C.getIdentity,queryParam:h}},D={strategies:p},g=(0,a.$)((0,o.i)(u,D),p)}}]);