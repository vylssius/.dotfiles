"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[5538],{481159:(e,t,s)=>{s.d(t,{Z:()=>g});var a=s(696832),i=s(554712),l=s(383849),n=s.n(l),o=s(526849),r=s(769183),p=s(317894),d=s.n(p),h=s(585921),c=s(932954),u=s(793429);const m=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))};class g extends a.Component{constructor(e){super(e),this.field=void 0,this.handleChange=e=>{this.setState({selectionRangeStart:e.target.selectionStart,selectionRangeEnd:e.target.selectionEnd}),this.props.onChange&&this.props.onChange(e)},this.state={fieldHtmlId:(0,r.Z)(),selectionRangeStart:null,selectionRangeEnd:null}}componentDidUpdate(){null!==this.state.selectionRangeStart&&null!==this.state.selectionRangeEnd&&this.field.setSelectionRange(this.state.selectionRangeStart,this.state.selectionRangeEnd)}shouldComponentUpdate(e,t){return!((0,o.equals)(this.props.value,e.value)&&(0,o.equals)(this.props.error,e.error)&&(0,o.equals)(this.props.mask,e.mask)&&(0,o.equals)(this.props.label,e.label)&&(0,o.equals)(this.state.selectionRangeStart,t.selectionRangeStart)&&(0,o.equals)(this.state.selectionRangeEnd,t.selectionRangeEnd))}getValue(){return this.field.value}focus(){this.field.focus()}getTextarea(){var e;return(0,h.tZ)(i.Z,{inputRef:e=>{this.field=e},id:this.state.fieldHtmlId,disabled:this.props.disabled,value:null!=(e=this.props.value)?e:"",name:this.props.name,"data-name":this.props.dataName,sx:{borderColor:this.props.error&&"ds.border.danger.standard.idle"},className:u.Z.textarea,placeholder:this.props.placeholder,onBlur:this.props.handleFieldBlur,onKeyDown:this.props.onFieldKeyDown,onChange:this.handleChange})}getInput(){var e;const t={onBlur:this.props.handleFieldBlur,onChange:this.handleChange,disabled:this.props.disabled,readOnly:this.props.readOnly,value:null!=(e=this.props.value)?e:""},s={ref:e=>{this.field=e},id:this.state.fieldHtmlId,autoComplete:"off",className:n()(u.Z.input,{[u.Z.error]:Boolean(this.props.error)}),sx:{...this.props.error&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:this.props.error?"ds.border.danger.standard.idle":"transparent"},name:this.props.name,"data-name":this.props.dataName,type:this.props.type||"text",placeholder:this.props.placeholder,onKeyDown:this.props.onFieldKeyDown};return this.props.mask?(0,h.tZ)(d(),{...t,...this.props.maskProps,mask:this.props.mask,onCopy:()=>m(t.value),onCut:()=>m(t.value)},(e=>(0,h.tZ)("input",{...s,...e}))):(0,h.tZ)("div",{className:u.Z.inputRow},(0,h.tZ)("input",{...s,...t}),(0,h.tZ)("div",{hidden:!this.props.error||"string"!=typeof this.props.error,sx:{color:"ds.text.danger.quiet"},className:u.Z.errorMessage},this.props.error))}render(){const e="password"!==this.props.type?this.props.value||this.props.placeholder:"";return(0,h.tZ)("div",{className:n()(u.Z.container,this.props.multiLine?u.Z.containerMultiLine:null)},this.props.label&&(0,h.tZ)("label",{className:u.Z.label,htmlFor:this.state.fieldHtmlId},(0,h.tZ)("span",{className:u.Z.text,title:this.props.label},this.props.label)),(0,h.tZ)(c.Z,{tooltipText:e,className:n()(u.Z.value,{[u.Z.placeholder]:!this.props.value,[u.Z.multiline]:this.props.multiLine})},this.props.multiLine?this.getTextarea():this.getInput()))}}g.defaultProps={maskProps:{maskChar:""}}},970818:(e,t,s)=>{s.d(t,{Z:()=>d});var a=s(696832),i=s(526849),l=s(383849),n=s.n(l),o=s(769183);var r=s(161964);function p(e,t){const s=e.find((e=>String(e.value)===String(t)));return null!=s?s:null}class d extends a.Component{constructor(e){super(e),this.select=a.createRef(),this.handleChange=e=>{const t=e.target;if(!t)return;const s=t.value,a=p(this.props.options,s);this.setState({optionSelected:a}),this.props.onChange&&this.props.onChange(e)},this.handleKeyDown=e=>{"Enter"===e.key&&e.preventDefault(),this.props.onFieldKeyDown?.(e)},this.handleFocus=()=>{this.setState({isSelectFocused:!0})},this.handleBlur=()=>{this.setState({isSelectFocused:!1})};let t=null;this.props.options.length&&(t=p(this.props.options,null===this.props.defaultOption?(0,i.head)(this.props.options).value:this.props.defaultOption.value)),this.state={fieldHtmlId:(0,o.Z)(),optionSelected:t,isSelectFocused:!1}}getValue(){if(!this.select.current)throw new Error("select ref not initialized");return this.select.current.value}render(){var e;const t=this.props.marginSide||"none",s=n()("selectContainer--mo5uz0qo56",r.Z[t],{"transparent--pz8wb74Jmh":this.props.isTransparent,"disabled--I9BAM7Vdre":this.props.disabled,"focused--ietgHqFLIm":this.state.isSelectFocused}),l=n()("selector--fgNHKzkAC3",this.props.classNames);let o;this.state.optionSelected?o=this.state.optionSelected.value:this.props.options.length&&(o=null===this.props.defaultOption?(0,i.head)(this.props.options).value:this.props.defaultOption.value);const p=this.state.optionSelected?this.state.optionSelected.selectedLabel?this.state.optionSelected.selectedLabel:this.state.optionSelected.label:this.props.placeholder;return a.createElement("div",{className:"container--KChkEdb4YV"},this.props.label&&a.createElement("label",{className:r.Z.label,htmlFor:this.state.fieldHtmlId,title:this.props.label},this.props.label),a.createElement("div",{className:s},a.createElement("div",{className:l},this.state.optionSelected&&this.state.optionSelected.icon&&a.createElement("span",{className:"icon--p3a7nsSbg9"},this.state.optionSelected.icon),a.createElement("span",{className:"text--SjkXyB7Kyp"},p)),a.createElement("select",{key:this.state.fieldHtmlId,className:r.Z.select,ref:this.select,id:this.state.fieldHtmlId,value:o,name:this.props.name,disabled:this.props.disabled,"data-name":this.props.dataName,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,"aria-label":null!=(e=this.props.ariaLabel)?e:this.props.label},this.props.options.map((e=>a.createElement("option",{key:e.value,disabled:e.disabled,value:String(e.value)},e.label))))))}}},162886:(e,t,s)=>{s.d(t,{Z:()=>p,h:()=>r});var a=s(708608),i=s(696832),l=s(765505),n=s(630886),o=s(174071);const r=({closeConfirmDeleteDialog:e,onDeleteConfirm:t,translations:s})=>{const{confirmDeleteSubtitle:l,confirmDeleteTitle:o,confirmDeleteDismiss:r,confirmDeleteConfirm:p}=s;return i.createElement(n.o,{isOpen:!0,disableBackgroundPanelClose:!0,footer:i.createElement(a.cNS,{primaryButtonTitle:p,primaryButtonOnClick:t,primaryButtonProps:{id:"deletion-dialog-confirm-button"},secondaryButtonTitle:r,secondaryButtonOnClick:e,secondaryButtonProps:{autoFocus:!0,id:"deletion-dialog-dismiss-button"},intent:"danger"}),onRequestClose:e,title:o},l)},p=({reason:e,translations:t,goToSharingAccess:s,closeCantDeleteDialog:r})=>{const p=((e,t)=>{const{groupSharingTitle:s,lastAdminTitle:a,genericErrorTitle:i}=e;switch(t){case l.J.LastAdmin:return a;case l.J.GroupSharing:return s;case l.J.Generic:return i;default:return(0,o.U)(t)}})(t,e),d=((e,t)=>{const{groupSharingSubtitle:s,lastAdminSubtitle:a,genericErrorSubtitle:i}=e;switch(t){case l.J.LastAdmin:return a;case l.J.GroupSharing:return s;case l.J.Generic:return i;default:return(0,o.U)(t)}})(t,e);return i.createElement(n.o,{isOpen:!0,showCloseIcon:!0,disableBackgroundPanelClose:!0,onRequestClose:r,title:p,footer:e===l.J.LastAdmin?i.createElement(a.cNS,{primaryButtonTitle:t.lastAdminActionLabel,primaryButtonOnClick:s,intent:"danger"}):null},d)}},355452:(e,t,s)=>{s.d(t,{Jh:()=>o,UE:()=>l,ZP:()=>r});var a=s(696832),i=s(526849);const l=(0,i.compose)(i.not,i.isEmpty,i.trim,(0,i.defaultTo)("")),n=/.+@.+\..+/,o=e=>n.test(e.trim());class r extends a.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:s}=this.props,a={...this.state.values,...e};this.setState({values:a},(()=>{t&&t(this.hasFormBeenEdited()),s&&s(a)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const s=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(s)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,i.reduce)(((t,s)=>(t[s]=e[s]?(0,i.compose)(i.not,e[s]):()=>!1,t)),{},Object.keys(this.state.values)),s=(0,i.evolve)(t,this.state.values);return this.setState({errors:s}),(0,i.all)((0,i.equals)(!1),(0,i.values)(s))},this.hasFormBeenEdited=()=>!(0,i.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,i.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},765505:(e,t,s)=>{let a;s.d(t,{J:()=>a}),function(e){e[e.LastAdmin=0]="LastAdmin",e[e.GroupSharing=1]="GroupSharing",e[e.Generic=2]="Generic"}(a||(a={}))},195538:(e,t,s)=>{s.r(t),s.d(t,{Connected:()=>m});var a=s(616274),i=s(704841),l=s(611792),n=s(696832),o=s(683369),r=s(130806),p=s(483296);const d=(0,r.Y)({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_email"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_email_description"),getTitle:e=>e.name,iconType:p.Tu.email,kwType:"KWEmail",renderForm:(e,t,s,a)=>{const i={type:t.type,emailName:t.name,email:t.email,spaceId:t.spaceId||""};return n.createElement(o._,{lee:e,currentValues:i,signalEditedValues:a,ref:s})}}),h=e=>`{${e.match.params.uuid}}`,c={item:{live:a.C.liveEmail,liveParam:h,query:a.C.getEmail,queryParam:h}},u={strategies:c},m=(0,i.$)((0,l.i)(d,u),c)},683369:(e,t,s)=>{s.d(t,{_:()=>p});var a=s(696832),i=s(526849),l=s(355452),n=s(481159),o=s(970818),r=s(479189);class p extends l.ZP{isFormValid(){return this.validateValues({email:l.Jh})}render(){var e,t;const s=this.props.lee.translate.namespace("webapp_personal_info_edition_email_"),l=[{label:s("perso_type"),value:"PERSO"},{label:s("pro_type"),value:"PRO"}],p=null!=(e=(0,i.find)((0,i.propEq)("value",this.state.values.type),l))?e:(0,i.head)(l);return a.createElement(a.Fragment,null,a.createElement(n.Z,{type:"email",label:s("email_label"),placeholder:s("placeholder_no_email"),dataName:"email",value:this.state.values.email,error:this.state.errors.email,onChange:this.handleChange}),a.createElement(o.Z,{label:s("type_label"),placeholder:p.label,dataName:"type",options:l,defaultOption:p,onChange:this.handleChange}),a.createElement(n.Z,{label:s("name_label"),placeholder:s("placeholder_no_emailName"),dataName:"emailName",value:this.state.values.emailName,onChange:this.handleChange}),a.createElement(r.M,{labelSx:r.e,spaceId:null!=(t=this.state.values.spaceId)?t:"",onChange:e=>this.handleChange(e,"spaceId")}))}}},130806:(e,t,s)=>{s.d(t,{Y:()=>f});var a=s(696832),i=s(453576),l=s(511494),n=s(762863),o=s(483296),r=s(190481),p=s(162886),d=s(616274),h=s(418402),c=s.n(h),u=s(987364),m=s(75032);const g={DELETE_CONFIRM:"webapp_personal_info_edition_delete_confirm",DELETE_DISMISS:"webapp_personal_info_edition_delete_dismiss",DELETE_SUBTITLE:"webapp_personal_info_edition_delete_subtitle"};function f(e){const{getItemTypeDescription:t,getDeleteTitle:s,getTitle:h,iconType:f,kwType:b,renderForm:v}=e;return class extends a.Component{constructor(...e){super(...e),this.form=(0,a.createRef)(),this.getFormValues=()=>{var e;return null!=(e=this.form.current?.getValues())?e:null},this.isFormValid=()=>{var e;return null!=(e=this.form.current?.isFormValid())&&e},this.state={hasDataBeenModified:!1,displayConfirmDeleteDialog:!1},this.componentDidMount=()=>{const e={[i.DataModelType.KWAddress]:l.PageView.ItemAddressDetails,[i.DataModelType.KWCompany]:l.PageView.ItemCompanyDetails,[i.DataModelType.KWEmail]:l.PageView.ItemEmailDetails,[i.DataModelType.KWIdentity]:l.PageView.ItemIdentityDetails,[i.DataModelType.KWPhone]:l.PageView.ItemPhoneDetails,[i.DataModelType.KWPersonalWebsite]:l.PageView.ItemWebsiteDetails};(0,u.N)(e[b])},this.showListView=()=>{(0,u.N)(l.PageView.ItemPersonalInfoList),(0,r.uX)(this.props.lee.routes.userPersonalInfo)},this.handleEditedForm=()=>this.setState({hasDataBeenModified:!0}),this.handleNavigateOut=()=>{this.showListView()},this.handleClickDelete=()=>this.setState({displayConfirmDeleteDialog:!0}),this.closeConfirmDeleteDialog=()=>this.setState({displayConfirmDeleteDialog:!1}),this.handleDeleteConfirm=()=>{const{item:e}=this.props;e?.id&&(d.C.removePersonalDataItem({id:e.id}),this.showListView())},this.handleSubmit=async()=>{const{item:e}=this.props;if(!e?.id)return;if(!this.isFormValid())return;const t=this.getFormValues(),s={kwType:b,origin:i.SaveOrigin.MANUAL,content:{...t,id:e.id}};await d.C.savePersonalDataItem(s),(0,m.au)(),this.showListView()},this.render=()=>{const{item:e,lee:{translate:i}}=this.props,{displayConfirmDeleteDialog:l,hasDataBeenModified:r}=this.state,d=Boolean(this.props.match.params?.uuid),u=e?h(e,i):"",m=s(i),b=t(i),C=a.createElement(o.ZP,{iconSize:o.Jh.headerEditPanelIcon,iconType:f}),D={confirmDeleteConfirm:i(g.DELETE_CONFIRM),confirmDeleteDismiss:i(g.DELETE_DISMISS),confirmDeleteSubtitle:i(g.DELETE_SUBTITLE),confirmDeleteTitle:m};return a.createElement(n.zI,{isViewingExistingItem:d,itemHasBeenEdited:r,onNavigateOut:this.handleNavigateOut,onSubmit:this.handleSubmit,onClickDelete:this.handleClickDelete,ignoreCloseOnEscape:l,formId:"edit_personalinfo_panel",header:a.createElement(n.V9,{icon:C,iconBackgroundColor:c()["--dash-green-00"],title:u,titleDescription:b})},e?v(this.props.lee,e,this.form,this.handleEditedForm):"",l?a.createElement(p.h,{closeConfirmDeleteDialog:this.closeConfirmDeleteDialog,onDeleteConfirm:this.handleDeleteConfirm,translations:D}):null)}}}}},793429:(e,t,s)=>{s.d(t,{Z:()=>a});const a={container:"container--Qypu77vxOn",containerMultiLine:"containerMultiLine--ncWYFwQEnR",_field:"_field--KII5X4xmLN",input:"input--Iq10hxAz32 _field--KII5X4xmLN",inputRow:"inputRow--gdD_j5S1R8",textarea:"textarea--VpIWTZemV2 _field--KII5X4xmLN",label:"label--Ww_r49kt_J",text:"text--oXyCzpUMwG",value:"value--aD7nWEqBIq",multiline:"multiline--fdPM1KFHPT"}},161964:(e,t,s)=>{s.d(t,{Z:()=>a});const a={left:"left--jltGqC2ld6",right:"right--r4mXfTZRXo",select:"select--ivbO452zoA",disable:"disable--F2KcdR2ssV",label:"label--EhkwVb63v9"}}}]);