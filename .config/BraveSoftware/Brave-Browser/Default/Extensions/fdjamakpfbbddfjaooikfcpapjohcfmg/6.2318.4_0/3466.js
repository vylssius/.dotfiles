"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[3466],{876908:(e,a,t)=>{t.r(a),t.d(a,{PaymentCardAddPanel:()=>S});var n,r=t(696832),o=t(238250),s=t(453576),i=t(511494),d=t(708608),l=t(925112),c=t(616274),m=t(854029),_=t(446389),u=t(987364),C=t(190481),p=t(959074),y=t(857795),E=t(937109),g=t(777352),h=t(762863),w=t(75032);const S=({lee:e})=>{const[a,t]=r.useState(!1),[S,b]=r.useState(!1),{translate:P}=(0,_.Z)(),{routes:N}=(0,p.Xo)(),B=(0,l.V)(),I=(0,m.B)(e.globalState),[R,f]=r.useState(),[V,k]=r.useState({name:"",cardNumber:"",ownerName:"",securityCode:"",expireMonth:"",expireYear:"",color:s.PaymentCardColor.BLUE_1,spaceId:null!=I?I:"",personalNote:""});(0,r.useEffect)((()=>{(0,u.N)(i.PageView.ItemCreditCardCreate)}),[]);const v=()=>{(0,u.N)(i.PageView.ItemPaymentList),(0,C.uX)(N.userPayments)};return r.createElement(h.zI,{isViewingExistingItem:!1,itemHasBeenEdited:a,onNavigateOut:()=>{v()},submitPending:S,onSubmit:async()=>{if(!S){b(!0);try{const e=await c.C.addPaymentCard({...V,name:V.name});if(e.success){const e=""===V.name?P("webapp_payment_edition_generic_save_alert"):P("webapp_payment_edition_name_save_alert",{paymentCard:V.name});B.showAlert(e,d.BLW.SUCCESS),(0,w.au)(),v()}else{if(e.error?.code===o.PaymentCardSaveResultErrorCode.EMPTY_CARD_NUMBER_AND_SECURITY_CODE)f(new Set(["cardNumber","securityCode"]));else{const e=P("_common_generic_error");B.showAlert(e,d.BLW.ERROR)}b(!1)}}catch{b(!1)}}},formId:"add_paymentcard_panel",header:r.createElement(h.V9,{icon:n||(n=r.createElement(E.Z,{iconSize:"large"})),iconBackgroundColor:(0,g.Z)(V.color),title:P("webapp_payment_edition_header_add_payment_card")})},r.createElement(y.g,{paymentCardContent:V,signalEditedValues:e=>{k(e),t(!0)},errors:R}))}}}]);