"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[7252],{481159:(e,t,s)=>{s.d(t,{Z:()=>g});var a=s(696832),i=s(554712),n=s(383849),r=s.n(n),l=s(526849),o=s(769183),h=s(317894),d=s.n(h),p=s(585921),u=s(932954),c=s(793429);const m=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))};class g extends a.Component{constructor(e){super(e),this.field=void 0,this.handleChange=e=>{this.setState({selectionRangeStart:e.target.selectionStart,selectionRangeEnd:e.target.selectionEnd}),this.props.onChange&&this.props.onChange(e)},this.state={fieldHtmlId:(0,o.Z)(),selectionRangeStart:null,selectionRangeEnd:null}}componentDidUpdate(){null!==this.state.selectionRangeStart&&null!==this.state.selectionRangeEnd&&this.field.setSelectionRange(this.state.selectionRangeStart,this.state.selectionRangeEnd)}shouldComponentUpdate(e,t){return!((0,l.equals)(this.props.value,e.value)&&(0,l.equals)(this.props.error,e.error)&&(0,l.equals)(this.props.mask,e.mask)&&(0,l.equals)(this.props.label,e.label)&&(0,l.equals)(this.state.selectionRangeStart,t.selectionRangeStart)&&(0,l.equals)(this.state.selectionRangeEnd,t.selectionRangeEnd))}getValue(){return this.field.value}focus(){this.field.focus()}getTextarea(){var e;return(0,p.tZ)(i.Z,{inputRef:e=>{this.field=e},id:this.state.fieldHtmlId,disabled:this.props.disabled,value:null!=(e=this.props.value)?e:"",name:this.props.name,"data-name":this.props.dataName,sx:{borderColor:this.props.error&&"ds.border.danger.standard.idle"},className:c.Z.textarea,placeholder:this.props.placeholder,onBlur:this.props.handleFieldBlur,onKeyDown:this.props.onFieldKeyDown,onChange:this.handleChange})}getInput(){var e;const t={onBlur:this.props.handleFieldBlur,onChange:this.handleChange,disabled:this.props.disabled,readOnly:this.props.readOnly,value:null!=(e=this.props.value)?e:""},s={ref:e=>{this.field=e},id:this.state.fieldHtmlId,autoComplete:"off",className:r()(c.Z.input,{[c.Z.error]:Boolean(this.props.error)}),sx:{...this.props.error&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:this.props.error?"ds.border.danger.standard.idle":"transparent"},name:this.props.name,"data-name":this.props.dataName,type:this.props.type||"text",placeholder:this.props.placeholder,onKeyDown:this.props.onFieldKeyDown};return this.props.mask?(0,p.tZ)(d(),{...t,...this.props.maskProps,mask:this.props.mask,onCopy:()=>m(t.value),onCut:()=>m(t.value)},(e=>(0,p.tZ)("input",{...s,...e}))):(0,p.tZ)("div",{className:c.Z.inputRow},(0,p.tZ)("input",{...s,...t}),(0,p.tZ)("div",{hidden:!this.props.error||"string"!=typeof this.props.error,sx:{color:"ds.text.danger.quiet"},className:c.Z.errorMessage},this.props.error))}render(){const e="password"!==this.props.type?this.props.value||this.props.placeholder:"";return(0,p.tZ)("div",{className:r()(c.Z.container,this.props.multiLine?c.Z.containerMultiLine:null)},this.props.label&&(0,p.tZ)("label",{className:c.Z.label,htmlFor:this.state.fieldHtmlId},(0,p.tZ)("span",{className:c.Z.text,title:this.props.label},this.props.label)),(0,p.tZ)(u.Z,{tooltipText:e,className:r()(c.Z.value,{[c.Z.placeholder]:!this.props.value,[c.Z.multiline]:this.props.multiLine})},this.props.multiLine?this.getTextarea():this.getInput()))}}g.defaultProps={maskProps:{maskChar:""}}},355452:(e,t,s)=>{s.d(t,{Jh:()=>l,UE:()=>n,ZP:()=>o});var a=s(696832),i=s(526849);const n=(0,i.compose)(i.not,i.isEmpty,i.trim,(0,i.defaultTo)("")),r=/.+@.+\..+/,l=e=>r.test(e.trim());class o extends a.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:s}=this.props,a={...this.state.values,...e};this.setState({values:a},(()=>{t&&t(this.hasFormBeenEdited()),s&&s(a)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const s=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(s)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,i.reduce)(((t,s)=>(t[s]=e[s]?(0,i.compose)(i.not,e[s]):()=>!1,t)),{},Object.keys(this.state.values)),s=(0,i.evolve)(t,this.state.values);return this.setState({errors:s}),(0,i.all)((0,i.equals)(!1),(0,i.values)(s))},this.hasFormBeenEdited=()=>!(0,i.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,i.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},140554:(e,t,s)=>{s.d(t,{B:()=>v});var a=s(696832),i=s(453576),n=s(511494),r=s(483296),l=s(762863),o=s(190481),h=s(3741),d=s(616274),p=s(854029),u=s(418402),c=s.n(u),m=s(987364),g=s(75032);function v(e){const{renderForm:t,kwType:s,iconType:u,type:v}=e;return class extends a.Component{constructor(...e){super(...e),this.form=(0,a.createRef)(),this.isFormValid=()=>Boolean(this.form.current?.isFormValid()),this.getFormValues=()=>this.form.current?.getValues(),this.state={hasDataBeenModified:!1},this.componentDidMount=()=>{const e={[i.DataModelType.KWAddress]:n.PageView.ItemAddressCreate,[i.DataModelType.KWCompany]:n.PageView.ItemCompanyCreate,[i.DataModelType.KWEmail]:n.PageView.ItemEmailCreate,[i.DataModelType.KWIdentity]:n.PageView.ItemIdentityCreate,[i.DataModelType.KWPhone]:n.PageView.ItemPhoneCreate,[i.DataModelType.KWPersonalWebsite]:n.PageView.ItemWebsiteCreate};(0,m.N)(e[s])},this.showListView=()=>{(0,m.N)(n.PageView.ItemPersonalInfoList),(0,o.uX)(this.props.lee.routes.userPersonalInfo)},this.handleEditedForm=()=>this.setState({hasDataBeenModified:!0}),this.showListViewWithLog=()=>{this.showListView()},this.savePersonalInfo=()=>{const e=this.getFormValues(),t={kwType:s,origin:i.SaveOrigin.MANUAL,content:e};return d.C.savePersonalDataItem(t)},this.submit=async()=>{if(this.isFormValid())try{await this.savePersonalInfo(),(0,g.au)(),this.showListView()}catch(e){}}}render(){const e=this.props.lee.translate.namespace("webapp_personal_info_edition_"),{lee:s}=this.props,{hasDataBeenModified:i}=this.state,n=a.createElement(r.ZP,{iconSize:r.Jh.headerEditPanelIcon,iconType:u}),o=(0,h.gV)(e,v),d=(0,p.B)(s.globalState);return a.createElement(l.zI,{isViewingExistingItem:!1,itemHasBeenEdited:i,onNavigateOut:this.showListViewWithLog,onSubmit:this.submit,formId:"add_personalinfo_panel",header:a.createElement(l.V9,{icon:n,iconBackgroundColor:c()["--dash-green-00"],title:o})},t(s,this.form,this.handleEditedForm,d))}}}},947252:(e,t,s)=>{s.r(t),s.d(t,{WebsiteAddPanel:()=>l});var a=s(696832),i=s(397972),n=s(140554),r=s(483296);const l=(0,n.B)({iconType:r.Tu.website,kwType:"KWPersonalWebsite",renderForm:(e,t,s,n)=>{const r={name:"",spaceId:n,website:""};return a.createElement(i.m,{lee:e,currentValues:r,signalEditedValues:s,ref:t})},type:"website"})},397972:(e,t,s)=>{s.d(t,{m:()=>l});var a=s(696832),i=s(355452),n=s(481159),r=s(479189);class l extends i.ZP{isFormValid(){return this.validateValues({website:i.UE})}render(){var e;const t=this.props.lee.translate.namespace("webapp_personal_info_edition_website_");return a.createElement(a.Fragment,null,a.createElement(n.Z,{key:"website",label:t("website_label"),placeholder:t("placeholder_no_website"),dataName:"website",value:this.state.values.website,error:this.state.errors.website,onChange:this.handleChange}),a.createElement(n.Z,{key:"name",label:t("name_label"),placeholder:t("placeholder_no_name"),dataName:"name",value:this.state.values.name,onChange:this.handleChange}),a.createElement(r.M,{labelSx:r.e,spaceId:null!=(e=this.state.values.spaceId)?e:"",onChange:e=>this.handleChange(e,"spaceId")}))}}},793429:(e,t,s)=>{s.d(t,{Z:()=>a});const a={container:"container--Qypu77vxOn",containerMultiLine:"containerMultiLine--ncWYFwQEnR",_field:"_field--KII5X4xmLN",input:"input--Iq10hxAz32 _field--KII5X4xmLN",inputRow:"inputRow--gdD_j5S1R8",textarea:"textarea--VpIWTZemV2 _field--KII5X4xmLN",label:"label--Ww_r49kt_J",text:"text--oXyCzpUMwG",value:"value--aD7nWEqBIq",multiline:"multiline--fdPM1KFHPT"}}}]);